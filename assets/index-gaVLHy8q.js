var WN=Object.defineProperty;var $N=(e,t,n)=>t in e?WN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ut=(e,t,n)=>$N(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function DC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var iv={exports:{}},Xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function GN(){if(NE)return Xu;NE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:a}}return Xu.Fragment=t,Xu.jsx=n,Xu.jsxs=n,Xu}var LE;function KN(){return LE||(LE=1,iv.exports=GN()),iv.exports}var R=KN(),sv={exports:{}},Gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function YN(){if(VE)return Gt;VE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function S(H,nt,ht){this.props=H,this.context=nt,this.refs=E,this.updater=ht||b}S.prototype.isReactComponent={},S.prototype.setState=function(H,nt){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,nt,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=S.prototype;function V(H,nt,ht){this.props=H,this.context=nt,this.refs=E,this.updater=ht||b}var j=V.prototype=new C;j.constructor=V,T(j,S.prototype),j.isPureReactComponent=!0;var W=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function M(H,nt,ht,lt,yt,It){return ht=It.ref,{$$typeof:e,type:H,key:nt,ref:ht!==void 0?ht:null,props:It}}function D(H,nt){return M(H.type,nt,void 0,void 0,void 0,H.props)}function I(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function B(H){var nt={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ht){return nt[ht]})}var N=/\/+/g;function U(H,nt){return typeof H=="object"&&H!==null&&H.key!=null?B(""+H.key):nt.toString(36)}function L(){}function ft(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(L,L):(H.status="pending",H.then(function(nt){H.status==="pending"&&(H.status="fulfilled",H.value=nt)},function(nt){H.status==="pending"&&(H.status="rejected",H.reason=nt)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function gt(H,nt,ht,lt,yt){var It=typeof H;(It==="undefined"||It==="boolean")&&(H=null);var St=!1;if(H===null)St=!0;else switch(It){case"bigint":case"string":case"number":St=!0;break;case"object":switch(H.$$typeof){case e:case t:St=!0;break;case p:return St=H._init,gt(St(H._payload),nt,ht,lt,yt)}}if(St)return yt=yt(H),St=lt===""?"."+U(H,0):lt,W(yt)?(ht="",St!=null&&(ht=St.replace(N,"$&/")+"/"),gt(yt,nt,ht,"",function(He){return He})):yt!=null&&(I(yt)&&(yt=D(yt,ht+(yt.key==null||H&&H.key===yt.key?"":(""+yt.key).replace(N,"$&/")+"/")+St)),nt.push(yt)),1;St=0;var me=lt===""?".":lt+":";if(W(H))for(var Ft=0;Ft<H.length;Ft++)lt=H[Ft],It=me+U(lt,Ft),St+=gt(lt,nt,ht,It,yt);else if(Ft=_(H),typeof Ft=="function")for(H=Ft.call(H),Ft=0;!(lt=H.next()).done;)lt=lt.value,It=me+U(lt,Ft++),St+=gt(lt,nt,ht,It,yt);else if(It==="object"){if(typeof H.then=="function")return gt(ft(H),nt,ht,lt,yt);throw nt=String(H),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return St}function K(H,nt,ht){if(H==null)return H;var lt=[],yt=0;return gt(H,lt,"","",function(It){return nt.call(ht,It,yt++)}),lt}function et(H){if(H._status===-1){var nt=H._result;nt=nt(),nt.then(function(ht){(H._status===0||H._status===-1)&&(H._status=1,H._result=ht)},function(ht){(H._status===0||H._status===-1)&&(H._status=2,H._result=ht)}),H._status===-1&&(H._status=0,H._result=nt)}if(H._status===1)return H._result.default;throw H._result}var dt=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function xt(){}return Gt.Children={map:K,forEach:function(H,nt,ht){K(H,function(){nt.apply(this,arguments)},ht)},count:function(H){var nt=0;return K(H,function(){nt++}),nt},toArray:function(H){return K(H,function(nt){return nt})||[]},only:function(H){if(!I(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Gt.Component=S,Gt.Fragment=n,Gt.Profiler=s,Gt.PureComponent=V,Gt.StrictMode=i,Gt.Suspense=h,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return z.H.useMemoCache(H)}},Gt.cache=function(H){return function(){return H.apply(null,arguments)}},Gt.cloneElement=function(H,nt,ht){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var lt=T({},H.props),yt=H.key,It=void 0;if(nt!=null)for(St in nt.ref!==void 0&&(It=void 0),nt.key!==void 0&&(yt=""+nt.key),nt)!$.call(nt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&nt.ref===void 0||(lt[St]=nt[St]);var St=arguments.length-2;if(St===1)lt.children=ht;else if(1<St){for(var me=Array(St),Ft=0;Ft<St;Ft++)me[Ft]=arguments[Ft+2];lt.children=me}return M(H.type,yt,void 0,void 0,It,lt)},Gt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},Gt.createElement=function(H,nt,ht){var lt,yt={},It=null;if(nt!=null)for(lt in nt.key!==void 0&&(It=""+nt.key),nt)$.call(nt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(yt[lt]=nt[lt]);var St=arguments.length-2;if(St===1)yt.children=ht;else if(1<St){for(var me=Array(St),Ft=0;Ft<St;Ft++)me[Ft]=arguments[Ft+2];yt.children=me}if(H&&H.defaultProps)for(lt in St=H.defaultProps,St)yt[lt]===void 0&&(yt[lt]=St[lt]);return M(H,It,void 0,void 0,null,yt)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(H){return{$$typeof:c,render:H}},Gt.isValidElement=I,Gt.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:et}},Gt.memo=function(H,nt){return{$$typeof:f,type:H,compare:nt===void 0?null:nt}},Gt.startTransition=function(H){var nt=z.T,ht={};z.T=ht;try{var lt=H(),yt=z.S;yt!==null&&yt(ht,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(xt,dt)}catch(It){dt(It)}finally{z.T=nt}},Gt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Gt.use=function(H){return z.H.use(H)},Gt.useActionState=function(H,nt,ht){return z.H.useActionState(H,nt,ht)},Gt.useCallback=function(H,nt){return z.H.useCallback(H,nt)},Gt.useContext=function(H){return z.H.useContext(H)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(H,nt){return z.H.useDeferredValue(H,nt)},Gt.useEffect=function(H,nt,ht){var lt=z.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(H,nt)},Gt.useId=function(){return z.H.useId()},Gt.useImperativeHandle=function(H,nt,ht){return z.H.useImperativeHandle(H,nt,ht)},Gt.useInsertionEffect=function(H,nt){return z.H.useInsertionEffect(H,nt)},Gt.useLayoutEffect=function(H,nt){return z.H.useLayoutEffect(H,nt)},Gt.useMemo=function(H,nt){return z.H.useMemo(H,nt)},Gt.useOptimistic=function(H,nt){return z.H.useOptimistic(H,nt)},Gt.useReducer=function(H,nt,ht){return z.H.useReducer(H,nt,ht)},Gt.useRef=function(H){return z.H.useRef(H)},Gt.useState=function(H){return z.H.useState(H)},Gt.useSyncExternalStore=function(H,nt,ht){return z.H.useSyncExternalStore(H,nt,ht)},Gt.useTransition=function(){return z.H.useTransition()},Gt.version="19.1.0",Gt}var jE;function f0(){return jE||(jE=1,sv.exports=YN()),sv.exports}var P=f0();const Ie=DC(P);var rv={exports:{}},Qu={},av={exports:{}},ov={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function XN(){return BE||(BE=1,function(e){function t(K,et){var dt=K.length;K.push(et);t:for(;0<dt;){var xt=dt-1>>>1,H=K[xt];if(0<s(H,et))K[xt]=et,K[dt]=H,dt=xt;else break t}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var et=K[0],dt=K.pop();if(dt!==et){K[0]=dt;t:for(var xt=0,H=K.length,nt=H>>>1;xt<nt;){var ht=2*(xt+1)-1,lt=K[ht],yt=ht+1,It=K[yt];if(0>s(lt,dt))yt<H&&0>s(It,lt)?(K[xt]=It,K[yt]=dt,xt=yt):(K[xt]=lt,K[ht]=dt,xt=ht);else if(yt<H&&0>s(It,dt))K[xt]=It,K[yt]=dt,xt=yt;else break t}}return et}function s(K,et){var dt=K.sortIndex-et.sortIndex;return dt!==0?dt:K.id-et.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],f=[],p=1,y=null,_=3,b=!1,T=!1,E=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function W(K){for(var et=n(f);et!==null;){if(et.callback===null)i(f);else if(et.startTime<=K)i(f),et.sortIndex=et.expirationTime,t(h,et);else break;et=n(f)}}function z(K){if(E=!1,W(K),!T)if(n(h)!==null)T=!0,$||($=!0,U());else{var et=n(f);et!==null&&gt(z,et.startTime-K)}}var $=!1,M=-1,D=5,I=-1;function B(){return S?!0:!(e.unstable_now()-I<D)}function N(){if(S=!1,$){var K=e.unstable_now();I=K;var et=!0;try{t:{T=!1,E&&(E=!1,V(M),M=-1),b=!0;var dt=_;try{e:{for(W(K),y=n(h);y!==null&&!(y.expirationTime>K&&B());){var xt=y.callback;if(typeof xt=="function"){y.callback=null,_=y.priorityLevel;var H=xt(y.expirationTime<=K);if(K=e.unstable_now(),typeof H=="function"){y.callback=H,W(K),et=!0;break e}y===n(h)&&i(h),W(K)}else i(h);y=n(h)}if(y!==null)et=!0;else{var nt=n(f);nt!==null&&gt(z,nt.startTime-K),et=!1}}break t}finally{y=null,_=dt,b=!1}et=void 0}}finally{et?U():$=!1}}}var U;if(typeof j=="function")U=function(){j(N)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,ft=L.port2;L.port1.onmessage=N,U=function(){ft.postMessage(null)}}else U=function(){C(N,0)};function gt(K,et){M=C(function(){K(e.unstable_now())},et)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(K){switch(_){case 1:case 2:case 3:var et=3;break;default:et=_}var dt=_;_=et;try{return K()}finally{_=dt}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(K,et){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var dt=_;_=K;try{return et()}finally{_=dt}},e.unstable_scheduleCallback=function(K,et,dt){var xt=e.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?xt+dt:xt):dt=xt,K){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=dt+H,K={id:p++,callback:et,priorityLevel:K,startTime:dt,expirationTime:H,sortIndex:-1},dt>xt?(K.sortIndex=dt,t(f,K),n(h)===null&&K===n(f)&&(E?(V(M),M=-1):E=!0,gt(z,dt-xt))):(K.sortIndex=H,t(h,K),T||b||(T=!0,$||($=!0,U()))),K},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(K){var et=_;return function(){var dt=_;_=et;try{return K.apply(this,arguments)}finally{_=dt}}}}(ov)),ov}var UE;function QN(){return UE||(UE=1,av.exports=XN()),av.exports}var lv={exports:{}},qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function ZN(){if(zE)return qn;zE=1;var e=f0();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,qn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(h,f,null,p)},qn.flushSync=function(h){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=p,i.d.f()}},qn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},qn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},qn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):p==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},qn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},qn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},qn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=c(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},qn.requestFormReset=function(h){i.d.r(h)},qn.unstable_batchedUpdates=function(h,f){return h(f)},qn.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},qn.useFormStatus=function(){return l.H.useHostTransitionStatus()},qn.version="19.1.0",qn}var FE;function JN(){if(FE)return lv.exports;FE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lv.exports=ZN(),lv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function t2(){if(HE)return Qu;HE=1;var e=QN(),t=f0(),n=JN();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(a(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var u=r,d=o;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){u=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return c(g),r;if(v===d)return c(g),o;v=v.sibling}throw Error(i(188))}if(u.return!==d.return)u=g,d=v;else{for(var A=!1,k=g.child;k;){if(k===u){A=!0,u=g,d=v;break}if(k===d){A=!0,d=g,u=v;break}k=k.sibling}if(!A){for(k=v.child;k;){if(k===u){A=!0,u=v,d=g;break}if(k===d){A=!0,d=v,u=g;break}k=k.sibling}if(!A)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:o}function f(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=f(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),j=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=N&&r[N]||r["@@iterator"],typeof r=="function"?r:null)}var L=Symbol.for("react.client.reference");function ft(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===L?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case z:return"Suspense";case $:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case j:return(r.displayName||"Context")+".Provider";case V:return(r._context.displayName||"Context")+".Consumer";case W:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return o=r.displayName||null,o!==null?o:ft(r.type)||"Memo";case D:o=r._payload,r=r._init;try{return ft(r(o))}catch{}}return null}var gt=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},xt=[],H=-1;function nt(r){return{current:r}}function ht(r){0>H||(r.current=xt[H],xt[H]=null,H--)}function lt(r,o){H++,xt[H]=r.current,r.current=o}var yt=nt(null),It=nt(null),St=nt(null),me=nt(null);function Ft(r,o){switch(lt(St,o),lt(It,r),lt(yt,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?cE(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=cE(o),r=uE(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ht(yt),lt(yt,r)}function He(){ht(yt),ht(It),ht(St)}function Oe(r){r.memoizedState!==null&&lt(me,r);var o=yt.current,u=uE(o,r.type);o!==u&&(lt(It,r),lt(yt,u))}function tn(r){It.current===r&&(ht(yt),ht(It)),me.current===r&&(ht(me),Wu._currentValue=dt)}var ei=Object.prototype.hasOwnProperty,Sn=e.unstable_scheduleCallback,ni=e.unstable_cancelCallback,De=e.unstable_shouldYield,us=e.unstable_requestPaint,qe=e.unstable_now,Ei=e.unstable_getCurrentPriorityLevel,fe=e.unstable_ImmediatePriority,ii=e.unstable_UserBlockingPriority,si=e.unstable_NormalPriority,hs=e.unstable_LowPriority,hi=e.unstable_IdlePriority,Bi=e.log,zn=e.unstable_setDisableYieldValue,it=null,pt=null;function Ot(r){if(typeof Bi=="function"&&zn(r),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(it,r)}catch{}}var Rt=Math.clz32?Math.clz32:Wt,Tt=Math.log,Nt=Math.LN2;function Wt(r){return r>>>=0,r===0?32:31-(Tt(r)/Nt|0)|0}var qt=256,Lt=4194304;function Kt(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Be(r,o,u){var d=r.pendingLanes;if(d===0)return 0;var g=0,v=r.suspendedLanes,A=r.pingedLanes;r=r.warmLanes;var k=d&134217727;return k!==0?(d=k&~v,d!==0?g=Kt(d):(A&=k,A!==0?g=Kt(A):u||(u=k&~r,u!==0&&(g=Kt(u))))):(k=d&~v,k!==0?g=Kt(k):A!==0?g=Kt(A):u||(u=d&~r,u!==0&&(g=Kt(u)))),g===0?0:o!==0&&o!==g&&(o&v)===0&&(v=g&-g,u=o&-o,v>=u||v===32&&(u&4194048)!==0)?o:g}function pn(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function fi(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ri(){var r=qt;return qt<<=1,(qt&4194048)===0&&(qt=256),r}function We(){var r=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),r}function Re(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function Ne(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function $e(r,o,u,d,g,v){var A=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var k=r.entanglements,F=r.expirationTimes,Q=r.hiddenUpdates;for(u=A&~u;0<u;){var st=31-Rt(u),at=1<<st;k[st]=0,F[st]=-1;var Z=Q[st];if(Z!==null)for(Q[st]=null,st=0;st<Z.length;st++){var J=Z[st];J!==null&&(J.lane&=-536870913)}u&=~at}d!==0&&ce(r,d,0),v!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=v&~(A&~o))}function ce(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-Rt(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|u&4194090}function Ge(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var d=31-Rt(u),g=1<<d;g&o|r[d]&o&&(r[d]|=o),u&=~g}}function Et(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function $t(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ke(){var r=et.p;return r!==0?r:(r=window.event,r===void 0?32:DE(r.type))}function Ui(r,o){var u=et.p;try{return et.p=r,o()}finally{et.p=u}}var ut=Math.random().toString(36).slice(2),_t="__reactFiber$"+ut,bt="__reactProps$"+ut,de="__reactContainer$"+ut,Ye="__reactEvents$"+ut,di="__reactListeners$"+ut,mn="__reactHandles$"+ut,on="__reactResources$"+ut,ln="__reactMarker$"+ut;function ue(r){delete r[_t],delete r[bt],delete r[Ye],delete r[di],delete r[mn]}function Fn(r){var o=r[_t];if(o)return o;for(var u=r.parentNode;u;){if(o=u[de]||u[_t]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=pE(r);r!==null;){if(u=r[_t])return u;r=pE(r)}return o}r=u,u=r.parentNode}return null}function zi(r){if(r=r[_t]||r[de]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Fi(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function En(r){var o=r[on];return o||(o=r[on]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Le(r){r[ln]=!0}var ta=new Set,gr={};function pi(r,o){Yt(r,o),Yt(r+"Capture",o)}function Yt(r,o){for(gr[r]=o,r=0;r<o.length;r++)ta.add(o[r])}var mi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ea={},xi={};function dl(r){return ei.call(xi,r)?!0:ei.call(ea,r)?!1:mi.test(r)?xi[r]=!0:(ea[r]=!0,!1)}function Hi(r,o,u){if(dl(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function Is(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function Mn(r,o,u,d){if(d===null)r.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+d)}}var eo,Rf;function yr(r){if(eo===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);eo=o&&o[1]||"",Rf=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+eo+r+Rf}var pl=!1;function ml(r,o){if(!r||pl)return"";pl=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(J){var Z=J}Reflect.construct(r,[],at)}else{try{at.call()}catch(J){Z=J}r.call(at.prototype)}}else{try{throw Error()}catch(J){Z=J}(at=r())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),A=v[0],k=v[1];if(A&&k){var F=A.split(`
`),Q=k.split(`
`);for(g=d=0;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;for(;g<Q.length&&!Q[g].includes("DetermineComponentFrameRoot");)g++;if(d===F.length||g===Q.length)for(d=F.length-1,g=Q.length-1;1<=d&&0<=g&&F[d]!==Q[g];)g--;for(;1<=d&&0<=g;d--,g--)if(F[d]!==Q[g]){if(d!==1||g!==1)do if(d--,g--,0>g||F[d]!==Q[g]){var st=`
`+F[d].replace(" at new "," at ");return r.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",r.displayName)),st}while(1<=d&&0<=g);break}}}finally{pl=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?yr(u):""}function Zc(r){switch(r.tag){case 26:case 27:case 5:return yr(r.type);case 16:return yr("Lazy");case 13:return yr("Suspense");case 19:return yr("SuspenseList");case 0:case 15:return ml(r.type,!1);case 11:return ml(r.type.render,!1);case 1:return ml(r.type,!0);case 31:return yr("Activity");default:return""}}function gl(r){try{var o="";do o+=Zc(r),r=r.return;while(r);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ai(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Jc(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function og(r){var o=Jc(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return g.call(this)},set:function(A){d=""+A,v.call(this,A)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function yl(r){r._valueTracker||(r._valueTracker=og(r))}function tu(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return r&&(d=Jc(r)?r.checked?"true":"false":r.value),r=d,r!==u?(o.setValue(r),!0):!1}function no(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var lg=/[\n"\\]/g;function cn(r){return r.replace(lg,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ai(r,o,u,d,g,v,A,k){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),o!=null?A==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+ai(o)):r.value!==""+ai(o)&&(r.value=""+ai(o)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),o!=null?na(r,A,ai(o)):u!=null?na(r,A,ai(u)):d!=null&&r.removeAttribute("value"),g==null&&v!=null&&(r.defaultChecked=!!v),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+ai(k):r.removeAttribute("name")}function io(r,o,u,d,g,v,A,k){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),o!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;u=u!=null?""+ai(u):"",o=o!=null?""+ai(o):u,k||o===r.value||(r.value=o),r.defaultValue=o}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=k?r.checked:!!d,r.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A)}function na(r,o,u){o==="number"&&no(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function vr(r,o,u,d){if(r=r.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<r.length;u++)g=o.hasOwnProperty("$"+r[u].value),r[u].selected!==g&&(r[u].selected=g),g&&d&&(r[u].defaultSelected=!0)}else{for(u=""+ai(u),o=null,g=0;g<r.length;g++){if(r[g].value===u){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}o!==null||r[g].disabled||(o=r[g])}o!==null&&(o.selected=!0)}}function Se(r,o,u){if(o!=null&&(o=""+ai(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+ai(u):""}function so(r,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(i(92));if(gt(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=ai(o),r.defaultValue=u,d=r.textContent,d===u&&d!==""&&d!==null&&(r.value=d)}function qi(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cf(r,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,u):typeof u!="number"||u===0||ro.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function eu(r,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var g in o)d=o[g],o.hasOwnProperty(g)&&u[g]!==d&&Cf(r,g,d)}else for(var v in o)o.hasOwnProperty(v)&&Cf(r,v,o[v])}function nu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ug=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vl(r){return ug.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var _r=null;function Wi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var br=null,wr=null;function iu(r){var o=zi(r);if(o&&(r=o.stateNode)){var u=r[bt]||null;t:switch(r=o.stateNode,o.type){case"input":if(Ai(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+cn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==r&&d.form===r.form){var g=d[bt]||null;if(!g)throw Error(i(90));Ai(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===r.form&&tu(d)}break t;case"textarea":Se(r,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&vr(r,!!u.multiple,o,!1)}}}var Ms=!1;function Df(r,o,u){if(Ms)return r(o,u);Ms=!0;try{var d=r(o);return d}finally{if(Ms=!1,(br!==null||wr!==null)&&(Td(),br&&(o=br,r=wr,wr=br=null,iu(o),r)))for(o=0;o<r.length;o++)iu(r[o])}}function ao(r,o){var u=r.stateNode;if(u===null)return null;var d=u[bt]||null;if(d===null)return null;u=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$i=!1;if(fs)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){$i=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{$i=!1}var Ps=null,ia=null,Tr=null;function su(){if(Tr)return Tr;var r,o=ia,u=o.length,d,g="value"in Ps?Ps.value:Ps.textContent,v=g.length;for(r=0;r<u&&o[r]===g[r];r++);var A=u-r;for(d=1;d<=A&&o[u-d]===g[v-d];d++);return Tr=g.slice(r,1<d?1-d:void 0)}function Os(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Ns(){return!0}function ru(){return!1}function xn(r){function o(u,d,g,v,A){this._reactName=u,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(u=r[k],this[k]=u?u(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ns:ru,this.isPropagationStopped=ru,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),o}var ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=xn(ye),lo=p({},ye,{view:0,detail:0}),kf=xn(lo),bl,wl,Ls,co=p({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ls&&(Ls&&r.type==="mousemove"?(bl=r.screenX-Ls.screenX,wl=r.screenY-Ls.screenY):wl=bl=0,Ls=r),bl)},movementY:function(r){return"movementY"in r?r.movementY:wl}}),Gi=xn(co),If=p({},co,{dataTransfer:0}),hg=xn(If),uo=p({},lo,{relatedTarget:0}),Tl=xn(uo),au=p({},ye,{animationName:0,elapsedTime:0,pseudoElement:0}),Sl=xn(au),Mf=p({},ye,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),El=xn(Mf),fg=p({},ye,{data:0}),ou=xn(fg),ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Of={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Of[r])?!!o[r]:!1}function fo(){return lu}var Nf=p({},lo,{key:function(r){if(r.key){var o=ho[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Os(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Pf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fo,charCode:function(r){return r.type==="keypress"?Os(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Os(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),xl=xn(Nf),Lf=p({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=xn(Lf),Sr=p({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fo}),Vf=xn(Sr),jf=p({},ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bf=xn(jf),Uf=p({},co,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Al=xn(Uf),oi=p({},ye,{newState:0,oldState:0}),zf=xn(oi),Ff=[9,13,27,32],Vs=fs&&"CompositionEvent"in window,m=null;fs&&"documentMode"in document&&(m=document.documentMode);var w=fs&&"TextEvent"in window&&!m,x=fs&&(!Vs||m&&8<m&&11>=m),O=" ",Y=!1;function tt(r,o){switch(r){case"keyup":return Ff.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var re=!1;function gn(r,o){switch(r){case"compositionend":return mt(o);case"keypress":return o.which!==32?null:(Y=!0,O);case"textInput":return r=o.data,r===O&&Y?null:r;default:return null}}function ae(r,o){if(re)return r==="compositionend"||!Vs&&tt(r,o)?(r=su(),Tr=ia=Ps=null,re=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return x&&o.locale!=="ko"?null:o.data;default:return null}}var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yn(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!An[r.type]:o==="textarea"}function Er(r,o,u,d){br?wr?wr.push(d):wr=[d]:br=d,o=Cd(o,"onChange"),0<o.length&&(u=new _l("onChange","change",null,u,d),r.push({event:u,listeners:o}))}var Pn=null,js=null;function uu(r){sE(r,0)}function Hf(r){var o=Fi(r);if(tu(o))return r}function xw(r,o){if(r==="change")return o}var Aw=!1;if(fs){var dg;if(fs){var pg="oninput"in document;if(!pg){var Rw=document.createElement("div");Rw.setAttribute("oninput","return;"),pg=typeof Rw.oninput=="function"}dg=pg}else dg=!1;Aw=dg&&(!document.documentMode||9<document.documentMode)}function Cw(){Pn&&(Pn.detachEvent("onpropertychange",Dw),js=Pn=null)}function Dw(r){if(r.propertyName==="value"&&Hf(js)){var o=[];Er(o,js,r,Wi(r)),Df(uu,o)}}function wO(r,o,u){r==="focusin"?(Cw(),Pn=o,js=u,Pn.attachEvent("onpropertychange",Dw)):r==="focusout"&&Cw()}function TO(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Hf(js)}function SO(r,o){if(r==="click")return Hf(o)}function EO(r,o){if(r==="input"||r==="change")return Hf(o)}function xO(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Ri=typeof Object.is=="function"?Object.is:xO;function hu(r,o){if(Ri(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var g=u[d];if(!ei.call(o,g)||!Ri(r[g],o[g]))return!1}return!0}function kw(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Iw(r,o){var u=kw(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=o&&d>=o)return{node:u,offset:o-r};r=d}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=kw(u)}}function Mw(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Mw(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Pw(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=no(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=no(r.document)}return o}function mg(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var AO=fs&&"documentMode"in document&&11>=document.documentMode,Rl=null,gg=null,fu=null,yg=!1;function Ow(r,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;yg||Rl==null||Rl!==no(d)||(d=Rl,"selectionStart"in d&&mg(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),fu&&hu(fu,d)||(fu=d,d=Cd(gg,"onSelect"),0<d.length&&(o=new _l("onSelect","select",null,o,u),r.push({event:o,listeners:d}),o.target=Rl)))}function po(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var Cl={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionrun:po("Transition","TransitionRun"),transitionstart:po("Transition","TransitionStart"),transitioncancel:po("Transition","TransitionCancel"),transitionend:po("Transition","TransitionEnd")},vg={},Nw={};fs&&(Nw=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function mo(r){if(vg[r])return vg[r];if(!Cl[r])return r;var o=Cl[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in Nw)return vg[r]=o[u];return r}var Lw=mo("animationend"),Vw=mo("animationiteration"),jw=mo("animationstart"),RO=mo("transitionrun"),CO=mo("transitionstart"),DO=mo("transitioncancel"),Bw=mo("transitionend"),Uw=new Map,_g="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_g.push("scrollEnd");function ds(r,o){Uw.set(r,o),pi(o,[r])}var zw=new WeakMap;function Ki(r,o){if(typeof r=="object"&&r!==null){var u=zw.get(r);return u!==void 0?u:(o={value:r,source:o,stack:gl(o)},zw.set(r,o),o)}return{value:r,source:o,stack:gl(o)}}var Yi=[],Dl=0,bg=0;function qf(){for(var r=Dl,o=bg=Dl=0;o<r;){var u=Yi[o];Yi[o++]=null;var d=Yi[o];Yi[o++]=null;var g=Yi[o];Yi[o++]=null;var v=Yi[o];if(Yi[o++]=null,d!==null&&g!==null){var A=d.pending;A===null?g.next=g:(g.next=A.next,A.next=g),d.pending=g}v!==0&&Fw(u,g,v)}}function Wf(r,o,u,d){Yi[Dl++]=r,Yi[Dl++]=o,Yi[Dl++]=u,Yi[Dl++]=d,bg|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function wg(r,o,u,d){return Wf(r,o,u,d),$f(r)}function kl(r,o){return Wf(r,null,null,o),$f(r)}function Fw(r,o,u){r.lanes|=u;var d=r.alternate;d!==null&&(d.lanes|=u);for(var g=!1,v=r.return;v!==null;)v.childLanes|=u,d=v.alternate,d!==null&&(d.childLanes|=u),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(g=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,g&&o!==null&&(g=31-Rt(u),r=v.hiddenUpdates,d=r[g],d===null?r[g]=[o]:d.push(o),o.lane=u|536870912),v):null}function $f(r){if(50<Vu)throw Vu=0,Ry=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Il={};function kO(r,o,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(r,o,u,d){return new kO(r,o,u,d)}function Tg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xr(r,o){var u=r.alternate;return u===null?(u=Ci(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Hw(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Gf(r,o,u,d,g,v){var A=0;if(d=r,typeof r=="function")Tg(r)&&(A=1);else if(typeof r=="string")A=MN(r,u,yt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case I:return r=Ci(31,u,o,g),r.elementType=I,r.lanes=v,r;case T:return go(u.children,g,v,o);case E:A=8,g|=24;break;case S:return r=Ci(12,u,o,g|2),r.elementType=S,r.lanes=v,r;case z:return r=Ci(13,u,o,g),r.elementType=z,r.lanes=v,r;case $:return r=Ci(19,u,o,g),r.elementType=$,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:case j:A=10;break t;case V:A=9;break t;case W:A=11;break t;case M:A=14;break t;case D:A=16,d=null;break t}A=29,u=Error(i(130,r===null?"null":typeof r,"")),d=null}return o=Ci(A,u,o,g),o.elementType=r,o.type=d,o.lanes=v,o}function go(r,o,u,d){return r=Ci(7,r,d,o),r.lanes=u,r}function Sg(r,o,u){return r=Ci(6,r,null,o),r.lanes=u,r}function Eg(r,o,u){return o=Ci(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Ml=[],Pl=0,Kf=null,Yf=0,Xi=[],Qi=0,yo=null,Ar=1,Rr="";function vo(r,o){Ml[Pl++]=Yf,Ml[Pl++]=Kf,Kf=r,Yf=o}function qw(r,o,u){Xi[Qi++]=Ar,Xi[Qi++]=Rr,Xi[Qi++]=yo,yo=r;var d=Ar;r=Rr;var g=32-Rt(d)-1;d&=~(1<<g),u+=1;var v=32-Rt(o)+g;if(30<v){var A=g-g%5;v=(d&(1<<A)-1).toString(32),d>>=A,g-=A,Ar=1<<32-Rt(o)+g|u<<g|d,Rr=v+r}else Ar=1<<v|u<<g|d,Rr=r}function xg(r){r.return!==null&&(vo(r,1),qw(r,1,0))}function Ag(r){for(;r===Kf;)Kf=Ml[--Pl],Ml[Pl]=null,Yf=Ml[--Pl],Ml[Pl]=null;for(;r===yo;)yo=Xi[--Qi],Xi[Qi]=null,Rr=Xi[--Qi],Xi[Qi]=null,Ar=Xi[--Qi],Xi[Qi]=null}var li=null,Xe=null,ge=!1,_o=null,Bs=!1,Rg=Error(i(519));function bo(r){var o=Error(i(418,""));throw mu(Ki(o,r)),Rg}function Ww(r){var o=r.stateNode,u=r.type,d=r.memoizedProps;switch(o[_t]=r,o[bt]=d,u){case"dialog":te("cancel",o),te("close",o);break;case"iframe":case"object":case"embed":te("load",o);break;case"video":case"audio":for(u=0;u<Bu.length;u++)te(Bu[u],o);break;case"source":te("error",o);break;case"img":case"image":case"link":te("error",o),te("load",o);break;case"details":te("toggle",o);break;case"input":te("invalid",o),io(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),yl(o);break;case"select":te("invalid",o);break;case"textarea":te("invalid",o),so(o,d.value,d.defaultValue,d.children),yl(o)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||lE(o.textContent,u)?(d.popover!=null&&(te("beforetoggle",o),te("toggle",o)),d.onScroll!=null&&te("scroll",o),d.onScrollEnd!=null&&te("scrollend",o),d.onClick!=null&&(o.onclick=Dd),o=!0):o=!1,o||bo(r)}function $w(r){for(li=r.return;li;)switch(li.tag){case 5:case 13:Bs=!1;return;case 27:case 3:Bs=!0;return;default:li=li.return}}function du(r){if(r!==li)return!1;if(!ge)return $w(r),ge=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||Hy(r.type,r.memoizedProps)),u=!u),u&&Xe&&bo(r),$w(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(o===0){Xe=ms(r.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;r=r.nextSibling}Xe=null}}else o===27?(o=Xe,_a(r.type)?(r=Gy,Gy=null,Xe=r):Xe=o):Xe=li?ms(r.stateNode.nextSibling):null;return!0}function pu(){Xe=li=null,ge=!1}function Gw(){var r=_o;return r!==null&&(vi===null?vi=r:vi.push.apply(vi,r),_o=null),r}function mu(r){_o===null?_o=[r]:_o.push(r)}var Cg=nt(null),wo=null,Cr=null;function sa(r,o,u){lt(Cg,o._currentValue),o._currentValue=u}function Dr(r){r._currentValue=Cg.current,ht(Cg)}function Dg(r,o,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===u)break;r=r.return}}function kg(r,o,u,d){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var v=g.dependencies;if(v!==null){var A=g.child;v=v.firstContext;t:for(;v!==null;){var k=v;v=g;for(var F=0;F<o.length;F++)if(k.context===o[F]){v.lanes|=u,k=v.alternate,k!==null&&(k.lanes|=u),Dg(v.return,u,r),d||(A=null);break t}v=k.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(i(341));A.lanes|=u,v=A.alternate,v!==null&&(v.lanes|=u),Dg(A,u,r),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===r){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function gu(r,o,u,d){r=null;for(var g=o,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var k=g.type;Ri(g.pendingProps.value,A.value)||(r!==null?r.push(k):r=[k])}}else if(g===me.current){if(A=g.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Wu):r=[Wu])}g=g.return}r!==null&&kg(o,r,u,d),o.flags|=262144}function Xf(r){for(r=r.firstContext;r!==null;){if(!Ri(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function To(r){wo=r,Cr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Hn(r){return Kw(wo,r)}function Qf(r,o){return wo===null&&To(r),Kw(r,o)}function Kw(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Cr===null){if(r===null)throw Error(i(308));Cr=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Cr=Cr.next=o;return u}var IO=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},MO=e.unstable_scheduleCallback,PO=e.unstable_NormalPriority,vn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ig(){return{controller:new IO,data:new Map,refCount:0}}function yu(r){r.refCount--,r.refCount===0&&MO(PO,function(){r.controller.abort()})}var vu=null,Mg=0,Ol=0,Nl=null;function OO(r,o){if(vu===null){var u=vu=[];Mg=0,Ol=Oy(),Nl={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Mg++,o.then(Yw,Yw),o}function Yw(){if(--Mg===0&&vu!==null){Nl!==null&&(Nl.status="fulfilled");var r=vu;vu=null,Ol=0,Nl=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function NO(r,o){var u=[],d={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var g=0;g<u.length;g++)(0,u[g])(o)},function(g){for(d.status="rejected",d.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),d}var Xw=K.S;K.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&OO(r,o),Xw!==null&&Xw(r,o)};var So=nt(null);function Pg(){var r=So.current;return r!==null?r:ke.pooledCache}function Zf(r,o){o===null?lt(So,So.current):lt(So,o.pool)}function Qw(){var r=Pg();return r===null?null:{parent:vn._currentValue,pool:r}}var _u=Error(i(460)),Zw=Error(i(474)),Jf=Error(i(542)),Og={then:function(){}};function Jw(r){return r=r.status,r==="fulfilled"||r==="rejected"}function td(){}function tT(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(td,td),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,nT(r),r;default:if(typeof o.status=="string")o.then(td,td);else{if(r=ke,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=d}},function(d){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,nT(r),r}throw bu=o,_u}}var bu=null;function eT(){if(bu===null)throw Error(i(459));var r=bu;return bu=null,r}function nT(r){if(r===_u||r===Jf)throw Error(i(483))}var ra=!1;function Ng(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lg(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function aa(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function oa(r,o,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(be&2)!==0){var g=d.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),d.pending=o,o=$f(r),Fw(r,null,u),o}return Wf(r,d,o,u),$f(r)}function wu(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,Ge(r,u)}}function Vg(r,o){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?g=v=A:v=v.next=A,u=u.next}while(u!==null);v===null?g=v=o:v=v.next=o}else g=v=o;u={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var jg=!1;function Tu(){if(jg){var r=Nl;if(r!==null)throw r}}function Su(r,o,u,d){jg=!1;var g=r.updateQueue;ra=!1;var v=g.firstBaseUpdate,A=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var F=k,Q=F.next;F.next=null,A===null?v=Q:A.next=Q,A=F;var st=r.alternate;st!==null&&(st=st.updateQueue,k=st.lastBaseUpdate,k!==A&&(k===null?st.firstBaseUpdate=Q:k.next=Q,st.lastBaseUpdate=F))}if(v!==null){var at=g.baseState;A=0,st=Q=F=null,k=v;do{var Z=k.lane&-536870913,J=Z!==k.lane;if(J?(oe&Z)===Z:(d&Z)===Z){Z!==0&&Z===Ol&&(jg=!0),st!==null&&(st=st.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});t:{var Vt=r,Dt=k;Z=o;var Ae=u;switch(Dt.tag){case 1:if(Vt=Dt.payload,typeof Vt=="function"){at=Vt.call(Ae,at,Z);break t}at=Vt;break t;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=Dt.payload,Z=typeof Vt=="function"?Vt.call(Ae,at,Z):Vt,Z==null)break t;at=p({},at,Z);break t;case 2:ra=!0}}Z=k.callback,Z!==null&&(r.flags|=64,J&&(r.flags|=8192),J=g.callbacks,J===null?g.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},st===null?(Q=st=J,F=at):st=st.next=J,A|=Z;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;J=k,k=J.next,J.next=null,g.lastBaseUpdate=J,g.shared.pending=null}}while(!0);st===null&&(F=at),g.baseState=F,g.firstBaseUpdate=Q,g.lastBaseUpdate=st,v===null&&(g.shared.lanes=0),ma|=A,r.lanes=A,r.memoizedState=at}}function iT(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function sT(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)iT(u[r],o)}var Ll=nt(null),ed=nt(0);function rT(r,o){r=Lr,lt(ed,r),lt(Ll,o),Lr=r|o.baseLanes}function Bg(){lt(ed,Lr),lt(Ll,Ll.current)}function Ug(){Lr=ed.current,ht(Ll),ht(ed)}var la=0,Xt=null,Ee=null,un=null,nd=!1,Vl=!1,Eo=!1,id=0,Eu=0,jl=null,LO=0;function en(){throw Error(i(321))}function zg(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Ri(r[u],o[u]))return!1;return!0}function Fg(r,o,u,d,g,v){return la=v,Xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,K.H=r===null||r.memoizedState===null?FT:HT,Eo=!1,v=u(d,g),Eo=!1,Vl&&(v=oT(o,u,d,g)),aT(r),v}function aT(r){K.H=cd;var o=Ee!==null&&Ee.next!==null;if(la=0,un=Ee=Xt=null,nd=!1,Eu=0,jl=null,o)throw Error(i(300));r===null||Rn||(r=r.dependencies,r!==null&&Xf(r)&&(Rn=!0))}function oT(r,o,u,d){Xt=r;var g=0;do{if(Vl&&(jl=null),Eu=0,Vl=!1,25<=g)throw Error(i(301));if(g+=1,un=Ee=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}K.H=HO,v=o(u,d)}while(Vl);return v}function VO(){var r=K.H,o=r.useState()[0];return o=typeof o.then=="function"?xu(o):o,r=r.useState()[0],(Ee!==null?Ee.memoizedState:null)!==r&&(Xt.flags|=1024),o}function Hg(){var r=id!==0;return id=0,r}function qg(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function Wg(r){if(nd){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}nd=!1}la=0,un=Ee=Xt=null,Vl=!1,Eu=id=0,jl=null}function gi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Xt.memoizedState=un=r:un=un.next=r,un}function hn(){if(Ee===null){var r=Xt.alternate;r=r!==null?r.memoizedState:null}else r=Ee.next;var o=un===null?Xt.memoizedState:un.next;if(o!==null)un=o,Ee=r;else{if(r===null)throw Xt.alternate===null?Error(i(467)):Error(i(310));Ee=r,r={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},un===null?Xt.memoizedState=un=r:un=un.next=r}return un}function $g(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xu(r){var o=Eu;return Eu+=1,jl===null&&(jl=[]),r=tT(jl,r,o),o=Xt,(un===null?o.memoizedState:un.next)===null&&(o=o.alternate,K.H=o===null||o.memoizedState===null?FT:HT),r}function sd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return xu(r);if(r.$$typeof===j)return Hn(r)}throw Error(i(438,String(r)))}function Gg(r){var o=null,u=Xt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=Xt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=$g(),Xt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),d=0;d<r;d++)u[d]=B;return o.index++,u}function kr(r,o){return typeof o=="function"?o(r):o}function rd(r){var o=hn();return Kg(o,Ee,r)}function Kg(r,o,u){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var g=r.baseQueue,v=d.pending;if(v!==null){if(g!==null){var A=g.next;g.next=v.next,v.next=A}o.baseQueue=g=v,d.pending=null}if(v=r.baseState,g===null)r.memoizedState=v;else{o=g.next;var k=A=null,F=null,Q=o,st=!1;do{var at=Q.lane&-536870913;if(at!==Q.lane?(oe&at)===at:(la&at)===at){var Z=Q.revertLane;if(Z===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),at===Ol&&(st=!0);else if((la&Z)===Z){Q=Q.next,Z===Ol&&(st=!0);continue}else at={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},F===null?(k=F=at,A=v):F=F.next=at,Xt.lanes|=Z,ma|=Z;at=Q.action,Eo&&u(v,at),v=Q.hasEagerState?Q.eagerState:u(v,at)}else Z={lane:at,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},F===null?(k=F=Z,A=v):F=F.next=Z,Xt.lanes|=at,ma|=at;Q=Q.next}while(Q!==null&&Q!==o);if(F===null?A=v:F.next=k,!Ri(v,r.memoizedState)&&(Rn=!0,st&&(u=Nl,u!==null)))throw u;r.memoizedState=v,r.baseState=A,r.baseQueue=F,d.lastRenderedState=v}return g===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Yg(r){var o=hn(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var d=u.dispatch,g=u.pending,v=o.memoizedState;if(g!==null){u.pending=null;var A=g=g.next;do v=r(v,A.action),A=A.next;while(A!==g);Ri(v,o.memoizedState)||(Rn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function lT(r,o,u){var d=Xt,g=hn(),v=ge;if(v){if(u===void 0)throw Error(i(407));u=u()}else u=o();var A=!Ri((Ee||g).memoizedState,u);A&&(g.memoizedState=u,Rn=!0),g=g.queue;var k=hT.bind(null,d,g,r);if(Au(2048,8,k,[r]),g.getSnapshot!==o||A||un!==null&&un.memoizedState.tag&1){if(d.flags|=2048,Bl(9,ad(),uT.bind(null,d,g,u,o),null),ke===null)throw Error(i(349));v||(la&124)!==0||cT(d,o,u)}return u}function cT(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=Xt.updateQueue,o===null?(o=$g(),Xt.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function uT(r,o,u,d){o.value=u,o.getSnapshot=d,fT(o)&&dT(r)}function hT(r,o,u){return u(function(){fT(o)&&dT(r)})}function fT(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Ri(r,u)}catch{return!0}}function dT(r){var o=kl(r,2);o!==null&&Pi(o,r,2)}function Xg(r){var o=gi();if(typeof r=="function"){var u=r;if(r=u(),Eo){Ot(!0);try{u()}finally{Ot(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:r},o}function pT(r,o,u,d){return r.baseState=u,Kg(r,Ee,typeof d=="function"?d:kr)}function jO(r,o,u,d,g){if(ld(r))throw Error(i(485));if(r=o.action,r!==null){var v={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};K.T!==null?u(!0):v.isTransition=!1,d(v),u=o.pending,u===null?(v.next=o.pending=v,mT(o,v)):(v.next=u.next,o.pending=u.next=v)}}function mT(r,o){var u=o.action,d=o.payload,g=r.state;if(o.isTransition){var v=K.T,A={};K.T=A;try{var k=u(g,d),F=K.S;F!==null&&F(A,k),gT(r,o,k)}catch(Q){Qg(r,o,Q)}finally{K.T=v}}else try{v=u(g,d),gT(r,o,v)}catch(Q){Qg(r,o,Q)}}function gT(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){yT(r,o,d)},function(d){return Qg(r,o,d)}):yT(r,o,u)}function yT(r,o,u){o.status="fulfilled",o.value=u,vT(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,mT(r,u)))}function Qg(r,o,u){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,vT(o),o=o.next;while(o!==d)}r.action=null}function vT(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function _T(r,o){return o}function bT(r,o){if(ge){var u=ke.formState;if(u!==null){t:{var d=Xt;if(ge){if(Xe){e:{for(var g=Xe,v=Bs;g.nodeType!==8;){if(!v){g=null;break e}if(g=ms(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Xe=ms(g.nextSibling),d=g.data==="F!";break t}}bo(d)}d=!1}d&&(o=u[0])}}return u=gi(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_T,lastRenderedState:o},u.queue=d,u=BT.bind(null,Xt,d),d.dispatch=u,d=Xg(!1),v=ny.bind(null,Xt,!1,d.queue),d=gi(),g={state:o,dispatch:null,action:r,pending:null},d.queue=g,u=jO.bind(null,Xt,g,v,u),g.dispatch=u,d.memoizedState=r,[o,u,!1]}function wT(r){var o=hn();return TT(o,Ee,r)}function TT(r,o,u){if(o=Kg(r,o,_T)[0],r=rd(kr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=xu(o)}catch(A){throw A===_u?Jf:A}else d=o;o=hn();var g=o.queue,v=g.dispatch;return u!==o.memoizedState&&(Xt.flags|=2048,Bl(9,ad(),BO.bind(null,g,u),null)),[d,v,r]}function BO(r,o){r.action=o}function ST(r){var o=hn(),u=Ee;if(u!==null)return TT(o,u,r);hn(),o=o.memoizedState,u=hn();var d=u.queue.dispatch;return u.memoizedState=r,[o,d,!1]}function Bl(r,o,u,d){return r={tag:r,create:u,deps:d,inst:o,next:null},o=Xt.updateQueue,o===null&&(o=$g(),Xt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,o.lastEffect=r),r}function ad(){return{destroy:void 0,resource:void 0}}function ET(){return hn().memoizedState}function od(r,o,u,d){var g=gi();d=d===void 0?null:d,Xt.flags|=r,g.memoizedState=Bl(1|o,ad(),u,d)}function Au(r,o,u,d){var g=hn();d=d===void 0?null:d;var v=g.memoizedState.inst;Ee!==null&&d!==null&&zg(d,Ee.memoizedState.deps)?g.memoizedState=Bl(o,v,u,d):(Xt.flags|=r,g.memoizedState=Bl(1|o,v,u,d))}function xT(r,o){od(8390656,8,r,o)}function AT(r,o){Au(2048,8,r,o)}function RT(r,o){return Au(4,2,r,o)}function CT(r,o){return Au(4,4,r,o)}function DT(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function kT(r,o,u){u=u!=null?u.concat([r]):null,Au(4,4,DT.bind(null,o,r),u)}function Zg(){}function IT(r,o){var u=hn();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&zg(o,d[1])?d[0]:(u.memoizedState=[r,o],r)}function MT(r,o){var u=hn();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&zg(o,d[1]))return d[0];if(d=r(),Eo){Ot(!0);try{r()}finally{Ot(!1)}}return u.memoizedState=[d,o],d}function Jg(r,o,u){return u===void 0||(la&1073741824)!==0?r.memoizedState=o:(r.memoizedState=u,r=NS(),Xt.lanes|=r,ma|=r,u)}function PT(r,o,u,d){return Ri(u,o)?u:Ll.current!==null?(r=Jg(r,u,d),Ri(r,o)||(Rn=!0),r):(la&42)===0?(Rn=!0,r.memoizedState=u):(r=NS(),Xt.lanes|=r,ma|=r,o)}function OT(r,o,u,d,g){var v=et.p;et.p=v!==0&&8>v?v:8;var A=K.T,k={};K.T=k,ny(r,!1,o,u);try{var F=g(),Q=K.S;if(Q!==null&&Q(k,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var st=NO(F,d);Ru(r,o,st,Mi(r))}else Ru(r,o,d,Mi(r))}catch(at){Ru(r,o,{then:function(){},status:"rejected",reason:at},Mi())}finally{et.p=v,K.T=A}}function UO(){}function ty(r,o,u,d){if(r.tag!==5)throw Error(i(476));var g=NT(r).queue;OT(r,g,o,dt,u===null?UO:function(){return LT(r),u(d)})}function NT(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:dt},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function LT(r){var o=NT(r).next.queue;Ru(r,o,{},Mi())}function ey(){return Hn(Wu)}function VT(){return hn().memoizedState}function jT(){return hn().memoizedState}function zO(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=Mi();r=aa(u);var d=oa(o,r,u);d!==null&&(Pi(d,o,u),wu(d,o,u)),o={cache:Ig()},r.payload=o;return}o=o.return}}function FO(r,o,u){var d=Mi();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},ld(r)?UT(o,u):(u=wg(r,o,u,d),u!==null&&(Pi(u,r,d),zT(u,o,d)))}function BT(r,o,u){var d=Mi();Ru(r,o,u,d)}function Ru(r,o,u,d){var g={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(ld(r))UT(o,g);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var A=o.lastRenderedState,k=v(A,u);if(g.hasEagerState=!0,g.eagerState=k,Ri(k,A))return Wf(r,o,g,0),ke===null&&qf(),!1}catch{}finally{}if(u=wg(r,o,g,d),u!==null)return Pi(u,r,d),zT(u,o,d),!0}return!1}function ny(r,o,u,d){if(d={lane:2,revertLane:Oy(),action:d,hasEagerState:!1,eagerState:null,next:null},ld(r)){if(o)throw Error(i(479))}else o=wg(r,u,d,2),o!==null&&Pi(o,r,2)}function ld(r){var o=r.alternate;return r===Xt||o!==null&&o===Xt}function UT(r,o){Vl=nd=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function zT(r,o,u){if((u&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,Ge(r,u)}}var cd={readContext:Hn,use:sd,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en},FT={readContext:Hn,use:sd,useCallback:function(r,o){return gi().memoizedState=[r,o===void 0?null:o],r},useContext:Hn,useEffect:xT,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,od(4194308,4,DT.bind(null,o,r),u)},useLayoutEffect:function(r,o){return od(4194308,4,r,o)},useInsertionEffect:function(r,o){od(4,2,r,o)},useMemo:function(r,o){var u=gi();o=o===void 0?null:o;var d=r();if(Eo){Ot(!0);try{r()}finally{Ot(!1)}}return u.memoizedState=[d,o],d},useReducer:function(r,o,u){var d=gi();if(u!==void 0){var g=u(o);if(Eo){Ot(!0);try{u(o)}finally{Ot(!1)}}}else g=o;return d.memoizedState=d.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},d.queue=r,r=r.dispatch=FO.bind(null,Xt,r),[d.memoizedState,r]},useRef:function(r){var o=gi();return r={current:r},o.memoizedState=r},useState:function(r){r=Xg(r);var o=r.queue,u=BT.bind(null,Xt,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:Zg,useDeferredValue:function(r,o){var u=gi();return Jg(u,r,o)},useTransition:function(){var r=Xg(!1);return r=OT.bind(null,Xt,r.queue,!0,!1),gi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var d=Xt,g=gi();if(ge){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),ke===null)throw Error(i(349));(oe&124)!==0||cT(d,o,u)}g.memoizedState=u;var v={value:u,getSnapshot:o};return g.queue=v,xT(hT.bind(null,d,v,r),[r]),d.flags|=2048,Bl(9,ad(),uT.bind(null,d,v,u,o),null),u},useId:function(){var r=gi(),o=ke.identifierPrefix;if(ge){var u=Rr,d=Ar;u=(d&~(1<<32-Rt(d)-1)).toString(32)+u,o=""+o+"R"+u,u=id++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=LO++,o=""+o+"r"+u.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:ey,useFormState:bT,useActionState:bT,useOptimistic:function(r){var o=gi();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=ny.bind(null,Xt,!0,u),u.dispatch=o,[r,o]},useMemoCache:Gg,useCacheRefresh:function(){return gi().memoizedState=zO.bind(null,Xt)}},HT={readContext:Hn,use:sd,useCallback:IT,useContext:Hn,useEffect:AT,useImperativeHandle:kT,useInsertionEffect:RT,useLayoutEffect:CT,useMemo:MT,useReducer:rd,useRef:ET,useState:function(){return rd(kr)},useDebugValue:Zg,useDeferredValue:function(r,o){var u=hn();return PT(u,Ee.memoizedState,r,o)},useTransition:function(){var r=rd(kr)[0],o=hn().memoizedState;return[typeof r=="boolean"?r:xu(r),o]},useSyncExternalStore:lT,useId:VT,useHostTransitionStatus:ey,useFormState:wT,useActionState:wT,useOptimistic:function(r,o){var u=hn();return pT(u,Ee,r,o)},useMemoCache:Gg,useCacheRefresh:jT},HO={readContext:Hn,use:sd,useCallback:IT,useContext:Hn,useEffect:AT,useImperativeHandle:kT,useInsertionEffect:RT,useLayoutEffect:CT,useMemo:MT,useReducer:Yg,useRef:ET,useState:function(){return Yg(kr)},useDebugValue:Zg,useDeferredValue:function(r,o){var u=hn();return Ee===null?Jg(u,r,o):PT(u,Ee.memoizedState,r,o)},useTransition:function(){var r=Yg(kr)[0],o=hn().memoizedState;return[typeof r=="boolean"?r:xu(r),o]},useSyncExternalStore:lT,useId:VT,useHostTransitionStatus:ey,useFormState:ST,useActionState:ST,useOptimistic:function(r,o){var u=hn();return Ee!==null?pT(u,Ee,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Gg,useCacheRefresh:jT},Ul=null,Cu=0;function ud(r){var o=Cu;return Cu+=1,Ul===null&&(Ul=[]),tT(Ul,r,o)}function Du(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function hd(r,o){throw o.$$typeof===y?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function qT(r){var o=r._init;return o(r._payload)}function WT(r){function o(G,q){if(r){var X=G.deletions;X===null?(G.deletions=[q],G.flags|=16):X.push(q)}}function u(G,q){if(!r)return null;for(;q!==null;)o(G,q),q=q.sibling;return null}function d(G){for(var q=new Map;G!==null;)G.key!==null?q.set(G.key,G):q.set(G.index,G),G=G.sibling;return q}function g(G,q){return G=xr(G,q),G.index=0,G.sibling=null,G}function v(G,q,X){return G.index=X,r?(X=G.alternate,X!==null?(X=X.index,X<q?(G.flags|=67108866,q):X):(G.flags|=67108866,q)):(G.flags|=1048576,q)}function A(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function k(G,q,X,rt){return q===null||q.tag!==6?(q=Sg(X,G.mode,rt),q.return=G,q):(q=g(q,X),q.return=G,q)}function F(G,q,X,rt){var wt=X.type;return wt===T?st(G,q,X.props.children,rt,X.key):q!==null&&(q.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===D&&qT(wt)===q.type)?(q=g(q,X.props),Du(q,X),q.return=G,q):(q=Gf(X.type,X.key,X.props,null,G.mode,rt),Du(q,X),q.return=G,q)}function Q(G,q,X,rt){return q===null||q.tag!==4||q.stateNode.containerInfo!==X.containerInfo||q.stateNode.implementation!==X.implementation?(q=Eg(X,G.mode,rt),q.return=G,q):(q=g(q,X.children||[]),q.return=G,q)}function st(G,q,X,rt,wt){return q===null||q.tag!==7?(q=go(X,G.mode,rt,wt),q.return=G,q):(q=g(q,X),q.return=G,q)}function at(G,q,X){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Sg(""+q,G.mode,X),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return X=Gf(q.type,q.key,q.props,null,G.mode,X),Du(X,q),X.return=G,X;case b:return q=Eg(q,G.mode,X),q.return=G,q;case D:var rt=q._init;return q=rt(q._payload),at(G,q,X)}if(gt(q)||U(q))return q=go(q,G.mode,X,null),q.return=G,q;if(typeof q.then=="function")return at(G,ud(q),X);if(q.$$typeof===j)return at(G,Qf(G,q),X);hd(G,q)}return null}function Z(G,q,X,rt){var wt=q!==null?q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return wt!==null?null:k(G,q,""+X,rt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return X.key===wt?F(G,q,X,rt):null;case b:return X.key===wt?Q(G,q,X,rt):null;case D:return wt=X._init,X=wt(X._payload),Z(G,q,X,rt)}if(gt(X)||U(X))return wt!==null?null:st(G,q,X,rt,null);if(typeof X.then=="function")return Z(G,q,ud(X),rt);if(X.$$typeof===j)return Z(G,q,Qf(G,X),rt);hd(G,X)}return null}function J(G,q,X,rt,wt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return G=G.get(X)||null,k(q,G,""+rt,wt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case _:return G=G.get(rt.key===null?X:rt.key)||null,F(q,G,rt,wt);case b:return G=G.get(rt.key===null?X:rt.key)||null,Q(q,G,rt,wt);case D:var Zt=rt._init;return rt=Zt(rt._payload),J(G,q,X,rt,wt)}if(gt(rt)||U(rt))return G=G.get(X)||null,st(q,G,rt,wt,null);if(typeof rt.then=="function")return J(G,q,X,ud(rt),wt);if(rt.$$typeof===j)return J(G,q,X,Qf(q,rt),wt);hd(q,rt)}return null}function Vt(G,q,X,rt){for(var wt=null,Zt=null,At=q,Mt=q=0,Dn=null;At!==null&&Mt<X.length;Mt++){At.index>Mt?(Dn=At,At=null):Dn=At.sibling;var pe=Z(G,At,X[Mt],rt);if(pe===null){At===null&&(At=Dn);break}r&&At&&pe.alternate===null&&o(G,At),q=v(pe,q,Mt),Zt===null?wt=pe:Zt.sibling=pe,Zt=pe,At=Dn}if(Mt===X.length)return u(G,At),ge&&vo(G,Mt),wt;if(At===null){for(;Mt<X.length;Mt++)At=at(G,X[Mt],rt),At!==null&&(q=v(At,q,Mt),Zt===null?wt=At:Zt.sibling=At,Zt=At);return ge&&vo(G,Mt),wt}for(At=d(At);Mt<X.length;Mt++)Dn=J(At,G,Mt,X[Mt],rt),Dn!==null&&(r&&Dn.alternate!==null&&At.delete(Dn.key===null?Mt:Dn.key),q=v(Dn,q,Mt),Zt===null?wt=Dn:Zt.sibling=Dn,Zt=Dn);return r&&At.forEach(function(Ea){return o(G,Ea)}),ge&&vo(G,Mt),wt}function Dt(G,q,X,rt){if(X==null)throw Error(i(151));for(var wt=null,Zt=null,At=q,Mt=q=0,Dn=null,pe=X.next();At!==null&&!pe.done;Mt++,pe=X.next()){At.index>Mt?(Dn=At,At=null):Dn=At.sibling;var Ea=Z(G,At,pe.value,rt);if(Ea===null){At===null&&(At=Dn);break}r&&At&&Ea.alternate===null&&o(G,At),q=v(Ea,q,Mt),Zt===null?wt=Ea:Zt.sibling=Ea,Zt=Ea,At=Dn}if(pe.done)return u(G,At),ge&&vo(G,Mt),wt;if(At===null){for(;!pe.done;Mt++,pe=X.next())pe=at(G,pe.value,rt),pe!==null&&(q=v(pe,q,Mt),Zt===null?wt=pe:Zt.sibling=pe,Zt=pe);return ge&&vo(G,Mt),wt}for(At=d(At);!pe.done;Mt++,pe=X.next())pe=J(At,G,Mt,pe.value,rt),pe!==null&&(r&&pe.alternate!==null&&At.delete(pe.key===null?Mt:pe.key),q=v(pe,q,Mt),Zt===null?wt=pe:Zt.sibling=pe,Zt=pe);return r&&At.forEach(function(qN){return o(G,qN)}),ge&&vo(G,Mt),wt}function Ae(G,q,X,rt){if(typeof X=="object"&&X!==null&&X.type===T&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case _:t:{for(var wt=X.key;q!==null;){if(q.key===wt){if(wt=X.type,wt===T){if(q.tag===7){u(G,q.sibling),rt=g(q,X.props.children),rt.return=G,G=rt;break t}}else if(q.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===D&&qT(wt)===q.type){u(G,q.sibling),rt=g(q,X.props),Du(rt,X),rt.return=G,G=rt;break t}u(G,q);break}else o(G,q);q=q.sibling}X.type===T?(rt=go(X.props.children,G.mode,rt,X.key),rt.return=G,G=rt):(rt=Gf(X.type,X.key,X.props,null,G.mode,rt),Du(rt,X),rt.return=G,G=rt)}return A(G);case b:t:{for(wt=X.key;q!==null;){if(q.key===wt)if(q.tag===4&&q.stateNode.containerInfo===X.containerInfo&&q.stateNode.implementation===X.implementation){u(G,q.sibling),rt=g(q,X.children||[]),rt.return=G,G=rt;break t}else{u(G,q);break}else o(G,q);q=q.sibling}rt=Eg(X,G.mode,rt),rt.return=G,G=rt}return A(G);case D:return wt=X._init,X=wt(X._payload),Ae(G,q,X,rt)}if(gt(X))return Vt(G,q,X,rt);if(U(X)){if(wt=U(X),typeof wt!="function")throw Error(i(150));return X=wt.call(X),Dt(G,q,X,rt)}if(typeof X.then=="function")return Ae(G,q,ud(X),rt);if(X.$$typeof===j)return Ae(G,q,Qf(G,X),rt);hd(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,q!==null&&q.tag===6?(u(G,q.sibling),rt=g(q,X),rt.return=G,G=rt):(u(G,q),rt=Sg(X,G.mode,rt),rt.return=G,G=rt),A(G)):u(G,q)}return function(G,q,X,rt){try{Cu=0;var wt=Ae(G,q,X,rt);return Ul=null,wt}catch(At){if(At===_u||At===Jf)throw At;var Zt=Ci(29,At,null,G.mode);return Zt.lanes=rt,Zt.return=G,Zt}finally{}}}var zl=WT(!0),$T=WT(!1),Zi=nt(null),Us=null;function ca(r){var o=r.alternate;lt(_n,_n.current&1),lt(Zi,r),Us===null&&(o===null||Ll.current!==null||o.memoizedState!==null)&&(Us=r)}function GT(r){if(r.tag===22){if(lt(_n,_n.current),lt(Zi,r),Us===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Us=r)}}else ua()}function ua(){lt(_n,_n.current),lt(Zi,Zi.current)}function Ir(r){ht(Zi),Us===r&&(Us=null),ht(_n)}var _n=nt(0);function fd(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||$y(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function iy(r,o,u,d){o=r.memoizedState,u=u(d,o),u=u==null?o:p({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var sy={enqueueSetState:function(r,o,u){r=r._reactInternals;var d=Mi(),g=aa(d);g.payload=o,u!=null&&(g.callback=u),o=oa(r,g,d),o!==null&&(Pi(o,r,d),wu(o,r,d))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var d=Mi(),g=aa(d);g.tag=1,g.payload=o,u!=null&&(g.callback=u),o=oa(r,g,d),o!==null&&(Pi(o,r,d),wu(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=Mi(),d=aa(u);d.tag=2,o!=null&&(d.callback=o),o=oa(r,d,u),o!==null&&(Pi(o,r,u),wu(o,r,u))}};function KT(r,o,u,d,g,v,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,A):o.prototype&&o.prototype.isPureReactComponent?!hu(u,d)||!hu(g,v):!0}function YT(r,o,u,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==r&&sy.enqueueReplaceState(o,o.state,null)}function xo(r,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(r=r.defaultProps){u===o&&(u=p({},u));for(var g in r)u[g]===void 0&&(u[g]=r[g])}return u}var dd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function XT(r){dd(r)}function QT(r){console.error(r)}function ZT(r){dd(r)}function pd(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function JT(r,o,u){try{var d=r.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function ry(r,o,u){return u=aa(u),u.tag=3,u.payload={element:null},u.callback=function(){pd(r,o)},u}function tS(r){return r=aa(r),r.tag=3,r}function eS(r,o,u,d){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var v=d.value;r.payload=function(){return g(v)},r.callback=function(){JT(o,u,d)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){JT(o,u,d),typeof g!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var k=d.stack;this.componentDidCatch(d.value,{componentStack:k!==null?k:""})})}function qO(r,o,u,d,g){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&gu(o,u,g,!0),u=Zi.current,u!==null){switch(u.tag){case 13:return Us===null?Dy():u.alternate===null&&Qe===0&&(Qe=3),u.flags&=-257,u.flags|=65536,u.lanes=g,d===Og?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),Iy(r,d,g)),!1;case 22:return u.flags|=65536,d===Og?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),Iy(r,d,g)),!1}throw Error(i(435,u.tag))}return Iy(r,d,g),Dy(),!1}if(ge)return o=Zi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,d!==Rg&&(r=Error(i(422),{cause:d}),mu(Ki(r,u)))):(d!==Rg&&(o=Error(i(423),{cause:d}),mu(Ki(o,u))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,d=Ki(d,u),g=ry(r.stateNode,d,g),Vg(r,g),Qe!==4&&(Qe=2)),!1;var v=Error(i(520),{cause:d});if(v=Ki(v,u),Lu===null?Lu=[v]:Lu.push(v),Qe!==4&&(Qe=2),o===null)return!0;d=Ki(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=g&-g,u.lanes|=r,r=ry(u.stateNode,d,r),Vg(u,r),!1;case 1:if(o=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ga===null||!ga.has(v))))return u.flags|=65536,g&=-g,u.lanes|=g,g=tS(g),eS(g,r,u,d),Vg(u,g),!1}u=u.return}while(u!==null);return!1}var nS=Error(i(461)),Rn=!1;function On(r,o,u,d){o.child=r===null?$T(o,null,u,d):zl(o,r.child,u,d)}function iS(r,o,u,d,g){u=u.render;var v=o.ref;if("ref"in d){var A={};for(var k in d)k!=="ref"&&(A[k]=d[k])}else A=d;return To(o),d=Fg(r,o,u,A,v,g),k=Hg(),r!==null&&!Rn?(qg(r,o,g),Mr(r,o,g)):(ge&&k&&xg(o),o.flags|=1,On(r,o,d,g),o.child)}function sS(r,o,u,d,g){if(r===null){var v=u.type;return typeof v=="function"&&!Tg(v)&&v.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=v,rS(r,o,v,d,g)):(r=Gf(u.type,null,d,o,o.mode,g),r.ref=o.ref,r.return=o,o.child=r)}if(v=r.child,!dy(r,g)){var A=v.memoizedProps;if(u=u.compare,u=u!==null?u:hu,u(A,d)&&r.ref===o.ref)return Mr(r,o,g)}return o.flags|=1,r=xr(v,d),r.ref=o.ref,r.return=o,o.child=r}function rS(r,o,u,d,g){if(r!==null){var v=r.memoizedProps;if(hu(v,d)&&r.ref===o.ref)if(Rn=!1,o.pendingProps=d=v,dy(r,g))(r.flags&131072)!==0&&(Rn=!0);else return o.lanes=r.lanes,Mr(r,o,g)}return ay(r,o,u,d,g)}function aS(r,o,u){var d=o.pendingProps,g=d.children,v=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=v!==null?v.baseLanes|u:u,r!==null){for(g=o.child=r.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;o.childLanes=v&~d}else o.childLanes=0,o.child=null;return oS(r,o,d,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Zf(o,v!==null?v.cachePool:null),v!==null?rT(o,v):Bg(),GT(o);else return o.lanes=o.childLanes=536870912,oS(r,o,v!==null?v.baseLanes|u:u,u)}else v!==null?(Zf(o,v.cachePool),rT(o,v),ua(),o.memoizedState=null):(r!==null&&Zf(o,null),Bg(),ua());return On(r,o,g,u),o.child}function oS(r,o,u,d){var g=Pg();return g=g===null?null:{parent:vn._currentValue,pool:g},o.memoizedState={baseLanes:u,cachePool:g},r!==null&&Zf(o,null),Bg(),GT(o),r!==null&&gu(r,o,d,!0),null}function md(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function ay(r,o,u,d,g){return To(o),u=Fg(r,o,u,d,void 0,g),d=Hg(),r!==null&&!Rn?(qg(r,o,g),Mr(r,o,g)):(ge&&d&&xg(o),o.flags|=1,On(r,o,u,g),o.child)}function lS(r,o,u,d,g,v){return To(o),o.updateQueue=null,u=oT(o,d,u,g),aT(r),d=Hg(),r!==null&&!Rn?(qg(r,o,v),Mr(r,o,v)):(ge&&d&&xg(o),o.flags|=1,On(r,o,u,v),o.child)}function cS(r,o,u,d,g){if(To(o),o.stateNode===null){var v=Il,A=u.contextType;typeof A=="object"&&A!==null&&(v=Hn(A)),v=new u(d,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=sy,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=d,v.state=o.memoizedState,v.refs={},Ng(o),A=u.contextType,v.context=typeof A=="object"&&A!==null?Hn(A):Il,v.state=o.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(iy(o,u,A,d),v.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&sy.enqueueReplaceState(v,v.state,null),Su(o,d,v,g),Tu(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){v=o.stateNode;var k=o.memoizedProps,F=xo(u,k);v.props=F;var Q=v.context,st=u.contextType;A=Il,typeof st=="object"&&st!==null&&(A=Hn(st));var at=u.getDerivedStateFromProps;st=typeof at=="function"||typeof v.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,st||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k||Q!==A)&&YT(o,v,d,A),ra=!1;var Z=o.memoizedState;v.state=Z,Su(o,d,v,g),Tu(),Q=o.memoizedState,k||Z!==Q||ra?(typeof at=="function"&&(iy(o,u,at,d),Q=o.memoizedState),(F=ra||KT(o,u,F,d,Z,Q,A))?(st||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=Q),v.props=d,v.state=Q,v.context=A,d=F):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{v=o.stateNode,Lg(r,o),A=o.memoizedProps,st=xo(u,A),v.props=st,at=o.pendingProps,Z=v.context,Q=u.contextType,F=Il,typeof Q=="object"&&Q!==null&&(F=Hn(Q)),k=u.getDerivedStateFromProps,(Q=typeof k=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==at||Z!==F)&&YT(o,v,d,F),ra=!1,Z=o.memoizedState,v.state=Z,Su(o,d,v,g),Tu();var J=o.memoizedState;A!==at||Z!==J||ra||r!==null&&r.dependencies!==null&&Xf(r.dependencies)?(typeof k=="function"&&(iy(o,u,k,d),J=o.memoizedState),(st=ra||KT(o,u,st,d,Z,J,F)||r!==null&&r.dependencies!==null&&Xf(r.dependencies))?(Q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,J,F),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,J,F)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===r.memoizedProps&&Z===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&Z===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=J),v.props=d,v.state=J,v.context=F,d=st):(typeof v.componentDidUpdate!="function"||A===r.memoizedProps&&Z===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&Z===r.memoizedState||(o.flags|=1024),d=!1)}return v=d,md(r,o),d=(o.flags&128)!==0,v||d?(v=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,r!==null&&d?(o.child=zl(o,r.child,null,g),o.child=zl(o,null,u,g)):On(r,o,u,g),o.memoizedState=v.state,r=o.child):r=Mr(r,o,g),r}function uS(r,o,u,d){return pu(),o.flags|=256,On(r,o,u,d),o.child}var oy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ly(r){return{baseLanes:r,cachePool:Qw()}}function cy(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=Ji),r}function hS(r,o,u){var d=o.pendingProps,g=!1,v=(o.flags&128)!==0,A;if((A=v)||(A=r!==null&&r.memoizedState===null?!1:(_n.current&2)!==0),A&&(g=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,r===null){if(ge){if(g?ca(o):ua(),ge){var k=Xe,F;if(F=k){t:{for(F=k,k=Bs;F.nodeType!==8;){if(!k){k=null;break t}if(F=ms(F.nextSibling),F===null){k=null;break t}}k=F}k!==null?(o.memoizedState={dehydrated:k,treeContext:yo!==null?{id:Ar,overflow:Rr}:null,retryLane:536870912,hydrationErrors:null},F=Ci(18,null,null,0),F.stateNode=k,F.return=o,o.child=F,li=o,Xe=null,F=!0):F=!1}F||bo(o)}if(k=o.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return $y(k)?o.lanes=32:o.lanes=536870912,null;Ir(o)}return k=d.children,d=d.fallback,g?(ua(),g=o.mode,k=gd({mode:"hidden",children:k},g),d=go(d,g,u,null),k.return=o,d.return=o,k.sibling=d,o.child=k,g=o.child,g.memoizedState=ly(u),g.childLanes=cy(r,A,u),o.memoizedState=oy,d):(ca(o),uy(o,k))}if(F=r.memoizedState,F!==null&&(k=F.dehydrated,k!==null)){if(v)o.flags&256?(ca(o),o.flags&=-257,o=hy(r,o,u)):o.memoizedState!==null?(ua(),o.child=r.child,o.flags|=128,o=null):(ua(),g=d.fallback,k=o.mode,d=gd({mode:"visible",children:d.children},k),g=go(g,k,u,null),g.flags|=2,d.return=o,g.return=o,d.sibling=g,o.child=d,zl(o,r.child,null,u),d=o.child,d.memoizedState=ly(u),d.childLanes=cy(r,A,u),o.memoizedState=oy,o=g);else if(ca(o),$y(k)){if(A=k.nextSibling&&k.nextSibling.dataset,A)var Q=A.dgst;A=Q,d=Error(i(419)),d.stack="",d.digest=A,mu({value:d,source:null,stack:null}),o=hy(r,o,u)}else if(Rn||gu(r,o,u,!1),A=(u&r.childLanes)!==0,Rn||A){if(A=ke,A!==null&&(d=u&-u,d=(d&42)!==0?1:Et(d),d=(d&(A.suspendedLanes|u))!==0?0:d,d!==0&&d!==F.retryLane))throw F.retryLane=d,kl(r,d),Pi(A,r,d),nS;k.data==="$?"||Dy(),o=hy(r,o,u)}else k.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=F.treeContext,Xe=ms(k.nextSibling),li=o,ge=!0,_o=null,Bs=!1,r!==null&&(Xi[Qi++]=Ar,Xi[Qi++]=Rr,Xi[Qi++]=yo,Ar=r.id,Rr=r.overflow,yo=o),o=uy(o,d.children),o.flags|=4096);return o}return g?(ua(),g=d.fallback,k=o.mode,F=r.child,Q=F.sibling,d=xr(F,{mode:"hidden",children:d.children}),d.subtreeFlags=F.subtreeFlags&65011712,Q!==null?g=xr(Q,g):(g=go(g,k,u,null),g.flags|=2),g.return=o,d.return=o,d.sibling=g,o.child=d,d=g,g=o.child,k=r.child.memoizedState,k===null?k=ly(u):(F=k.cachePool,F!==null?(Q=vn._currentValue,F=F.parent!==Q?{parent:Q,pool:Q}:F):F=Qw(),k={baseLanes:k.baseLanes|u,cachePool:F}),g.memoizedState=k,g.childLanes=cy(r,A,u),o.memoizedState=oy,d):(ca(o),u=r.child,r=u.sibling,u=xr(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,r!==null&&(A=o.deletions,A===null?(o.deletions=[r],o.flags|=16):A.push(r)),o.child=u,o.memoizedState=null,u)}function uy(r,o){return o=gd({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function gd(r,o){return r=Ci(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function hy(r,o,u){return zl(o,r.child,null,u),r=uy(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function fS(r,o,u){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),Dg(r.return,o,u)}function fy(r,o,u,d,g){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:g}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=g)}function dS(r,o,u){var d=o.pendingProps,g=d.revealOrder,v=d.tail;if(On(r,o,d.children,u),d=_n.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&fS(r,u,o);else if(r.tag===19)fS(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(lt(_n,d),g){case"forwards":for(u=o.child,g=null;u!==null;)r=u.alternate,r!==null&&fd(r)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),fy(o,!1,g,u,v);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(r=g.alternate,r!==null&&fd(r)===null){o.child=g;break}r=g.sibling,g.sibling=u,u=g,g=r}fy(o,!0,u,null,v);break;case"together":fy(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Mr(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),ma|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(gu(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,u=xr(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=xr(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function dy(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Xf(r)))}function WO(r,o,u){switch(o.tag){case 3:Ft(o,o.stateNode.containerInfo),sa(o,vn,r.memoizedState.cache),pu();break;case 27:case 5:Oe(o);break;case 4:Ft(o,o.stateNode.containerInfo);break;case 10:sa(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(ca(o),o.flags|=128,null):(u&o.child.childLanes)!==0?hS(r,o,u):(ca(o),r=Mr(r,o,u),r!==null?r.sibling:null);ca(o);break;case 19:var g=(r.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(gu(r,o,u,!1),d=(u&o.childLanes)!==0),g){if(d)return dS(r,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),lt(_n,_n.current),d)break;return null;case 22:case 23:return o.lanes=0,aS(r,o,u);case 24:sa(o,vn,r.memoizedState.cache)}return Mr(r,o,u)}function pS(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)Rn=!0;else{if(!dy(r,u)&&(o.flags&128)===0)return Rn=!1,WO(r,o,u);Rn=(r.flags&131072)!==0}else Rn=!1,ge&&(o.flags&1048576)!==0&&qw(o,Yf,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var d=o.elementType,g=d._init;if(d=g(d._payload),o.type=d,typeof d=="function")Tg(d)?(r=xo(d,r),o.tag=1,o=cS(null,o,d,r,u)):(o.tag=0,o=ay(null,o,d,r,u));else{if(d!=null){if(g=d.$$typeof,g===W){o.tag=11,o=iS(null,o,d,r,u);break t}else if(g===M){o.tag=14,o=sS(null,o,d,r,u);break t}}throw o=ft(d)||d,Error(i(306,o,""))}}return o;case 0:return ay(r,o,o.type,o.pendingProps,u);case 1:return d=o.type,g=xo(d,o.pendingProps),cS(r,o,d,g,u);case 3:t:{if(Ft(o,o.stateNode.containerInfo),r===null)throw Error(i(387));d=o.pendingProps;var v=o.memoizedState;g=v.element,Lg(r,o),Su(o,d,null,u);var A=o.memoizedState;if(d=A.cache,sa(o,vn,d),d!==v.cache&&kg(o,[vn],u,!0),Tu(),d=A.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=uS(r,o,d,u);break t}else if(d!==g){g=Ki(Error(i(424)),o),mu(g),o=uS(r,o,d,u);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Xe=ms(r.firstChild),li=o,ge=!0,_o=null,Bs=!0,u=$T(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(pu(),d===g){o=Mr(r,o,u);break t}On(r,o,d,u)}o=o.child}return o;case 26:return md(r,o),r===null?(u=vE(o.type,null,o.pendingProps,null))?o.memoizedState=u:ge||(u=o.type,r=o.pendingProps,d=kd(St.current).createElement(u),d[_t]=o,d[bt]=r,Ln(d,u,r),Le(d),o.stateNode=d):o.memoizedState=vE(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Oe(o),r===null&&ge&&(d=o.stateNode=mE(o.type,o.pendingProps,St.current),li=o,Bs=!0,g=Xe,_a(o.type)?(Gy=g,Xe=ms(d.firstChild)):Xe=g),On(r,o,o.pendingProps.children,u),md(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&ge&&((g=d=Xe)&&(d=_N(d,o.type,o.pendingProps,Bs),d!==null?(o.stateNode=d,li=o,Xe=ms(d.firstChild),Bs=!1,g=!0):g=!1),g||bo(o)),Oe(o),g=o.type,v=o.pendingProps,A=r!==null?r.memoizedProps:null,d=v.children,Hy(g,v)?d=null:A!==null&&Hy(g,A)&&(o.flags|=32),o.memoizedState!==null&&(g=Fg(r,o,VO,null,null,u),Wu._currentValue=g),md(r,o),On(r,o,d,u),o.child;case 6:return r===null&&ge&&((r=u=Xe)&&(u=bN(u,o.pendingProps,Bs),u!==null?(o.stateNode=u,li=o,Xe=null,r=!0):r=!1),r||bo(o)),null;case 13:return hS(r,o,u);case 4:return Ft(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=zl(o,null,d,u):On(r,o,d,u),o.child;case 11:return iS(r,o,o.type,o.pendingProps,u);case 7:return On(r,o,o.pendingProps,u),o.child;case 8:return On(r,o,o.pendingProps.children,u),o.child;case 12:return On(r,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,sa(o,o.type,d.value),On(r,o,d.children,u),o.child;case 9:return g=o.type._context,d=o.pendingProps.children,To(o),g=Hn(g),d=d(g),o.flags|=1,On(r,o,d,u),o.child;case 14:return sS(r,o,o.type,o.pendingProps,u);case 15:return rS(r,o,o.type,o.pendingProps,u);case 19:return dS(r,o,u);case 31:return d=o.pendingProps,u=o.mode,d={mode:d.mode,children:d.children},r===null?(u=gd(d,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=xr(r.child,d),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return aS(r,o,u);case 24:return To(o),d=Hn(vn),r===null?(g=Pg(),g===null&&(g=ke,v=Ig(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=u),g=v),o.memoizedState={parent:d,cache:g},Ng(o),sa(o,vn,g)):((r.lanes&u)!==0&&(Lg(r,o),Su(o,null,null,u),Tu()),g=r.memoizedState,v=o.memoizedState,g.parent!==d?(g={parent:d,cache:d},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),sa(o,vn,d)):(d=v.cache,sa(o,vn,d),d!==g.cache&&kg(o,[vn],u,!0))),On(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Pr(r){r.flags|=4}function mS(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!SE(o)){if(o=Zi.current,o!==null&&((oe&4194048)===oe?Us!==null:(oe&62914560)!==oe&&(oe&536870912)===0||o!==Us))throw bu=Og,Zw;r.flags|=8192}}function yd(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?We():536870912,r.lanes|=o,Wl|=o)}function ku(r,o){if(!ge)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Ue(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(o)for(var g=r.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=u,o}function $O(r,o,u){var d=o.pendingProps;switch(Ag(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(o),null;case 1:return Ue(o),null;case 3:return u=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Dr(vn),He(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(du(o)?Pr(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Gw())),Ue(o),null;case 26:return u=o.memoizedState,r===null?(Pr(o),u!==null?(Ue(o),mS(o,u)):(Ue(o),o.flags&=-16777217)):u?u!==r.memoizedState?(Pr(o),Ue(o),mS(o,u)):(Ue(o),o.flags&=-16777217):(r.memoizedProps!==d&&Pr(o),Ue(o),o.flags&=-16777217),null;case 27:tn(o),u=St.current;var g=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Pr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Ue(o),null}r=yt.current,du(o)?Ww(o):(r=mE(g,d,u),o.stateNode=r,Pr(o))}return Ue(o),null;case 5:if(tn(o),u=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Pr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Ue(o),null}if(r=yt.current,du(o))Ww(o);else{switch(g=kd(St.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?g.createElement(u,{is:d.is}):g.createElement(u)}}r[_t]=o,r[bt]=d;t:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break t;for(;g.sibling===null;){if(g.return===null||g.return===o)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=r;t:switch(Ln(r,u,d),u){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Pr(o)}}return Ue(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&Pr(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(r=St.current,du(o)){if(r=o.stateNode,u=o.memoizedProps,d=null,g=li,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}r[_t]=o,r=!!(r.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||lE(r.nodeValue,u)),r||bo(o)}else r=kd(r).createTextNode(d),r[_t]=o,o.stateNode=r}return Ue(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=du(o),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(i(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[_t]=o}else pu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ue(o),g=!1}else g=Gw(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(Ir(o),o):(Ir(o),null)}if(Ir(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=d!==null,r=r!==null&&r.memoizedState!==null,u){d=o.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==g&&(d.flags|=2048)}return u!==r&&u&&(o.child.flags|=8192),yd(o,o.updateQueue),Ue(o),null;case 4:return He(),r===null&&jy(o.stateNode.containerInfo),Ue(o),null;case 10:return Dr(o.type),Ue(o),null;case 19:if(ht(_n),g=o.memoizedState,g===null)return Ue(o),null;if(d=(o.flags&128)!==0,v=g.rendering,v===null)if(d)ku(g,!1);else{if(Qe!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(v=fd(r),v!==null){for(o.flags|=128,ku(g,!1),r=v.updateQueue,o.updateQueue=r,yd(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)Hw(u,r),u=u.sibling;return lt(_n,_n.current&1|2),o.child}r=r.sibling}g.tail!==null&&qe()>bd&&(o.flags|=128,d=!0,ku(g,!1),o.lanes=4194304)}else{if(!d)if(r=fd(v),r!==null){if(o.flags|=128,d=!0,r=r.updateQueue,o.updateQueue=r,yd(o,r),ku(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!ge)return Ue(o),null}else 2*qe()-g.renderingStartTime>bd&&u!==536870912&&(o.flags|=128,d=!0,ku(g,!1),o.lanes=4194304);g.isBackwards?(v.sibling=o.child,o.child=v):(r=g.last,r!==null?r.sibling=v:o.child=v,g.last=v)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=qe(),o.sibling=null,r=_n.current,lt(_n,d?r&1|2:r&1),o):(Ue(o),null);case 22:case 23:return Ir(o),Ug(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(Ue(o),o.subtreeFlags&6&&(o.flags|=8192)):Ue(o),u=o.updateQueue,u!==null&&yd(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),r!==null&&ht(So),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Dr(vn),Ue(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function GO(r,o){switch(Ag(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Dr(vn),He(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return tn(o),null;case 13:if(Ir(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));pu()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return ht(_n),null;case 4:return He(),null;case 10:return Dr(o.type),null;case 22:case 23:return Ir(o),Ug(),r!==null&&ht(So),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Dr(vn),null;case 25:return null;default:return null}}function gS(r,o){switch(Ag(o),o.tag){case 3:Dr(vn),He();break;case 26:case 27:case 5:tn(o);break;case 4:He();break;case 13:Ir(o);break;case 19:ht(_n);break;case 10:Dr(o.type);break;case 22:case 23:Ir(o),Ug(),r!==null&&ht(So);break;case 24:Dr(vn)}}function Iu(r,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&r)===r){d=void 0;var v=u.create,A=u.inst;d=v(),A.destroy=d}u=u.next}while(u!==g)}}catch(k){Ce(o,o.return,k)}}function ha(r,o,u){try{var d=o.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var v=g.next;d=v;do{if((d.tag&r)===r){var A=d.inst,k=A.destroy;if(k!==void 0){A.destroy=void 0,g=o;var F=u,Q=k;try{Q()}catch(st){Ce(g,F,st)}}}d=d.next}while(d!==v)}}catch(st){Ce(o,o.return,st)}}function yS(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{sT(o,u)}catch(d){Ce(r,r.return,d)}}}function vS(r,o,u){u.props=xo(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(d){Ce(r,o,d)}}function Mu(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof u=="function"?r.refCleanup=u(d):u.current=d}}catch(g){Ce(r,o,g)}}function zs(r,o){var u=r.ref,d=r.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(g){Ce(r,o,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){Ce(r,o,g)}else u.current=null}function _S(r){var o=r.type,u=r.memoizedProps,d=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break t;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(g){Ce(r,r.return,g)}}function py(r,o,u){try{var d=r.stateNode;pN(d,r.type,u,o),d[bt]=o}catch(g){Ce(r,r.return,g)}}function bS(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&_a(r.type)||r.tag===4}function my(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||bS(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&_a(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function gy(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Dd));else if(d!==4&&(d===27&&_a(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(gy(r,o,u),r=r.sibling;r!==null;)gy(r,o,u),r=r.sibling}function vd(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(d!==4&&(d===27&&_a(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(vd(r,o,u),r=r.sibling;r!==null;)vd(r,o,u),r=r.sibling}function wS(r){var o=r.stateNode,u=r.memoizedProps;try{for(var d=r.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);Ln(o,d,u),o[_t]=r,o[bt]=u}catch(v){Ce(r,r.return,v)}}var Or=!1,nn=!1,yy=!1,TS=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function KO(r,o){if(r=r.containerInfo,zy=Ld,r=Pw(r),mg(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break t}var A=0,k=-1,F=-1,Q=0,st=0,at=r,Z=null;e:for(;;){for(var J;at!==u||g!==0&&at.nodeType!==3||(k=A+g),at!==v||d!==0&&at.nodeType!==3||(F=A+d),at.nodeType===3&&(A+=at.nodeValue.length),(J=at.firstChild)!==null;)Z=at,at=J;for(;;){if(at===r)break e;if(Z===u&&++Q===g&&(k=A),Z===v&&++st===d&&(F=A),(J=at.nextSibling)!==null)break;at=Z,Z=at.parentNode}at=J}u=k===-1||F===-1?null:{start:k,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(Fy={focusedElem:r,selectionRange:u},Ld=!1,Cn=o;Cn!==null;)if(o=Cn,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,Cn=r;else for(;Cn!==null;){switch(o=Cn,v=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,u=o,g=v.memoizedProps,v=v.memoizedState,d=u.stateNode;try{var Vt=xo(u.type,g,u.elementType===u.type);r=d.getSnapshotBeforeUpdate(Vt,v),d.__reactInternalSnapshotBeforeUpdate=r}catch(Dt){Ce(u,u.return,Dt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)Wy(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Wy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,Cn=r;break}Cn=o.return}}function SS(r,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:fa(r,u),d&4&&Iu(5,u);break;case 1:if(fa(r,u),d&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(A){Ce(u,u.return,A)}else{var g=xo(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(g,o,r.__reactInternalSnapshotBeforeUpdate)}catch(A){Ce(u,u.return,A)}}d&64&&yS(u),d&512&&Mu(u,u.return);break;case 3:if(fa(r,u),d&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{sT(r,o)}catch(A){Ce(u,u.return,A)}}break;case 27:o===null&&d&4&&wS(u);case 26:case 5:fa(r,u),o===null&&d&4&&_S(u),d&512&&Mu(u,u.return);break;case 12:fa(r,u);break;case 13:fa(r,u),d&4&&AS(r,u),d&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=iN.bind(null,u),wN(r,u))));break;case 22:if(d=u.memoizedState!==null||Or,!d){o=o!==null&&o.memoizedState!==null||nn,g=Or;var v=nn;Or=d,(nn=o)&&!v?da(r,u,(u.subtreeFlags&8772)!==0):fa(r,u),Or=g,nn=v}break;case 30:break;default:fa(r,u)}}function ES(r){var o=r.alternate;o!==null&&(r.alternate=null,ES(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&ue(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ve=null,yi=!1;function Nr(r,o,u){for(u=u.child;u!==null;)xS(r,o,u),u=u.sibling}function xS(r,o,u){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(it,u)}catch{}switch(u.tag){case 26:nn||zs(u,o),Nr(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:nn||zs(u,o);var d=Ve,g=yi;_a(u.type)&&(Ve=u.stateNode,yi=!1),Nr(r,o,u),zu(u.stateNode),Ve=d,yi=g;break;case 5:nn||zs(u,o);case 6:if(d=Ve,g=yi,Ve=null,Nr(r,o,u),Ve=d,yi=g,Ve!==null)if(yi)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(u.stateNode)}catch(v){Ce(u,o,v)}else try{Ve.removeChild(u.stateNode)}catch(v){Ce(u,o,v)}break;case 18:Ve!==null&&(yi?(r=Ve,dE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),Yu(r)):dE(Ve,u.stateNode));break;case 4:d=Ve,g=yi,Ve=u.stateNode.containerInfo,yi=!0,Nr(r,o,u),Ve=d,yi=g;break;case 0:case 11:case 14:case 15:nn||ha(2,u,o),nn||ha(4,u,o),Nr(r,o,u);break;case 1:nn||(zs(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&vS(u,o,d)),Nr(r,o,u);break;case 21:Nr(r,o,u);break;case 22:nn=(d=nn)||u.memoizedState!==null,Nr(r,o,u),nn=d;break;default:Nr(r,o,u)}}function AS(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Yu(r)}catch(u){Ce(o,o.return,u)}}function YO(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new TS),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new TS),o;default:throw Error(i(435,r.tag))}}function vy(r,o){var u=YO(r);o.forEach(function(d){var g=sN.bind(null,r,d);u.has(d)||(u.add(d),d.then(g,g))})}function Di(r,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var g=u[d],v=r,A=o,k=A;t:for(;k!==null;){switch(k.tag){case 27:if(_a(k.type)){Ve=k.stateNode,yi=!1;break t}break;case 5:Ve=k.stateNode,yi=!1;break t;case 3:case 4:Ve=k.stateNode.containerInfo,yi=!0;break t}k=k.return}if(Ve===null)throw Error(i(160));xS(v,A,g),Ve=null,yi=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)RS(o,r),o=o.sibling}var ps=null;function RS(r,o){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Di(o,r),ki(r),d&4&&(ha(3,r,r.return),Iu(3,r),ha(5,r,r.return));break;case 1:Di(o,r),ki(r),d&512&&(nn||u===null||zs(u,u.return)),d&64&&Or&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var g=ps;if(Di(o,r),ki(r),d&512&&(nn||u===null||zs(u,u.return)),d&4){var v=u!==null?u.memoizedState:null;if(d=r.memoizedState,u===null)if(d===null)if(r.stateNode===null){t:{d=r.type,u=r.memoizedProps,g=g.ownerDocument||g;e:switch(d){case"title":v=g.getElementsByTagName("title")[0],(!v||v[ln]||v[_t]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(d),g.head.insertBefore(v,g.querySelector("head > title"))),Ln(v,d,u),v[_t]=r,Le(v),d=v;break t;case"link":var A=wE("link","href",g).get(d+(u.href||""));if(A){for(var k=0;k<A.length;k++)if(v=A[k],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(k,1);break e}}v=g.createElement(d),Ln(v,d,u),g.head.appendChild(v);break;case"meta":if(A=wE("meta","content",g).get(d+(u.content||""))){for(k=0;k<A.length;k++)if(v=A[k],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(k,1);break e}}v=g.createElement(d),Ln(v,d,u),g.head.appendChild(v);break;default:throw Error(i(468,d))}v[_t]=r,Le(v),d=v}r.stateNode=d}else TE(g,r.type,r.stateNode);else r.stateNode=bE(g,d,r.memoizedProps);else v!==d?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,d===null?TE(g,r.type,r.stateNode):bE(g,d,r.memoizedProps)):d===null&&r.stateNode!==null&&py(r,r.memoizedProps,u.memoizedProps)}break;case 27:Di(o,r),ki(r),d&512&&(nn||u===null||zs(u,u.return)),u!==null&&d&4&&py(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Di(o,r),ki(r),d&512&&(nn||u===null||zs(u,u.return)),r.flags&32){g=r.stateNode;try{qi(g,"")}catch(J){Ce(r,r.return,J)}}d&4&&r.stateNode!=null&&(g=r.memoizedProps,py(r,g,u!==null?u.memoizedProps:g)),d&1024&&(yy=!0);break;case 6:if(Di(o,r),ki(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,u=r.stateNode;try{u.nodeValue=d}catch(J){Ce(r,r.return,J)}}break;case 3:if(Pd=null,g=ps,ps=Id(o.containerInfo),Di(o,r),ps=g,ki(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Yu(o.containerInfo)}catch(J){Ce(r,r.return,J)}yy&&(yy=!1,CS(r));break;case 4:d=ps,ps=Id(r.stateNode.containerInfo),Di(o,r),ki(r),ps=d;break;case 12:Di(o,r),ki(r);break;case 13:Di(o,r),ki(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ey=qe()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,vy(r,d)));break;case 22:g=r.memoizedState!==null;var F=u!==null&&u.memoizedState!==null,Q=Or,st=nn;if(Or=Q||g,nn=st||F,Di(o,r),nn=st,Or=Q,ki(r),d&8192)t:for(o=r.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(u===null||F||Or||nn||Ao(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){F=u=o;try{if(v=F.stateNode,g)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{k=F.stateNode;var at=F.memoizedProps.style,Z=at!=null&&at.hasOwnProperty("display")?at.display:null;k.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){Ce(F,F.return,J)}}}else if(o.tag===6){if(u===null){F=o;try{F.stateNode.nodeValue=g?"":F.memoizedProps}catch(J){Ce(F,F.return,J)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,vy(r,u))));break;case 19:Di(o,r),ki(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,vy(r,d)));break;case 30:break;case 21:break;default:Di(o,r),ki(r)}}function ki(r){var o=r.flags;if(o&2){try{for(var u,d=r.return;d!==null;){if(bS(d)){u=d;break}d=d.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var g=u.stateNode,v=my(r);vd(r,v,g);break;case 5:var A=u.stateNode;u.flags&32&&(qi(A,""),u.flags&=-33);var k=my(r);vd(r,k,A);break;case 3:case 4:var F=u.stateNode.containerInfo,Q=my(r);gy(r,Q,F);break;default:throw Error(i(161))}}catch(st){Ce(r,r.return,st)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function CS(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;CS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function fa(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)SS(r,o.alternate,o),o=o.sibling}function Ao(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:ha(4,o,o.return),Ao(o);break;case 1:zs(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&vS(o,o.return,u),Ao(o);break;case 27:zu(o.stateNode);case 26:case 5:zs(o,o.return),Ao(o);break;case 22:o.memoizedState===null&&Ao(o);break;case 30:Ao(o);break;default:Ao(o)}r=r.sibling}}function da(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,g=r,v=o,A=v.flags;switch(v.tag){case 0:case 11:case 15:da(g,v,u),Iu(4,v);break;case 1:if(da(g,v,u),d=v,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Q){Ce(d,d.return,Q)}if(d=v,g=d.updateQueue,g!==null){var k=d.stateNode;try{var F=g.shared.hiddenCallbacks;if(F!==null)for(g.shared.hiddenCallbacks=null,g=0;g<F.length;g++)iT(F[g],k)}catch(Q){Ce(d,d.return,Q)}}u&&A&64&&yS(v),Mu(v,v.return);break;case 27:wS(v);case 26:case 5:da(g,v,u),u&&d===null&&A&4&&_S(v),Mu(v,v.return);break;case 12:da(g,v,u);break;case 13:da(g,v,u),u&&A&4&&AS(g,v);break;case 22:v.memoizedState===null&&da(g,v,u),Mu(v,v.return);break;case 30:break;default:da(g,v,u)}o=o.sibling}}function _y(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&yu(u))}function by(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&yu(r))}function Fs(r,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)DS(r,o,u,d),o=o.sibling}function DS(r,o,u,d){var g=o.flags;switch(o.tag){case 0:case 11:case 15:Fs(r,o,u,d),g&2048&&Iu(9,o);break;case 1:Fs(r,o,u,d);break;case 3:Fs(r,o,u,d),g&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&yu(r)));break;case 12:if(g&2048){Fs(r,o,u,d),r=o.stateNode;try{var v=o.memoizedProps,A=v.id,k=v.onPostCommit;typeof k=="function"&&k(A,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(F){Ce(o,o.return,F)}}else Fs(r,o,u,d);break;case 13:Fs(r,o,u,d);break;case 23:break;case 22:v=o.stateNode,A=o.alternate,o.memoizedState!==null?v._visibility&2?Fs(r,o,u,d):Pu(r,o):v._visibility&2?Fs(r,o,u,d):(v._visibility|=2,Fl(r,o,u,d,(o.subtreeFlags&10256)!==0)),g&2048&&_y(A,o);break;case 24:Fs(r,o,u,d),g&2048&&by(o.alternate,o);break;default:Fs(r,o,u,d)}}function Fl(r,o,u,d,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=r,A=o,k=u,F=d,Q=A.flags;switch(A.tag){case 0:case 11:case 15:Fl(v,A,k,F,g),Iu(8,A);break;case 23:break;case 22:var st=A.stateNode;A.memoizedState!==null?st._visibility&2?Fl(v,A,k,F,g):Pu(v,A):(st._visibility|=2,Fl(v,A,k,F,g)),g&&Q&2048&&_y(A.alternate,A);break;case 24:Fl(v,A,k,F,g),g&&Q&2048&&by(A.alternate,A);break;default:Fl(v,A,k,F,g)}o=o.sibling}}function Pu(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,d=o,g=d.flags;switch(d.tag){case 22:Pu(u,d),g&2048&&_y(d.alternate,d);break;case 24:Pu(u,d),g&2048&&by(d.alternate,d);break;default:Pu(u,d)}o=o.sibling}}var Ou=8192;function Hl(r){if(r.subtreeFlags&Ou)for(r=r.child;r!==null;)kS(r),r=r.sibling}function kS(r){switch(r.tag){case 26:Hl(r),r.flags&Ou&&r.memoizedState!==null&&ON(ps,r.memoizedState,r.memoizedProps);break;case 5:Hl(r);break;case 3:case 4:var o=ps;ps=Id(r.stateNode.containerInfo),Hl(r),ps=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=Ou,Ou=16777216,Hl(r),Ou=o):Hl(r));break;default:Hl(r)}}function IS(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Nu(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];Cn=d,PS(d,r)}IS(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)MS(r),r=r.sibling}function MS(r){switch(r.tag){case 0:case 11:case 15:Nu(r),r.flags&2048&&ha(9,r,r.return);break;case 3:Nu(r);break;case 12:Nu(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,_d(r)):Nu(r);break;default:Nu(r)}}function _d(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];Cn=d,PS(d,r)}IS(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:ha(8,o,o.return),_d(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,_d(o));break;default:_d(o)}r=r.sibling}}function PS(r,o){for(;Cn!==null;){var u=Cn;switch(u.tag){case 0:case 11:case 15:ha(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:yu(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,Cn=d;else t:for(u=r;Cn!==null;){d=Cn;var g=d.sibling,v=d.return;if(ES(d),d===u){Cn=null;break t}if(g!==null){g.return=v,Cn=g;break t}Cn=v}}}var XO={getCacheForType:function(r){var o=Hn(vn),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u}},QO=typeof WeakMap=="function"?WeakMap:Map,be=0,ke=null,Jt=null,oe=0,we=0,Ii=null,pa=!1,ql=!1,wy=!1,Lr=0,Qe=0,ma=0,Ro=0,Ty=0,Ji=0,Wl=0,Lu=null,vi=null,Sy=!1,Ey=0,bd=1/0,wd=null,ga=null,Nn=0,ya=null,$l=null,Gl=0,xy=0,Ay=null,OS=null,Vu=0,Ry=null;function Mi(){if((be&2)!==0&&oe!==0)return oe&-oe;if(K.T!==null){var r=Ol;return r!==0?r:Oy()}return Ke()}function NS(){Ji===0&&(Ji=(oe&536870912)===0||ge?ri():536870912);var r=Zi.current;return r!==null&&(r.flags|=32),Ji}function Pi(r,o,u){(r===ke&&(we===2||we===9)||r.cancelPendingCommit!==null)&&(Kl(r,0),va(r,oe,Ji,!1)),Ne(r,u),((be&2)===0||r!==ke)&&(r===ke&&((be&2)===0&&(Ro|=u),Qe===4&&va(r,oe,Ji,!1)),Hs(r))}function LS(r,o,u){if((be&6)!==0)throw Error(i(327));var d=!u&&(o&124)===0&&(o&r.expiredLanes)===0||pn(r,o),g=d?tN(r,o):ky(r,o,!0),v=d;do{if(g===0){ql&&!d&&va(r,o,0,!1);break}else{if(u=r.current.alternate,v&&!ZO(u)){g=ky(r,o,!1),v=!1;continue}if(g===2){if(v=o,r.errorRecoveryDisabledLanes&v)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;t:{var k=r;g=Lu;var F=k.current.memoizedState.isDehydrated;if(F&&(Kl(k,A).flags|=256),A=ky(k,A,!1),A!==2){if(wy&&!F){k.errorRecoveryDisabledLanes|=v,Ro|=v,g=4;break t}v=vi,vi=g,v!==null&&(vi===null?vi=v:vi.push.apply(vi,v))}g=A}if(v=!1,g!==2)continue}}if(g===1){Kl(r,0),va(r,o,0,!0);break}t:{switch(d=r,v=g,v){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:va(d,o,Ji,!pa);break t;case 2:vi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(g=Ey+300-qe(),10<g)){if(va(d,o,Ji,!pa),Be(d,0,!0)!==0)break t;d.timeoutHandle=hE(VS.bind(null,d,u,vi,wd,Sy,o,Ji,Ro,Wl,pa,v,2,-0,0),g);break t}VS(d,u,vi,wd,Sy,o,Ji,Ro,Wl,pa,v,0,-0,0)}}break}while(!0);Hs(r)}function VS(r,o,u,d,g,v,A,k,F,Q,st,at,Z,J){if(r.timeoutHandle=-1,at=o.subtreeFlags,(at&8192||(at&16785408)===16785408)&&(qu={stylesheets:null,count:0,unsuspend:PN},kS(o),at=NN(),at!==null)){r.cancelPendingCommit=at(qS.bind(null,r,o,v,u,d,g,A,k,F,st,1,Z,J)),va(r,v,A,!Q);return}qS(r,o,v,u,d,g,A,k,F)}function ZO(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var g=u[d],v=g.getSnapshot;g=g.value;try{if(!Ri(v(),g))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function va(r,o,u,d){o&=~Ty,o&=~Ro,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var g=o;0<g;){var v=31-Rt(g),A=1<<v;d[v]=-1,g&=~A}u!==0&&ce(r,u,o)}function Td(){return(be&6)===0?(ju(0),!1):!0}function Cy(){if(Jt!==null){if(we===0)var r=Jt.return;else r=Jt,Cr=wo=null,Wg(r),Ul=null,Cu=0,r=Jt;for(;r!==null;)gS(r.alternate,r),r=r.return;Jt=null}}function Kl(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,gN(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Cy(),ke=r,Jt=u=xr(r.current,null),oe=o,we=0,Ii=null,pa=!1,ql=pn(r,o),wy=!1,Wl=Ji=Ty=Ro=ma=Qe=0,vi=Lu=null,Sy=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var g=31-Rt(d),v=1<<g;o|=r[g],d&=~v}return Lr=o,qf(),u}function jS(r,o){Xt=null,K.H=cd,o===_u||o===Jf?(o=eT(),we=3):o===Zw?(o=eT(),we=4):we=o===nS?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ii=o,Jt===null&&(Qe=1,pd(r,Ki(o,r.current)))}function BS(){var r=K.H;return K.H=cd,r===null?cd:r}function US(){var r=K.A;return K.A=XO,r}function Dy(){Qe=4,pa||(oe&4194048)!==oe&&Zi.current!==null||(ql=!0),(ma&134217727)===0&&(Ro&134217727)===0||ke===null||va(ke,oe,Ji,!1)}function ky(r,o,u){var d=be;be|=2;var g=BS(),v=US();(ke!==r||oe!==o)&&(wd=null,Kl(r,o)),o=!1;var A=Qe;t:do try{if(we!==0&&Jt!==null){var k=Jt,F=Ii;switch(we){case 8:Cy(),A=6;break t;case 3:case 2:case 9:case 6:Zi.current===null&&(o=!0);var Q=we;if(we=0,Ii=null,Yl(r,k,F,Q),u&&ql){A=0;break t}break;default:Q=we,we=0,Ii=null,Yl(r,k,F,Q)}}JO(),A=Qe;break}catch(st){jS(r,st)}while(!0);return o&&r.shellSuspendCounter++,Cr=wo=null,be=d,K.H=g,K.A=v,Jt===null&&(ke=null,oe=0,qf()),A}function JO(){for(;Jt!==null;)zS(Jt)}function tN(r,o){var u=be;be|=2;var d=BS(),g=US();ke!==r||oe!==o?(wd=null,bd=qe()+500,Kl(r,o)):ql=pn(r,o);t:do try{if(we!==0&&Jt!==null){o=Jt;var v=Ii;e:switch(we){case 1:we=0,Ii=null,Yl(r,o,v,1);break;case 2:case 9:if(Jw(v)){we=0,Ii=null,FS(o);break}o=function(){we!==2&&we!==9||ke!==r||(we=7),Hs(r)},v.then(o,o);break t;case 3:we=7;break t;case 4:we=5;break t;case 7:Jw(v)?(we=0,Ii=null,FS(o)):(we=0,Ii=null,Yl(r,o,v,7));break;case 5:var A=null;switch(Jt.tag){case 26:A=Jt.memoizedState;case 5:case 27:var k=Jt;if(!A||SE(A)){we=0,Ii=null;var F=k.sibling;if(F!==null)Jt=F;else{var Q=k.return;Q!==null?(Jt=Q,Sd(Q)):Jt=null}break e}}we=0,Ii=null,Yl(r,o,v,5);break;case 6:we=0,Ii=null,Yl(r,o,v,6);break;case 8:Cy(),Qe=6;break t;default:throw Error(i(462))}}eN();break}catch(st){jS(r,st)}while(!0);return Cr=wo=null,K.H=d,K.A=g,be=u,Jt!==null?0:(ke=null,oe=0,qf(),Qe)}function eN(){for(;Jt!==null&&!De();)zS(Jt)}function zS(r){var o=pS(r.alternate,r,Lr);r.memoizedProps=r.pendingProps,o===null?Sd(r):Jt=o}function FS(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=lS(u,o,o.pendingProps,o.type,void 0,oe);break;case 11:o=lS(u,o,o.pendingProps,o.type.render,o.ref,oe);break;case 5:Wg(o);default:gS(u,o),o=Jt=Hw(o,Lr),o=pS(u,o,Lr)}r.memoizedProps=r.pendingProps,o===null?Sd(r):Jt=o}function Yl(r,o,u,d){Cr=wo=null,Wg(o),Ul=null,Cu=0;var g=o.return;try{if(qO(r,g,o,u,oe)){Qe=1,pd(r,Ki(u,r.current)),Jt=null;return}}catch(v){if(g!==null)throw Jt=g,v;Qe=1,pd(r,Ki(u,r.current)),Jt=null;return}o.flags&32768?(ge||d===1?r=!0:ql||(oe&536870912)!==0?r=!1:(pa=r=!0,(d===2||d===9||d===3||d===6)&&(d=Zi.current,d!==null&&d.tag===13&&(d.flags|=16384))),HS(o,r)):Sd(o)}function Sd(r){var o=r;do{if((o.flags&32768)!==0){HS(o,pa);return}r=o.return;var u=$O(o.alternate,o,Lr);if(u!==null){Jt=u;return}if(o=o.sibling,o!==null){Jt=o;return}Jt=o=r}while(o!==null);Qe===0&&(Qe=5)}function HS(r,o){do{var u=GO(r.alternate,r);if(u!==null){u.flags&=32767,Jt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){Jt=r;return}Jt=r=u}while(r!==null);Qe=6,Jt=null}function qS(r,o,u,d,g,v,A,k,F){r.cancelPendingCommit=null;do Ed();while(Nn!==0);if((be&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(v=o.lanes|o.childLanes,v|=bg,$e(r,u,v,A,k,F),r===ke&&(Jt=ke=null,oe=0),$l=o,ya=r,Gl=u,xy=v,Ay=g,OS=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,rN(si,function(){return YS(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=K.T,K.T=null,g=et.p,et.p=2,A=be,be|=4;try{KO(r,o,u)}finally{be=A,et.p=g,K.T=d}}Nn=1,WS(),$S(),GS()}}function WS(){if(Nn===1){Nn=0;var r=ya,o=$l,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=K.T,K.T=null;var d=et.p;et.p=2;var g=be;be|=4;try{RS(o,r);var v=Fy,A=Pw(r.containerInfo),k=v.focusedElem,F=v.selectionRange;if(A!==k&&k&&k.ownerDocument&&Mw(k.ownerDocument.documentElement,k)){if(F!==null&&mg(k)){var Q=F.start,st=F.end;if(st===void 0&&(st=Q),"selectionStart"in k)k.selectionStart=Q,k.selectionEnd=Math.min(st,k.value.length);else{var at=k.ownerDocument||document,Z=at&&at.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),Vt=k.textContent.length,Dt=Math.min(F.start,Vt),Ae=F.end===void 0?Dt:Math.min(F.end,Vt);!J.extend&&Dt>Ae&&(A=Ae,Ae=Dt,Dt=A);var G=Iw(k,Dt),q=Iw(k,Ae);if(G&&q&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==q.node||J.focusOffset!==q.offset)){var X=at.createRange();X.setStart(G.node,G.offset),J.removeAllRanges(),Dt>Ae?(J.addRange(X),J.extend(q.node,q.offset)):(X.setEnd(q.node,q.offset),J.addRange(X))}}}}for(at=[],J=k;J=J.parentNode;)J.nodeType===1&&at.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<at.length;k++){var rt=at[k];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}Ld=!!zy,Fy=zy=null}finally{be=g,et.p=d,K.T=u}}r.current=o,Nn=2}}function $S(){if(Nn===2){Nn=0;var r=ya,o=$l,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=K.T,K.T=null;var d=et.p;et.p=2;var g=be;be|=4;try{SS(r,o.alternate,o)}finally{be=g,et.p=d,K.T=u}}Nn=3}}function GS(){if(Nn===4||Nn===3){Nn=0,us();var r=ya,o=$l,u=Gl,d=OS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Nn=5:(Nn=0,$l=ya=null,KS(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(ga=null),$t(u),o=o.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(it,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=K.T,g=et.p,et.p=2,K.T=null;try{for(var v=r.onRecoverableError,A=0;A<d.length;A++){var k=d[A];v(k.value,{componentStack:k.stack})}}finally{K.T=o,et.p=g}}(Gl&3)!==0&&Ed(),Hs(r),g=r.pendingLanes,(u&4194090)!==0&&(g&42)!==0?r===Ry?Vu++:(Vu=0,Ry=r):Vu=0,ju(0)}}function KS(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,yu(o)))}function Ed(r){return WS(),$S(),GS(),YS()}function YS(){if(Nn!==5)return!1;var r=ya,o=xy;xy=0;var u=$t(Gl),d=K.T,g=et.p;try{et.p=32>u?32:u,K.T=null,u=Ay,Ay=null;var v=ya,A=Gl;if(Nn=0,$l=ya=null,Gl=0,(be&6)!==0)throw Error(i(331));var k=be;if(be|=4,MS(v.current),DS(v,v.current,A,u),be=k,ju(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(it,v)}catch{}return!0}finally{et.p=g,K.T=d,KS(r,o)}}function XS(r,o,u){o=Ki(u,o),o=ry(r.stateNode,o,2),r=oa(r,o,2),r!==null&&(Ne(r,2),Hs(r))}function Ce(r,o,u){if(r.tag===3)XS(r,r,u);else for(;o!==null;){if(o.tag===3){XS(o,r,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ga===null||!ga.has(d))){r=Ki(u,r),u=tS(2),d=oa(o,u,2),d!==null&&(eS(u,d,o,r),Ne(d,2),Hs(d));break}}o=o.return}}function Iy(r,o,u){var d=r.pingCache;if(d===null){d=r.pingCache=new QO;var g=new Set;d.set(o,g)}else g=d.get(o),g===void 0&&(g=new Set,d.set(o,g));g.has(u)||(wy=!0,g.add(u),r=nN.bind(null,r,o,u),o.then(r,r))}function nN(r,o,u){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,ke===r&&(oe&u)===u&&(Qe===4||Qe===3&&(oe&62914560)===oe&&300>qe()-Ey?(be&2)===0&&Kl(r,0):Ty|=u,Wl===oe&&(Wl=0)),Hs(r)}function QS(r,o){o===0&&(o=We()),r=kl(r,o),r!==null&&(Ne(r,o),Hs(r))}function iN(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),QS(r,u)}function sN(r,o){var u=0;switch(r.tag){case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(u=g.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),QS(r,u)}function rN(r,o){return Sn(r,o)}var xd=null,Xl=null,My=!1,Ad=!1,Py=!1,Co=0;function Hs(r){r!==Xl&&r.next===null&&(Xl===null?xd=Xl=r:Xl=Xl.next=r),Ad=!0,My||(My=!0,oN())}function ju(r,o){if(!Py&&Ad){Py=!0;do for(var u=!1,d=xd;d!==null;){if(r!==0){var g=d.pendingLanes;if(g===0)var v=0;else{var A=d.suspendedLanes,k=d.pingedLanes;v=(1<<31-Rt(42|r)+1)-1,v&=g&~(A&~k),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,eE(d,v))}else v=oe,v=Be(d,d===ke?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||pn(d,v)||(u=!0,eE(d,v));d=d.next}while(u);Py=!1}}function aN(){ZS()}function ZS(){Ad=My=!1;var r=0;Co!==0&&(mN()&&(r=Co),Co=0);for(var o=qe(),u=null,d=xd;d!==null;){var g=d.next,v=JS(d,o);v===0?(d.next=null,u===null?xd=g:u.next=g,g===null&&(Xl=u)):(u=d,(r!==0||(v&3)!==0)&&(Ad=!0)),d=g}ju(r)}function JS(r,o){for(var u=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var A=31-Rt(v),k=1<<A,F=g[A];F===-1?((k&u)===0||(k&d)!==0)&&(g[A]=fi(k,o)):F<=o&&(r.expiredLanes|=k),v&=~k}if(o=ke,u=oe,u=Be(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,u===0||r===o&&(we===2||we===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&ni(d),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||pn(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(d!==null&&ni(d),$t(u)){case 2:case 8:u=ii;break;case 32:u=si;break;case 268435456:u=hi;break;default:u=si}return d=tE.bind(null,r),u=Sn(u,d),r.callbackPriority=o,r.callbackNode=u,o}return d!==null&&d!==null&&ni(d),r.callbackPriority=2,r.callbackNode=null,2}function tE(r,o){if(Nn!==0&&Nn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Ed()&&r.callbackNode!==u)return null;var d=oe;return d=Be(r,r===ke?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(LS(r,d,o),JS(r,qe()),r.callbackNode!=null&&r.callbackNode===u?tE.bind(null,r):null)}function eE(r,o){if(Ed())return null;LS(r,o,!0)}function oN(){yN(function(){(be&6)!==0?Sn(fe,aN):ZS()})}function Oy(){return Co===0&&(Co=ri()),Co}function nE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:vl(""+r)}function iE(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function lN(r,o,u,d,g){if(o==="submit"&&u&&u.stateNode===g){var v=nE((g[bt]||null).action),A=d.submitter;A&&(o=(o=A[bt]||null)?nE(o.formAction):A.getAttribute("formAction"),o!==null&&(v=o,A=null));var k=new _l("action","action",null,d,g);r.push({event:k,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Co!==0){var F=A?iE(g,A):new FormData(g);ty(u,{pending:!0,data:F,method:g.method,action:v},null,F)}}else typeof v=="function"&&(k.preventDefault(),F=A?iE(g,A):new FormData(g),ty(u,{pending:!0,data:F,method:g.method,action:v},v,F))},currentTarget:g}]})}}for(var Ny=0;Ny<_g.length;Ny++){var Ly=_g[Ny],cN=Ly.toLowerCase(),uN=Ly[0].toUpperCase()+Ly.slice(1);ds(cN,"on"+uN)}ds(Lw,"onAnimationEnd"),ds(Vw,"onAnimationIteration"),ds(jw,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(RO,"onTransitionRun"),ds(CO,"onTransitionStart"),ds(DO,"onTransitionCancel"),ds(Bw,"onTransitionEnd"),Yt("onMouseEnter",["mouseout","mouseover"]),Yt("onMouseLeave",["mouseout","mouseover"]),Yt("onPointerEnter",["pointerout","pointerover"]),Yt("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bu));function sE(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],g=d.event;d=d.listeners;t:{var v=void 0;if(o)for(var A=d.length-1;0<=A;A--){var k=d[A],F=k.instance,Q=k.currentTarget;if(k=k.listener,F!==v&&g.isPropagationStopped())break t;v=k,g.currentTarget=Q;try{v(g)}catch(st){dd(st)}g.currentTarget=null,v=F}else for(A=0;A<d.length;A++){if(k=d[A],F=k.instance,Q=k.currentTarget,k=k.listener,F!==v&&g.isPropagationStopped())break t;v=k,g.currentTarget=Q;try{v(g)}catch(st){dd(st)}g.currentTarget=null,v=F}}}}function te(r,o){var u=o[Ye];u===void 0&&(u=o[Ye]=new Set);var d=r+"__bubble";u.has(d)||(rE(o,r,2,!1),u.add(d))}function Vy(r,o,u){var d=0;o&&(d|=4),rE(u,r,d,o)}var Rd="_reactListening"+Math.random().toString(36).slice(2);function jy(r){if(!r[Rd]){r[Rd]=!0,ta.forEach(function(u){u!=="selectionchange"&&(hN.has(u)||Vy(u,!1,r),Vy(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Rd]||(o[Rd]=!0,Vy("selectionchange",!1,o))}}function rE(r,o,u,d){switch(DE(o)){case 2:var g=jN;break;case 8:g=BN;break;default:g=Zy}u=g.bind(null,o,u,r),g=void 0,!$i||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(o,u,{capture:!0,passive:g}):r.addEventListener(o,u,!0):g!==void 0?r.addEventListener(o,u,{passive:g}):r.addEventListener(o,u,!1)}function By(r,o,u,d,g){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)t:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var k=d.stateNode.containerInfo;if(k===g)break;if(A===4)for(A=d.return;A!==null;){var F=A.tag;if((F===3||F===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;k!==null;){if(A=Fn(k),A===null)return;if(F=A.tag,F===5||F===6||F===26||F===27){d=v=A;continue t}k=k.parentNode}}d=d.return}Df(function(){var Q=v,st=Wi(u),at=[];t:{var Z=Uw.get(r);if(Z!==void 0){var J=_l,Vt=r;switch(r){case"keypress":if(Os(u)===0)break t;case"keydown":case"keyup":J=xl;break;case"focusin":Vt="focus",J=Tl;break;case"focusout":Vt="blur",J=Tl;break;case"beforeblur":case"afterblur":J=Tl;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=hg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Vf;break;case Lw:case Vw:case jw:J=Sl;break;case Bw:J=Bf;break;case"scroll":case"scrollend":J=kf;break;case"wheel":J=Al;break;case"copy":case"cut":case"paste":J=El;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=cu;break;case"toggle":case"beforetoggle":J=zf}var Dt=(o&4)!==0,Ae=!Dt&&(r==="scroll"||r==="scrollend"),G=Dt?Z!==null?Z+"Capture":null:Z;Dt=[];for(var q=Q,X;q!==null;){var rt=q;if(X=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||X===null||G===null||(rt=ao(q,G),rt!=null&&Dt.push(Uu(q,rt,X))),Ae)break;q=q.return}0<Dt.length&&(Z=new J(Z,Vt,null,u,st),at.push({event:Z,listeners:Dt}))}}if((o&7)===0){t:{if(Z=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",Z&&u!==_r&&(Vt=u.relatedTarget||u.fromElement)&&(Fn(Vt)||Vt[de]))break t;if((J||Z)&&(Z=st.window===st?st:(Z=st.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(Vt=u.relatedTarget||u.toElement,J=Q,Vt=Vt?Fn(Vt):null,Vt!==null&&(Ae=a(Vt),Dt=Vt.tag,Vt!==Ae||Dt!==5&&Dt!==27&&Dt!==6)&&(Vt=null)):(J=null,Vt=Q),J!==Vt)){if(Dt=Gi,rt="onMouseLeave",G="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(Dt=cu,rt="onPointerLeave",G="onPointerEnter",q="pointer"),Ae=J==null?Z:Fi(J),X=Vt==null?Z:Fi(Vt),Z=new Dt(rt,q+"leave",J,u,st),Z.target=Ae,Z.relatedTarget=X,rt=null,Fn(st)===Q&&(Dt=new Dt(G,q+"enter",Vt,u,st),Dt.target=X,Dt.relatedTarget=Ae,rt=Dt),Ae=rt,J&&Vt)e:{for(Dt=J,G=Vt,q=0,X=Dt;X;X=Ql(X))q++;for(X=0,rt=G;rt;rt=Ql(rt))X++;for(;0<q-X;)Dt=Ql(Dt),q--;for(;0<X-q;)G=Ql(G),X--;for(;q--;){if(Dt===G||G!==null&&Dt===G.alternate)break e;Dt=Ql(Dt),G=Ql(G)}Dt=null}else Dt=null;J!==null&&aE(at,Z,J,Dt,!1),Vt!==null&&Ae!==null&&aE(at,Ae,Vt,Dt,!0)}}t:{if(Z=Q?Fi(Q):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var wt=xw;else if(yn(Z))if(Aw)wt=EO;else{wt=TO;var Zt=wO}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Q&&nu(Q.elementType)&&(wt=xw):wt=SO;if(wt&&(wt=wt(r,Q))){Er(at,wt,u,st);break t}Zt&&Zt(r,Z,Q),r==="focusout"&&Q&&Z.type==="number"&&Q.memoizedProps.value!=null&&na(Z,"number",Z.value)}switch(Zt=Q?Fi(Q):window,r){case"focusin":(yn(Zt)||Zt.contentEditable==="true")&&(Rl=Zt,gg=Q,fu=null);break;case"focusout":fu=gg=Rl=null;break;case"mousedown":yg=!0;break;case"contextmenu":case"mouseup":case"dragend":yg=!1,Ow(at,u,st);break;case"selectionchange":if(AO)break;case"keydown":case"keyup":Ow(at,u,st)}var At;if(Vs)t:{switch(r){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else re?tt(r,u)&&(Mt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Mt="onCompositionStart");Mt&&(x&&u.locale!=="ko"&&(re||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&re&&(At=su()):(Ps=st,ia="value"in Ps?Ps.value:Ps.textContent,re=!0)),Zt=Cd(Q,Mt),0<Zt.length&&(Mt=new ou(Mt,r,null,u,st),at.push({event:Mt,listeners:Zt}),At?Mt.data=At:(At=mt(u),At!==null&&(Mt.data=At)))),(At=w?gn(r,u):ae(r,u))&&(Mt=Cd(Q,"onBeforeInput"),0<Mt.length&&(Zt=new ou("onBeforeInput","beforeinput",null,u,st),at.push({event:Zt,listeners:Mt}),Zt.data=At)),lN(at,r,Q,u,st)}sE(at,o)})}function Uu(r,o,u){return{instance:r,listener:o,currentTarget:u}}function Cd(r,o){for(var u=o+"Capture",d=[];r!==null;){var g=r,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=ao(r,u),g!=null&&d.unshift(Uu(r,g,v)),g=ao(r,o),g!=null&&d.push(Uu(r,g,v))),r.tag===3)return d;r=r.return}return[]}function Ql(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function aE(r,o,u,d,g){for(var v=o._reactName,A=[];u!==null&&u!==d;){var k=u,F=k.alternate,Q=k.stateNode;if(k=k.tag,F!==null&&F===d)break;k!==5&&k!==26&&k!==27||Q===null||(F=Q,g?(Q=ao(u,v),Q!=null&&A.unshift(Uu(u,Q,F))):g||(Q=ao(u,v),Q!=null&&A.push(Uu(u,Q,F)))),u=u.return}A.length!==0&&r.push({event:o,listeners:A})}var fN=/\r\n?/g,dN=/\u0000|\uFFFD/g;function oE(r){return(typeof r=="string"?r:""+r).replace(fN,`
`).replace(dN,"")}function lE(r,o){return o=oE(o),oE(r)===o}function Dd(){}function xe(r,o,u,d,g,v){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||qi(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&qi(r,""+d);break;case"className":Is(r,"class",d);break;case"tabIndex":Is(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Is(r,u,d);break;case"style":eu(r,d,v);break;case"data":if(o!=="object"){Is(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=vl(""+d),r.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(o!=="input"&&xe(r,o,"name",g.name,g,null),xe(r,o,"formEncType",g.formEncType,g,null),xe(r,o,"formMethod",g.formMethod,g,null),xe(r,o,"formTarget",g.formTarget,g,null)):(xe(r,o,"encType",g.encType,g,null),xe(r,o,"method",g.method,g,null),xe(r,o,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=vl(""+d),r.setAttribute(u,d);break;case"onClick":d!=null&&(r.onclick=Dd);break;case"onScroll":d!=null&&te("scroll",r);break;case"onScrollEnd":d!=null&&te("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}u=vl(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""+d):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":d===!0?r.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,d):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(u,d):r.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(u):r.setAttribute(u,d);break;case"popover":te("beforetoggle",r),te("toggle",r),Hi(r,"popover",d);break;case"xlinkActuate":Mn(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Mn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Mn(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Mn(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Mn(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Mn(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Mn(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Mn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Mn(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Hi(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=cg.get(u)||u,Hi(r,u,d))}}function Uy(r,o,u,d,g,v){switch(u){case"style":eu(r,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof d=="string"?qi(r,d):(typeof d=="number"||typeof d=="bigint")&&qi(r,""+d);break;case"onScroll":d!=null&&te("scroll",r);break;case"onScrollEnd":d!=null&&te("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Dd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gr.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),o=u.slice(2,g?u.length-7:void 0),v=r[bt]||null,v=v!=null?v[u]:null,typeof v=="function"&&r.removeEventListener(o,v,g),typeof d=="function")){typeof v!="function"&&v!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,d,g);break t}u in r?r[u]=d:d===!0?r.setAttribute(u,""):Hi(r,u,d)}}}function Ln(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":te("error",r),te("load",r);var d=!1,g=!1,v;for(v in u)if(u.hasOwnProperty(v)){var A=u[v];if(A!=null)switch(v){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:xe(r,o,v,A,u,null)}}g&&xe(r,o,"srcSet",u.srcSet,u,null),d&&xe(r,o,"src",u.src,u,null);return;case"input":te("invalid",r);var k=v=A=g=null,F=null,Q=null;for(d in u)if(u.hasOwnProperty(d)){var st=u[d];if(st!=null)switch(d){case"name":g=st;break;case"type":A=st;break;case"checked":F=st;break;case"defaultChecked":Q=st;break;case"value":v=st;break;case"defaultValue":k=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,o));break;default:xe(r,o,d,st,u,null)}}io(r,v,k,F,Q,A,g,!1),yl(r);return;case"select":te("invalid",r),d=A=v=null;for(g in u)if(u.hasOwnProperty(g)&&(k=u[g],k!=null))switch(g){case"value":v=k;break;case"defaultValue":A=k;break;case"multiple":d=k;default:xe(r,o,g,k,u,null)}o=v,u=A,r.multiple=!!d,o!=null?vr(r,!!d,o,!1):u!=null&&vr(r,!!d,u,!0);return;case"textarea":te("invalid",r),v=g=d=null;for(A in u)if(u.hasOwnProperty(A)&&(k=u[A],k!=null))switch(A){case"value":d=k;break;case"defaultValue":g=k;break;case"children":v=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:xe(r,o,A,k,u,null)}so(r,d,g,v),yl(r);return;case"option":for(F in u)if(u.hasOwnProperty(F)&&(d=u[F],d!=null))switch(F){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:xe(r,o,F,d,u,null)}return;case"dialog":te("beforetoggle",r),te("toggle",r),te("cancel",r),te("close",r);break;case"iframe":case"object":te("load",r);break;case"video":case"audio":for(d=0;d<Bu.length;d++)te(Bu[d],r);break;case"image":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"embed":case"source":case"link":te("error",r),te("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in u)if(u.hasOwnProperty(Q)&&(d=u[Q],d!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:xe(r,o,Q,d,u,null)}return;default:if(nu(o)){for(st in u)u.hasOwnProperty(st)&&(d=u[st],d!==void 0&&Uy(r,o,st,d,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(d=u[k],d!=null&&xe(r,o,k,d,u,null))}function pN(r,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,A=null,k=null,F=null,Q=null,st=null;for(J in u){var at=u[J];if(u.hasOwnProperty(J)&&at!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":F=at;default:d.hasOwnProperty(J)||xe(r,o,J,null,d,at)}}for(var Z in d){var J=d[Z];if(at=u[Z],d.hasOwnProperty(Z)&&(J!=null||at!=null))switch(Z){case"type":v=J;break;case"name":g=J;break;case"checked":Q=J;break;case"defaultChecked":st=J;break;case"value":A=J;break;case"defaultValue":k=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,o));break;default:J!==at&&xe(r,o,Z,J,d,at)}}Ai(r,A,k,F,Q,st,v,g);return;case"select":J=A=k=Z=null;for(v in u)if(F=u[v],u.hasOwnProperty(v)&&F!=null)switch(v){case"value":break;case"multiple":J=F;default:d.hasOwnProperty(v)||xe(r,o,v,null,d,F)}for(g in d)if(v=d[g],F=u[g],d.hasOwnProperty(g)&&(v!=null||F!=null))switch(g){case"value":Z=v;break;case"defaultValue":k=v;break;case"multiple":A=v;default:v!==F&&xe(r,o,g,v,d,F)}o=k,u=A,d=J,Z!=null?vr(r,!!u,Z,!1):!!d!=!!u&&(o!=null?vr(r,!!u,o,!0):vr(r,!!u,u?[]:"",!1));return;case"textarea":J=Z=null;for(k in u)if(g=u[k],u.hasOwnProperty(k)&&g!=null&&!d.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:xe(r,o,k,null,d,g)}for(A in d)if(g=d[A],v=u[A],d.hasOwnProperty(A)&&(g!=null||v!=null))switch(A){case"value":Z=g;break;case"defaultValue":J=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==v&&xe(r,o,A,g,d,v)}Se(r,Z,J);return;case"option":for(var Vt in u)if(Z=u[Vt],u.hasOwnProperty(Vt)&&Z!=null&&!d.hasOwnProperty(Vt))switch(Vt){case"selected":r.selected=!1;break;default:xe(r,o,Vt,null,d,Z)}for(F in d)if(Z=d[F],J=u[F],d.hasOwnProperty(F)&&Z!==J&&(Z!=null||J!=null))switch(F){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:xe(r,o,F,Z,d,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in u)Z=u[Dt],u.hasOwnProperty(Dt)&&Z!=null&&!d.hasOwnProperty(Dt)&&xe(r,o,Dt,null,d,Z);for(Q in d)if(Z=d[Q],J=u[Q],d.hasOwnProperty(Q)&&Z!==J&&(Z!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,o));break;default:xe(r,o,Q,Z,d,J)}return;default:if(nu(o)){for(var Ae in u)Z=u[Ae],u.hasOwnProperty(Ae)&&Z!==void 0&&!d.hasOwnProperty(Ae)&&Uy(r,o,Ae,void 0,d,Z);for(st in d)Z=d[st],J=u[st],!d.hasOwnProperty(st)||Z===J||Z===void 0&&J===void 0||Uy(r,o,st,Z,d,J);return}}for(var G in u)Z=u[G],u.hasOwnProperty(G)&&Z!=null&&!d.hasOwnProperty(G)&&xe(r,o,G,null,d,Z);for(at in d)Z=d[at],J=u[at],!d.hasOwnProperty(at)||Z===J||Z==null&&J==null||xe(r,o,at,Z,d,J)}var zy=null,Fy=null;function kd(r){return r.nodeType===9?r:r.ownerDocument}function cE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uE(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Hy(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var qy=null;function mN(){var r=window.event;return r&&r.type==="popstate"?r===qy?!1:(qy=r,!0):(qy=null,!1)}var hE=typeof setTimeout=="function"?setTimeout:void 0,gN=typeof clearTimeout=="function"?clearTimeout:void 0,fE=typeof Promise=="function"?Promise:void 0,yN=typeof queueMicrotask=="function"?queueMicrotask:typeof fE<"u"?function(r){return fE.resolve(null).then(r).catch(vN)}:hE;function vN(r){setTimeout(function(){throw r})}function _a(r){return r==="head"}function dE(r,o){var u=o,d=0,g=0;do{var v=u.nextSibling;if(r.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<d&&8>d){u=d;var A=r.ownerDocument;if(u&1&&zu(A.documentElement),u&2&&zu(A.body),u&4)for(u=A.head,zu(u),A=u.firstChild;A;){var k=A.nextSibling,F=A.nodeName;A[ln]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&A.rel.toLowerCase()==="stylesheet"||u.removeChild(A),A=k}}if(g===0){r.removeChild(v),Yu(o);return}g--}else u==="$"||u==="$?"||u==="$!"?g++:d=u.charCodeAt(0)-48;else d=0;u=v}while(u);Yu(o)}function Wy(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Wy(u),ue(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function _N(r,o,u,d){for(;r.nodeType===1;){var g=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[ln])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=ms(r.nextSibling),r===null)break}return null}function bN(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=ms(r.nextSibling),r===null))return null;return r}function $y(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function wN(r,o){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function ms(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var Gy=null;function pE(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}function mE(r,o,u){switch(o=kd(u),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function zu(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);ue(r)}var ts=new Map,gE=new Set;function Id(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Vr=et.d;et.d={f:TN,r:SN,D:EN,C:xN,L:AN,m:RN,X:DN,S:CN,M:kN};function TN(){var r=Vr.f(),o=Td();return r||o}function SN(r){var o=zi(r);o!==null&&o.tag===5&&o.type==="form"?LT(o):Vr.r(r)}var Zl=typeof document>"u"?null:document;function yE(r,o,u){var d=Zl;if(d&&typeof o=="string"&&o){var g=cn(o);g='link[rel="'+r+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),gE.has(g)||(gE.add(g),r={rel:r,crossOrigin:u,href:o},d.querySelector(g)===null&&(o=d.createElement("link"),Ln(o,"link",r),Le(o),d.head.appendChild(o)))}}function EN(r){Vr.D(r),yE("dns-prefetch",r,null)}function xN(r,o){Vr.C(r,o),yE("preconnect",r,o)}function AN(r,o,u){Vr.L(r,o,u);var d=Zl;if(d&&r&&o){var g='link[rel="preload"][as="'+cn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+cn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+cn(u.imageSizes)+'"]')):g+='[href="'+cn(r)+'"]';var v=g;switch(o){case"style":v=Jl(r);break;case"script":v=tc(r)}ts.has(v)||(r=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),ts.set(v,r),d.querySelector(g)!==null||o==="style"&&d.querySelector(Fu(v))||o==="script"&&d.querySelector(Hu(v))||(o=d.createElement("link"),Ln(o,"link",r),Le(o),d.head.appendChild(o)))}}function RN(r,o){Vr.m(r,o);var u=Zl;if(u&&r){var d=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+cn(d)+'"][href="'+cn(r)+'"]',v=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=tc(r)}if(!ts.has(v)&&(r=p({rel:"modulepreload",href:r},o),ts.set(v,r),u.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Hu(v)))return}d=u.createElement("link"),Ln(d,"link",r),Le(d),u.head.appendChild(d)}}}function CN(r,o,u){Vr.S(r,o,u);var d=Zl;if(d&&r){var g=En(d).hoistableStyles,v=Jl(r);o=o||"default";var A=g.get(v);if(!A){var k={loading:0,preload:null};if(A=d.querySelector(Fu(v)))k.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},u),(u=ts.get(v))&&Ky(r,u);var F=A=d.createElement("link");Le(F),Ln(F,"link",r),F._p=new Promise(function(Q,st){F.onload=Q,F.onerror=st}),F.addEventListener("load",function(){k.loading|=1}),F.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Md(A,o,d)}A={type:"stylesheet",instance:A,count:1,state:k},g.set(v,A)}}}function DN(r,o){Vr.X(r,o);var u=Zl;if(u&&r){var d=En(u).hoistableScripts,g=tc(r),v=d.get(g);v||(v=u.querySelector(Hu(g)),v||(r=p({src:r,async:!0},o),(o=ts.get(g))&&Yy(r,o),v=u.createElement("script"),Le(v),Ln(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function kN(r,o){Vr.M(r,o);var u=Zl;if(u&&r){var d=En(u).hoistableScripts,g=tc(r),v=d.get(g);v||(v=u.querySelector(Hu(g)),v||(r=p({src:r,async:!0,type:"module"},o),(o=ts.get(g))&&Yy(r,o),v=u.createElement("script"),Le(v),Ln(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function vE(r,o,u,d){var g=(g=St.current)?Id(g):null;if(!g)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Jl(u.href),u=En(g).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Jl(u.href);var v=En(g).hoistableStyles,A=v.get(r);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,A),(v=g.querySelector(Fu(r)))&&!v._p&&(A.instance=v,A.state.loading=5),ts.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ts.set(r,u),v||IN(g,r,u,A.state))),o&&d===null)throw Error(i(528,""));return A}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=tc(u),u=En(g).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Jl(r){return'href="'+cn(r)+'"'}function Fu(r){return'link[rel="stylesheet"]['+r+"]"}function _E(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function IN(r,o,u,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Ln(o,"link",u),Le(o),r.head.appendChild(o))}function tc(r){return'[src="'+cn(r)+'"]'}function Hu(r){return"script[async]"+r}function bE(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+cn(u.href)+'"]');if(d)return o.instance=d,Le(d),d;var g=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Le(d),Ln(d,"style",g),Md(d,u.precedence,r),o.instance=d;case"stylesheet":g=Jl(u.href);var v=r.querySelector(Fu(g));if(v)return o.state.loading|=4,o.instance=v,Le(v),v;d=_E(u),(g=ts.get(g))&&Ky(d,g),v=(r.ownerDocument||r).createElement("link"),Le(v);var A=v;return A._p=new Promise(function(k,F){A.onload=k,A.onerror=F}),Ln(v,"link",d),o.state.loading|=4,Md(v,u.precedence,r),o.instance=v;case"script":return v=tc(u.src),(g=r.querySelector(Hu(v)))?(o.instance=g,Le(g),g):(d=u,(g=ts.get(v))&&(d=p({},u),Yy(d,g)),r=r.ownerDocument||r,g=r.createElement("script"),Le(g),Ln(g,"link",d),r.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Md(d,u.precedence,r));return o.instance}function Md(r,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,v=g,A=0;A<d.length;A++){var k=d[A];if(k.dataset.precedence===o)v=k;else if(v!==g)break}v?v.parentNode.insertBefore(r,v.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function Ky(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Yy(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Pd=null;function wE(r,o,u){if(Pd===null){var d=new Map,g=Pd=new Map;g.set(u,d)}else g=Pd,d=g.get(u),d||(d=new Map,g.set(u,d));if(d.has(r))return d;for(d.set(r,null),u=u.getElementsByTagName(r),g=0;g<u.length;g++){var v=u[g];if(!(v[ln]||v[_t]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(o)||"";A=r+A;var k=d.get(A);k?k.push(v):d.set(A,[v])}}return d}function TE(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function MN(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function SE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var qu=null;function PN(){}function ON(r,o,u){if(qu===null)throw Error(i(475));var d=qu;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=Jl(u.href),v=r.querySelector(Fu(g));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=Od.bind(d),r.then(d,d)),o.state.loading|=4,o.instance=v,Le(v);return}v=r.ownerDocument||r,u=_E(u),(g=ts.get(g))&&Ky(u,g),v=v.createElement("link"),Le(v);var A=v;A._p=new Promise(function(k,F){A.onload=k,A.onerror=F}),Ln(v,"link",u),o.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=Od.bind(d),r.addEventListener("load",o),r.addEventListener("error",o))}}function NN(){if(qu===null)throw Error(i(475));var r=qu;return r.stylesheets&&r.count===0&&Xy(r,r.stylesheets),0<r.count?function(o){var u=setTimeout(function(){if(r.stylesheets&&Xy(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u)}}:null}function Od(){if(this.count--,this.count===0){if(this.stylesheets)Xy(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Nd=null;function Xy(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Nd=new Map,o.forEach(LN,r),Nd=null,Od.call(r))}function LN(r,o){if(!(o.state.loading&4)){var u=Nd.get(r);if(u)var d=u.get(null);else{u=new Map,Nd.set(r,u);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var A=g[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),d=A)}d&&u.set(null,d)}g=o.instance,A=g.getAttribute("data-precedence"),v=u.get(A)||d,v===d&&u.set(null,g),u.set(A,g),this.count++,d=Od.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),v?v.parentNode.insertBefore(g,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),o.state.loading|=4}}var Wu={$$typeof:j,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function VN(r,o,u,d,g,v,A,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function EE(r,o,u,d,g,v,A,k,F,Q,st,at){return r=new VN(r,o,u,A,k,F,Q,at),o=1,v===!0&&(o|=24),v=Ci(3,null,null,o),r.current=v,v.stateNode=r,o=Ig(),o.refCount++,r.pooledCache=o,o.refCount++,v.memoizedState={element:d,isDehydrated:u,cache:o},Ng(v),r}function xE(r){return r?(r=Il,r):Il}function AE(r,o,u,d,g,v){g=xE(g),d.context===null?d.context=g:d.pendingContext=g,d=aa(o),d.payload={element:u},v=v===void 0?null:v,v!==null&&(d.callback=v),u=oa(r,d,o),u!==null&&(Pi(u,r,o),wu(u,r,o))}function RE(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function Qy(r,o){RE(r,o),(r=r.alternate)&&RE(r,o)}function CE(r){if(r.tag===13){var o=kl(r,67108864);o!==null&&Pi(o,r,67108864),Qy(r,67108864)}}var Ld=!0;function jN(r,o,u,d){var g=K.T;K.T=null;var v=et.p;try{et.p=2,Zy(r,o,u,d)}finally{et.p=v,K.T=g}}function BN(r,o,u,d){var g=K.T;K.T=null;var v=et.p;try{et.p=8,Zy(r,o,u,d)}finally{et.p=v,K.T=g}}function Zy(r,o,u,d){if(Ld){var g=Jy(d);if(g===null)By(r,o,d,Vd,u),kE(r,d);else if(zN(g,r,o,u,d))d.stopPropagation();else if(kE(r,d),o&4&&-1<UN.indexOf(r)){for(;g!==null;){var v=zi(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=Kt(v.pendingLanes);if(A!==0){var k=v;for(k.pendingLanes|=2,k.entangledLanes|=2;A;){var F=1<<31-Rt(A);k.entanglements[1]|=F,A&=~F}Hs(v),(be&6)===0&&(bd=qe()+500,ju(0))}}break;case 13:k=kl(v,2),k!==null&&Pi(k,v,2),Td(),Qy(v,2)}if(v=Jy(d),v===null&&By(r,o,d,Vd,u),v===g)break;g=v}g!==null&&d.stopPropagation()}else By(r,o,d,null,u)}}function Jy(r){return r=Wi(r),tv(r)}var Vd=null;function tv(r){if(Vd=null,r=Fn(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Vd=r,null}function DE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ei()){case fe:return 2;case ii:return 8;case si:case hs:return 32;case hi:return 268435456;default:return 32}default:return 32}}var ev=!1,ba=null,wa=null,Ta=null,$u=new Map,Gu=new Map,Sa=[],UN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kE(r,o){switch(r){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":$u.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gu.delete(o.pointerId)}}function Ku(r,o,u,d,g,v){return r===null||r.nativeEvent!==v?(r={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},o!==null&&(o=zi(o),o!==null&&CE(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),r)}function zN(r,o,u,d,g){switch(o){case"focusin":return ba=Ku(ba,r,o,u,d,g),!0;case"dragenter":return wa=Ku(wa,r,o,u,d,g),!0;case"mouseover":return Ta=Ku(Ta,r,o,u,d,g),!0;case"pointerover":var v=g.pointerId;return $u.set(v,Ku($u.get(v)||null,r,o,u,d,g)),!0;case"gotpointercapture":return v=g.pointerId,Gu.set(v,Ku(Gu.get(v)||null,r,o,u,d,g)),!0}return!1}function IE(r){var o=Fn(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,Ui(r.priority,function(){if(u.tag===13){var d=Mi();d=Et(d);var g=kl(u,d);g!==null&&Pi(g,u,d),Qy(u,d)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function jd(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=Jy(r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);_r=d,u.target.dispatchEvent(d),_r=null}else return o=zi(u),o!==null&&CE(o),r.blockedOn=u,!1;o.shift()}return!0}function ME(r,o,u){jd(r)&&u.delete(o)}function FN(){ev=!1,ba!==null&&jd(ba)&&(ba=null),wa!==null&&jd(wa)&&(wa=null),Ta!==null&&jd(Ta)&&(Ta=null),$u.forEach(ME),Gu.forEach(ME)}function Bd(r,o){r.blockedOn===o&&(r.blockedOn=null,ev||(ev=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,FN)))}var Ud=null;function PE(r){Ud!==r&&(Ud=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ud===r&&(Ud=null);for(var o=0;o<r.length;o+=3){var u=r[o],d=r[o+1],g=r[o+2];if(typeof d!="function"){if(tv(d||u)===null)continue;break}var v=zi(u);v!==null&&(r.splice(o,3),o-=3,ty(v,{pending:!0,data:g,method:u.method,action:d},d,g))}}))}function Yu(r){function o(F){return Bd(F,r)}ba!==null&&Bd(ba,r),wa!==null&&Bd(wa,r),Ta!==null&&Bd(Ta,r),$u.forEach(o),Gu.forEach(o);for(var u=0;u<Sa.length;u++){var d=Sa[u];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Sa.length&&(u=Sa[0],u.blockedOn===null);)IE(u),u.blockedOn===null&&Sa.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var g=u[d],v=u[d+1],A=g[bt]||null;if(typeof v=="function")A||PE(u);else if(A){var k=null;if(v&&v.hasAttribute("formAction")){if(g=v,A=v[bt]||null)k=A.formAction;else if(tv(g)!==null)continue}else k=A.action;typeof k=="function"?u[d+1]=k:(u.splice(d,3),d-=3),PE(u)}}}function nv(r){this._internalRoot=r}zd.prototype.render=nv.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,d=Mi();AE(u,d,r,o,null,null)},zd.prototype.unmount=nv.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;AE(r.current,2,null,r,null,null),Td(),o[de]=null}};function zd(r){this._internalRoot=r}zd.prototype.unstable_scheduleHydration=function(r){if(r){var o=Ke();r={blockedOn:null,target:r,priority:o};for(var u=0;u<Sa.length&&o!==0&&o<Sa[u].priority;u++);Sa.splice(u,0,r),u===0&&IE(r)}};var OE=t.version;if(OE!=="19.1.0")throw Error(i(527,OE,"19.1.0"));et.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var HN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fd.isDisabled&&Fd.supportsFiber)try{it=Fd.inject(HN),pt=Fd}catch{}}return Qu.createRoot=function(r,o){if(!s(r))throw Error(i(299));var u=!1,d="",g=XT,v=QT,A=ZT,k=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks)),o=EE(r,1,!1,null,null,u,d,g,v,A,k,null),r[de]=o.current,jy(r),new nv(o)},Qu.hydrateRoot=function(r,o,u){if(!s(r))throw Error(i(299));var d=!1,g="",v=XT,A=QT,k=ZT,F=null,Q=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(F=u.unstable_transitionCallbacks),u.formState!==void 0&&(Q=u.formState)),o=EE(r,1,!0,o,u??null,d,g,v,A,k,F,Q),o.context=xE(null),u=o.current,d=Mi(),d=Et(d),g=aa(d),g.callback=null,oa(u,g,d),u=d,o.current.lanes=u,Ne(o,u),Hs(o),r[de]=o.current,jy(r),new zd(o)},Qu.version="19.1.0",Qu}var qE;function e2(){if(qE)return rv.exports;qE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rv.exports=t2(),rv.exports}var n2=e2(),Zu={},WE;function i2(){if(WE)return Zu;WE=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.parse=l,Zu.serialize=f;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,b){const T=new a,E=_.length;if(E<2)return T;const S=(b==null?void 0:b.decode)||p;let C=0;do{const V=_.indexOf("=",C);if(V===-1)break;const j=_.indexOf(";",C),W=j===-1?E:j;if(V>W){C=_.lastIndexOf(";",V-1)+1;continue}const z=c(_,C,V),$=h(_,V,z),M=_.slice(z,$);if(T[M]===void 0){let D=c(_,V+1,W),I=h(_,W,D);const B=S(_.slice(D,I));T[M]=B}C=W+1}while(C<E);return T}function c(_,b,T){do{const E=_.charCodeAt(b);if(E!==32&&E!==9)return b}while(++b<T);return T}function h(_,b,T){for(;b>T;){const E=_.charCodeAt(--b);if(E!==32&&E!==9)return b+1}return T}function f(_,b,T){const E=(T==null?void 0:T.encode)||encodeURIComponent;if(!e.test(_))throw new TypeError(`argument name is invalid: ${_}`);const S=E(b);if(!t.test(S))throw new TypeError(`argument val is invalid: ${b}`);let C=_+"="+S;if(!T)return C;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);C+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);C+="; Domain="+T.domain}if(T.path){if(!i.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);C+="; Path="+T.path}if(T.expires){if(!y(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);C+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(C+="; HttpOnly"),T.secure&&(C+="; Secure"),T.partitioned&&(C+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return C}function p(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return s.call(_)==="[object Date]"}return Zu}i2();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $E="popstate";function s2(e={}){function t(s,a){let{pathname:l="/",search:c="",hash:h=""}=al(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),n_("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=s.location.href,f=h.indexOf("#");c=f===-1?h:h.slice(0,f)}return c+"#"+(typeof a=="string"?a:Dh(a))}function i(s,a){ls(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return a2(t,n,i,e)}function je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ls(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function r2(){return Math.random().toString(36).substring(2,10)}function GE(e,t){return{usr:e.state,key:e.key,idx:t}}function n_(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?al(t):t,state:n,key:t&&t.key||i||r2()}}function Dh({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function al(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function a2(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,c="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function y(){c="POP";let S=p(),C=S==null?null:S-f;f=S,h&&h({action:c,location:E.location,delta:C})}function _(S,C){c="PUSH";let V=n_(E.location,S,C);n&&n(V,S),f=p()+1;let j=GE(V,f),W=E.createHref(V);try{l.pushState(j,"",W)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(W)}a&&h&&h({action:c,location:E.location,delta:1})}function b(S,C){c="REPLACE";let V=n_(E.location,S,C);n&&n(V,S),f=p();let j=GE(V,f),W=E.createHref(V);l.replaceState(j,"",W),a&&h&&h({action:c,location:E.location,delta:0})}function T(S){let C=s.location.origin!=="null"?s.location.origin:s.location.href,V=typeof S=="string"?S:Dh(S);return V=V.replace(/ $/,"%20"),je(C,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,C)}let E={get action(){return c},get location(){return e(s,l)},listen(S){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener($E,y),h=S,()=>{s.removeEventListener($E,y),h=null}},createHref(S){return t(s,S)},createURL:T,encodeLocation(S){let C=T(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:b,go(S){return l.go(S)}};return E}function kC(e,t,n="/"){return o2(e,t,n,!1)}function o2(e,t,n,i){let s=typeof t=="string"?al(t):t,a=$r(s.pathname||"/",n);if(a==null)return null;let l=IC(e);l2(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=_2(a);c=y2(l[h],f,i)}return c}function IC(e,t=[],n=[],i=""){let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(je(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=Wr([i,h.relativePath]),p=n.concat(h);a.children&&a.children.length>0&&(je(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),IC(a.children,t,p,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:m2(f,a.index),routesMeta:p})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of MC(a.path))s(a,l,h)}),t}function MC(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=MC(i.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function l2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:g2(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var c2=/^:[\w-]+$/,u2=3,h2=2,f2=1,d2=10,p2=-2,KE=e=>e==="*";function m2(e,t){let n=e.split("/"),i=n.length;return n.some(KE)&&(i+=p2),t&&(i+=h2),n.filter(s=>!KE(s)).reduce((s,a)=>s+(c2.test(a)?u2:a===""?f2:d2),i)}function g2(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function y2(e,t,n=!1){let{routesMeta:i}=e,s={},a="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],f=c===i.length-1,p=a==="/"?t:t.slice(a.length)||"/",y=Lp({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),_=h.route;if(!y&&f&&n&&!i[i.length-1].route.index&&(y=Lp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:Wr([a,y.pathname]),pathnameBase:S2(Wr([a,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(a=Wr([a,y.pathnameBase]))}return l}function Lp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=v2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:y},_)=>{if(p==="*"){let T=c[_]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const b=c[_];return y&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:e}}function v2(e,t=!1,n=!0){ls(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function _2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ls(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $r(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function b2(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?al(e):e;return{pathname:n?n.startsWith("/")?n:w2(n,t):t,search:E2(i),hash:x2(s)}}function w2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function cv(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function T2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function d0(e){let t=T2(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function p0(e,t,n,i=!1){let s;typeof e=="string"?s=al(e):(s={...e},je(!s.pathname||!s.pathname.includes("?"),cv("?","pathname","search",s)),je(!s.pathname||!s.pathname.includes("#"),cv("#","pathname","hash",s)),je(!s.search||!s.search.includes("#"),cv("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let y=t.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;s.pathname=_.join("/")}c=y>=0?t[y]:"/"}let h=b2(s,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var Wr=e=>e.join("/").replace(/\/\/+/g,"/"),S2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),E2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,x2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function A2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var PC=["POST","PUT","PATCH","DELETE"];new Set(PC);var R2=["GET",...PC];new Set(R2);var jc=P.createContext(null);jc.displayName="DataRouter";var Sm=P.createContext(null);Sm.displayName="DataRouterState";var OC=P.createContext({isTransitioning:!1});OC.displayName="ViewTransition";var C2=P.createContext(new Map);C2.displayName="Fetchers";var D2=P.createContext(null);D2.displayName="Await";var Cs=P.createContext(null);Cs.displayName="Navigation";var rf=P.createContext(null);rf.displayName="Location";var dr=P.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var m0=P.createContext(null);m0.displayName="RouteError";function k2(e,{relative:t}={}){je(Bc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(Cs),{hash:s,pathname:a,search:l}=af(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:Wr([n,a])),i.createHref({pathname:c,search:l,hash:s})}function Bc(){return P.useContext(rf)!=null}function pr(){return je(Bc(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(rf).location}var NC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LC(e){P.useContext(Cs).static||P.useLayoutEffect(e)}function Ds(){let{isDataRoute:e}=P.useContext(dr);return e?H2():I2()}function I2(){je(Bc(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(jc),{basename:t,navigator:n}=P.useContext(Cs),{matches:i}=P.useContext(dr),{pathname:s}=pr(),a=JSON.stringify(d0(i)),l=P.useRef(!1);return LC(()=>{l.current=!0}),P.useCallback((h,f={})=>{if(ls(l.current,NC),!l.current)return;if(typeof h=="number"){n.go(h);return}let p=p0(h,JSON.parse(a),s,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Wr([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,a,s,e])}P.createContext(null);function af(e,{relative:t}={}){let{matches:n}=P.useContext(dr),{pathname:i}=pr(),s=JSON.stringify(d0(n));return P.useMemo(()=>p0(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function M2(e,t){return VC(e,t)}function VC(e,t,n,i){var V;je(Bc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=P.useContext(Cs),{matches:l}=P.useContext(dr),c=l[l.length-1],h=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let j=y&&y.path||"";jC(f,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let _=pr(),b;if(t){let j=typeof t=="string"?al(t):t;je(p==="/"||((V=j.pathname)==null?void 0:V.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),b=j}else b=_;let T=b.pathname||"/",E=T;if(p!=="/"){let j=p.replace(/^\//,"").split("/");E="/"+T.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=!a&&n&&n.matches&&n.matches.length>0?n.matches:kC(e,{pathname:E});ls(y||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ls(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=V2(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:Wr([p,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Wr([p,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,n,i);return t&&C?P.createElement(rf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function P2(){let e=F2(),t=A2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:a},"ErrorBoundary")," or"," ",P.createElement("code",{style:a},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:s},n):null,l)}var O2=P.createElement(P2,null),N2=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(dr.Provider,{value:this.props.routeContext},P.createElement(m0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function L2({routeContext:e,match:t,children:n}){let i=P.useContext(jc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(dr.Provider,{value:e},n)}function V2(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);je(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:y}=n,_=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,f,p)=>{let y,_=!1,b=null,T=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||O2,l&&(c<0&&p===0?(jC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):c===p&&(_=!0,T=f.route.hydrateFallbackElement||null)));let E=t.concat(s.slice(0,p+1)),S=()=>{let C;return y?C=b:_?C=T:f.route.Component?C=P.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=h,P.createElement(L2,{match:f,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:C})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?P.createElement(N2,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:S(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):S()},null)}function g0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j2(e){let t=P.useContext(jc);return je(t,g0(e)),t}function B2(e){let t=P.useContext(Sm);return je(t,g0(e)),t}function U2(e){let t=P.useContext(dr);return je(t,g0(e)),t}function y0(e){let t=U2(e),n=t.matches[t.matches.length-1];return je(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function z2(){return y0("useRouteId")}function F2(){var i;let e=P.useContext(m0),t=B2("useRouteError"),n=y0("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function H2(){let{router:e}=j2("useNavigate"),t=y0("useNavigate"),n=P.useRef(!1);return LC(()=>{n.current=!0}),P.useCallback(async(s,a={})=>{ls(n.current,NC),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var YE={};function jC(e,t,n){!t&&!YE[e]&&(YE[e]=!0,ls(!1,n))}P.memo(q2);function q2({routes:e,future:t,state:n}){return VC(e,void 0,n,t)}function BC({to:e,replace:t,state:n,relative:i}){je(Bc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=P.useContext(Cs);ls(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=P.useContext(dr),{pathname:l}=pr(),c=Ds(),h=p0(e,d0(a),l,i==="path"),f=JSON.stringify(h);return P.useEffect(()=>{c(JSON.parse(f),{replace:t,state:n,relative:i})},[c,f,i,t,n]),null}function gs(e){je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W2({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){je(!Bc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=P.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=al(n));let{pathname:h="/",search:f="",hash:p="",state:y=null,key:_="default"}=n,b=P.useMemo(()=>{let T=$r(h,l);return T==null?null:{location:{pathname:T,search:f,hash:p,state:y,key:_},navigationType:i}},[l,h,f,p,y,_,i]);return ls(b!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:P.createElement(Cs.Provider,{value:c},P.createElement(rf.Provider,{children:t,value:b}))}function $2({children:e,location:t}){return M2(i_(e),t)}function i_(e,t=[]){let n=[];return P.Children.forEach(e,(i,s)=>{if(!P.isValidElement(i))return;let a=[...t,s];if(i.type===P.Fragment){n.push.apply(n,i_(i.props.children,a));return}je(i.type===gs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),je(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=i_(i.props.children,a)),n.push(l)}),n}var gp="get",yp="application/x-www-form-urlencoded";function Em(e){return e!=null&&typeof e.tagName=="string"}function G2(e){return Em(e)&&e.tagName.toLowerCase()==="button"}function K2(e){return Em(e)&&e.tagName.toLowerCase()==="form"}function Y2(e){return Em(e)&&e.tagName.toLowerCase()==="input"}function X2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Q2(e,t){return e.button===0&&(!t||t==="_self")&&!X2(e)}var Hd=null;function Z2(){if(Hd===null)try{new FormData(document.createElement("form"),0),Hd=!1}catch{Hd=!0}return Hd}var J2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uv(e){return e!=null&&!J2.has(e)?(ls(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yp}"`),null):e}function tL(e,t){let n,i,s,a,l;if(K2(e)){let c=e.getAttribute("action");i=c?$r(c,t):null,n=e.getAttribute("method")||gp,s=uv(e.getAttribute("enctype"))||yp,a=new FormData(e)}else if(G2(e)||Y2(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||c.getAttribute("action");if(i=h?$r(h,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||gp,s=uv(e.getAttribute("formenctype"))||uv(c.getAttribute("enctype"))||yp,a=new FormData(c,e),!Z2()){let{name:f,type:p,value:y}=e;if(p==="image"){let _=f?`${f}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else f&&a.append(f,y)}}else{if(Em(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gp,i=null,s=yp,l=e}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:l}}function v0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function eL(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nL(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function iL(e,t,n){let i=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await eL(a,n);return l.links?l.links():[]}return[]}));return oL(i.flat(1).filter(nL).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function XE(e,t,n,i,s,a){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,c=(h,f)=>{var p;return n[f].pathname!==h.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==h.params["*"]};return a==="assets"?t.filter((h,f)=>l(h,f)||c(h,f)):a==="data"?t.filter((h,f)=>{var y;let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function sL(e,t,{includeHydrateFallback:n}={}){return rL(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function rL(e){return[...new Set(e)]}function aL(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function oL(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let a=JSON.stringify(aL(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function lL(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&$r(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function UC(){let e=P.useContext(jc);return v0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function cL(){let e=P.useContext(Sm);return v0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var _0=P.createContext(void 0);_0.displayName="FrameworkContext";function zC(){let e=P.useContext(_0);return v0(e,"You must render this element inside a <HydratedRouter> element"),e}function uL(e,t){let n=P.useContext(_0),[i,s]=P.useState(!1),[a,l]=P.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:y}=t,_=P.useRef(null);P.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let E=C=>{C.forEach(V=>{l(V.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return _.current&&S.observe(_.current),()=>{S.disconnect()}}},[e]),P.useEffect(()=>{if(i){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[i]);let b=()=>{s(!0)},T=()=>{s(!1),l(!1)};return n?e!=="intent"?[a,_,{}]:[a,_,{onFocus:Ju(c,b),onBlur:Ju(h,T),onMouseEnter:Ju(f,b),onMouseLeave:Ju(p,T),onTouchStart:Ju(y,b)}]:[!1,_,{}]}function Ju(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function hL({page:e,...t}){let{router:n}=UC(),i=P.useMemo(()=>kC(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?P.createElement(dL,{page:e,matches:i,...t}):null}function fL(e){let{manifest:t,routeModules:n}=zC(),[i,s]=P.useState([]);return P.useEffect(()=>{let a=!1;return iL(e,t,n).then(l=>{a||s(l)}),()=>{a=!0}},[e,t,n]),i}function dL({page:e,matches:t,...n}){let i=pr(),{manifest:s,routeModules:a}=zC(),{basename:l}=UC(),{loaderData:c,matches:h}=cL(),f=P.useMemo(()=>XE(e,t,h,s,i,"data"),[e,t,h,s,i]),p=P.useMemo(()=>XE(e,t,h,s,i,"assets"),[e,t,h,s,i]),y=P.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let T=new Set,E=!1;if(t.forEach(C=>{var j;let V=s.routes[C.route.id];!V||!V.hasLoader||(!f.some(W=>W.route.id===C.route.id)&&C.route.id in c&&((j=a[C.route.id])!=null&&j.shouldRevalidate)||V.hasClientLoader?E=!0:T.add(C.route.id))}),T.size===0)return[];let S=lL(e,l);return E&&T.size>0&&S.searchParams.set("_routes",t.filter(C=>T.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[l,c,i,s,f,t,e,a]),_=P.useMemo(()=>sL(p,s),[p,s]),b=fL(p);return P.createElement(P.Fragment,null,y.map(T=>P.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),_.map(T=>P.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),b.map(({key:T,link:E})=>P.createElement("link",{key:T,...E})))}function pL(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var FC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FC&&(window.__reactRouterVersion="7.5.0")}catch{}function mL({basename:e,children:t,window:n}){let i=P.useRef();i.current==null&&(i.current=s2({window:n,v5Compat:!0}));let s=i.current,[a,l]=P.useState({action:s.action,location:s.location}),c=P.useCallback(h=>{P.startTransition(()=>l(h))},[l]);return P.useLayoutEffect(()=>s.listen(c),[s,c]),P.createElement(W2,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var HC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Da=P.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:f,preventScrollReset:p,viewTransition:y,..._},b){let{basename:T}=P.useContext(Cs),E=typeof f=="string"&&HC.test(f),S,C=!1;if(typeof f=="string"&&E&&(S=f,FC))try{let I=new URL(window.location.href),B=f.startsWith("//")?new URL(I.protocol+f):new URL(f),N=$r(B.pathname,T);B.origin===I.origin&&N!=null?f=N+B.search+B.hash:C=!0}catch{ls(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=k2(f,{relative:s}),[j,W,z]=uL(i,_),$=_L(f,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:y});function M(I){t&&t(I),I.defaultPrevented||$(I)}let D=P.createElement("a",{..._,...z,href:S||V,onClick:C||a?t:M,ref:pL(b,W),target:h,"data-discover":!E&&n==="render"?"true":void 0});return j&&!E?P.createElement(P.Fragment,null,D,P.createElement(hL,{page:V})):D});Da.displayName="Link";var gL=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...f},p){let y=af(l,{relative:f.relative}),_=pr(),b=P.useContext(Sm),{navigator:T,basename:E}=P.useContext(Cs),S=b!=null&&EL(y)&&c===!0,C=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,V=_.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(V=V.toLowerCase(),j=j?j.toLowerCase():null,C=C.toLowerCase()),j&&E&&(j=$r(j,E)||j);const W=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let z=V===C||!s&&V.startsWith(C)&&V.charAt(W)==="/",$=j!=null&&(j===C||!s&&j.startsWith(C)&&j.charAt(C.length)==="/"),M={isActive:z,isPending:$,isTransitioning:S},D=z?t:void 0,I;typeof i=="function"?I=i(M):I=[i,z?"active":null,$?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let B=typeof a=="function"?a(M):a;return P.createElement(Da,{...f,"aria-current":D,className:I,ref:p,style:B,to:l,viewTransition:c},typeof h=="function"?h(M):h)});gL.displayName="NavLink";var yL=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:a,method:l=gp,action:c,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:y,..._},b)=>{let T=TL(),E=SL(c,{relative:f}),S=l.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&HC.test(c),V=j=>{if(h&&h(j),j.defaultPrevented)return;j.preventDefault();let W=j.nativeEvent.submitter,z=(W==null?void 0:W.getAttribute("formmethod"))||l;T(W||j.currentTarget,{fetcherKey:t,method:z,navigate:n,replace:s,state:a,relative:f,preventScrollReset:p,viewTransition:y})};return P.createElement("form",{ref:b,method:S,action:E,onSubmit:i?h:V,..._,"data-discover":!C&&e==="render"?"true":void 0})});yL.displayName="Form";function vL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qC(e){let t=P.useContext(jc);return je(t,vL(e)),t}function _L(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Ds(),h=pr(),f=af(e,{relative:a});return P.useCallback(p=>{if(Q2(p,t)){p.preventDefault();let y=n!==void 0?n:Dh(h)===Dh(f);c(e,{replace:y,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,f,n,i,t,e,s,a,l])}var bL=0,wL=()=>`__${String(++bL)}__`;function TL(){let{router:e}=qC("useSubmit"),{basename:t}=P.useContext(Cs),n=z2();return P.useCallback(async(i,s={})=>{let{action:a,method:l,encType:c,formData:h,body:f}=tL(i,t);if(s.navigate===!1){let p=s.fetcherKey||wL();await e.fetch(p,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function SL(e,{relative:t}={}){let{basename:n}=P.useContext(Cs),i=P.useContext(dr);je(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...af(e||".",{relative:t})},l=pr();if(e==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Wr([n,a.pathname])),Dh(a)}function EL(e,t={}){let n=P.useContext(OC);je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=qC("useViewTransitionState"),s=af(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=$r(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=$r(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Lp(s.pathname,l)!=null||Lp(s.pathname,a)!=null}new TextEncoder;const xL=()=>{};var QE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},AL=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=e[n++];t[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=e[n++],l=e[n++],c=e[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const a=e[n++],l=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return t.join("")},$C={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const a=e[s],l=s+1<e.length,c=l?e[s+1]:0,h=s+2<e.length,f=h?e[s+2]:0,p=a>>2,y=(a&3)<<4|c>>4;let _=(c&15)<<2|f>>6,b=f&63;h||(b=64,l||(_=64)),i.push(n[p],n[y],n[_],n[b])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(WC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):AL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const a=n[e.charAt(s++)],c=s<e.length?n[e.charAt(s)]:0;++s;const f=s<e.length?n[e.charAt(s)]:64;++s;const y=s<e.length?n[e.charAt(s)]:64;if(++s,a==null||c==null||f==null||y==null)throw new RL;const _=a<<2|c>>4;if(i.push(_),f!==64){const b=c<<4&240|f>>2;if(i.push(b),y!==64){const T=f<<6&192|y;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class RL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CL=function(e){const t=WC(e);return $C.encodeByteArray(t,!0)},Vp=function(e){return CL(e).replace(/\./g,"")},GC=function(e){try{return $C.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=()=>DL().__FIREBASE_DEFAULTS__,IL=()=>{if(typeof process>"u"||typeof QE>"u")return;const e=QE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ML=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&GC(e[1]);return t&&JSON.parse(t)},xm=()=>{try{return xL()||kL()||IL()||ML()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},KC=e=>{var t,n;return(n=(t=xm())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},PL=e=>{const t=KC(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},YC=()=>{var e;return(e=xm())===null||e===void 0?void 0:e.config},XC=e=>{var t;return(t=xm())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Vp(JSON.stringify(n)),Vp(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}function VL(){var e;const t=(e=xm())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QC(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function BL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UL(){const e=Zn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function zL(){return!VL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZC(){try{return typeof indexedDB=="object"}catch{return!1}}function JC(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;t(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}function FL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="FirebaseError";class ks extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=HL,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ol.prototype.create)}}class ol{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,a=this.errors[t],l=a?qL(a,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new ks(s,c,i)}}function qL(e,t){return e.replace(WL,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const WL=/\{\$([^}]+)}/g;function $L(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Gr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const a=e[s],l=t[s];if(ZE(a)&&ZE(l)){if(!Gr(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function ZE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function GL(e,t){const n=new KL(e,t);return n.subscribe.bind(n)}class KL{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");YL(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=hv),s.error===void 0&&(s.error=hv),s.complete===void 0&&(s.complete=hv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YL(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function hv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=1e3,QL=2,ZL=4*60*60*1e3,JL=.5;function JE(e,t=XL,n=QL){const i=t*Math.pow(n,e),s=Math.round(JL*i*(Math.random()-.5)*2);return Math.min(ZL,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(e){return e&&e._delegate?e._delegate:e}class Ss{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new OL;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nV(t))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(t=No){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=No){return this.instances.has(t)}getOptions(t=No){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);i===c&&l.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eV(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=No){return this.component?this.component.multipleInstances?t:No:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eV(e){return e===No?void 0:e}function nV(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new tV(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ee||(ee={}));const sV={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},rV=ee.INFO,aV={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},oV=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=aV[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Am{constructor(t){this.name=t,this._logLevel=rV,this._logHandler=oV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ee))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...t),this._logHandler(this,ee.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...t),this._logHandler(this,ee.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...t),this._logHandler(this,ee.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...t),this._logHandler(this,ee.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...t),this._logHandler(this,ee.ERROR,...t)}}const lV=(e,t)=>t.some(n=>e instanceof n);let tx,ex;function cV(){return tx||(tx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uV(){return ex||(ex=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tD=new WeakMap,s_=new WeakMap,eD=new WeakMap,fv=new WeakMap,b0=new WeakMap;function hV(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{n(Va(e.result)),s()},l=()=>{i(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&tD.set(n,e)}).catch(()=>{}),b0.set(t,e),t}function fV(e){if(s_.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});s_.set(e,t)}let r_={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return s_.get(e);if(t==="objectStoreNames")return e.objectStoreNames||eD.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Va(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function dV(e){r_=e(r_)}function pV(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(dv(this),t,...n);return eD.set(i,t.sort?t.sort():[t]),Va(i)}:uV().includes(e)?function(...t){return e.apply(dv(this),t),Va(tD.get(this))}:function(...t){return Va(e.apply(dv(this),t))}}function mV(e){return typeof e=="function"?pV(e):(e instanceof IDBTransaction&&fV(e),lV(e,cV())?new Proxy(e,r_):e)}function Va(e){if(e instanceof IDBRequest)return hV(e);if(fv.has(e))return fv.get(e);const t=mV(e);return t!==e&&(fv.set(e,t),b0.set(t,e)),t}const dv=e=>b0.get(e);function nD(e,t,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(e,t),c=Va(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Va(l.result),h.oldVersion,h.newVersion,Va(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const gV=["get","getKey","getAll","getAllKeys","count"],yV=["put","add","delete","clear"],pv=new Map;function nx(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(pv.get(t))return pv.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=yV.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||gV.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&h.done]))[0]};return pv.set(t,a),a}dV(e=>({...e,get:(t,n,i)=>nx(t,n)||e.get(t,n,i),has:(t,n)=>!!nx(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_V(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function _V(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const a_="@firebase/app",ix="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new Am("@firebase/app"),bV="@firebase/app-compat",wV="@firebase/analytics-compat",TV="@firebase/analytics",SV="@firebase/app-check-compat",EV="@firebase/app-check",xV="@firebase/auth",AV="@firebase/auth-compat",RV="@firebase/database",CV="@firebase/data-connect",DV="@firebase/database-compat",kV="@firebase/functions",IV="@firebase/functions-compat",MV="@firebase/installations",PV="@firebase/installations-compat",OV="@firebase/messaging",NV="@firebase/messaging-compat",LV="@firebase/performance",VV="@firebase/performance-compat",jV="@firebase/remote-config",BV="@firebase/remote-config-compat",UV="@firebase/storage",zV="@firebase/storage-compat",FV="@firebase/firestore",HV="@firebase/vertexai",qV="@firebase/firestore-compat",WV="firebase",$V="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="[DEFAULT]",GV={[a_]:"fire-core",[bV]:"fire-core-compat",[TV]:"fire-analytics",[wV]:"fire-analytics-compat",[EV]:"fire-app-check",[SV]:"fire-app-check-compat",[xV]:"fire-auth",[AV]:"fire-auth-compat",[RV]:"fire-rtdb",[CV]:"fire-data-connect",[DV]:"fire-rtdb-compat",[kV]:"fire-fn",[IV]:"fire-fn-compat",[MV]:"fire-iid",[PV]:"fire-iid-compat",[OV]:"fire-fcm",[NV]:"fire-fcm-compat",[LV]:"fire-perf",[VV]:"fire-perf-compat",[jV]:"fire-rc",[BV]:"fire-rc-compat",[UV]:"fire-gcs",[zV]:"fire-gcs-compat",[FV]:"fire-fst",[qV]:"fire-fst-compat",[HV]:"fire-vertex","fire-js":"fire-js",[WV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=new Map,KV=new Map,l_=new Map;function sx(e,t){try{e.container.addComponent(t)}catch(n){Kr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function or(e){const t=e.name;if(l_.has(t))return Kr.debug(`There were multiple attempts to register component ${t}.`),!1;l_.set(t,e);for(const n of jp.values())sx(n,e);for(const n of KV.values())sx(n,e);return!0}function ll(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function vs(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ja=new ol("app","Firebase",YV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=$V;function iD(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:o_,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw ja.create("bad-app-name",{appName:String(s)});if(n||(n=YC()),!n)throw ja.create("no-options");const a=jp.get(s);if(a){if(Gr(n,a.options)&&Gr(i,a.config))return a;throw ja.create("duplicate-app",{appName:s})}const l=new iV(s);for(const h of l_.values())l.addComponent(h);const c=new XV(n,i,l);return jp.set(s,c),c}function w0(e=o_){const t=jp.get(e);if(!t&&e===o_&&YC())return iD();if(!t)throw ja.create("no-app",{appName:e});return t}function as(e,t,n){var i;let s=(i=GV[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Kr.warn(c.join(" "));return}or(new Ss(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV="firebase-heartbeat-database",ZV=1,kh="firebase-heartbeat-store";let mv=null;function sD(){return mv||(mv=nD(QV,ZV,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(kh)}catch(n){console.warn(n)}}}}).catch(e=>{throw ja.create("idb-open",{originalErrorMessage:e.message})})),mv}async function JV(e){try{const n=(await sD()).transaction(kh),i=await n.objectStore(kh).get(rD(e));return await n.done,i}catch(t){if(t instanceof ks)Kr.warn(t.message);else{const n=ja.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Kr.warn(n.message)}}}async function rx(e,t){try{const i=(await sD()).transaction(kh,"readwrite");await i.objectStore(kh).put(t,rD(e)),await i.done}catch(n){if(n instanceof ks)Kr.warn(n.message);else{const i=ja.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kr.warn(i.message)}}}function rD(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=1024,ej=30;class nj{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sj(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ax();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>ej){const l=rj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Kr.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ax(),{heartbeatsToSend:i,unsentEntries:s}=ij(this._heartbeatsCache.heartbeats),a=Vp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Kr.warn(n),""}}}function ax(){return new Date().toISOString().substring(0,10)}function ij(e,t=tj){const n=[];let i=e.slice();for(const s of e){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),ox(n)>t){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ox(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class sj{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZC()?JC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return rx(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return rx(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function ox(e){return Vp(JSON.stringify({version:2,heartbeats:e})).length}function rj(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(e){or(new Ss("platform-logger",t=>new vV(t),"PRIVATE")),or(new Ss("heartbeat",t=>new nj(t),"PRIVATE")),as(a_,ix,e),as(a_,ix,"esm2017"),as("fire-js","")}aj("");function T0(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function aD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oj=aD,oD=new ol("auth","Firebase",aD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=new Am("@firebase/auth");function lj(e,...t){Bp.logLevel<=ee.WARN&&Bp.warn(`Auth (${Uc}): ${e}`,...t)}function vp(e,...t){Bp.logLevel<=ee.ERROR&&Bp.error(`Auth (${Uc}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(e,...t){throw E0(e,...t)}function ws(e,...t){return E0(e,...t)}function S0(e,t,n){const i=Object.assign(Object.assign({},oj()),{[t]:n});return new ol("auth","Firebase",i).create(t,{appName:e.name})}function $o(e){return S0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cj(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&lr(e,"argument-error"),S0(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function E0(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return oD.create(e,...t)}function jt(e,t,...n){if(!e)throw E0(t,...n)}function Hr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw vp(t),new Error(t)}function Yr(e,t){e||Hr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function uj(){return lx()==="http:"||lx()==="https:"}function lx(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uj()||QC()||"connection"in navigator)?navigator.onLine:!0}function fj(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,n){this.shortDelay=t,this.longDelay=n,Yr(n>t,"Short delay should be less than long delay!"),this.isMobile=LL()||BL()}get(){return hj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(e,t){Yr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mj=new lf(3e4,6e4);function A0(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function zc(e,t,n,i,s={}){return cD(e,s,async()=>{let a={},l={};i&&(t==="GET"?l=i:a={body:JSON.stringify(i)});const c=of(Object.assign({key:e.config.apiKey},l)).slice(1),h=await e._getAdditionalHeaders();h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode);const f=Object.assign({method:t,headers:h},a);return jL()||(f.referrerPolicy="no-referrer"),lD.fetch()(await uD(e,e.config.apiHost,n,c),f)})}async function cD(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},dj),t);try{const s=new yj(e),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw qd(e,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw qd(e,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw qd(e,"email-already-in-use",l);if(h==="USER_DISABLED")throw qd(e,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw S0(e,p,f);lr(e,p)}}catch(s){if(s instanceof ks)throw s;lr(e,"network-request-failed",{message:String(s)})}}async function gj(e,t,n,i,s={}){const a=await zc(e,t,n,i,s);return"mfaPendingCredential"in a&&lr(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function uD(e,t,n,i){const s=`${t}${n}?${i}`,a=e,l=a.config.emulator?x0(e.config,s):`${e.config.apiScheme}://${s}`;return pj.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class yj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ws(this.auth,"network-request-failed")),mj.get())})}}function qd(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=ws(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(e,t){return zc(e,"POST","/v1/accounts:delete",t)}async function Up(e,t){return zc(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function _j(e,t=!1){const n=Jn(e),i=await n.getIdToken(t),s=R0(i);jt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:mh(gv(s.auth_time)),issuedAtTime:mh(gv(s.iat)),expirationTime:mh(gv(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function gv(e){return Number(e)*1e3}function R0(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return vp("JWT malformed, contained fewer than 3 sections"),null;try{const s=GC(n);return s?JSON.parse(s):(vp("Failed to decode base64 JWT payload"),null)}catch(s){return vp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function cx(e){const t=R0(e);return jt(t,"internal-error"),jt(typeof t.exp<"u","internal-error"),jt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ks&&bj(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function bj({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mh(this.lastLoginAt),this.creationTime=mh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(e){var t;const n=e.auth,i=await e.getIdToken(),s=await Ih(e,Up(n,{idToken:i}));jt(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?hD(a.providerUserInfo):[],c=Sj(e.providerData,l),h=e.isAnonymous,f=!(e.email&&a.passwordHash)&&!(c!=null&&c.length),p=h?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new u_(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function Tj(e){const t=Jn(e);await zp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Sj(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function hD(e){return e.map(t=>{var{providerId:n}=t,i=T0(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej(e,t){const n=await cD(e,{},async()=>{const i=of({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=e.config,l=await uD(e,s,"/v1/token",`key=${a}`),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",lD.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xj(e,t){return zc(e,"POST","/v2/accounts:revokeToken",A0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){jt(t.idToken,"internal-error"),jt(typeof t.idToken<"u","internal-error"),jt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):cx(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){jt(t.length!==0,"internal-error");const n=cx(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(jt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await Ej(t,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,l=new fc;return i&&(jt(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(jt(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),a&&(jt(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new fc,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(e,t){jt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class _s{constructor(t){var{uid:n,auth:i,stsTokenManager:s}=t,a=T0(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new u_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await Ih(this,this.stsTokenManager.getToken(this.auth,t));return jt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return _j(this,t)}reload(){return Tj(this)}_assign(t){this!==t&&(jt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new _s(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await zp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vs(this.auth.app))return Promise.reject($o(this.auth));const t=await this.getIdToken();return await Ih(this,vj(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,s,a,l,c,h,f,p;const y=(i=n.displayName)!==null&&i!==void 0?i:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,b=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,T=(l=n.photoURL)!==null&&l!==void 0?l:void 0,E=(c=n.tenantId)!==null&&c!==void 0?c:void 0,S=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,C=(f=n.createdAt)!==null&&f!==void 0?f:void 0,V=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:j,emailVerified:W,isAnonymous:z,providerData:$,stsTokenManager:M}=n;jt(j&&M,t,"internal-error");const D=fc.fromJSON(this.name,M);jt(typeof j=="string",t,"internal-error"),xa(y,t.name),xa(_,t.name),jt(typeof W=="boolean",t,"internal-error"),jt(typeof z=="boolean",t,"internal-error"),xa(b,t.name),xa(T,t.name),xa(E,t.name),xa(S,t.name),xa(C,t.name),xa(V,t.name);const I=new _s({uid:j,auth:t,email:_,emailVerified:W,displayName:y,isAnonymous:z,photoURL:T,phoneNumber:b,tenantId:E,stsTokenManager:D,createdAt:C,lastLoginAt:V});return $&&Array.isArray($)&&(I.providerData=$.map(B=>Object.assign({},B))),S&&(I._redirectEventId=S),I}static async _fromIdTokenResponse(t,n,i=!1){const s=new fc;s.updateFromServerResponse(n);const a=new _s({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await zp(a),a}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];jt(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?hD(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new fc;c.updateFromIdToken(i);const h=new _s({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new u_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=new Map;function qr(e){Yr(e instanceof Function,"Expected a class definition");let t=ux.get(e);return t?(Yr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ux.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}fD.type="NONE";const hx=fD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(e,t,n){return`firebase:${e}:${t}:${n}`}class dc{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=_p(this.userKey,s.apiKey,a),this.fullPersistenceKey=_p("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Up(this.auth,{idToken:t}).catch(()=>{});return n?_s._fromGetAccountInfoResponse(this.auth,n,t):null}return _s._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new dc(qr(hx),t,i);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=s[0]||qr(hx);const l=_p(i,t.config.apiKey,t.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){let y;if(typeof p=="string"){const _=await Up(t,{idToken:p}).catch(()=>{});if(!_)break;y=await _s._fromGetAccountInfoResponse(t,_,p)}else y=_s._fromJSON(t,p);f!==a&&(c=y),a=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new dc(a,t,i):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new dc(a,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gD(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dD(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vD(t))return"Blackberry";if(_D(t))return"Webos";if(pD(t))return"Safari";if((t.includes("chrome/")||mD(t))&&!t.includes("edge/"))return"Chrome";if(yD(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function dD(e=Zn()){return/firefox\//i.test(e)}function pD(e=Zn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function mD(e=Zn()){return/crios\//i.test(e)}function gD(e=Zn()){return/iemobile/i.test(e)}function yD(e=Zn()){return/android/i.test(e)}function vD(e=Zn()){return/blackberry/i.test(e)}function _D(e=Zn()){return/webos/i.test(e)}function C0(e=Zn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Aj(e=Zn()){var t;return C0(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Rj(){return UL()&&document.documentMode===10}function bD(e=Zn()){return C0(e)||yD(e)||_D(e)||vD(e)||/windows phone/i.test(e)||gD(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(e,t=[]){let n;switch(e){case"Browser":n=fx(Zn());break;case"Worker":n=`${fx(Zn())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=a=>new Promise((l,c)=>{try{const h=t(a);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(e,t={}){return zc(e,"GET","/v2/passwordPolicy",A0(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=6;class Ij{constructor(t){var n,i,s,a;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:kj,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=t.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,s,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,h),this.validatePasswordCharacterOptions(t,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dx(this),this.idTokenSubscription=new dx(this),this.beforeStateQueue=new Cj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=qr(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await dc.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Up(this,{idToken:t}),i=await _s._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(vs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await zp(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=fj()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vs(this.app))return Promise.reject($o(this));const n=t?Jn(t):null;return n&&jt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&jt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vs(this.app)?Promise.reject($o(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vs(this.app)?Promise.reject($o(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Dj(this),n=new Ij(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ol("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await xj(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&qr(t)||this._popupRedirectResolver;jt(n,this,"argument-error"),this.redirectPersistenceManager=await dc.create(this,[qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(jt(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=t.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=t.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;if(vs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&lj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function cf(e){return Jn(e)}class dx{constructor(t){this.auth=t,this.observer=null,this.addObserver=GL(n=>this.observer=n)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pj(e){D0=e}function Oj(e){return D0.loadJS(e)}function Nj(){return D0.gapiScript}function Lj(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(e,t){const n=ll(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Gr(a,t??{}))return s;lr(s,"already-initialized")}return n.initialize({options:t})}function jj(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(qr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function Bj(e,t,n){const i=cf(e);jt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,a=TD(t),{host:l,port:c}=Uj(t),h=c===null?"":`:${c}`,f={url:`${a}//${l}${h}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){jt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),jt(Gr(f,i.config.emulator)&&Gr(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,zj()}function TD(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Uj(e){const t=TD(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:px(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:px(l)}}}function px(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function zj(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(t){return Hr("not implemented")}_linkToIdToken(t,n){return Hr("not implemented")}_getReauthenticationResolver(t){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(e,t){return gj(e,"POST","/v1/accounts:signInWithIdp",A0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="http://localhost";class Qo extends SD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Qo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=n,a=T0(n,["providerId","signInMethod"]);if(!i||!s)return null;const l=new Qo(i,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const n=this.buildRequest();return pc(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,pc(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,pc(t,n)}buildRequest(){const t={requestUri:Fj,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=of(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends k0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends uf{constructor(){super("facebook.com")}static credential(t){return Qo._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ka.credentialFromTaggedObject(t)}static credentialFromError(t){return ka.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ka.credential(t.oauthAccessToken)}catch{return null}}}ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";ka.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends uf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Qo._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Fr.credential(n,i)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends uf{constructor(){super("github.com")}static credential(t){return Qo._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ia.credentialFromTaggedObject(t)}static credentialFromError(t){return Ia.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ia.credential(t.oauthAccessToken)}catch{return null}}}Ia.GITHUB_SIGN_IN_METHOD="github.com";Ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends uf{constructor(){super("twitter.com")}static credential(t,n){return Qo._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ma.credentialFromTaggedObject(t)}static credentialFromError(t){return Ma.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ma.credential(n,i)}catch{return null}}}Ma.TWITTER_SIGN_IN_METHOD="twitter.com";Ma.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const a=await _s._fromIdTokenResponse(t,i,s),l=mx(i);return new wc({user:a,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=mx(i);return new wc({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function mx(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp extends ks{constructor(t,n,i,s){var a;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Fp.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Fp(t,n,i,s)}}function ED(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Fp._fromErrorAndOperation(e,a,t,i):a})}async function Hj(e,t,n=!1){const i=await Ih(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return wc._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(e,t,n=!1){const{auth:i}=e;if(vs(i.app))return Promise.reject($o(i));const s="reauthenticate";try{const a=await Ih(e,ED(i,s,t,e),n);jt(a.idToken,i,"internal-error");const l=R0(a.idToken);jt(l,i,"internal-error");const{sub:c}=l;return jt(e.uid===c,i,"user-mismatch"),wc._forOperation(e,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&lr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wj(e,t,n=!1){if(vs(e.app))return Promise.reject($o(e));const i="signIn",s=await ED(e,i,t),a=await wc._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(a.user),a}function $j(e,t,n,i){return Jn(e).onIdTokenChanged(t,n,i)}function Gj(e,t,n){return Jn(e).beforeAuthStateChanged(t,n)}function Kj(e){return Jn(e).signOut()}const Hp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hp,"1"),this.storage.removeItem(Hp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=1e3,Xj=10;class AD extends xD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bD(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);Rj()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Xj):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},Yj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}AD.type="LOCAL";const Qj=AD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD extends xD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}RD.type="SESSION";const CD=RD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new Rm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(n.origin,a)),h=await Zj(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const f=I0("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(_.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(){return window}function tB(e){Qs().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){return typeof Qs().WorkerGlobalScope<"u"&&typeof Qs().importScripts=="function"}async function eB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nB(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function iB(){return DD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="firebaseLocalStorageDb",sB=1,qp="firebaseLocalStorage",ID="fbase_key";class hf{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cm(e,t){return e.transaction([qp],t?"readwrite":"readonly").objectStore(qp)}function rB(){const e=indexedDB.deleteDatabase(kD);return new hf(e).toPromise()}function h_(){const e=indexedDB.open(kD,sB);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(qp,{keyPath:ID})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(qp)?t(i):(i.close(),await rB(),t(await h_()))})})}async function gx(e,t,n){const i=Cm(e,!0).put({[ID]:t,value:n});return new hf(i).toPromise()}async function aB(e,t){const n=Cm(e,!1).get(t),i=await new hf(n).toPromise();return i===void 0?null:i.value}function yx(e,t){const n=Cm(e,!0).delete(t);return new hf(n).toPromise()}const oB=800,lB=3;class MD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h_(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>lB)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rm._getInstance(iB()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await eB(),!this.activeServiceWorker)return;this.sender=new Jj(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||nB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await h_();return await gx(t,Hp,"1"),await yx(t,Hp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>gx(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>aB(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>yx(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const a=Cm(s,!1).getAll();return new hf(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MD.type="LOCAL";const cB=MD;new lf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(e,t){return t?qr(t):(jt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends SD{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return pc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return pc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return pc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function uB(e){return Wj(e.auth,new M0(e),e.bypassAuthState)}function hB(e){const{auth:t,user:n}=e;return jt(n,t,"internal-error"),qj(n,new M0(e),e.bypassAuthState)}async function fB(e){const{auth:t,user:n}=e;return jt(n,t,"internal-error"),Hj(n,new M0(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t,n,i,s,a=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:l,type:c}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return uB;case"linkViaPopup":case"linkViaRedirect":return fB;case"reauthViaPopup":case"reauthViaRedirect":return hB;default:lr(this.auth,"internal-error")}}resolve(t){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=new lf(2e3,1e4);async function pB(e,t,n){if(vs(e.app))return Promise.reject(ws(e,"operation-not-supported-in-this-environment"));const i=cf(e);cj(e,t,k0);const s=PD(i,n);return new Bo(i,"signInViaPopup",t,s).executeNotNull()}class Bo extends OD{constructor(t,n,i,s,a){super(t,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return jt(t,this.auth,"internal-error"),t}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const t=I0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,dB.get())};t()}}Bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB="pendingRedirect",bp=new Map;class gB extends OD{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=bp.get(this.auth._key());if(!t){try{const i=await yB(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}bp.set(this.auth._key(),t)}return this.bypassAuthState||bp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yB(e,t){const n=bB(t),i=_B(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function vB(e,t){bp.set(e._key(),t)}function _B(e){return qr(e._redirectPersistence)}function bB(e){return _p(mB,e.config.apiKey,e.name)}async function wB(e,t){return await cf(e)._initializationPromise,ND(e,t,!1)}async function ND(e,t,n=!1){if(vs(e.app))return Promise.reject($o(e));const i=cf(e),s=PD(i,t),l=await new gB(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB=10*60*1e3;class SB{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!EB(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!LD(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ws(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=TB&&this.cachedEventUids.clear(),this.cachedEventUids.has(vx(t))}saveEventToCache(t){this.cachedEventUids.add(vx(t)),this.lastProcessedEventTime=Date.now()}}function vx(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function LD({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function EB(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LD(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xB(e,t={}){return zc(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RB=/^https?/;async function CB(e){if(e.config.emulator)return;const{authorizedDomains:t}=await xB(e);for(const n of t)try{if(DB(n))return}catch{}lr(e,"unauthorized-domain")}function DB(e){const t=c_(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const l=new URL(e);return l.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!RB.test(n))return!1;if(AB.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=new lf(3e4,6e4);function _x(){const e=Qs().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function IB(e){return new Promise((t,n)=>{var i,s,a;function l(){_x(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_x(),n(ws(e,"network-request-failed"))},timeout:kB.get()})}if(!((s=(i=Qs().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((a=Qs().gapi)===null||a===void 0)&&a.load)l();else{const c=Lj("iframefcb");return Qs()[c]=()=>{gapi.load?l():n(ws(e,"network-request-failed"))},Oj(`${Nj()}?onload=${c}`).catch(h=>n(h))}}).catch(t=>{throw wp=null,t})}let wp=null;function MB(e){return wp=wp||IB(e),wp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB=new lf(5e3,15e3),OB="__/auth/iframe",NB="emulator/auth/iframe",LB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jB(e){const t=e.config;jt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?x0(t,NB):`https://${e.config.authDomain}/${OB}`,i={apiKey:t.apiKey,appName:e.name,v:Uc},s=VB.get(e.config.apiHost);s&&(i.eid=s);const a=e._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${of(i).slice(1)}`}async function BB(e){const t=await MB(e),n=Qs().gapi;return jt(n,e,"internal-error"),t.open({where:document.body,url:jB(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LB,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const l=ws(e,"network-request-failed"),c=Qs().setTimeout(()=>{a(l)},PB.get());function h(){Qs().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zB=500,FB=600,HB="_blank",qB="http://localhost";class bx{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WB(e,t,n,i=zB,s=FB){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},UB),{width:i.toString(),height:s.toString(),top:a,left:l}),f=Zn().toLowerCase();n&&(c=mD(f)?HB:n),dD(f)&&(t=t||qB,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[b,T])=>`${_}${b}=${T},`,"");if(Aj(f)&&c!=="_self")return $B(t||"",c),new bx(null);const y=window.open(t||"",c,p);jt(y,e,"popup-blocked");try{y.focus()}catch{}return new bx(y)}function $B(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB="__/auth/handler",KB="emulator/auth/handler",YB=encodeURIComponent("fac");async function wx(e,t,n,i,s,a){jt(e.config.authDomain,e,"auth-domain-config-required"),jt(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Uc,eventId:s};if(t instanceof k0){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",$L(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof uf){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await e._getAppCheckToken(),f=h?`#${YB}=${encodeURIComponent(h)}`:"";return`${XB(e)}?${of(c).slice(1)}${f}`}function XB({config:e}){return e.emulator?x0(e,KB):`https://${e.authDomain}/${GB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="webStorageSupport";class QB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CD,this._completeRedirectFn=ND,this._overrideRedirectResult=vB}async _openPopup(t,n,i,s){var a;Yr((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await wx(t,n,i,c_(),s);return WB(t,l,I0())}async _openRedirect(t,n,i,s){await this._originValidation(t);const a=await wx(t,n,i,c_(),s);return tB(a),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Yr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await BB(t),i=new SB(t);return n.register("authEvent",s=>(jt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(yv,{type:yv},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[yv];l!==void 0&&n(!!l),lr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CB(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return bD()||pD()||C0()}}const ZB=QB;var Tx="@firebase/auth",Sx="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eU(e){or(new Ss("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;jt(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wD(e)},f=new Mj(i,s,a,h);return jj(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),or(new Ss("auth-internal",t=>{const n=cf(t.getProvider("auth").getImmediate());return(i=>new JB(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(Tx,Sx,tU(e)),as(Tx,Sx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=5*60,iU=XC("authIdTokenMaxAge")||nU;let Ex=null;const sU=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>iU)return;const s=n==null?void 0:n.token;Ex!==s&&(Ex=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function rU(e=w0()){const t=ll(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Vj(e,{popupRedirectResolver:ZB,persistence:[cB,Qj,CD]}),i=XC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=sU(a.toString());Gj(n,l,()=>l(n.currentUser)),$j(n,c=>l(c))}}const s=KC("auth");return s&&Bj(n,`http://${s}`),n}function aU(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}Pj({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const a=ws("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",aU().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eU("Browser");var xx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ba,VD;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,D){function I(){}I.prototype=D.prototype,M.D=D.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(B,N,U){for(var L=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)L[ft-2]=arguments[ft];return D.prototype[N].apply(B,L)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,D,I){I||(I=0);var B=Array(16);if(typeof D=="string")for(var N=0;16>N;++N)B[N]=D.charCodeAt(I++)|D.charCodeAt(I++)<<8|D.charCodeAt(I++)<<16|D.charCodeAt(I++)<<24;else for(N=0;16>N;++N)B[N]=D[I++]|D[I++]<<8|D[I++]<<16|D[I++]<<24;D=M.g[0],I=M.g[1],N=M.g[2];var U=M.g[3],L=D+(U^I&(N^U))+B[0]+3614090360&4294967295;D=I+(L<<7&4294967295|L>>>25),L=U+(N^D&(I^N))+B[1]+3905402710&4294967295,U=D+(L<<12&4294967295|L>>>20),L=N+(I^U&(D^I))+B[2]+606105819&4294967295,N=U+(L<<17&4294967295|L>>>15),L=I+(D^N&(U^D))+B[3]+3250441966&4294967295,I=N+(L<<22&4294967295|L>>>10),L=D+(U^I&(N^U))+B[4]+4118548399&4294967295,D=I+(L<<7&4294967295|L>>>25),L=U+(N^D&(I^N))+B[5]+1200080426&4294967295,U=D+(L<<12&4294967295|L>>>20),L=N+(I^U&(D^I))+B[6]+2821735955&4294967295,N=U+(L<<17&4294967295|L>>>15),L=I+(D^N&(U^D))+B[7]+4249261313&4294967295,I=N+(L<<22&4294967295|L>>>10),L=D+(U^I&(N^U))+B[8]+1770035416&4294967295,D=I+(L<<7&4294967295|L>>>25),L=U+(N^D&(I^N))+B[9]+2336552879&4294967295,U=D+(L<<12&4294967295|L>>>20),L=N+(I^U&(D^I))+B[10]+4294925233&4294967295,N=U+(L<<17&4294967295|L>>>15),L=I+(D^N&(U^D))+B[11]+2304563134&4294967295,I=N+(L<<22&4294967295|L>>>10),L=D+(U^I&(N^U))+B[12]+1804603682&4294967295,D=I+(L<<7&4294967295|L>>>25),L=U+(N^D&(I^N))+B[13]+4254626195&4294967295,U=D+(L<<12&4294967295|L>>>20),L=N+(I^U&(D^I))+B[14]+2792965006&4294967295,N=U+(L<<17&4294967295|L>>>15),L=I+(D^N&(U^D))+B[15]+1236535329&4294967295,I=N+(L<<22&4294967295|L>>>10),L=D+(N^U&(I^N))+B[1]+4129170786&4294967295,D=I+(L<<5&4294967295|L>>>27),L=U+(I^N&(D^I))+B[6]+3225465664&4294967295,U=D+(L<<9&4294967295|L>>>23),L=N+(D^I&(U^D))+B[11]+643717713&4294967295,N=U+(L<<14&4294967295|L>>>18),L=I+(U^D&(N^U))+B[0]+3921069994&4294967295,I=N+(L<<20&4294967295|L>>>12),L=D+(N^U&(I^N))+B[5]+3593408605&4294967295,D=I+(L<<5&4294967295|L>>>27),L=U+(I^N&(D^I))+B[10]+38016083&4294967295,U=D+(L<<9&4294967295|L>>>23),L=N+(D^I&(U^D))+B[15]+3634488961&4294967295,N=U+(L<<14&4294967295|L>>>18),L=I+(U^D&(N^U))+B[4]+3889429448&4294967295,I=N+(L<<20&4294967295|L>>>12),L=D+(N^U&(I^N))+B[9]+568446438&4294967295,D=I+(L<<5&4294967295|L>>>27),L=U+(I^N&(D^I))+B[14]+3275163606&4294967295,U=D+(L<<9&4294967295|L>>>23),L=N+(D^I&(U^D))+B[3]+4107603335&4294967295,N=U+(L<<14&4294967295|L>>>18),L=I+(U^D&(N^U))+B[8]+1163531501&4294967295,I=N+(L<<20&4294967295|L>>>12),L=D+(N^U&(I^N))+B[13]+2850285829&4294967295,D=I+(L<<5&4294967295|L>>>27),L=U+(I^N&(D^I))+B[2]+4243563512&4294967295,U=D+(L<<9&4294967295|L>>>23),L=N+(D^I&(U^D))+B[7]+1735328473&4294967295,N=U+(L<<14&4294967295|L>>>18),L=I+(U^D&(N^U))+B[12]+2368359562&4294967295,I=N+(L<<20&4294967295|L>>>12),L=D+(I^N^U)+B[5]+4294588738&4294967295,D=I+(L<<4&4294967295|L>>>28),L=U+(D^I^N)+B[8]+2272392833&4294967295,U=D+(L<<11&4294967295|L>>>21),L=N+(U^D^I)+B[11]+1839030562&4294967295,N=U+(L<<16&4294967295|L>>>16),L=I+(N^U^D)+B[14]+4259657740&4294967295,I=N+(L<<23&4294967295|L>>>9),L=D+(I^N^U)+B[1]+2763975236&4294967295,D=I+(L<<4&4294967295|L>>>28),L=U+(D^I^N)+B[4]+1272893353&4294967295,U=D+(L<<11&4294967295|L>>>21),L=N+(U^D^I)+B[7]+4139469664&4294967295,N=U+(L<<16&4294967295|L>>>16),L=I+(N^U^D)+B[10]+3200236656&4294967295,I=N+(L<<23&4294967295|L>>>9),L=D+(I^N^U)+B[13]+681279174&4294967295,D=I+(L<<4&4294967295|L>>>28),L=U+(D^I^N)+B[0]+3936430074&4294967295,U=D+(L<<11&4294967295|L>>>21),L=N+(U^D^I)+B[3]+3572445317&4294967295,N=U+(L<<16&4294967295|L>>>16),L=I+(N^U^D)+B[6]+76029189&4294967295,I=N+(L<<23&4294967295|L>>>9),L=D+(I^N^U)+B[9]+3654602809&4294967295,D=I+(L<<4&4294967295|L>>>28),L=U+(D^I^N)+B[12]+3873151461&4294967295,U=D+(L<<11&4294967295|L>>>21),L=N+(U^D^I)+B[15]+530742520&4294967295,N=U+(L<<16&4294967295|L>>>16),L=I+(N^U^D)+B[2]+3299628645&4294967295,I=N+(L<<23&4294967295|L>>>9),L=D+(N^(I|~U))+B[0]+4096336452&4294967295,D=I+(L<<6&4294967295|L>>>26),L=U+(I^(D|~N))+B[7]+1126891415&4294967295,U=D+(L<<10&4294967295|L>>>22),L=N+(D^(U|~I))+B[14]+2878612391&4294967295,N=U+(L<<15&4294967295|L>>>17),L=I+(U^(N|~D))+B[5]+4237533241&4294967295,I=N+(L<<21&4294967295|L>>>11),L=D+(N^(I|~U))+B[12]+1700485571&4294967295,D=I+(L<<6&4294967295|L>>>26),L=U+(I^(D|~N))+B[3]+2399980690&4294967295,U=D+(L<<10&4294967295|L>>>22),L=N+(D^(U|~I))+B[10]+4293915773&4294967295,N=U+(L<<15&4294967295|L>>>17),L=I+(U^(N|~D))+B[1]+2240044497&4294967295,I=N+(L<<21&4294967295|L>>>11),L=D+(N^(I|~U))+B[8]+1873313359&4294967295,D=I+(L<<6&4294967295|L>>>26),L=U+(I^(D|~N))+B[15]+4264355552&4294967295,U=D+(L<<10&4294967295|L>>>22),L=N+(D^(U|~I))+B[6]+2734768916&4294967295,N=U+(L<<15&4294967295|L>>>17),L=I+(U^(N|~D))+B[13]+1309151649&4294967295,I=N+(L<<21&4294967295|L>>>11),L=D+(N^(I|~U))+B[4]+4149444226&4294967295,D=I+(L<<6&4294967295|L>>>26),L=U+(I^(D|~N))+B[11]+3174756917&4294967295,U=D+(L<<10&4294967295|L>>>22),L=N+(D^(U|~I))+B[2]+718787259&4294967295,N=U+(L<<15&4294967295|L>>>17),L=I+(U^(N|~D))+B[9]+3951481745&4294967295,M.g[0]=M.g[0]+D&4294967295,M.g[1]=M.g[1]+(N+(L<<21&4294967295|L>>>11))&4294967295,M.g[2]=M.g[2]+N&4294967295,M.g[3]=M.g[3]+U&4294967295}i.prototype.u=function(M,D){D===void 0&&(D=M.length);for(var I=D-this.blockSize,B=this.B,N=this.h,U=0;U<D;){if(N==0)for(;U<=I;)s(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<D;)if(B[N++]=M.charCodeAt(U++),N==this.blockSize){s(this,B),N=0;break}}else for(;U<D;)if(B[N++]=M[U++],N==this.blockSize){s(this,B),N=0;break}}this.h=N,this.o+=D},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var D=1;D<M.length-8;++D)M[D]=0;var I=8*this.o;for(D=M.length-8;D<M.length;++D)M[D]=I&255,I/=256;for(this.u(M),M=Array(16),D=I=0;4>D;++D)for(var B=0;32>B;B+=8)M[I++]=this.g[D]>>>B&255;return M};function a(M,D){var I=c;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=D(M)}function l(M,D){this.h=D;for(var I=[],B=!0,N=M.length-1;0<=N;N--){var U=M[N]|0;B&&U==D||(I[N]=U,B=!1)}this.g=I}var c={};function h(M){return-128<=M&&128>M?a(M,function(D){return new l([D|0],0>D?-1:0)}):new l([M|0],0>M?-1:0)}function f(M){if(isNaN(M)||!isFinite(M))return y;if(0>M)return S(f(-M));for(var D=[],I=1,B=0;M>=I;B++)D[B]=M/I|0,I*=4294967296;return new l(D,0)}function p(M,D){if(M.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(M.charAt(0)=="-")return S(p(M.substring(1),D));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=f(Math.pow(D,8)),B=y,N=0;N<M.length;N+=8){var U=Math.min(8,M.length-N),L=parseInt(M.substring(N,N+U),D);8>U?(U=f(Math.pow(D,U)),B=B.j(U).add(f(L))):(B=B.j(I),B=B.add(f(L)))}return B}var y=h(0),_=h(1),b=h(16777216);e=l.prototype,e.m=function(){if(E(this))return-S(this).m();for(var M=0,D=1,I=0;I<this.g.length;I++){var B=this.i(I);M+=(0<=B?B:4294967296+B)*D,D*=4294967296}return M},e.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(T(this))return"0";if(E(this))return"-"+S(this).toString(M);for(var D=f(Math.pow(M,6)),I=this,B="";;){var N=W(I,D).g;I=C(I,N.j(D));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=N,T(I))return U+B;for(;6>U.length;)U="0"+U;B=U+B}},e.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function T(M){if(M.h!=0)return!1;for(var D=0;D<M.g.length;D++)if(M.g[D]!=0)return!1;return!0}function E(M){return M.h==-1}e.l=function(M){return M=C(this,M),E(M)?-1:T(M)?0:1};function S(M){for(var D=M.g.length,I=[],B=0;B<D;B++)I[B]=~M.g[B];return new l(I,~M.h).add(_)}e.abs=function(){return E(this)?S(this):this},e.add=function(M){for(var D=Math.max(this.g.length,M.g.length),I=[],B=0,N=0;N<=D;N++){var U=B+(this.i(N)&65535)+(M.i(N)&65535),L=(U>>>16)+(this.i(N)>>>16)+(M.i(N)>>>16);B=L>>>16,U&=65535,L&=65535,I[N]=L<<16|U}return new l(I,I[I.length-1]&-2147483648?-1:0)};function C(M,D){return M.add(S(D))}e.j=function(M){if(T(this)||T(M))return y;if(E(this))return E(M)?S(this).j(S(M)):S(S(this).j(M));if(E(M))return S(this.j(S(M)));if(0>this.l(b)&&0>M.l(b))return f(this.m()*M.m());for(var D=this.g.length+M.g.length,I=[],B=0;B<2*D;B++)I[B]=0;for(B=0;B<this.g.length;B++)for(var N=0;N<M.g.length;N++){var U=this.i(B)>>>16,L=this.i(B)&65535,ft=M.i(N)>>>16,gt=M.i(N)&65535;I[2*B+2*N]+=L*gt,V(I,2*B+2*N),I[2*B+2*N+1]+=U*gt,V(I,2*B+2*N+1),I[2*B+2*N+1]+=L*ft,V(I,2*B+2*N+1),I[2*B+2*N+2]+=U*ft,V(I,2*B+2*N+2)}for(B=0;B<D;B++)I[B]=I[2*B+1]<<16|I[2*B];for(B=D;B<2*D;B++)I[B]=0;return new l(I,0)};function V(M,D){for(;(M[D]&65535)!=M[D];)M[D+1]+=M[D]>>>16,M[D]&=65535,D++}function j(M,D){this.g=M,this.h=D}function W(M,D){if(T(D))throw Error("division by zero");if(T(M))return new j(y,y);if(E(M))return D=W(S(M),D),new j(S(D.g),S(D.h));if(E(D))return D=W(M,S(D)),new j(S(D.g),D.h);if(30<M.g.length){if(E(M)||E(D))throw Error("slowDivide_ only works with positive integers.");for(var I=_,B=D;0>=B.l(M);)I=z(I),B=z(B);var N=$(I,1),U=$(B,1);for(B=$(B,2),I=$(I,2);!T(B);){var L=U.add(B);0>=L.l(M)&&(N=N.add(I),U=L),B=$(B,1),I=$(I,1)}return D=C(M,N.j(D)),new j(N,D)}for(N=y;0<=M.l(D);){for(I=Math.max(1,Math.floor(M.m()/D.m())),B=Math.ceil(Math.log(I)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),U=f(I),L=U.j(D);E(L)||0<L.l(M);)I-=B,U=f(I),L=U.j(D);T(U)&&(U=_),N=N.add(U),M=C(M,L)}return new j(N,M)}e.A=function(M){return W(this,M).h},e.and=function(M){for(var D=Math.max(this.g.length,M.g.length),I=[],B=0;B<D;B++)I[B]=this.i(B)&M.i(B);return new l(I,this.h&M.h)},e.or=function(M){for(var D=Math.max(this.g.length,M.g.length),I=[],B=0;B<D;B++)I[B]=this.i(B)|M.i(B);return new l(I,this.h|M.h)},e.xor=function(M){for(var D=Math.max(this.g.length,M.g.length),I=[],B=0;B<D;B++)I[B]=this.i(B)^M.i(B);return new l(I,this.h^M.h)};function z(M){for(var D=M.g.length+1,I=[],B=0;B<D;B++)I[B]=M.i(B)<<1|M.i(B-1)>>>31;return new l(I,M.h)}function $(M,D){var I=D>>5;D%=32;for(var B=M.g.length-I,N=[],U=0;U<B;U++)N[U]=0<D?M.i(U+I)>>>D|M.i(U+I+1)<<32-D:M.i(U+I);return new l(N,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,VD=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,Ba=l}).apply(typeof xx<"u"?xx:typeof self<"u"?self:typeof window<"u"?window:{});var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jD,ah,BD,Tp,f_,UD,zD,FD;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,w,x){return m==Array.prototype||m==Object.prototype||(m[w]=x.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wd=="object"&&Wd];for(var w=0;w<m.length;++w){var x=m[w];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=n(this);function s(m,w){if(w)t:{var x=i;m=m.split(".");for(var O=0;O<m.length-1;O++){var Y=m[O];if(!(Y in x))break t;x=x[Y]}m=m[m.length-1],O=x[m],w=w(O),w!=O&&w!=null&&t(x,m,{configurable:!0,writable:!0,value:w})}}function a(m,w){m instanceof String&&(m+="");var x=0,O=!1,Y={next:function(){if(!O&&x<m.length){var tt=x++;return{value:w(tt,m[tt]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(m){return m||function(){return a(this,function(w,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(m){var w=typeof m;return w=w!="object"?w:m?Array.isArray(m)?"array":w:"null",w=="array"||w=="object"&&typeof m.length=="number"}function f(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function p(m,w,x){return m.call.apply(m.bind,arguments)}function y(m,w,x){if(!m)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,O),m.apply(w,Y)}}return function(){return m.apply(w,arguments)}}function _(m,w,x){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,_.apply(null,arguments)}function b(m,w){var x=Array.prototype.slice.call(arguments,1);return function(){var O=x.slice();return O.push.apply(O,arguments),m.apply(this,O)}}function T(m,w){function x(){}x.prototype=w.prototype,m.aa=w.prototype,m.prototype=new x,m.prototype.constructor=m,m.Qb=function(O,Y,tt){for(var mt=Array(arguments.length-2),re=2;re<arguments.length;re++)mt[re-2]=arguments[re];return w.prototype[Y].apply(O,mt)}}function E(m){const w=m.length;if(0<w){const x=Array(w);for(let O=0;O<w;O++)x[O]=m[O];return x}return[]}function S(m,w){for(let x=1;x<arguments.length;x++){const O=arguments[x];if(h(O)){const Y=m.length||0,tt=O.length||0;m.length=Y+tt;for(let mt=0;mt<tt;mt++)m[Y+mt]=O[mt]}else m.push(O)}}class C{constructor(w,x){this.i=w,this.j=x,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function V(m){return/^[\s\xa0]*$/.test(m)}function j(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function W(m){return W[" "](m),m}W[" "]=function(){};var z=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function $(m,w,x){for(const O in m)w.call(x,m[O],O,m)}function M(m,w){for(const x in m)w.call(void 0,m[x],x,m)}function D(m){const w={};for(const x in m)w[x]=m[x];return w}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(m,w){let x,O;for(let Y=1;Y<arguments.length;Y++){O=arguments[Y];for(x in O)m[x]=O[x];for(let tt=0;tt<I.length;tt++)x=I[tt],Object.prototype.hasOwnProperty.call(O,x)&&(m[x]=O[x])}}function N(m){var w=1;m=m.split(":");const x=[];for(;0<w&&m.length;)x.push(m.shift()),w--;return m.length&&x.push(m.join(":")),x}function U(m){c.setTimeout(()=>{throw m},0)}function L(){var m=xt;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class ft{constructor(){this.h=this.g=null}add(w,x){const O=gt.get();O.set(w,x),this.h?this.h.next=O:this.g=O,this.h=O}}var gt=new C(()=>new K,m=>m.reset());class K{constructor(){this.next=this.g=this.h=null}set(w,x){this.h=w,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let et,dt=!1,xt=new ft,H=()=>{const m=c.Promise.resolve(void 0);et=()=>{m.then(nt)}};var nt=()=>{for(var m;m=L();){try{m.h.call(m.g)}catch(x){U(x)}var w=gt;w.j(m),100>w.h&&(w.h++,m.next=w.g,w.g=m)}dt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const x=()=>{};c.addEventListener("test",x,w),c.removeEventListener("test",x,w)}catch{}return m}();function It(m,w){if(lt.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var x=this.type=m.type,O=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget){if(z){t:{try{W(w.nodeName);var Y=!0;break t}catch{}Y=!1}Y||(w=null)}}else x=="mouseover"?w=m.fromElement:x=="mouseout"&&(w=m.toElement);this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:St[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&It.aa.h.call(this)}}T(It,lt);var St={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function He(m,w,x,O,Y){this.listener=m,this.proxy=null,this.src=w,this.type=x,this.capture=!!O,this.ha=Y,this.key=++Ft,this.da=this.fa=!1}function Oe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function tn(m){this.src=m,this.g={},this.h=0}tn.prototype.add=function(m,w,x,O,Y){var tt=m.toString();m=this.g[tt],m||(m=this.g[tt]=[],this.h++);var mt=Sn(m,w,O,Y);return-1<mt?(w=m[mt],x||(w.fa=!1)):(w=new He(w,this.src,tt,!!O,Y),w.fa=x,m.push(w)),w};function ei(m,w){var x=w.type;if(x in m.g){var O=m.g[x],Y=Array.prototype.indexOf.call(O,w,void 0),tt;(tt=0<=Y)&&Array.prototype.splice.call(O,Y,1),tt&&(Oe(w),m.g[x].length==0&&(delete m.g[x],m.h--))}}function Sn(m,w,x,O){for(var Y=0;Y<m.length;++Y){var tt=m[Y];if(!tt.da&&tt.listener==w&&tt.capture==!!x&&tt.ha==O)return Y}return-1}var ni="closure_lm_"+(1e6*Math.random()|0),De={};function us(m,w,x,O,Y){if(Array.isArray(w)){for(var tt=0;tt<w.length;tt++)us(m,w[tt],x,O,Y);return null}return x=zn(x),m&&m[me]?m.K(w,x,f(O)?!!O.capture:!1,Y):qe(m,w,x,!1,O,Y)}function qe(m,w,x,O,Y,tt){if(!w)throw Error("Invalid event type");var mt=f(Y)?!!Y.capture:!!Y,re=hi(m);if(re||(m[ni]=re=new tn(m)),x=re.add(w,x,O,mt,tt),x.proxy)return x;if(O=Ei(),x.proxy=O,O.src=m,O.listener=x,m.addEventListener)yt||(Y=mt),Y===void 0&&(Y=!1),m.addEventListener(w.toString(),O,Y);else if(m.attachEvent)m.attachEvent(si(w.toString()),O);else if(m.addListener&&m.removeListener)m.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ei(){function m(x){return w.call(m.src,m.listener,x)}const w=hs;return m}function fe(m,w,x,O,Y){if(Array.isArray(w))for(var tt=0;tt<w.length;tt++)fe(m,w[tt],x,O,Y);else O=f(O)?!!O.capture:!!O,x=zn(x),m&&m[me]?(m=m.i,w=String(w).toString(),w in m.g&&(tt=m.g[w],x=Sn(tt,x,O,Y),-1<x&&(Oe(tt[x]),Array.prototype.splice.call(tt,x,1),tt.length==0&&(delete m.g[w],m.h--)))):m&&(m=hi(m))&&(w=m.g[w.toString()],m=-1,w&&(m=Sn(w,x,O,Y)),(x=-1<m?w[m]:null)&&ii(x))}function ii(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[me])ei(w.i,m);else{var x=m.type,O=m.proxy;w.removeEventListener?w.removeEventListener(x,O,m.capture):w.detachEvent?w.detachEvent(si(x),O):w.addListener&&w.removeListener&&w.removeListener(O),(x=hi(w))?(ei(x,m),x.h==0&&(x.src=null,w[ni]=null)):Oe(m)}}}function si(m){return m in De?De[m]:De[m]="on"+m}function hs(m,w){if(m.da)m=!0;else{w=new It(w,this);var x=m.listener,O=m.ha||m.src;m.fa&&ii(m),m=x.call(O,w)}return m}function hi(m){return m=m[ni],m instanceof tn?m:null}var Bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function zn(m){return typeof m=="function"?m:(m[Bi]||(m[Bi]=function(w){return m.handleEvent(w)}),m[Bi])}function it(){ht.call(this),this.i=new tn(this),this.M=this,this.F=null}T(it,ht),it.prototype[me]=!0,it.prototype.removeEventListener=function(m,w,x,O){fe(this,m,w,x,O)};function pt(m,w){var x,O=m.F;if(O)for(x=[];O;O=O.F)x.push(O);if(m=m.M,O=w.type||w,typeof w=="string")w=new lt(w,m);else if(w instanceof lt)w.target=w.target||m;else{var Y=w;w=new lt(O,m),B(w,Y)}if(Y=!0,x)for(var tt=x.length-1;0<=tt;tt--){var mt=w.g=x[tt];Y=Ot(mt,O,!0,w)&&Y}if(mt=w.g=m,Y=Ot(mt,O,!0,w)&&Y,Y=Ot(mt,O,!1,w)&&Y,x)for(tt=0;tt<x.length;tt++)mt=w.g=x[tt],Y=Ot(mt,O,!1,w)&&Y}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var m=this.i,w;for(w in m.g){for(var x=m.g[w],O=0;O<x.length;O++)Oe(x[O]);delete m.g[w],m.h--}}this.F=null},it.prototype.K=function(m,w,x,O){return this.i.add(String(m),w,!1,x,O)},it.prototype.L=function(m,w,x,O){return this.i.add(String(m),w,!0,x,O)};function Ot(m,w,x,O){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();for(var Y=!0,tt=0;tt<w.length;++tt){var mt=w[tt];if(mt&&!mt.da&&mt.capture==x){var re=mt.listener,gn=mt.ha||mt.src;mt.fa&&ei(m.i,mt),Y=re.call(gn,O)!==!1&&Y}}return Y&&!O.defaultPrevented}function Rt(m,w,x){if(typeof m=="function")x&&(m=_(m,x));else if(m&&typeof m.handleEvent=="function")m=_(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(m,w||0)}function Tt(m){m.g=Rt(()=>{m.g=null,m.i&&(m.i=!1,Tt(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class Nt extends ht{constructor(w,x){super(),this.m=w,this.l=x,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wt(m){ht.call(this),this.h=m,this.g={}}T(Wt,ht);var qt=[];function Lt(m){$(m.g,function(w,x){this.g.hasOwnProperty(x)&&ii(w)},m),m.g={}}Wt.prototype.N=function(){Wt.aa.N.call(this),Lt(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kt=c.JSON.stringify,Be=c.JSON.parse,pn=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function fi(){}fi.prototype.h=null;function ri(m){return m.h||(m.h=m.i())}function We(){}var Re={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ne(){lt.call(this,"d")}T(Ne,lt);function $e(){lt.call(this,"c")}T($e,lt);var ce={},Ge=null;function Et(){return Ge=Ge||new it}ce.La="serverreachability";function $t(m){lt.call(this,ce.La,m)}T($t,lt);function Ke(m){const w=Et();pt(w,new $t(w))}ce.STAT_EVENT="statevent";function Ui(m,w){lt.call(this,ce.STAT_EVENT,m),this.stat=w}T(Ui,lt);function ut(m){const w=Et();pt(w,new Ui(w,m))}ce.Ma="timingevent";function _t(m,w){lt.call(this,ce.Ma,m),this.size=w}T(_t,lt);function bt(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},w)}function de(){this.g=!0}de.prototype.xa=function(){this.g=!1};function Ye(m,w,x,O,Y,tt){m.info(function(){if(m.g)if(tt)for(var mt="",re=tt.split("&"),gn=0;gn<re.length;gn++){var ae=re[gn].split("=");if(1<ae.length){var An=ae[0];ae=ae[1];var yn=An.split("_");mt=2<=yn.length&&yn[1]=="type"?mt+(An+"="+ae+"&"):mt+(An+"=redacted&")}}else mt=null;else mt=tt;return"XMLHTTP REQ ("+O+") [attempt "+Y+"]: "+w+`
`+x+`
`+mt})}function di(m,w,x,O,Y,tt,mt){m.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Y+"]: "+w+`
`+x+`
`+tt+" "+mt})}function mn(m,w,x,O){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+ln(m,x)+(O?" "+O:"")})}function on(m,w){m.info(function(){return"TIMEOUT: "+w})}de.prototype.info=function(){};function ln(m,w){if(!m.g)return w;if(!w)return null;try{var x=JSON.parse(w);if(x){for(m=0;m<x.length;m++)if(Array.isArray(x[m])){var O=x[m];if(!(2>O.length)){var Y=O[1];if(Array.isArray(Y)&&!(1>Y.length)){var tt=Y[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(var mt=1;mt<Y.length;mt++)Y[mt]=""}}}}return Kt(x)}catch{return w}}var ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zi;function Fi(){}T(Fi,fi),Fi.prototype.g=function(){return new XMLHttpRequest},Fi.prototype.i=function(){return{}},zi=new Fi;function En(m,w,x,O){this.j=m,this.i=w,this.l=x,this.R=O||1,this.U=new Wt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}var ta={},gr={};function pi(m,w,x){m.L=1,m.v=so(Ai(w)),m.m=x,m.P=!0,Yt(m,null)}function Yt(m,w){m.F=Date.now(),xi(m),m.A=Ai(m.v);var x=m.A,O=m.R;Array.isArray(O)||(O=[String(O)]),iu(x.i,"t",O),m.C=0,x=m.j.J,m.h=new Le,m.g=Bf(m.j,x?w:null,!m.m),0<m.O&&(m.M=new Nt(_(m.Y,m,m.g),m.O)),w=m.U,x=m.g,O=m.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(qt[0]=Y.toString()),Y=qt);for(var tt=0;tt<Y.length;tt++){var mt=us(x,Y[tt],O||w.handleEvent,!1,w.h||w);if(!mt)break;w.g[mt.key]=mt}w=m.H?D(m.H):{},m.m?(m.u||(m.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,w)):(m.u="GET",m.g.ea(m.A,m.u,null,w)),Ke(),Ye(m.i,m.u,m.A,m.l,m.R,m.m)}En.prototype.ca=function(m){m=m.target;const w=this.M;w&&Gi(m)==3?w.j():this.Y(m)},En.prototype.Y=function(m){try{if(m==this.g)t:{const yn=Gi(this.g);var w=this.g.Ba();const Er=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||If(this.g)))){this.J||yn!=4||w==7||(w==8||0>=Er?Ke(3):Ke(2)),Hi(this);var x=this.g.Z();this.X=x;e:if(mi(this)){var O=If(this.g);m="";var Y=O.length,tt=Gi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Is(this);var mt="";break e}this.h.i=new c.TextDecoder}for(w=0;w<Y;w++)this.h.h=!0,m+=this.h.i.decode(O[w],{stream:!(tt&&w==Y-1)});O.length=0,this.h.g+=m,this.C=0,mt=this.h.g}else mt=this.g.oa();if(this.o=x==200,di(this.i,this.u,this.A,this.l,this.R,yn,x),this.o){if(this.T&&!this.K){e:{if(this.g){var re,gn=this.g;if((re=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(re)){var ae=re;break e}}ae=null}if(x=ae)mn(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eo(this,x);else{this.o=!1,this.s=3,ut(12),Mn(this),Is(this);break t}}if(this.P){x=!0;let Pn;for(;!this.J&&this.C<mt.length;)if(Pn=ea(this,mt),Pn==gr){yn==4&&(this.s=4,ut(14),x=!1),mn(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==ta){this.s=4,ut(15),mn(this.i,this.l,mt,"[Invalid Chunk]"),x=!1;break}else mn(this.i,this.l,Pn,null),eo(this,Pn);if(mi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||mt.length!=0||this.h.h||(this.s=1,ut(16),x=!1),this.o=this.o&&x,!x)mn(this.i,this.l,mt,"[Invalid Chunked Response]"),Mn(this),Is(this);else if(0<mt.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+mt.length),fo(An),An.M=!0,ut(11))}}else mn(this.i,this.l,mt,null),eo(this,mt);yn==4&&Mn(this),this.o&&!this.J&&(yn==4?Lf(this.j,this):(this.o=!1,xi(this)))}else hg(this.g),x==400&&0<mt.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Mn(this),Is(this)}}}catch{}finally{}};function mi(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function ea(m,w){var x=m.C,O=w.indexOf(`
`,x);return O==-1?gr:(x=Number(w.substring(x,O)),isNaN(x)?ta:(O+=1,O+x>w.length?gr:(w=w.slice(O,O+x),m.C=O+x,w)))}En.prototype.cancel=function(){this.J=!0,Mn(this)};function xi(m){m.S=Date.now()+m.I,dl(m,m.I)}function dl(m,w){if(m.B!=null)throw Error("WatchDog timer not null");m.B=bt(_(m.ba,m),w)}function Hi(m){m.B&&(c.clearTimeout(m.B),m.B=null)}En.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(on(this.i,this.A),this.L!=2&&(Ke(),ut(17)),Mn(this),this.s=2,Is(this)):dl(this,this.S-m)};function Is(m){m.j.G==0||m.J||Lf(m.j,m)}function Mn(m){Hi(m);var w=m.M;w&&typeof w.ma=="function"&&w.ma(),m.M=null,Lt(m.U),m.g&&(w=m.g,m.g=null,w.abort(),w.ma())}function eo(m,w){try{var x=m.j;if(x.G!=0&&(x.g==m||Zc(x.h,m))){if(!m.K&&Zc(x.h,m)&&x.G==3){try{var O=x.Da.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Y=O;if(Y[0]==0){t:if(!x.u){if(x.g)if(x.g.F+3e3<m.F)xl(x),Sl(x);else break t;lu(x),ut(18)}}else x.za=Y[1],0<x.za-x.T&&37500>Y[2]&&x.F&&x.v==0&&!x.C&&(x.C=bt(_(x.Za,x),6e3));if(1>=ml(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Sr(x,11)}else if((m.K||x.g==m)&&xl(x),!V(w))for(Y=x.Da.g.parse(w),w=0;w<Y.length;w++){let ae=Y[w];if(x.T=ae[0],ae=ae[1],x.G==2)if(ae[0]=="c"){x.K=ae[1],x.ia=ae[2];const An=ae[3];An!=null&&(x.la=An,x.j.info("VER="+x.la));const yn=ae[4];yn!=null&&(x.Aa=yn,x.j.info("SVER="+x.Aa));const Er=ae[5];Er!=null&&typeof Er=="number"&&0<Er&&(O=1.5*Er,x.L=O,x.j.info("backChannelRequestTimeoutMs_="+O)),O=x;const Pn=m.g;if(Pn){const js=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var tt=O.h;tt.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(gl(tt,tt.h),tt.h=null))}if(O.D){const uu=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;uu&&(O.ya=uu,Se(O.I,O.D,uu))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-m.F,x.j.info("Handshake RTT: "+x.R+"ms")),O=x;var mt=m;if(O.qa=jf(O,O.J?O.ia:null,O.W),mt.K){ai(O.h,mt);var re=mt,gn=O.L;gn&&(re.I=gn),re.B&&(Hi(re),xi(re)),O.g=mt}else Of(O);0<x.i.length&&El(x)}else ae[0]!="stop"&&ae[0]!="close"||Sr(x,7);else x.G==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?Sr(x,7):au(x):ae[0]!="noop"&&x.l&&x.l.ta(ae),x.v=0)}}Ke(4)}catch{}}var Rf=class{constructor(m,w){this.g=m,this.map=w}};function yr(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pl(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ml(m){return m.h?1:m.g?m.g.size:0}function Zc(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function gl(m,w){m.g?m.g.add(w):m.h=w}function ai(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}yr.prototype.cancel=function(){if(this.i=Jc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Jc(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const x of m.g.values())w=w.concat(x.D);return w}return E(m.i)}function og(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var w=[],x=m.length,O=0;O<x;O++)w.push(m[O]);return w}w=[],x=0;for(O in m)w[x++]=m[O];return w}function yl(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var w=[];m=m.length;for(var x=0;x<m;x++)w.push(x);return w}w=[],x=0;for(const O in m)w[x++]=O;return w}}}function tu(m,w){if(m.forEach&&typeof m.forEach=="function")m.forEach(w,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,w,void 0);else for(var x=yl(m),O=og(m),Y=O.length,tt=0;tt<Y;tt++)w.call(void 0,O[tt],x&&x[tt],m)}var no=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lg(m,w){if(m){m=m.split("&");for(var x=0;x<m.length;x++){var O=m[x].indexOf("="),Y=null;if(0<=O){var tt=m[x].substring(0,O);Y=m[x].substring(O+1)}else tt=m[x];w(tt,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function cn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof cn){this.h=m.h,io(this,m.j),this.o=m.o,this.g=m.g,na(this,m.s),this.l=m.l;var w=m.i,x=new _r;x.i=w.i,w.g&&(x.g=new Map(w.g),x.h=w.h),vr(this,x),this.m=m.m}else m&&(w=String(m).match(no))?(this.h=!1,io(this,w[1]||"",!0),this.o=qi(w[2]||""),this.g=qi(w[3]||"",!0),na(this,w[4]),this.l=qi(w[5]||"",!0),vr(this,w[6]||"",!0),this.m=qi(w[7]||"")):(this.h=!1,this.i=new _r(null,this.h))}cn.prototype.toString=function(){var m=[],w=this.j;w&&m.push(ro(w,eu,!0),":");var x=this.g;return(x||w=="file")&&(m.push("//"),(w=this.o)&&m.push(ro(w,eu,!0),"@"),m.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&m.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&m.push("/"),m.push(ro(x,x.charAt(0)=="/"?cg:nu,!0))),(x=this.i.toString())&&m.push("?",x),(x=this.m)&&m.push("#",ro(x,vl)),m.join("")};function Ai(m){return new cn(m)}function io(m,w,x){m.j=x?qi(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function na(m,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);m.s=w}else m.s=null}function vr(m,w,x){w instanceof _r?(m.i=w,Df(m.i,m.h)):(x||(w=ro(w,ug)),m.i=new _r(w,m.h))}function Se(m,w,x){m.i.set(w,x)}function so(m){return Se(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function qi(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ro(m,w,x){return typeof m=="string"?(m=encodeURI(m).replace(w,Cf),x&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Cf(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var eu=/[#\/\?@]/g,nu=/[#\?:]/g,cg=/[#\?]/g,ug=/[#\?@]/g,vl=/#/g;function _r(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function Wi(m){m.g||(m.g=new Map,m.h=0,m.i&&lg(m.i,function(w,x){m.add(decodeURIComponent(w.replace(/\+/g," ")),x)}))}e=_r.prototype,e.add=function(m,w){Wi(this),this.i=null,m=Ms(this,m);var x=this.g.get(m);return x||this.g.set(m,x=[]),x.push(w),this.h+=1,this};function br(m,w){Wi(m),w=Ms(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function wr(m,w){return Wi(m),w=Ms(m,w),m.g.has(w)}e.forEach=function(m,w){Wi(this),this.g.forEach(function(x,O){x.forEach(function(Y){m.call(w,Y,O,this)},this)},this)},e.na=function(){Wi(this);const m=Array.from(this.g.values()),w=Array.from(this.g.keys()),x=[];for(let O=0;O<w.length;O++){const Y=m[O];for(let tt=0;tt<Y.length;tt++)x.push(w[O])}return x},e.V=function(m){Wi(this);let w=[];if(typeof m=="string")wr(this,m)&&(w=w.concat(this.g.get(Ms(this,m))));else{m=Array.from(this.g.values());for(let x=0;x<m.length;x++)w=w.concat(m[x])}return w},e.set=function(m,w){return Wi(this),this.i=null,m=Ms(this,m),wr(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},e.get=function(m,w){return m?(m=this.V(m),0<m.length?String(m[0]):w):w};function iu(m,w,x){br(m,w),0<x.length&&(m.i=null,m.g.set(Ms(m,w),E(x)),m.h+=x.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(var x=0;x<w.length;x++){var O=w[x];const tt=encodeURIComponent(String(O)),mt=this.V(O);for(O=0;O<mt.length;O++){var Y=tt;mt[O]!==""&&(Y+="="+encodeURIComponent(String(mt[O]))),m.push(Y)}}return this.i=m.join("&")};function Ms(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function Df(m,w){w&&!m.j&&(Wi(m),m.i=null,m.g.forEach(function(x,O){var Y=O.toLowerCase();O!=Y&&(br(this,O),iu(this,Y,x))},m)),m.j=w}function ao(m,w){const x=new de;if(c.Image){const O=new Image;O.onload=b($i,x,"TestLoadImage: loaded",!0,w,O),O.onerror=b($i,x,"TestLoadImage: error",!1,w,O),O.onabort=b($i,x,"TestLoadImage: abort",!1,w,O),O.ontimeout=b($i,x,"TestLoadImage: timeout",!1,w,O),c.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=m}else w(!1)}function fs(m,w){const x=new de,O=new AbortController,Y=setTimeout(()=>{O.abort(),$i(x,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:O.signal}).then(tt=>{clearTimeout(Y),tt.ok?$i(x,"TestPingServer: ok",!0,w):$i(x,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Y),$i(x,"TestPingServer: error",!1,w)})}function $i(m,w,x,O,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),O(x)}catch{}}function oo(){this.g=new pn}function Ps(m,w,x){const O=x||"";try{tu(m,function(Y,tt){let mt=Y;f(Y)&&(mt=Kt(Y)),w.push(O+tt+"="+encodeURIComponent(mt))})}catch(Y){throw w.push(O+"type="+encodeURIComponent("_badmap")),Y}}function ia(m){this.l=m.Ub||null,this.j=m.eb||!1}T(ia,fi),ia.prototype.g=function(){return new Tr(this.l,this.j)},ia.prototype.i=function(m){return function(){return m}}({});function Tr(m,w){it.call(this),this.D=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Tr,it),e=Tr.prototype,e.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=w,this.readyState=1,Ns(this)},e.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(w.body=m),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},e.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ns(this)),this.g&&(this.readyState=3,Ns(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;su(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function su(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}e.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?Os(this):Ns(this),this.readyState==3&&su(this)}},e.Ra=function(m){this.g&&(this.response=this.responseText=m,Os(this))},e.Qa=function(m){this.g&&(this.response=m,Os(this))},e.ga=function(){this.g&&Os(this)};function Os(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ns(m)}e.setRequestHeader=function(m,w){this.u.append(m,w)},e.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var x=w.next();!x.done;)x=x.value,m.push(x[0]+": "+x[1]),x=w.next();return m.join(`\r
`)};function Ns(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ru(m){let w="";return $(m,function(x,O){w+=O,w+=":",w+=x,w+=`\r
`}),w}function xn(m,w,x){t:{for(O in x){var O=!1;break t}O=!0}O||(x=ru(x),typeof m=="string"?x!=null&&encodeURIComponent(String(x)):Se(m,w,x))}function ye(m){it.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(ye,it);var _l=/^https?$/i,lo=["POST","PUT"];e=ye.prototype,e.Ha=function(m){this.J=m},e.ea=function(m,w,x,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zi.g(),this.v=this.o?ri(this.o):ri(zi),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(tt){kf(this,tt);return}if(m=x||"",x=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Y in O)x.set(Y,O[Y]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const tt of O.keys())x.set(tt,O.get(tt));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(x.keys()).find(tt=>tt.toLowerCase()=="content-type"),Y=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(lo,w,void 0))||O||Y||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,mt]of x)this.g.setRequestHeader(tt,mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{co(this),this.u=!0,this.g.send(m),this.u=!1}catch(tt){kf(this,tt)}};function kf(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.m=5,bl(m),Ls(m)}function bl(m){m.A||(m.A=!0,pt(m,"complete"),pt(m,"error"))}e.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,pt(this,"complete"),pt(this,"abort"),Ls(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ls(this,!0)),ye.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?wl(this):this.bb())},e.bb=function(){wl(this)};function wl(m){if(m.h&&typeof l<"u"&&(!m.v[1]||Gi(m)!=4||m.Z()!=2)){if(m.u&&Gi(m)==4)Rt(m.Ea,0,m);else if(pt(m,"readystatechange"),Gi(m)==4){m.h=!1;try{const mt=m.Z();t:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var x;if(!(x=w)){var O;if(O=mt===0){var Y=String(m.D).match(no)[1]||null;!Y&&c.self&&c.self.location&&(Y=c.self.location.protocol.slice(0,-1)),O=!_l.test(Y?Y.toLowerCase():"")}x=O}if(x)pt(m,"complete"),pt(m,"success");else{m.m=6;try{var tt=2<Gi(m)?m.g.statusText:""}catch{tt=""}m.l=tt+" ["+m.Z()+"]",bl(m)}}finally{Ls(m)}}}}function Ls(m,w){if(m.g){co(m);const x=m.g,O=m.v[0]?()=>{}:null;m.g=null,m.v=null,w||pt(m,"ready");try{x.onreadystatechange=O}catch{}}}function co(m){m.I&&(c.clearTimeout(m.I),m.I=null)}e.isActive=function(){return!!this.g};function Gi(m){return m.g?m.g.readyState:0}e.Z=function(){try{return 2<Gi(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),Be(w)}};function If(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function hg(m){const w={};m=(m.g&&2<=Gi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<m.length;O++){if(V(m[O]))continue;var x=N(m[O]);const Y=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const tt=w[Y]||[];w[Y]=tt,tt.push(x)}M(w,function(O){return O.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function uo(m,w,x){return x&&x.internalChannelParams&&x.internalChannelParams[m]||w}function Tl(m){this.Aa=0,this.i=[],this.j=new de,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=uo("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=uo("baseRetryDelayMs",5e3,m),this.cb=uo("retryDelaySeedMs",1e4,m),this.Wa=uo("forwardChannelMaxRetries",2,m),this.wa=uo("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new yr(m&&m.concurrentRequestLimit),this.Da=new oo,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Tl.prototype,e.la=8,e.G=1,e.connect=function(m,w,x,O){ut(0),this.W=m,this.H=w||{},x&&O!==void 0&&(this.H.OSID=x,this.H.OAID=O),this.F=this.X,this.I=jf(this,null,this.W),El(this)};function au(m){if(Mf(m),m.G==3){var w=m.U++,x=Ai(m.I);if(Se(x,"SID",m.K),Se(x,"RID",w),Se(x,"TYPE","terminate"),ho(m,x),w=new En(m,m.j,w),w.L=2,w.v=so(Ai(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!x&&c.Image&&(new Image().src=w.v,x=!0),x||(w.g=Bf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),xi(w)}Vf(m)}function Sl(m){m.g&&(fo(m),m.g.cancel(),m.g=null)}function Mf(m){Sl(m),m.u&&(c.clearTimeout(m.u),m.u=null),xl(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function El(m){if(!pl(m.h)&&!m.s){m.s=!0;var w=m.Ga;et||H(),dt||(et(),dt=!0),xt.add(w,m),m.B=0}}function fg(m,w){return ml(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=w.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=bt(_(m.Ga,m,w),cu(m,m.B)),m.B++,!0)}e.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Y=new En(this,this.j,m);let tt=this.o;if(this.S&&(tt?(tt=D(tt),B(tt,this.S)):tt=this.S),this.m!==null||this.O||(Y.H=tt,tt=null),this.P)t:{for(var w=0,x=0;x<this.i.length;x++){e:{var O=this.i[x];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break e}O=void 0}if(O===void 0)break;if(w+=O,4096<w){w=x;break t}if(w===4096||x===this.i.length-1){w=x+1;break t}}w=1e3}else w=1e3;w=Pf(this,Y,w),x=Ai(this.I),Se(x,"RID",m),Se(x,"CVER",22),this.D&&Se(x,"X-HTTP-Session-Id",this.D),ho(this,x),tt&&(this.O?w="headers="+encodeURIComponent(String(ru(tt)))+"&"+w:this.m&&xn(x,this.m,tt)),gl(this.h,Y),this.Ua&&Se(x,"TYPE","init"),this.P?(Se(x,"$req",w),Se(x,"SID","null"),Y.T=!0,pi(Y,x,null)):pi(Y,x,w),this.G=2}}else this.G==3&&(m?ou(this,m):this.i.length==0||pl(this.h)||ou(this))};function ou(m,w){var x;w?x=w.l:x=m.U++;const O=Ai(m.I);Se(O,"SID",m.K),Se(O,"RID",x),Se(O,"AID",m.T),ho(m,O),m.m&&m.o&&xn(O,m.m,m.o),x=new En(m,m.j,x,m.B+1),m.m===null&&(x.H=m.o),w&&(m.i=w.D.concat(m.i)),w=Pf(m,x,1e3),x.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),gl(m.h,x),pi(x,O,w)}function ho(m,w){m.H&&$(m.H,function(x,O){Se(w,O,x)}),m.l&&tu({},function(x,O){Se(w,O,x)})}function Pf(m,w,x){x=Math.min(m.i.length,x);var O=m.l?_(m.l.Na,m.l,m):null;t:{var Y=m.i;let tt=-1;for(;;){const mt=["count="+x];tt==-1?0<x?(tt=Y[0].g,mt.push("ofs="+tt)):tt=0:mt.push("ofs="+tt);let re=!0;for(let gn=0;gn<x;gn++){let ae=Y[gn].g;const An=Y[gn].map;if(ae-=tt,0>ae)tt=Math.max(0,Y[gn].g-100),re=!1;else try{Ps(An,mt,"req"+ae+"_")}catch{O&&O(An)}}if(re){O=mt.join("&");break t}}}return m=m.i.splice(0,x),w.D=m,O}function Of(m){if(!m.g&&!m.u){m.Y=1;var w=m.Fa;et||H(),dt||(et(),dt=!0),xt.add(w,m),m.v=0}}function lu(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=bt(_(m.Fa,m),cu(m,m.v)),m.v++,!0)}e.Fa=function(){if(this.u=null,Nf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=bt(_(this.ab,this),m)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Sl(this),Nf(this))};function fo(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Nf(m){m.g=new En(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var w=Ai(m.qa);Se(w,"RID","rpc"),Se(w,"SID",m.K),Se(w,"AID",m.T),Se(w,"CI",m.F?"0":"1"),!m.F&&m.ja&&Se(w,"TO",m.ja),Se(w,"TYPE","xmlhttp"),ho(m,w),m.m&&m.o&&xn(w,m.m,m.o),m.L&&(m.g.I=m.L);var x=m.g;m=m.ia,x.L=1,x.v=so(Ai(w)),x.m=null,x.P=!0,Yt(x,m)}e.Za=function(){this.C!=null&&(this.C=null,Sl(this),lu(this),ut(19))};function xl(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Lf(m,w){var x=null;if(m.g==w){xl(m),fo(m),m.g=null;var O=2}else if(Zc(m.h,w))x=w.D,ai(m.h,w),O=1;else return;if(m.G!=0){if(w.o)if(O==1){x=w.m?w.m.length:0,w=Date.now()-w.F;var Y=m.B;O=Et(),pt(O,new _t(O,x)),El(m)}else Of(m);else if(Y=w.s,Y==3||Y==0&&0<w.X||!(O==1&&fg(m,w)||O==2&&lu(m)))switch(x&&0<x.length&&(w=m.h,w.i=w.i.concat(x)),Y){case 1:Sr(m,5);break;case 4:Sr(m,10);break;case 3:Sr(m,6);break;default:Sr(m,2)}}}function cu(m,w){let x=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(x*=2),x*w}function Sr(m,w){if(m.j.info("Error code "+w),w==2){var x=_(m.fb,m),O=m.Xa;const Y=!O;O=new cn(O||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||io(O,"https"),so(O),Y?ao(O.toString(),x):fs(O.toString(),x)}else ut(2);m.G=0,m.l&&m.l.sa(w),Vf(m),Mf(m)}e.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Vf(m){if(m.G=0,m.ka=[],m.l){const w=Jc(m.h);(w.length!=0||m.i.length!=0)&&(S(m.ka,w),S(m.ka,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.ra()}}function jf(m,w,x){var O=x instanceof cn?Ai(x):new cn(x);if(O.g!="")w&&(O.g=w+"."+O.g),na(O,O.s);else{var Y=c.location;O=Y.protocol,w=w?w+"."+Y.hostname:Y.hostname,Y=+Y.port;var tt=new cn(null);O&&io(tt,O),w&&(tt.g=w),Y&&na(tt,Y),x&&(tt.l=x),O=tt}return x=m.D,w=m.ya,x&&w&&Se(O,x,w),Se(O,"VER",m.la),ho(m,O),O}function Bf(m,w,x){if(w&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Ca&&!m.pa?new ye(new ia({eb:x})):new ye(m.pa),w.Ha(m.J),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uf(){}e=Uf.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Al(){}Al.prototype.g=function(m,w){return new oi(m,w)};function oi(m,w){it.call(this),this.g=new Tl(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(m?m["X-WebChannel-Client-Profile"]=w.va:m={"X-WebChannel-Client-Profile":w.va}),this.g.S=m,(m=w&&w.Sb)&&!V(m)&&(this.g.m=m),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.g.D=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new Vs(this)}T(oi,it),oi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},oi.prototype.close=function(){au(this.g)},oi.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var x={};x.__data__=m,m=x}else this.u&&(x={},x.__data__=Kt(m),m=x);w.i.push(new Rf(w.Ya++,m)),w.G==3&&El(w)},oi.prototype.N=function(){this.g.l=null,delete this.j,au(this.g),delete this.g,oi.aa.N.call(this)};function zf(m){Ne.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){t:{for(const x in w){m=x;break t}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}T(zf,Ne);function Ff(){$e.call(this),this.status=1}T(Ff,$e);function Vs(m){this.g=m}T(Vs,Uf),Vs.prototype.ua=function(){pt(this.g,"a")},Vs.prototype.ta=function(m){pt(this.g,new zf(m))},Vs.prototype.sa=function(m){pt(this.g,new Ff)},Vs.prototype.ra=function(){pt(this.g,"b")},Al.prototype.createWebChannel=Al.prototype.g,oi.prototype.send=oi.prototype.o,oi.prototype.open=oi.prototype.m,oi.prototype.close=oi.prototype.close,FD=function(){return new Al},zD=function(){return Et()},UD=ce,f_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,Tp=ue,Fn.COMPLETE="complete",BD=Fn,We.EventType=Re,Re.OPEN="a",Re.CLOSE="b",Re.ERROR="c",Re.MESSAGE="d",it.prototype.listen=it.prototype.K,ah=We,ye.prototype.listenOnce=ye.prototype.L,ye.prototype.getLastError=ye.prototype.Ka,ye.prototype.getLastErrorCode=ye.prototype.Ba,ye.prototype.getStatus=ye.prototype.Z,ye.prototype.getResponseJson=ye.prototype.Oa,ye.prototype.getResponseText=ye.prototype.oa,ye.prototype.send=ye.prototype.ea,ye.prototype.setWithCredentials=ye.prototype.Ha,jD=ye}).apply(typeof Wd<"u"?Wd:typeof self<"u"?self:typeof window<"u"?window:{});const Ax="@firebase/firestore",Rx="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new Am("@firebase/firestore");function ic(){return Zo.logLevel}function vt(e,...t){if(Zo.logLevel<=ee.DEBUG){const n=t.map(P0);Zo.debug(`Firestore (${Fc}): ${e}`,...n)}}function Xr(e,...t){if(Zo.logLevel<=ee.ERROR){const n=t.map(P0);Zo.error(`Firestore (${Fc}): ${e}`,...n)}}function Tc(e,...t){if(Zo.logLevel<=ee.WARN){const n=t.map(P0);Zo.warn(`Firestore (${Fc}): ${e}`,...n)}}function P0(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(e="Unexpected state"){const t=`FIRESTORE (${Fc}) INTERNAL ASSERTION FAILED: `+e;throw Xr(t),new Error(t)}function _e(e,t){e||Bt()}function Ht(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends ks{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Kn.UNAUTHENTICATED))}shutdown(){}}class lU{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cU{constructor(t){this.t=t,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){_e(this.o===void 0);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let a=new Ua;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ua,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ua)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_e(typeof i.accessToken=="string"),new HD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _e(t===null||typeof t=="string"),new Kn(t)}}class uU{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class hU{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new uU(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fU{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,vs(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){_e(this.o===void 0);const i=a=>{a.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,vt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const s=a=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Cx(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(_e(typeof n.token=="string"),this.R=n.token,new Cx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=dU(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<n&&(i+=t.charAt(s[a]%62))}return i}}function Qt(e,t){return e<t?-1:e>t?1:0}function d_(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),s=t.codePointAt(n);if(i!==s){if(i<128&&s<128)return Qt(i,s);{const a=qD(),l=pU(a.encode(Dx(e,n)),a.encode(Dx(t,n)));return l!==0?l:Qt(i,s)}}n+=i>65535?2:1}return Qt(e.length,t.length)}function Dx(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function pU(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Qt(e[n],t[n]);return Qt(e.length,t.length)}function Sc(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=-62135596800,Ix=1e6;class wn{static now(){return wn.fromMillis(Date.now())}static fromDate(t){return wn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Ix);return new wn(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ct(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ct(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<kx)throw new Ct(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ix}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-kx;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{static fromTimestamp(t){return new zt(t)}static min(){return new zt(new wn(0,0))}static max(){return new zt(new wn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="__name__";class Ks{constructor(t,n,i){n===void 0?n=0:n>t.length&&Bt(),i===void 0?i=t.length-n:i>t.length-n&&Bt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Ks.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ks?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const a=Ks.compareSegments(t.get(s),n.get(s));if(a!==0)return a}return Qt(t.length,n.length)}static compareSegments(t,n){const i=Ks.isNumericId(t),s=Ks.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Ks.extractNumericId(t).compare(Ks.extractNumericId(n)):d_(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ba.fromString(t.substring(4,t.length-2))}}class Je extends Ks{construct(t,n,i){return new Je(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ct(ct.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const mU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Ks{construct(t,n,i){return new Bn(t,n,i)}static isValidIdentifier(t){return mU.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mx}static keyField(){return new Bn([Mx])}static fromServerFormat(t){const n=[];let i="",s=0;const a=()=>{if(i.length===0)throw new Ct(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new Ct(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ct(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new Ct(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Bn(n)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(t){this.path=t}static fromPath(t){return new kt(Je.fromString(t))}static fromName(t){return new kt(Je.fromString(t).popFirst(5))}static empty(){return new kt(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Je.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Je.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new kt(new Je(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=-1;function gU(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=zt.fromTimestamp(i===1e9?new wn(n+1,0):new wn(n,i));return new Fa(s,kt.empty(),t)}function yU(e){return new Fa(e.readTime,e.key,Mh)}class Fa{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Fa(zt.min(),kt.empty(),Mh)}static max(){return new Fa(zt.max(),kt.empty(),Mh)}}function vU(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=kt.comparator(e.documentKey,t.documentKey),n!==0?n:Qt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(e){if(e.code!==ct.FAILED_PRECONDITION||e.message!==_U)throw e;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ot((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ot?n:ot.resolve(n)}catch(n){return ot.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ot.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ot.reject(n)}static resolve(t){return new ot((n,i)=>{n(t)})}static reject(t){return new ot((n,i)=>{i(t)})}static waitFor(t){return new ot((n,i)=>{let s=0,a=0,l=!1;t.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&n()},h=>i(h))}),l=!0,a===s&&n()})}static or(t){let n=ot.resolve(!1);for(const i of t)n=n.next(s=>s?ot.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,a)=>{i.push(n.call(this,s,a))}),this.waitFor(i)}static mapArray(t,n){return new ot((i,s)=>{const a=t.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const f=h;n(t[f]).next(p=>{l[f]=p,++c,c===a&&i(l)},p=>s(p))}})}static doWhile(t,n){return new ot((i,s)=>{const a=()=>{t()===!0?n().next(()=>{a()},s):i()};a()})}}function wU(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Dm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=-1;function km(e){return e==null}function Wp(e){return e===0&&1/e==-1/0}function TU(e){return typeof e=="number"&&Number.isInteger(e)&&!Wp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="";function SU(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Px(t)),t=EU(e.get(n),t);return Px(t)}function EU(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const a=e.charAt(s);switch(a){case"\0":n+="";break;case $D:n+="";break;default:n+=a}}return n}function Px(e){return e+$D+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function GD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t,n){this.comparator=t,this.root=n||jn.EMPTY}insert(t,n){return new Fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(t){return new Fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new $d(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new $d(this.root,t,this.comparator,!1)}getReverseIterator(){return new $d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new $d(this.root,t,this.comparator,!0)}}class $d{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?i(t.key,n):1,n&&s&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class jn{constructor(t,n,i,s,a){this.key=t,this.value=n,this.color=i??jn.RED,this.left=s??jn.EMPTY,this.right=a??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,a){return new jn(t??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const a=i(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,n,i),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return jn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bt();const t=this.left.check();if(t!==this.right.check())throw Bt();return t+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt()}get value(){throw Bt()}get color(){throw Bt()}get left(){throw Bt()}get right(){throw Bt()}copy(t,n,i,s,a){return this}insert(t,n,i){return new jn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.comparator=t,this.data=new Fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nx(this.data.getIterator())}getIteratorFrom(t){return new Nx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Tn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Tn(this.comparator);return n.data=t,n}}class Nx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t){this.fields=t,t.sort(Bn.comparator)}static empty(){return new Oi([])}unionWith(t){let n=new Tn(Bn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Oi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Sc(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new KD("Invalid base64 string: "+a):a}}(t);return new Un(n)}static fromUint8Array(t){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(t);return new Un(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Un.EMPTY_BYTE_STRING=new Un("");const xU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(e){if(_e(!!e),typeof e=="string"){let t=0;const n=xU.exec(e);if(_e(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:rn(e.seconds),nanos:rn(e.nanos)}}function rn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function qa(e){return typeof e=="string"?Un.fromBase64String(e):Un.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="server_timestamp",XD="__type__",QD="__previous_value__",ZD="__local_write_time__";function N0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[XD])===null||n===void 0?void 0:n.stringValue)===YD}function Im(e){const t=e.mapValue.fields[QD];return N0(t)?Im(t):t}function Ph(e){const t=Ha(e.mapValue.fields[ZD].timestampValue);return new wn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(t,n,i,s,a,l,c,h,f){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}const $p="(default)";class Oh{constructor(t,n){this.projectId=t,this.database=n||$p}static empty(){return new Oh("","")}get isDefaultDatabase(){return this.database===$p}isEqual(t){return t instanceof Oh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="__type__",RU="__max__",Gd={mapValue:{}},tk="__vector__",Gp="value";function Wa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?N0(e)?4:DU(e)?9007199254740991:CU(e)?10:11:Bt()}function cr(e,t){if(e===t)return!0;const n=Wa(e);if(n!==Wa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ph(e).isEqual(Ph(t));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ha(s.timestampValue),c=Ha(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,a){return qa(s.bytesValue).isEqual(qa(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,a){return rn(s.geoPointValue.latitude)===rn(a.geoPointValue.latitude)&&rn(s.geoPointValue.longitude)===rn(a.geoPointValue.longitude)}(e,t);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return rn(s.integerValue)===rn(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=rn(s.doubleValue),c=rn(a.doubleValue);return l===c?Wp(l)===Wp(c):isNaN(l)&&isNaN(c)}return!1}(e,t);case 9:return Sc(e.arrayValue.values||[],t.arrayValue.values||[],cr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(Ox(l)!==Ox(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!cr(l[h],c[h])))return!1;return!0}(e,t);default:return Bt()}}function Nh(e,t){return(e.values||[]).find(n=>cr(n,t))!==void 0}function Ec(e,t){if(e===t)return 0;const n=Wa(e),i=Wa(t);if(n!==i)return Qt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(e.booleanValue,t.booleanValue);case 2:return function(a,l){const c=rn(a.integerValue||a.doubleValue),h=rn(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(e,t);case 3:return Lx(e.timestampValue,t.timestampValue);case 4:return Lx(Ph(e),Ph(t));case 5:return d_(e.stringValue,t.stringValue);case 6:return function(a,l){const c=qa(a),h=qa(l);return c.compareTo(h)}(e.bytesValue,t.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const p=Qt(c[f],h[f]);if(p!==0)return p}return Qt(c.length,h.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,l){const c=Qt(rn(a.latitude),rn(l.latitude));return c!==0?c:Qt(rn(a.longitude),rn(l.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Vx(e.arrayValue,t.arrayValue);case 10:return function(a,l){var c,h,f,p;const y=a.fields||{},_=l.fields||{},b=(c=y[Gp])===null||c===void 0?void 0:c.arrayValue,T=(h=_[Gp])===null||h===void 0?void 0:h.arrayValue,E=Qt(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0);return E!==0?E:Vx(b,T)}(e.mapValue,t.mapValue);case 11:return function(a,l){if(a===Gd.mapValue&&l===Gd.mapValue)return 0;if(a===Gd.mapValue)return 1;if(l===Gd.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const _=d_(h[y],p[y]);if(_!==0)return _;const b=Ec(c[h[y]],f[p[y]]);if(b!==0)return b}return Qt(h.length,p.length)}(e.mapValue,t.mapValue);default:throw Bt()}}function Lx(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Qt(e,t);const n=Ha(e),i=Ha(t),s=Qt(n.seconds,i.seconds);return s!==0?s:Qt(n.nanos,i.nanos)}function Vx(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const a=Ec(n[s],i[s]);if(a)return a}return Qt(n.length,i.length)}function xc(e){return p_(e)}function p_(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ha(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return qa(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return kt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const a of n.values||[])s?s=!1:i+=",",i+=p_(a);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of i)a?a=!1:s+=",",s+=`${l}:${p_(n.fields[l])}`;return s+"}"}(e.mapValue):Bt()}function Sp(e){switch(Wa(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Im(e);return t?16+Sp(t):16;case 5:return 2*e.stringValue.length;case 6:return qa(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+Sp(a),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return Qa(i.fields,(a,l)=>{s+=a.length+Sp(l)}),s}(e.mapValue);default:throw Bt()}}function m_(e){return!!e&&"integerValue"in e}function L0(e){return!!e&&"arrayValue"in e}function jx(e){return!!e&&"nullValue"in e}function Bx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ep(e){return!!e&&"mapValue"in e}function CU(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[JD])===null||n===void 0?void 0:n.stringValue)===tk}function gh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Qa(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=gh(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function DU(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===RU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t){this.value=t}static empty(){return new wi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Ep(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=gh(n)}setAll(t){let n=Bn.emptyPath(),i={},s=[];t.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=gh(l):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,s)}delete(t){const n=this.field(t.popLast());Ep(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return cr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];Ep(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){Qa(n,(s,a)=>t[s]=a);for(const s of i)delete t[s]}clone(){return new wi(gh(this.value))}}function ek(e){const t=[];return Qa(e.fields,(n,i)=>{const s=new Bn([n]);if(Ep(i)){const a=ek(i.mapValue).fields;if(a.length===0)t.push(s);else for(const l of a)t.push(s.child(l))}else t.push(s)}),new Oi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t,n,i,s,a,l,c){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(t){return new Yn(t,0,zt.min(),zt.min(),zt.min(),wi.empty(),0)}static newFoundDocument(t,n,i,s){return new Yn(t,1,n,zt.min(),i,s,0)}static newNoDocument(t,n){return new Yn(t,2,n,zt.min(),zt.min(),wi.empty(),0)}static newUnknownDocument(t,n){return new Yn(t,3,n,zt.min(),zt.min(),wi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Yn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,n){this.position=t,this.inclusive=n}}function Ux(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const a=t[s],l=e.position[s];if(a.field.isKeyField()?i=kt.comparator(kt.fromName(l.referenceValue),n.key):i=Ec(l,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function zx(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!cr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(t,n="asc"){this.field=t,this.dir=n}}function kU(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{}class bn extends nk{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new MU(t,n,i):n==="array-contains"?new NU(t,i):n==="in"?new LU(t,i):n==="not-in"?new VU(t,i):n==="array-contains-any"?new jU(t,i):new bn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new PU(t,i):new OU(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ec(n,this.value)):n!==null&&Wa(this.value)===Wa(n)&&this.matchesComparison(Ec(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends nk{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new ur(t,n)}matches(t){return ik(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ik(e){return e.op==="and"}function sk(e){return IU(e)&&ik(e)}function IU(e){for(const t of e.filters)if(t instanceof ur)return!1;return!0}function g_(e){if(e instanceof bn)return e.field.canonicalString()+e.op.toString()+xc(e.value);if(sk(e))return e.filters.map(t=>g_(t)).join(",");{const t=e.filters.map(n=>g_(n)).join(",");return`${e.op}(${t})`}}function rk(e,t){return e instanceof bn?function(i,s){return s instanceof bn&&i.op===s.op&&i.field.isEqual(s.field)&&cr(i.value,s.value)}(e,t):e instanceof ur?function(i,s){return s instanceof ur&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,l,c)=>a&&rk(l,s.filters[c]),!0):!1}(e,t):void Bt()}function ak(e){return e instanceof bn?function(n){return`${n.field.canonicalString()} ${n.op} ${xc(n.value)}`}(e):e instanceof ur?function(n){return n.op.toString()+" {"+n.getFilters().map(ak).join(" ,")+"}"}(e):"Filter"}class MU extends bn{constructor(t,n,i){super(t,n,i),this.key=kt.fromName(i.referenceValue)}matches(t){const n=kt.comparator(t.key,this.key);return this.matchesComparison(n)}}class PU extends bn{constructor(t,n){super(t,"in",n),this.keys=ok("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class OU extends bn{constructor(t,n){super(t,"not-in",n),this.keys=ok("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function ok(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>kt.fromName(i.referenceValue))}class NU extends bn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return L0(n)&&Nh(n.arrayValue,this.value)}}class LU extends bn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Nh(this.value.arrayValue,n)}}class VU extends bn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Nh(this.value.arrayValue,n)}}class jU extends bn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!L0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Nh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(t,n=null,i=[],s=[],a=null,l=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function Fx(e,t=null,n=[],i=[],s=null,a=null,l=null){return new BU(e,t,n,i,s,a,l)}function V0(e){const t=Ht(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>g_(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),km(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>xc(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>xc(i)).join(",")),t.le=n}return t.le}function j0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!kU(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!rk(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zx(e.startAt,t.startAt)&&zx(e.endAt,t.endAt)}function y_(e){return kt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t,n=null,i=[],s=[],a=null,l="F",c=null,h=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function UU(e,t,n,i,s,a,l,c){return new Mm(e,t,n,i,s,a,l,c)}function B0(e){return new Mm(e)}function Hx(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function zU(e){return e.collectionGroup!==null}function yh(e){const t=Ht(e);if(t.he===null){t.he=[];const n=new Set;for(const a of t.explicitOrderBy)t.he.push(a),n.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Tn(Bn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.he.push(new Yp(a,i))}),n.has(Bn.keyField().canonicalString())||t.he.push(new Yp(Bn.keyField(),i))}return t.he}function Zs(e){const t=Ht(e);return t.Pe||(t.Pe=FU(t,yh(e))),t.Pe}function FU(e,t){if(e.limitType==="F")return Fx(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Yp(s.field,a)});const n=e.endAt?new Kp(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Kp(e.startAt.position,e.startAt.inclusive):null;return Fx(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function v_(e,t,n){return new Mm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pm(e,t){return j0(Zs(e),Zs(t))&&e.limitType===t.limitType}function lk(e){return`${V0(Zs(e))}|lt:${e.limitType}`}function sc(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>ak(s)).join(", ")}]`),km(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>xc(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>xc(s)).join(",")),`Target(${i})`}(Zs(e))}; limitType=${e.limitType})`}function Om(e,t){return t.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):kt.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(e,t)&&function(i,s){for(const a of yh(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(l,c,h){const f=Ux(l,c,h);return l.inclusive?f<=0:f<0}(i.startAt,yh(i),s)||i.endAt&&!function(l,c,h){const f=Ux(l,c,h);return l.inclusive?f>=0:f>0}(i.endAt,yh(i),s))}(e,t)}function HU(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ck(e){return(t,n)=>{let i=!1;for(const s of yh(e)){const a=qU(s,t,n);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function qU(e,t,n){const i=e.field.isKeyField()?kt.comparator(t.key,n.key):function(a,l,c){const h=l.data.field(a),f=c.data.field(a);return h!==null&&f!==null?Ec(h,f):Bt()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Bt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return void(s[a]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Qa(this.inner,(n,i)=>{for(const[s,a]of i)t(s,a)})}isEmpty(){return GD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=new Fe(kt.comparator);function Qr(){return WU}const uk=new Fe(kt.comparator);function oh(...e){let t=uk;for(const n of e)t=t.insert(n.key,n);return t}function hk(e){let t=uk;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Uo(){return vh()}function fk(){return vh()}function vh(){return new cl(e=>e.toString(),(e,t)=>e.isEqual(t))}const $U=new Fe(kt.comparator),GU=new Tn(kt.comparator);function ie(...e){let t=GU;for(const n of e)t=t.add(n);return t}const KU=new Tn(Qt);function YU(){return KU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wp(t)?"-0":t}}function dk(e){return{integerValue:""+e}}function XU(e,t){return TU(t)?dk(t):U0(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this._=void 0}}function QU(e,t,n){return e instanceof Lh?function(s,a){const l={fields:{[XD]:{stringValue:YD},[ZD]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&N0(a)&&(a=Im(a)),a&&(l.fields[QD]=a),{mapValue:l}}(n,t):e instanceof Ac?mk(e,t):e instanceof Vh?gk(e,t):function(s,a){const l=pk(s,a),c=qx(l)+qx(s.Ie);return m_(l)&&m_(s.Ie)?dk(c):U0(s.serializer,c)}(e,t)}function ZU(e,t,n){return e instanceof Ac?mk(e,t):e instanceof Vh?gk(e,t):n}function pk(e,t){return e instanceof Xp?function(i){return m_(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class Lh extends Nm{}class Ac extends Nm{constructor(t){super(),this.elements=t}}function mk(e,t){const n=yk(t);for(const i of e.elements)n.some(s=>cr(s,i))||n.push(i);return{arrayValue:{values:n}}}class Vh extends Nm{constructor(t){super(),this.elements=t}}function gk(e,t){let n=yk(t);for(const i of e.elements)n=n.filter(s=>!cr(s,i));return{arrayValue:{values:n}}}class Xp extends Nm{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function qx(e){return rn(e.integerValue||e.doubleValue)}function yk(e){return L0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(t,n){this.field=t,this.transform=n}}function JU(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Ac&&s instanceof Ac||i instanceof Vh&&s instanceof Vh?Sc(i.elements,s.elements,cr):i instanceof Xp&&s instanceof Xp?cr(i.Ie,s.Ie):i instanceof Lh&&s instanceof Lh}(e.transform,t.transform)}class t4{constructor(t,n){this.version=t,this.transformResults=n}}class Js{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Js}static exists(t){return new Js(void 0,t)}static updateTime(t){return new Js(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xp(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Lm{}function _k(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new wk(e.key,Js.none()):new ff(e.key,e.data,Js.none());{const n=e.data,i=wi.empty();let s=new Tn(Bn.comparator);for(let a of t.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?i.delete(a):i.set(a,l),s=s.add(a)}return new Za(e.key,i,new Oi(s.toArray()),Js.none())}}function e4(e,t,n){e instanceof ff?function(s,a,l){const c=s.value.clone(),h=$x(s.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(e,t,n):e instanceof Za?function(s,a,l){if(!xp(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=$x(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(bk(s)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(e,t,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,n)}function _h(e,t,n,i){return e instanceof ff?function(a,l,c,h){if(!xp(a.precondition,l))return c;const f=a.value.clone(),p=Gx(a.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(e,t,n,i):e instanceof Za?function(a,l,c,h){if(!xp(a.precondition,l))return c;const f=Gx(a.fieldTransforms,h,l),p=l.data;return p.setAll(bk(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(e,t,n,i):function(a,l,c){return xp(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(e,t,n)}function n4(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),a=pk(i.transform,s||null);a!=null&&(n===null&&(n=wi.empty()),n.set(i.field,a))}return n||null}function Wx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Sc(i,s,(a,l)=>JU(a,l))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ff extends Lm{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Za extends Lm{constructor(t,n,i,s,a=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function bk(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function $x(e,t,n){const i=new Map;_e(e.length===n.length);for(let s=0;s<n.length;s++){const a=e[s],l=a.transform,c=t.data.field(a.field);i.set(a.field,ZU(l,c,n[s]))}return i}function Gx(e,t,n){const i=new Map;for(const s of e){const a=s.transform,l=n.data.field(s.field);i.set(s.field,QU(a,l,t))}return i}class wk extends Lm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i4 extends Lm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(t.key)&&e4(a,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=_h(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=_h(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=fk();return this.mutations.forEach(s=>{const a=t.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const h=_k(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(zt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ie())}isEqual(t){return this.batchId===t.batchId&&Sc(this.mutations,t.mutations,(n,i)=>Wx(n,i))&&Sc(this.baseMutations,t.baseMutations,(n,i)=>Wx(n,i))}}class z0{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){_e(t.mutations.length===i.length);let s=function(){return $U}();const a=t.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,i[l].version);return new z0(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,le;function o4(e){switch(e){case ct.OK:return Bt();case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return Bt()}}function Tk(e){if(e===void 0)return Xr("GRPC error has no .code"),ct.UNKNOWN;switch(e){case fn.OK:return ct.OK;case fn.CANCELLED:return ct.CANCELLED;case fn.UNKNOWN:return ct.UNKNOWN;case fn.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case fn.INTERNAL:return ct.INTERNAL;case fn.UNAVAILABLE:return ct.UNAVAILABLE;case fn.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case fn.NOT_FOUND:return ct.NOT_FOUND;case fn.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case fn.ABORTED:return ct.ABORTED;case fn.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case fn.DATA_LOSS:return ct.DATA_LOSS;default:return Bt()}}(le=fn||(fn={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=new Ba([4294967295,4294967295],0);function Kx(e){const t=qD().encode(e),n=new VD;return n.update(t),new Uint8Array(n.digest())}function Yx(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Ba([n,i],0),new Ba([s,a],0)]}class F0{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new lh(`Invalid padding: ${n}`);if(i<0)throw new lh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new lh(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new lh(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Ba.fromNumber(this.Ee)}Ae(t,n,i){let s=t.add(n.multiply(Ba.fromNumber(i)));return s.compare(l4)===1&&(s=new Ba([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=Kx(t),[i,s]=Yx(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(i,s,a);if(!this.Re(l))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new F0(a,s,n);return i.forEach(c=>l.insert(c)),l}insert(t){if(this.Ee===0)return;const n=Kx(t),[i,s]=Yx(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(i,s,a);this.Ve(l)}}Ve(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,n,i,s,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,df.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Vm(zt.min(),s,new Fe(Qt),Qr(),ie())}}class df{constructor(t,n,i,s,a){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new df(i,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(t,n,i,s){this.me=t,this.removedTargetIds=n,this.key=i,this.fe=s}}class Sk{constructor(t,n){this.targetId=t,this.ge=n}}class Ek{constructor(t,n,i=Un.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class Xx{constructor(){this.pe=0,this.ye=Qx(),this.we=Un.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=ie(),n=ie(),i=ie();return this.ye.forEach((s,a)=>{switch(a){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Bt()}}),new df(this.we,this.Se,t,n,i)}Me(){this.be=!1,this.ye=Qx()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,_e(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class c4{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Qr(),this.$e=Kd(),this.Ue=Kd(),this.Ke=new Fe(Qt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const i=this.He(n);switch(t.state){case 0:this.Je(n)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(t.resumeToken));break;default:Bt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((i,s)=>{this.Je(s)&&n(s)})}Ze(t){const n=t.targetId,i=t.ge.count,s=this.Xe(n);if(s){const a=s.target;if(y_(a))if(i===0){const l=new kt(a.path);this.ze(n,l,Yn.newNoDocument(l,zt.min()))}else _e(i===1);else{const l=this.et(n);if(l!==i){const c=this.tt(t),h=c?this.nt(c,t,l):1;if(h!==0){this.Ye(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=qa(i).toUint8Array()}catch(h){if(h instanceof KD)return Tc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new F0(l,s,a)}catch(h){return Tc(h instanceof lh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(t,n,i){return n.ge.count===i-this.st(t,n.targetId)?0:2}st(t,n){const i=this.ke.getRemoteKeysForTarget(n);let s=0;return i.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(c)||(this.ze(n,a,null),s++)}),s}ot(t){const n=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&y_(c.target)){const h=new kt(c.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,Yn.newNoDocument(h,t))}a.ve&&(n.set(l,a.Fe()),a.Me())}});let i=ie();this.Ue.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const f=this.Xe(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(t));const s=new Vm(t,n,this.Ke,this.Qe,i);return this.Qe=Qr(),this.$e=Kd(),this.Ue=Kd(),this.Ke=new Fe(Qt),s}Ge(t,n){if(!this.Je(t))return;const i=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,i){if(!this.Je(t))return;const s=this.He(t);this.ut(t,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new Xx,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Tn(Qt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Tn(Qt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||vt("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Xx),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Kd(){return new Fe(kt.comparator)}function Qx(){return new Fe(kt.comparator)}const u4={asc:"ASCENDING",desc:"DESCENDING"},h4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f4={and:"AND",or:"OR"};class d4{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function __(e,t){return e.useProto3Json||km(t)?t:{value:t}}function Qp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xk(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function p4(e,t){return Qp(e,t.toTimestamp())}function tr(e){return _e(!!e),zt.fromTimestamp(function(n){const i=Ha(n);return new wn(i.seconds,i.nanos)}(e))}function H0(e,t){return b_(e,t).canonicalString()}function b_(e,t){const n=function(s){return new Je(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Ak(e){const t=Je.fromString(e);return _e(Ik(t)),t}function w_(e,t){return H0(e.databaseId,t.path)}function vv(e,t){const n=Ak(t);if(n.get(1)!==e.databaseId.projectId)throw new Ct(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ct(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new kt(Ck(n))}function Rk(e,t){return H0(e.databaseId,t)}function m4(e){const t=Ak(e);return t.length===4?Je.emptyPath():Ck(t)}function T_(e){return new Je(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ck(e){return _e(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Zx(e,t,n){return{name:w_(e,t),fields:n.value.mapValue.fields}}function g4(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Bt()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(_e(p===void 0||typeof p=="string"),Un.fromBase64String(p||"")):(_e(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Un.fromUint8Array(p||new Uint8Array))}(e,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(f){const p=f.code===void 0?ct.UNKNOWN:Tk(f.code);return new Ct(p,f.message||"")}(l);n=new Ek(i,s,a,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=vv(e,i.document.name),a=tr(i.document.updateTime),l=i.document.createTime?tr(i.document.createTime):zt.min(),c=new wi({mapValue:{fields:i.document.fields}}),h=Yn.newFoundDocument(s,a,l,c),f=i.targetIds||[],p=i.removedTargetIds||[];n=new Ap(f,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=vv(e,i.document),a=i.readTime?tr(i.readTime):zt.min(),l=Yn.newNoDocument(s,a),c=i.removedTargetIds||[];n=new Ap([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=vv(e,i.document),a=i.removedTargetIds||[];n=new Ap([],a,s,null)}else{if(!("filter"in t))return Bt();{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,l=new a4(s,a),c=i.targetId;n=new Sk(c,l)}}return n}function y4(e,t){let n;if(t instanceof ff)n={update:Zx(e,t.key,t.value)};else if(t instanceof wk)n={delete:w_(e,t.key)};else if(t instanceof Za)n={update:Zx(e,t.key,t.data),updateMask:A4(t.fieldMask)};else{if(!(t instanceof i4))return Bt();n={verify:w_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(a,l){const c=l.transform;if(c instanceof Lh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ac)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Vh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Xp)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Bt()}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:p4(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Bt()}(e,t.precondition)),n}function v4(e,t){return e&&e.length>0?(_e(t!==void 0),e.map(n=>function(s,a){let l=s.updateTime?tr(s.updateTime):tr(a);return l.isEqual(zt.min())&&(l=tr(a)),new t4(l,s.transformResults||[])}(n,t))):[]}function _4(e,t){return{documents:[Rk(e,t.path)]}}function b4(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Rk(e,s);const a=function(f){if(f.length!==0)return kk(ur.create(f,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(p=>function(_){return{field:rc(_.field),direction:S4(_.dir)}}(p))}(t.orderBy);l&&(n.structuredQuery.orderBy=l);const c=__(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{ht:n,parent:s}}function w4(e){let t=m4(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){_e(i===1);const p=n.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let a=[];n.where&&(a=function(y){const _=Dk(y);return _ instanceof ur&&sk(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(_=>function(T){return new Yp(ac(T.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,km(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(y){const _=!!y.before,b=y.values||[];return new Kp(b,_)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const _=!y.before,b=y.values||[];return new Kp(b,_)}(n.endAt)),UU(t,s,l,a,c,"F",h,f)}function T4(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Dk(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ac(n.unaryFilter.field);return bn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=ac(n.unaryFilter.field);return bn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ac(n.unaryFilter.field);return bn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ac(n.unaryFilter.field);return bn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Bt()}}(e):e.fieldFilter!==void 0?function(n){return bn.create(ac(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ur.create(n.compositeFilter.filters.map(i=>Dk(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Bt()}}(n.compositeFilter.op))}(e):Bt()}function S4(e){return u4[e]}function E4(e){return h4[e]}function x4(e){return f4[e]}function rc(e){return{fieldPath:e.canonicalString()}}function ac(e){return Bn.fromServerFormat(e.fieldPath)}function kk(e){return e instanceof bn?function(n){if(n.op==="=="){if(Bx(n.value))return{unaryFilter:{field:rc(n.field),op:"IS_NAN"}};if(jx(n.value))return{unaryFilter:{field:rc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bx(n.value))return{unaryFilter:{field:rc(n.field),op:"IS_NOT_NAN"}};if(jx(n.value))return{unaryFilter:{field:rc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rc(n.field),op:E4(n.op),value:n.value}}}(e):e instanceof ur?function(n){const i=n.getFilters().map(s=>kk(s));return i.length===1?i[0]:{compositeFilter:{op:x4(n.op),filters:i}}}(e):Bt()}function A4(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Ik(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t,n,i,s,a=zt.min(),l=zt.min(),c=Un.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new Pa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(t){this.Tt=t}}function C4(e){const t=w4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?v_(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.Tn=new k4}addToCollectionParentIndex(t,n){return this.Tn.add(n),ot.resolve()}getCollectionParents(t,n){return ot.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return ot.resolve()}deleteFieldIndex(t,n){return ot.resolve()}deleteAllFieldIndexes(t){return ot.resolve()}createTargetIndexes(t,n){return ot.resolve()}getDocumentsMatchingTarget(t,n){return ot.resolve(null)}getIndexType(t,n){return ot.resolve(0)}getFieldIndexes(t,n){return ot.resolve([])}getNextCollectionGroupToUpdate(t){return ot.resolve(null)}getMinOffset(t,n){return ot.resolve(Fa.min())}getMinOffsetFromCollectionGroup(t,n){return ot.resolve(Fa.min())}updateCollectionGroup(t,n,i){return ot.resolve()}updateIndexEntries(t,n){return ot.resolve()}}class k4{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new Tn(Je.comparator),a=!s.has(i);return this.index[n]=s.add(i),a}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Tn(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mk=41943040;class bi{static withCacheSize(t){return new bi(t,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi.DEFAULT_COLLECTION_PERCENTILE=10,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bi.DEFAULT=new bi(Mk,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bi.DISABLED=new bi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Rc(0)}static Kn(){return new Rc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="LruGarbageCollector",I4=1048576;function eA([e,t],[n,i]){const s=Qt(e,n);return s===0?Qt(t,i):s}class M4{constructor(t){this.Hn=t,this.buffer=new Tn(eA),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();eA(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class P4{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){vt(tA,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qc(n)?vt(tA,"Ignoring IndexedDB error during garbage collection: ",n):await Hc(n)}await this.er(3e5)})}}class O4{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return ot.resolve(Dm.ae);const i=new M4(n);return this.tr.forEachTarget(t,s=>i.Zn(s.sequenceNumber)).next(()=>this.tr.rr(t,s=>i.Zn(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.tr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(Jx)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jx):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let i,s,a,l,c,h,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(t,s))).next(y=>(i=y,c=Date.now(),this.removeTargets(t,i,n))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(f=Date.now(),ic()<=ee.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y})))}}function N4(e,t){return new O4(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.changes=new cl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Yn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ot.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&_h(i.mutation,s,Oi.empty(),wn.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,ie()).next(()=>i))}getLocalViewOfDocuments(t,n,i=ie()){const s=Uo();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(a=>{let l=oh();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const i=Uo();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,ie()))}populateOverlays(t,n,i){const s=[];return i.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(t,s).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(t,n,i,s){let a=Qr();const l=vh(),c=function(){return vh()}();return n.forEach((h,f)=>{const p=i.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof Za)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),_h(p.mutation,f,p.mutation.getFieldMask(),wn.now())):l.set(f.key,Oi.empty())}),this.recalculateAndSaveOverlays(t,a).next(h=>(h.forEach((f,p)=>l.set(f,p)),n.forEach((f,p)=>{var y;return c.set(f,new V4(p,(y=l.get(f))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(t,n){const i=vh();let s=new Fe((l,c)=>l-c),a=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=i.get(h)||Oi.empty();p=c.applyToLocalView(f,p),i.set(h,p);const y=(s.get(c.batchId)||ie()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,p=h.value,y=fk();p.forEach(_=>{if(!a.has(_)){const b=_k(n.get(_),i.get(_));b!==null&&y.set(_,b),a=a.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,y))}return ot.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(l){return kt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):zU(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-a.size):ot.resolve(Uo());let c=Mh,h=a;return l.next(f=>ot.forEach(f,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(p)?ot.resolve():this.remoteDocumentCache.getEntry(t,p).next(_=>{h=h.insert(p,_)}))).next(()=>this.populateOverlays(t,f,a)).next(()=>this.computeViews(t,h,f,ie())).next(p=>({batchId:c,changes:hk(p)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new kt(n)).next(i=>{let s=oh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const a=n.collectionGroup;let l=oh();return this.indexManager.getCollectionParents(t,a).next(c=>ot.forEach(c,h=>{const f=function(y,_){return new Mm(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,f,i,s).next(p=>{p.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,n,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,a,s))).next(l=>{a.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Yn.newInvalidDocument(p)))});let c=oh();return l.forEach((h,f)=>{const p=a.get(h);p!==void 0&&_h(p.mutation,f,Oi.empty(),wn.now()),Om(n,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return ot.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:tr(s.createTime)}}(n)),ot.resolve()}getNamedQuery(t,n){return ot.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:C4(s.bundledQuery),readTime:tr(s.readTime)}}(n)),ot.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.overlays=new Fe(kt.comparator),this.Rr=new Map}getOverlay(t,n){return ot.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Uo();return ot.forEach(n,s=>this.getOverlay(t,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,a)=>{this.Et(t,n,a)}),ot.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.Rr.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),ot.resolve()}getOverlaysForCollection(t,n,i){const s=Uo(),a=n.length+1,l=new kt(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>i&&s.set(h.getKey(),h)}return ot.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let a=new Fe((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=a.get(f.largestBatchId);p===null&&(p=Uo(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Uo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=s)););return ot.resolve(c)}Et(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(i.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new r4(n,i));let a=this.Rr.get(n);a===void 0&&(a=ie(),this.Rr.set(n,a)),this.Rr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.sessionToken=Un.EMPTY_BYTE_STRING}getSessionToken(t){return ot.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ot.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.Vr=new Tn(kn.mr),this.gr=new Tn(kn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const i=new kn(t,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.wr(new kn(t,n))}Sr(t,n){t.forEach(i=>this.removeReference(i,n))}br(t){const n=new kt(new Je([])),i=new kn(n,t),s=new kn(n,t+1),a=[];return this.gr.forEachInRange([i,s],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new kt(new Je([])),i=new kn(n,t),s=new kn(n,t+1);let a=ie();return this.gr.forEachInRange([i,s],l=>{a=a.add(l.key)}),a}containsKey(t){const n=new kn(t,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class kn{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return kt.comparator(t.key,n.key)||Qt(t.Cr,n.Cr)}static pr(t,n){return Qt(t.Cr,n.Cr)||kt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Tn(kn.mr)}checkEmpty(t){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new s4(a,n,i,s);this.mutationQueue.push(l);for(const c of s)this.Mr=this.Mr.add(new kn(c.key,a)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return ot.resolve(l)}lookupMutationBatch(t,n){return ot.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.Nr(i),a=s<0?0:s;return ot.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?O0:this.Fr-1)}getAllMutationBatches(t){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new kn(n,0),s=new kn(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,s],l=>{const c=this.Or(l.Cr);a.push(c)}),ot.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Tn(Qt);return n.forEach(s=>{const a=new kn(s,0),l=new kn(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{i=i.add(c.Cr)})}),ot.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let a=i;kt.isDocumentKey(a)||(a=a.child(""));const l=new kn(new kt(a),0);let c=new Tn(Qt);return this.Mr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(h.Cr)),!0)},l),ot.resolve(this.Br(c))}Br(t){const n=[];return t.forEach(i=>{const s=this.Or(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){_e(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ot.forEach(n.mutations,s=>{const a=new kn(s.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,n){const i=new kn(n,0),s=this.Mr.firstAfterOrEqual(i);return ot.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,ot.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(t){this.kr=t,this.docs=function(){return new Fe(kt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return ot.resolve(i?i.document.mutableCopy():Yn.newInvalidDocument(n))}getEntries(t,n){let i=Qr();return n.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():Yn.newInvalidDocument(s))}),ot.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let a=Qr();const l=n.path,c=new kt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||vU(yU(p),i)<=0||(s.has(p.key)||Om(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return ot.resolve(a)}getAllFromCollectionGroup(t,n,i,s){Bt()}qr(t,n){return ot.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new q4(this)}getSize(t){return ot.resolve(this.size)}}class q4 extends L4{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(t,s)):this.Ir.removeEntry(i)}),ot.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(t){this.persistence=t,this.Qr=new cl(n=>V0(n),j0),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new q0,this.targetCount=0,this.Kr=Rc.Un()}forEachTarget(t,n){return this.Qr.forEach((i,s)=>n(s)),ot.resolve()}getLastRemoteSnapshotVersion(t){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ot.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),ot.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new Rc(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,ot.resolve()}updateTargetData(t,n){return this.zn(n),ot.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ot.resolve()}removeTargets(t,n,i){let s=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),ot.waitFor(a).next(()=>s)}getTargetCount(t){return ot.resolve(this.targetCount)}getTargetData(t,n){const i=this.Qr.get(n)||null;return ot.resolve(i)}addMatchingKeys(t,n,i){return this.Ur.yr(n,i),ot.resolve()}removeMatchingKeys(t,n,i){this.Ur.Sr(n,i);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(t,l))}),ot.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),ot.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Ur.vr(n);return ot.resolve(i)}containsKey(t,n){return ot.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Dm(0),this.zr=!1,this.zr=!0,this.jr=new z4,this.referenceDelegate=t(this),this.Hr=new W4(this),this.indexManager=new D4,this.remoteDocumentCache=function(s){return new H4(s)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new R4(n),this.Yr=new B4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new U4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Wr[t.toKey()];return i||(i=new F4(n,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,i){vt("MemoryPersistence","Starting transaction:",t);const s=new $4(this.Gr.next());return this.referenceDelegate.Zr(),i(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(t,n){return ot.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,n)))}}class $4 extends bU{constructor(t){super(),this.currentSequenceNumber=t}}class W0{constructor(t){this.persistence=t,this.ti=new q0,this.ni=null}static ri(t){return new W0(t)}get ii(){if(this.ni)return this.ni;throw Bt()}addReference(t,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),ot.resolve()}removeReference(t,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),ot.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),ot.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.ii,i=>{const s=kt.fromPath(i);return this.si(t,s).next(a=>{a||n.removeEntry(s,zt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return ot.or([()=>ot.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Zp{constructor(t,n){this.persistence=t,this.oi=new cl(i=>SU(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=N4(this,n)}static ri(t,n){return new Zp(t,n)}Zr(){}Xr(t){return ot.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}sr(t){let n=0;return this.rr(t,i=>{n++}).next(()=>n)}rr(t,n){return ot.forEach(this.oi,(i,s)=>this.ar(t,i,s).next(a=>a?ot.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(t,l=>this.ar(t,l,n).next(c=>{c||(i++,a.removeEntry(l,zt.min()))})).next(()=>a.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),ot.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),ot.resolve()}removeReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),ot.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),ot.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Sp(t.data.value)),n}ar(t,n,i){return ot.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.oi.get(n);return ot.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Hi=i,this.Ji=s}static Yi(t,n){let i=ie(),s=ie();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new $0(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return zL()?8:wU(Zn())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,i,s){const a={result:null};return this.rs(t,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(t,n,s,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new G4;return this._s(t,n,l).next(c=>{if(a.result=c,this.Xi)return this.us(t,n,l,c.size)})}).next(()=>a.result)}us(t,n,i,s){return i.documentReadCount<this.es?(ic()<=ee.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",sc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ot.resolve()):(ic()<=ee.DEBUG&&vt("QueryEngine","Query:",sc(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ts*s?(ic()<=ee.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",sc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Zs(n))):ot.resolve())}rs(t,n){if(Hx(n))return ot.resolve(null);let i=Zs(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=v_(n,null,"F"),i=Zs(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const l=ie(...a);return this.ns.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,i).next(h=>{const f=this.cs(n,c);return this.ls(n,f,l,h.readTime)?this.rs(t,v_(n,null,"F")):this.hs(t,f,n,h)}))})))}ss(t,n,i,s){return Hx(n)||s.isEqual(zt.min())?ot.resolve(null):this.ns.getDocuments(t,i).next(a=>{const l=this.cs(n,a);return this.ls(n,l,i,s)?ot.resolve(null):(ic()<=ee.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),sc(n)),this.hs(t,l,n,gU(s,Mh)).next(c=>c))})}cs(t,n){let i=new Tn(ck(t));return n.forEach((s,a)=>{Om(t,a)&&(i=i.add(a))}),i}ls(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(t,n,i){return ic()<=ee.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",sc(n)),this.ns.getDocumentsMatchingQuery(t,n,Fa.min(),i)}hs(t,n,i,s){return this.ns.getDocumentsMatchingQuery(t,i,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="LocalStore",Y4=3e8;class X4{constructor(t,n,i,s){this.persistence=t,this.Ps=n,this.serializer=s,this.Ts=new Fe(Qt),this.Is=new cl(a=>V0(a),j0),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new j4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function Q4(e,t,n,i){return new X4(e,t,n,i)}async function Ok(e,t){const n=Ht(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,n.As(t),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],c=[];let h=ie();for(const f of s){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of a){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:c}))})})}function Z4(e,t){const n=Ht(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,f,p){const y=f.batch,_=y.keys();let b=ot.resolve();return _.forEach(T=>{b=b.next(()=>p.getEntry(h,T)).next(E=>{const S=f.docVersions.get(T);_e(S!==null),E.version.compareTo(S)<0&&(y.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),p.addEntry(E)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(n,i,t,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=ie();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function Nk(e){const t=Ht(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function J4(e,t){const n=Ht(e),i=t.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const c=[];t.targetChanges.forEach((p,y)=>{const _=s.get(y);if(!_)return;c.push(n.Hr.removeMatchingKeys(a,p.removedDocuments,y).next(()=>n.Hr.addMatchingKeys(a,p.addedDocuments,y)));let b=_.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(y)!==null?b=b.withResumeToken(Un.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,i)),s=s.insert(y,b),function(E,S,C){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=Y4?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(_,b,p)&&c.push(n.Hr.updateTargetData(a,b))});let h=Qr(),f=ie();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))}),c.push(tz(a,l,t.documentUpdates).next(p=>{h=p.Vs,f=p.fs})),!i.isEqual(zt.min())){const p=n.Hr.getLastRemoteSnapshotVersion(a).next(y=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));c.push(p)}return ot.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,f)).next(()=>h)}).then(a=>(n.Ts=s,a))}function tz(e,t,n){let i=ie(),s=ie();return n.forEach(a=>i=i.add(a)),t.getEntries(e,i).next(a=>{let l=Qr();return n.forEach((c,h)=>{const f=a.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(zt.min())?(t.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(h),l=l.insert(c,h)):vt(G0,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{Vs:l,fs:s}})}function ez(e,t){const n=Ht(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=O0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function nz(e,t){const n=Ht(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Hr.getTargetData(i,t).next(a=>a?(s=a,ot.resolve(s)):n.Hr.allocateTargetId(i).next(l=>(s=new Pa(t,l,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(t,i.targetId)),i})}async function S_(e,t,n){const i=Ht(e),s=i.Ts.get(t),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!qc(l))throw l;vt(G0,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ts=i.Ts.remove(t),i.Is.delete(s.target)}function nA(e,t,n){const i=Ht(e);let s=zt.min(),a=ie();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const y=Ht(h),_=y.Is.get(p);return _!==void 0?ot.resolve(y.Ts.get(_)):y.Hr.getTargetData(f,p)}(i,l,Zs(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(l,t,n?s:zt.min(),n?a:ie())).next(c=>(iz(i,HU(t),c),{documents:c,gs:a})))}function iz(e,t,n){let i=e.Es.get(t)||zt.min();n.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),e.Es.set(t,i)}class iA{constructor(){this.activeTargetIds=YU()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class sz{constructor(){this.ho=new iA,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,i){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new iA,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="ConnectivityMonitor";class rA{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){vt(sA,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){vt(sA,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd=null;function E_(){return Yd===null?Yd=function(){return 268435456+Math.round(2147483648*Math.random())}():Yd++,"0x"+Yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="RestConnection",az={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oz{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database===$p?`project_id=${i}`:`project_id=${i}&database_id=${s}`}So(t,n,i,s,a){const l=E_(),c=this.bo(t,n.toUriEncodedString());vt(_v,`Sending RPC '${t}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,a),this.vo(t,c,h,i).then(f=>(vt(_v,`Received RPC '${t}' ${l}: `,f),f),f=>{throw Tc(_v,`RPC '${t}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}Co(t,n,i,s,a,l){return this.So(t,n,i,s,a)}Do(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}bo(t,n){const i=az[t];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="WebChannelConnection";class cz extends oz{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,i,s){const a=E_();return new Promise((l,c)=>{const h=new jD;h.setWithCredentials(!0),h.listenOnce(BD.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Tp.NO_ERROR:const p=h.getResponseJson();vt(Wn,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case Tp.TIMEOUT:vt(Wn,`RPC '${t}' ${a} timed out`),c(new Ct(ct.DEADLINE_EXCEEDED,"Request time out"));break;case Tp.HTTP_ERROR:const y=h.getStatus();if(vt(Wn,`RPC '${t}' ${a} failed with status:`,y,"response text:",h.getResponseText()),y>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const b=_==null?void 0:_.error;if(b&&b.status&&b.message){const T=function(S){const C=S.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(C)>=0?C:ct.UNKNOWN}(b.status);c(new Ct(T,b.message))}else c(new Ct(ct.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ct(ct.UNAVAILABLE,"Connection failed."));break;default:Bt()}}finally{vt(Wn,`RPC '${t}' ${a} completed.`)}});const f=JSON.stringify(s);vt(Wn,`RPC '${t}' ${a} sending request:`,s),h.send(n,"POST",f,i,15)})}Wo(t,n,i){const s=E_(),a=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=FD(),c=zD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=a.join("");vt(Wn,`Creating RPC '${t}' stream ${s}: ${p}`,h);const y=l.createWebChannel(p,h);let _=!1,b=!1;const T=new lz({Fo:S=>{b?vt(Wn,`Not sending because RPC '${t}' stream ${s} is closed:`,S):(_||(vt(Wn,`Opening RPC '${t}' stream ${s} transport.`),y.open(),_=!0),vt(Wn,`RPC '${t}' stream ${s} sending:`,S),y.send(S))},Mo:()=>y.close()}),E=(S,C,V)=>{S.listen(C,j=>{try{V(j)}catch(W){setTimeout(()=>{throw W},0)}})};return E(y,ah.EventType.OPEN,()=>{b||(vt(Wn,`RPC '${t}' stream ${s} transport opened.`),T.Qo())}),E(y,ah.EventType.CLOSE,()=>{b||(b=!0,vt(Wn,`RPC '${t}' stream ${s} transport closed`),T.Uo())}),E(y,ah.EventType.ERROR,S=>{b||(b=!0,Tc(Wn,`RPC '${t}' stream ${s} transport errored:`,S),T.Uo(new Ct(ct.UNAVAILABLE,"The operation could not be completed")))}),E(y,ah.EventType.MESSAGE,S=>{var C;if(!b){const V=S.data[0];_e(!!V);const j=V,W=(j==null?void 0:j.error)||((C=j[0])===null||C===void 0?void 0:C.error);if(W){vt(Wn,`RPC '${t}' stream ${s} received error:`,W);const z=W.status;let $=function(I){const B=fn[I];if(B!==void 0)return Tk(B)}(z),M=W.message;$===void 0&&($=ct.INTERNAL,M="Unknown error status: "+z+" with message "+W.message),b=!0,T.Uo(new Ct($,M)),y.close()}else vt(Wn,`RPC '${t}' stream ${s} received:`,V),T.Ko(V)}}),E(c,UD.STAT_EVENT,S=>{S.stat===f_.PROXY?vt(Wn,`RPC '${t}' stream ${s} detected buffering proxy`):S.stat===f_.NOPROXY&&vt(Wn,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function bv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(e){return new d4(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(t,n,i=1e3,s=1.5,a=6e4){this.Ti=t,this.timerId=n,this.Go=i,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-i);s>0&&vt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="PersistentStream";class Vk{constructor(t,n,i,s,a,l,c,h){this.Ti=t,this.n_=i,this.r_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Lk(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===ct.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.i_===n&&this.V_(i,s)},i=>{t(()=>{const s=new Ct(ct.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(s)})})}V_(t,n){const i=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{i(()=>this.m_(s))}),this.stream.onMessage(s=>{i(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return vt(aA,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(vt(aA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uz extends Vk{constructor(t,n,i,s,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=g4(this.serializer,t),i=function(a){if(!("targetChange"in a))return zt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?zt.min():l.readTime?tr(l.readTime):zt.min()}(t);return this.listener.p_(n,i)}y_(t){const n={};n.database=T_(this.serializer),n.addTarget=function(a,l){let c;const h=l.target;if(c=y_(h)?{documents:_4(a,h)}:{query:b4(a,h).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=xk(a,l.resumeToken);const f=__(a,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(zt.min())>0){c.readTime=Qp(a,l.snapshotVersion.toTimestamp());const f=__(a,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,t);const i=T4(this.serializer,t);i&&(n.labels=i),this.I_(n)}w_(t){const n={};n.database=T_(this.serializer),n.removeTarget=t,this.I_(n)}}class hz extends Vk{constructor(t,n,i,s,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return _e(!!t.streamToken),this.lastStreamToken=t.streamToken,_e(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){_e(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=v4(t.writeResults,t.commitTime),i=tr(t.commitTime);return this.listener.v_(i,n)}C_(){const t={};t.database=T_(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>y4(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{}class dz extends fz{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Ct(ct.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(t,b_(n,i),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ct(ct.UNKNOWN,a.toString())})}Co(t,n,i,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(t,b_(n,i),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ct(ct.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class pz{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Xr(n),this.N_=!1):vt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="RemoteStore";class mz{constructor(t,n,i,s,a){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{i.enqueueAndForget(async()=>{ul(this)&&(vt(Jo,"Restarting streams for network reachability change."),await async function(h){const f=Ht(h);f.W_.add(4),await pf(f),f.j_.set("Unknown"),f.W_.delete(4),await Bm(f)}(this))})}),this.j_=new pz(i,s)}}async function Bm(e){if(ul(e))for(const t of e.G_)await t(!0)}async function pf(e){for(const t of e.G_)await t(!1)}function jk(e,t){const n=Ht(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Q0(n)?X0(n):Wc(n).c_()&&Y0(n,t))}function K0(e,t){const n=Ht(e),i=Wc(n);n.K_.delete(t),i.c_()&&Bk(n,t),n.K_.size===0&&(i.c_()?i.P_():ul(n)&&n.j_.set("Unknown"))}function Y0(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(zt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wc(e).y_(t)}function Bk(e,t){e.H_.Ne(t),Wc(e).w_(t)}function X0(e){e.H_=new c4({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Wc(e).start(),e.j_.B_()}function Q0(e){return ul(e)&&!Wc(e).u_()&&e.K_.size>0}function ul(e){return Ht(e).W_.size===0}function Uk(e){e.H_=void 0}async function gz(e){e.j_.set("Online")}async function yz(e){e.K_.forEach((t,n)=>{Y0(e,t)})}async function vz(e,t){Uk(e),Q0(e)?(e.j_.q_(t),X0(e)):e.j_.set("Unknown")}async function _z(e,t,n){if(e.j_.set("Online"),t instanceof Ek&&t.state===2&&t.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.K_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.K_.delete(c),s.H_.removeTarget(c))}(e,t)}catch(i){vt(Jo,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Jp(e,i)}else if(t instanceof Ap?e.H_.We(t):t instanceof Sk?e.H_.Ze(t):e.H_.je(t),!n.isEqual(zt.min()))try{const i=await Nk(e.localStore);n.compareTo(i)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.K_.get(f);p&&a.K_.set(f,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,f)=>{const p=a.K_.get(h);if(!p)return;a.K_.set(h,p.withResumeToken(Un.EMPTY_BYTE_STRING,p.snapshotVersion)),Bk(a,h);const y=new Pa(p.target,h,f,p.sequenceNumber);Y0(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(i){vt(Jo,"Failed to raise snapshot:",i),await Jp(e,i)}}async function Jp(e,t,n){if(!qc(t))throw t;e.W_.add(1),await pf(e),e.j_.set("Offline"),n||(n=()=>Nk(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{vt(Jo,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Bm(e)})}function zk(e,t){return t().catch(n=>Jp(e,n,t))}async function Um(e){const t=Ht(e),n=$a(t);let i=t.U_.length>0?t.U_[t.U_.length-1].batchId:O0;for(;bz(t);)try{const s=await ez(t.localStore,i);if(s===null){t.U_.length===0&&n.P_();break}i=s.batchId,wz(t,s)}catch(s){await Jp(t,s)}Fk(t)&&Hk(t)}function bz(e){return ul(e)&&e.U_.length<10}function wz(e,t){e.U_.push(t);const n=$a(e);n.c_()&&n.S_&&n.b_(t.mutations)}function Fk(e){return ul(e)&&!$a(e).u_()&&e.U_.length>0}function Hk(e){$a(e).start()}async function Tz(e){$a(e).C_()}async function Sz(e){const t=$a(e);for(const n of e.U_)t.b_(n.mutations)}async function Ez(e,t,n){const i=e.U_.shift(),s=z0.from(i,t,n);await zk(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Um(e)}async function xz(e,t){t&&$a(e).S_&&await async function(i,s){if(function(l){return o4(l)&&l!==ct.ABORTED}(s.code)){const a=i.U_.shift();$a(i).h_(),await zk(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Um(i)}}(e,t),Fk(e)&&Hk(e)}async function oA(e,t){const n=Ht(e);n.asyncQueue.verifyOperationInProgress(),vt(Jo,"RemoteStore received new credentials");const i=ul(n);n.W_.add(3),await pf(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Bm(n)}async function Az(e,t){const n=Ht(e);t?(n.W_.delete(2),await Bm(n)):t||(n.W_.add(2),await pf(n),n.j_.set("Unknown"))}function Wc(e){return e.J_||(e.J_=function(n,i,s){const a=Ht(n);return a.M_(),new uz(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(e.datastore,e.asyncQueue,{xo:gz.bind(null,e),No:yz.bind(null,e),Lo:vz.bind(null,e),p_:_z.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),Q0(e)?X0(e):e.j_.set("Unknown")):(await e.J_.stop(),Uk(e))})),e.J_}function $a(e){return e.Y_||(e.Y_=function(n,i,s){const a=Ht(n);return a.M_(),new hz(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:Tz.bind(null,e),Lo:xz.bind(null,e),D_:Sz.bind(null,e),v_:Ez.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await Um(e)):(await e.Y_.stop(),e.U_.length>0&&(vt(Jo,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))})),e.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(t,n,i,s,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,a){const l=Date.now()+i,c=new Z0(t,n,l,s,a);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function J0(e,t){if(Xr("AsyncQueue",`${t}: ${e}`),qc(e))return new Ct(ct.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{static emptySet(t){return new mc(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||kt.comparator(n.key,i.key):(n,i)=>kt.comparator(n.key,i.key),this.keyedMap=oh(),this.sortedSet=new Fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof mc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new mc;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.Z_=new Fe(kt.comparator)}track(t){const n=t.doc.key,i=this.Z_.get(n);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(n):t.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):Bt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Cc{constructor(t,n,i,s,a,l,c,h,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,n,i,s,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Cc(t,n,mc.emptySet(n),l,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Pm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class Cz{constructor(){this.queries=cA(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const s=Ht(n),a=s.queries;s.queries=cA(),a.forEach((l,c)=>{for(const h of c.ta)h.onError(i)})})(this,new Ct(ct.ABORTED,"Firestore shutting down"))}}function cA(){return new cl(e=>lk(e),Pm)}async function Dz(e,t){const n=Ht(e);let i=3;const s=t.query;let a=n.queries.get(s);a?!a.na()&&t.ra()&&(i=2):(a=new Rz,i=t.ra()?0:1);try{switch(i){case 0:a.ea=await n.onListen(s,!0);break;case 1:a.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=J0(l,`Initialization of query '${sc(t.query)}' failed`);return void t.onError(c)}n.queries.set(s,a),a.ta.push(t),t.sa(n.onlineState),a.ea&&t.oa(a.ea)&&tb(n)}async function kz(e,t){const n=Ht(e),i=t.query;let s=3;const a=n.queries.get(i);if(a){const l=a.ta.indexOf(t);l>=0&&(a.ta.splice(l,1),a.ta.length===0?s=t.ra()?0:1:!a.na()&&t.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Iz(e,t){const n=Ht(e);let i=!1;for(const s of t){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.ta)c.oa(s)&&(i=!0);l.ea=s}}i&&tb(n)}function Mz(e,t,n){const i=Ht(e),s=i.queries.get(t);if(s)for(const a of s.ta)a.onError(n);i.queries.delete(t)}function tb(e){e.ia.forEach(t=>{t.next()})}var x_,uA;(uA=x_||(x_={}))._a="default",uA.Cache="cache";class Pz{constructor(t,n,i){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Cc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Cc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==x_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t){this.key=t}}class Wk{constructor(t){this.key=t}}class Oz{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ie(),this.mutatedKeys=ie(),this.ya=ck(t),this.wa=new mc(this.ya)}get Sa(){return this.fa}ba(t,n){const i=n?n.Da:new lA,s=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,y)=>{const _=s.get(p),b=Om(this.query,y)?y:null,T=!!_&&this.mutatedKeys.has(_.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let S=!1;_&&b?_.data.isEqual(b.data)?T!==E&&(i.track({type:3,doc:b}),S=!0):this.va(_,b)||(i.track({type:2,doc:b}),S=!0,(h&&this.ya(b,h)>0||f&&this.ya(b,f)<0)&&(c=!0)):!_&&b?(i.track({type:0,doc:b}),S=!0):_&&!b&&(i.track({type:1,doc:_}),S=!0,(h||f)&&(c=!0)),S&&(b?(l=l.add(b),a=E?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{wa:l,Da:i,ls:c,mutatedKeys:a}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const a=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const l=t.Da.X_();l.sort((p,y)=>function(b,T){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt()}};return E(b)-E(T)}(p.type,y.type)||this.ya(p.doc,y.doc)),this.Ca(i),s=s!=null&&s;const c=n&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,f=h!==this.ga;return this.ga=h,l.length!==0||f?{snapshot:new Cc(this.query,t.wa,a,l,t.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new lA,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=ie(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return t.forEach(i=>{this.pa.has(i)||n.push(new Wk(i))}),this.pa.forEach(i=>{t.has(i)||n.push(new qk(i))}),n}Oa(t){this.fa=t.gs,this.pa=ie();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Cc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const eb="SyncEngine";class Nz{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class Lz{constructor(t){this.key=t,this.Ba=!1}}class Vz{constructor(t,n,i,s,a,l){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new cl(c=>lk(c),Pm),this.qa=new Map,this.Qa=new Set,this.$a=new Fe(kt.comparator),this.Ua=new Map,this.Ka=new q0,this.Wa={},this.Ga=new Map,this.za=Rc.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function jz(e,t,n=!0){const i=Qk(e);let s;const a=i.ka.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await $k(i,t,n,!0),s}async function Bz(e,t){const n=Qk(e);await $k(n,t,!0,!1)}async function $k(e,t,n,i){const s=await nz(e.localStore,Zs(t)),a=s.targetId,l=e.sharedClientState.addLocalQueryTarget(a,n);let c;return i&&(c=await Uz(e,t,a,l==="current",s.resumeToken)),e.isPrimaryClient&&n&&jk(e.remoteStore,s),c}async function Uz(e,t,n,i,s){e.Ha=(y,_,b)=>async function(E,S,C,V){let j=S.view.ba(C);j.ls&&(j=await nA(E.localStore,S.query,!1).then(({documents:M})=>S.view.ba(M,j)));const W=V&&V.targetChanges.get(S.targetId),z=V&&V.targetMismatches.get(S.targetId)!=null,$=S.view.applyChanges(j,E.isPrimaryClient,W,z);return fA(E,S.targetId,$.Ma),$.snapshot}(e,y,_,b);const a=await nA(e.localStore,t,!0),l=new Oz(t,a.gs),c=l.ba(a.documents),h=df.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),f=l.applyChanges(c,e.isPrimaryClient,h);fA(e,n,f.Ma);const p=new Nz(t,n,l);return e.ka.set(t,p),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),f.snapshot}async function zz(e,t,n){const i=Ht(e),s=i.ka.get(t),a=i.qa.get(s.targetId);if(a.length>1)return i.qa.set(s.targetId,a.filter(l=>!Pm(l,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await S_(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&K0(i.remoteStore,s.targetId),A_(i,s.targetId)}).catch(Hc)):(A_(i,s.targetId),await S_(i.localStore,s.targetId,!0))}async function Fz(e,t){const n=Ht(e),i=n.ka.get(t),s=n.qa.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),K0(n.remoteStore,i.targetId))}async function Hz(e,t,n){const i=Xz(e);try{const s=await function(l,c){const h=Ht(l),f=wn.now(),p=c.reduce((b,T)=>b.add(T.key),ie());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let T=Qr(),E=ie();return h.ds.getEntries(b,p).next(S=>{T=S,T.forEach((C,V)=>{V.isValidDocument()||(E=E.add(C))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,T)).next(S=>{y=S;const C=[];for(const V of c){const j=n4(V,y.get(V.key).overlayedDocument);j!=null&&C.push(new Za(V.key,j,ek(j.value.mapValue),Js.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,C,c)}).next(S=>{_=S;const C=S.applyToLocalDocumentSet(y,E);return h.documentOverlayCache.saveOverlays(b,S.batchId,C)})}).then(()=>({batchId:_.batchId,changes:hk(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let f=l.Wa[l.currentUser.toKey()];f||(f=new Fe(Qt)),f=f.insert(c,h),l.Wa[l.currentUser.toKey()]=f}(i,s.batchId,n),await mf(i,s.changes),await Um(i.remoteStore)}catch(s){const a=J0(s,"Failed to persist write");n.reject(a)}}async function Gk(e,t){const n=Ht(e);try{const i=await J4(n.localStore,t);t.targetChanges.forEach((s,a)=>{const l=n.Ua.get(a);l&&(_e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?_e(l.Ba):s.removedDocuments.size>0&&(_e(l.Ba),l.Ba=!1))}),await mf(n,i,t)}catch(i){await Hc(i)}}function hA(e,t,n){const i=Ht(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.ka.forEach((a,l)=>{const c=l.view.sa(t);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=Ht(l);h.onlineState=c;let f=!1;h.queries.forEach((p,y)=>{for(const _ of y.ta)_.sa(c)&&(f=!0)}),f&&tb(h)}(i.eventManager,t),s.length&&i.La.p_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function qz(e,t,n){const i=Ht(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Ua.get(t),a=s&&s.key;if(a){let l=new Fe(kt.comparator);l=l.insert(a,Yn.newNoDocument(a,zt.min()));const c=ie().add(a),h=new Vm(zt.min(),new Map,new Fe(Qt),l,c);await Gk(i,h),i.$a=i.$a.remove(a),i.Ua.delete(t),nb(i)}else await S_(i.localStore,t,!1).then(()=>A_(i,t,n)).catch(Hc)}async function Wz(e,t){const n=Ht(e),i=t.batch.batchId;try{const s=await Z4(n.localStore,t);Yk(n,i,null),Kk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await mf(n,s)}catch(s){await Hc(s)}}async function $z(e,t,n){const i=Ht(e);try{const s=await function(l,c){const h=Ht(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,c).next(y=>(_e(y!==null),p=y.keys(),h.mutationQueue.removeMutationBatch(f,y))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,t);Yk(i,t,n),Kk(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await mf(i,s)}catch(s){await Hc(s)}}function Kk(e,t){(e.Ga.get(t)||[]).forEach(n=>{n.resolve()}),e.Ga.delete(t)}function Yk(e,t,n){const i=Ht(e);let s=i.Wa[i.currentUser.toKey()];if(s){const a=s.get(t);a&&(n?a.reject(n):a.resolve(),s=s.remove(t)),i.Wa[i.currentUser.toKey()]=s}}function A_(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.qa.get(t))e.ka.delete(i),n&&e.La.Ja(i,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach(i=>{e.Ka.containsKey(i)||Xk(e,i)})}function Xk(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(K0(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),nb(e))}function fA(e,t,n){for(const i of n)i instanceof qk?(e.Ka.addReference(i.key,t),Gz(e,i)):i instanceof Wk?(vt(eb,"Document no longer in limbo: "+i.key),e.Ka.removeReference(i.key,t),e.Ka.containsKey(i.key)||Xk(e,i.key)):Bt()}function Gz(e,t){const n=t.key,i=n.path.canonicalString();e.$a.get(n)||e.Qa.has(i)||(vt(eb,"New document in limbo: "+n),e.Qa.add(i),nb(e))}function nb(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new kt(Je.fromString(t)),i=e.za.next();e.Ua.set(i,new Lz(n)),e.$a=e.$a.insert(n,i),jk(e.remoteStore,new Pa(Zs(B0(n.path)),i,"TargetPurposeLimboResolution",Dm.ae))}}async function mf(e,t,n){const i=Ht(e),s=[],a=[],l=[];i.ka.isEmpty()||(i.ka.forEach((c,h)=>{l.push(i.Ha(h,t,n).then(f=>{var p;if((f||n)&&i.isPrimaryClient){const y=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(f){s.push(f);const y=$0.Yi(h.targetId,f);a.push(y)}}))}),await Promise.all(l),i.La.p_(s),await async function(h,f){const p=Ht(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ot.forEach(f,_=>ot.forEach(_.Hi,b=>p.persistence.referenceDelegate.addReference(y,_.targetId,b)).next(()=>ot.forEach(_.Ji,b=>p.persistence.referenceDelegate.removeReference(y,_.targetId,b)))))}catch(y){if(!qc(y))throw y;vt(G0,"Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const b=p.Ts.get(_),T=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(T);p.Ts=p.Ts.insert(_,E)}}}(i.localStore,a))}async function Kz(e,t){const n=Ht(e);if(!n.currentUser.isEqual(t)){vt(eb,"User change. New user:",t.toKey());const i=await Ok(n.localStore,t);n.currentUser=t,function(a,l){a.Ga.forEach(c=>{c.forEach(h=>{h.reject(new Ct(ct.CANCELLED,l))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await mf(n,i.Rs)}}function Yz(e,t){const n=Ht(e),i=n.Ua.get(t);if(i&&i.Ba)return ie().add(i.key);{let s=ie();const a=n.qa.get(t);if(!a)return s;for(const l of a){const c=n.ka.get(l);s=s.unionWith(c.view.Sa)}return s}}function Qk(e){const t=Ht(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yz.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qz.bind(null,t),t.La.p_=Iz.bind(null,t.eventManager),t.La.Ja=Mz.bind(null,t.eventManager),t}function Xz(e){const t=Ht(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Wz.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$z.bind(null,t),t}class tm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jm(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return Q4(this.persistence,new K4,t.initialUser,this.serializer)}Xa(t){return new Pk(W0.ri,this.serializer)}Za(t){return new sz}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tm.provider={build:()=>new tm};class Qz extends tm{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){_e(this.persistence.referenceDelegate instanceof Zp);const i=this.persistence.referenceDelegate.garbageCollector;return new P4(i,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?bi.withCacheSize(this.cacheSizeBytes):bi.DEFAULT;return new Pk(i=>Zp.ri(i,n),this.serializer)}}class R_{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>hA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kz.bind(null,this.syncEngine),await Az(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Cz}()}createDatastore(t){const n=jm(t.databaseInfo.databaseId),i=function(a){return new cz(a)}(t.databaseInfo);return function(a,l,c,h){return new dz(a,l,c,h)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,a,l,c){return new mz(i,s,a,l,c)}(this.localStore,this.datastore,t.asyncQueue,n=>hA(this.syncEngine,n,0),function(){return rA.D()?new rA:new rz}())}createSyncEngine(t,n){return function(s,a,l,c,h,f,p){const y=new Vz(s,a,l,c,h,f);return p&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const a=Ht(s);vt(Jo,"RemoteStore shutting down."),a.W_.add(5),await pf(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}R_.provider={build:()=>new R_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Xr("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="FirestoreClient";class Jz{constructor(t,n,i,s,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Kn.UNAUTHENTICATED,this.clientId=WD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{vt(Ga,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(vt(Ga,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=J0(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function wv(e,t){e.asyncQueue.verifyOperationInProgress(),vt(Ga,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await Ok(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function dA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await tF(e);vt(Ga,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>oA(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>oA(t.remoteStore,s)),e._onlineComponents=t}async function tF(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){vt(Ga,"Using user provided OfflineComponentProvider");try{await wv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===ct.FAILED_PRECONDITION||s.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Tc("Error using user provided cache. Falling back to memory cache: "+n),await wv(e,new tm)}}else vt(Ga,"Using default OfflineComponentProvider"),await wv(e,new Qz(void 0));return e._offlineComponents}async function Zk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(vt(Ga,"Using user provided OnlineComponentProvider"),await dA(e,e._uninitializedComponentsProvider._online)):(vt(Ga,"Using default OnlineComponentProvider"),await dA(e,new R_))),e._onlineComponents}function eF(e){return Zk(e).then(t=>t.syncEngine)}async function nF(e){const t=await Zk(e),n=t.eventManager;return n.onListen=jz.bind(null,t.syncEngine),n.onUnlisten=zz.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Bz.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Fz.bind(null,t.syncEngine),n}function iF(e,t,n={}){const i=new Ua;return e.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,f){const p=new Zz({next:_=>{p.su(),l.enqueueAndForget(()=>kz(a,y));const b=_.docs.has(c);!b&&_.fromCache?f.reject(new Ct(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&_.fromCache&&h&&h.source==="server"?f.reject(new Ct(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new Pz(B0(c.path),p,{includeMetadataChanges:!0,Ta:!0});return Dz(a,y)}(await nF(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(e,t,n){if(!n)throw new Ct(ct.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function rF(e,t,n,i){if(t===!0&&i===!0)throw new Ct(ct.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function mA(e){if(!kt.isDocumentKey(e))throw new Ct(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ib(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Bt()}function tl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ct(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ib(e);throw new Ct(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="firestore.googleapis.com",gA=!0;class yA{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tI,this.ssl=gA}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:gA;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Mk;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<I4)throw new Ct(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}rF("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jk((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ct(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ct(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ct(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sb{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new oU;switch(i.type){case"firstParty":return new hU(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ct(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=pA.get(n);i&&(vt("ComponentProvider","Removing Datastore"),pA.delete(n),i.terminate())}(this),Promise.resolve()}}function aF(e,t,n,i={}){var s;const a=(e=tl(e,sb))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),c=`${t}:${n}`;a.host!==tI&&a.host!==c&&Tc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:i});if(!Gr(h,l)&&(e._setSettings(h),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Kn.MOCK_USER;else{f=NL(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Ct(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Kn(y)}e._authCredentials=new lU(new HD(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new rb(this.firestore,t,this._query)}}class Li{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jh(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Li(this.firestore,t,this._key)}}class jh extends rb{constructor(t,n,i){super(t,n,B0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Li(this.firestore,null,new kt(t))}withConverter(t){return new jh(this.firestore,t,this._path)}}function Es(e,t,...n){if(e=Jn(e),arguments.length===1&&(t=WD.newId()),sF("doc","path",t),e instanceof sb){const i=Je.fromString(t,...n);return mA(i),new Li(e,null,new kt(i))}{if(!(e instanceof Li||e instanceof jh))throw new Ct(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Je.fromString(t,...n));return mA(i),new Li(e.firestore,e instanceof jh?e.converter:null,new kt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="AsyncQueue";class _A{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Lk(this,"async_queue_retry"),this.Su=()=>{const i=bv();i&&vt(vA,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=t;const n=bv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=bv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ua;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!qc(t))throw t;vt(vA,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw Xr("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(t,n,i){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const s=Z0.createAndSchedule(this,t,n,i,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&Bt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class zm extends sb{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new _A,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new _A(t),this._firestoreClient=void 0,await t}}}function oF(e,t){const n=typeof e=="object"?e:w0(),i=typeof e=="string"?e:$p,s=ll(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=PL("firestore");a&&aF(s,...a)}return s}function eI(e){if(e._terminated)throw new Ct(ct.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||lF(e),e._firestoreClient}function lF(e){var t,n,i;const s=e._freezeSettings(),a=function(c,h,f,p){return new AU(c,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Jk(p.experimentalLongPollingOptions),p.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new Jz(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dc(Un.fromBase64String(t))}catch(n){throw new Ct(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Dc(Un.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ct(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ct(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ct(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=/^__.*__$/;class uF{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Za(t,this.data,this.fieldMask,n,this.fieldTransforms):new ff(t,this.data,n,this.fieldTransforms)}}class nI{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Za(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function iI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt()}}class Hm{constructor(t,n,i,s,a,l){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Hm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.ku({path:i,Qu:!1});return s.$u(t),s}Uu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.ku({path:i,Qu:!1});return s.Bu(),s}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return em(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(iI(this.Lu)&&cF.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class hF{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||jm(t)}ju(t,n,i,s=!1){return new Hm({Lu:t,methodName:n,zu:i,path:Bn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sI(e){const t=e._freezeSettings(),n=jm(e._databaseId);return new hF(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fF(e,t,n,i,s,a={}){const l=e.ju(a.merge||a.mergeFields?2:0,t,n,s);ub("Data must be an object, but it was:",l,i);const c=rI(i,l);let h,f;if(a.merge)h=new Oi(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const y of a.mergeFields){const _=C_(t,y,n);if(!l.contains(_))throw new Ct(ct.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);oI(p,_)||p.push(_)}h=new Oi(p),f=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,f=l.fieldTransforms;return new uF(new wi(c),h,f)}class qm extends gf{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qm}}function dF(e,t,n){return new Hm({Lu:3,zu:t.settings.zu,methodName:e._methodName,Qu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class lb extends gf{_toFieldTransform(t){return new vk(t.path,new Lh)}isEqual(t){return t instanceof lb}}class cb extends gf{constructor(t,n){super(t),this.Hu=n}_toFieldTransform(t){const n=dF(this,t,!0),i=this.Hu.map(a=>yf(a,n)),s=new Ac(i);return new vk(t.path,s)}isEqual(t){return t instanceof cb&&Gr(this.Hu,t.Hu)}}function pF(e,t,n,i){const s=e.ju(1,t,n);ub("Data must be an object, but it was:",s,i);const a=[],l=wi.empty();Qa(i,(h,f)=>{const p=hb(t,h,n);f=Jn(f);const y=s.Uu(p);if(f instanceof qm)a.push(p);else{const _=yf(f,y);_!=null&&(a.push(p),l.set(p,_))}});const c=new Oi(a);return new nI(l,c,s.fieldTransforms)}function mF(e,t,n,i,s,a){const l=e.ju(1,t,n),c=[C_(t,i,n)],h=[s];if(a.length%2!=0)throw new Ct(ct.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)c.push(C_(t,a[_])),h.push(a[_+1]);const f=[],p=wi.empty();for(let _=c.length-1;_>=0;--_)if(!oI(f,c[_])){const b=c[_];let T=h[_];T=Jn(T);const E=l.Uu(b);if(T instanceof qm)f.push(b);else{const S=yf(T,E);S!=null&&(f.push(b),p.set(b,S))}}const y=new Oi(f);return new nI(p,y,l.fieldTransforms)}function yf(e,t){if(aI(e=Jn(e)))return ub("Unsupported field value:",t,e),rI(e,t);if(e instanceof gf)return function(i,s){if(!iI(s.Lu))throw s.Wu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(i,s){const a=[];let l=0;for(const c of i){let h=yf(c,s.Ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(e,t)}return function(i,s){if((i=Jn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return XU(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=wn.fromDate(i);return{timestampValue:Qp(s.serializer,a)}}if(i instanceof wn){const a=new wn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Qp(s.serializer,a)}}if(i instanceof ab)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Dc)return{bytesValue:xk(s.serializer,i._byteString)};if(i instanceof Li){const a=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:H0(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof ob)return function(l,c){return{mapValue:{fields:{[JD]:{stringValue:tk},[Gp]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Wu("VectorValues must only contain numeric values.");return U0(c.serializer,f)})}}}}}}(i,s);throw s.Wu(`Unsupported field value: ${ib(i)}`)}(e,t)}function rI(e,t){const n={};return GD(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qa(e,(i,s)=>{const a=yf(s,t.qu(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function aI(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof wn||e instanceof ab||e instanceof Dc||e instanceof Li||e instanceof gf||e instanceof ob)}function ub(e,t,n){if(!aI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=ib(n);throw i==="an object"?t.Wu(e+" a custom object"):t.Wu(e+" "+i)}}function C_(e,t,n){if((t=Jn(t))instanceof Fm)return t._internalPath;if(typeof t=="string")return hb(e,t);throw em("Field path arguments must be of type string or ",e,!1,void 0,n)}const gF=new RegExp("[~\\*/\\[\\]]");function hb(e,t,n){if(t.search(gF)>=0)throw em(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Fm(...t.split("."))._internalPath}catch{throw em(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function em(e,t,n,i,s){const a=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new Ct(ct.INVALID_ARGUMENT,c+e+h)}function oI(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t,n,i,s,a){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Li(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new yF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(cI("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yF extends lI{data(){return super.data()}}function cI(e,t){return typeof t=="string"?hb(e,t):t instanceof Fm?t._internalPath:t._delegate._internalPath}class vF{convertValue(t,n="none"){switch(Wa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(qa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Bt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Qa(t,(s,a)=>{i[s]=this.convertValue(a,n)}),i}convertVectorValue(t){var n,i,s;const a=(s=(i=(n=t.fields)===null||n===void 0?void 0:n[Gp].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>rn(l.doubleValue));return new ob(a)}convertGeoPoint(t){return new ab(rn(t.latitude),rn(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Im(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ph(t));default:return null}}convertTimestamp(t){const n=Ha(t);return new wn(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Je.fromString(t);_e(Ik(i));const s=new Oh(i.get(1),i.get(3)),a=new kt(i.popFirst(5));return s.isEqual(n)||Xr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class uI extends lI{constructor(t,n,i,s,a,l){super(t,n,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new wF(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(cI("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class wF extends uI{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(e){e=tl(e,Li);const t=tl(e.firestore,zm);return iF(eI(t),e._key).then(n=>EF(t,e,n))}class TF extends vF{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dc(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Li(this.firestore,null,n)}}function SF(e,t,n){e=tl(e,Li);const i=tl(e.firestore,zm),s=_F(e.converter,t);return hI(i,[fF(sI(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,Js.none())])}function Wm(e,t,n,...i){e=tl(e,Li);const s=tl(e.firestore,zm),a=sI(s);let l;return l=typeof(t=Jn(t))=="string"||t instanceof Fm?mF(a,"updateDoc",e._key,t,n,i):pF(a,"updateDoc",e._key,t),hI(s,[l.toMutation(e._key,Js.exists(!0))])}function hI(e,t){return function(i,s){const a=new Ua;return i.asyncQueue.enqueueAndForget(async()=>Hz(await eF(i),s,a)),a.promise}(eI(e),t)}function EF(e,t,n){const i=n.docs.get(t._key),s=new TF(e);return new uI(e,s,t._key,i,new bF(n.hasPendingWrites,n.fromCache),t.converter)}function xF(){return new lb("serverTimestamp")}function fI(...e){return new cb("arrayUnion",e)}(function(t,n=!0){(function(s){Fc=s})(Uc),or(new Ss("firestore",(i,{instanceIdentifier:s,options:a})=>{const l=i.getProvider("app").getImmediate(),c=new zm(new cU(i.getProvider("auth-internal")),new fU(l,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ct(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oh(f.options.projectId,p)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),as(Ax,Rx,t),as(Ax,Rx,"esm2017")})();var AF="firebase",RF="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(AF,RF,"app");const dI="@firebase/installations",fb="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=1e4,mI=`w:${fb}`,gI="FIS_v2",CF="https://firebaseinstallations.googleapis.com/v1",DF=60*60*1e3,kF="installations",IF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},el=new ol(kF,IF,MF);function yI(e){return e instanceof ks&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI({projectId:e}){return`${CF}/projects/${e}/installations`}function _I(e){return{token:e.token,requestStatus:2,expiresIn:OF(e.expiresIn),creationTime:Date.now()}}async function bI(e,t){const i=(await t.json()).error;return el.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function wI({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function PF(e,{refreshToken:t}){const n=wI(e);return n.append("Authorization",NF(t)),n}async function TI(e){const t=await e();return t.status>=500&&t.status<600?e():t}function OF(e){return Number(e.replace("s","000"))}function NF(e){return`${gI} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LF({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=vI(e),s=wI(e),a=t.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={fid:n,authVersion:gI,appId:e.appId,sdkVersion:mI},c={method:"POST",headers:s,body:JSON.stringify(l)},h=await TI(()=>fetch(i,c));if(h.ok){const f=await h.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:_I(f.authToken)}}else throw await bI("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=/^[cdef][\w-]{21}$/,D_="";function BF(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=UF(e);return jF.test(n)?n:D_}catch{return D_}}function UF(e){return VF(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new Map;function xI(e,t){const n=$m(e);AI(n,t),zF(n,t)}function AI(e,t){const n=EI.get(e);if(n)for(const i of n)i(t)}function zF(e,t){const n=FF();n&&n.postMessage({key:e,fid:t}),HF()}let zo=null;function FF(){return!zo&&"BroadcastChannel"in self&&(zo=new BroadcastChannel("[Firebase] FID Change"),zo.onmessage=e=>{AI(e.data.key,e.data.fid)}),zo}function HF(){EI.size===0&&zo&&(zo.close(),zo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF="firebase-installations-database",WF=1,nl="firebase-installations-store";let Tv=null;function db(){return Tv||(Tv=nD(qF,WF,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(nl)}}})),Tv}async function nm(e,t){const n=$m(e),s=(await db()).transaction(nl,"readwrite"),a=s.objectStore(nl),l=await a.get(n);return await a.put(t,n),await s.done,(!l||l.fid!==t.fid)&&xI(e,t.fid),t}async function RI(e){const t=$m(e),i=(await db()).transaction(nl,"readwrite");await i.objectStore(nl).delete(t),await i.done}async function Gm(e,t){const n=$m(e),s=(await db()).transaction(nl,"readwrite"),a=s.objectStore(nl),l=await a.get(n),c=t(l);return c===void 0?await a.delete(n):await a.put(c,n),await s.done,c&&(!l||l.fid!==c.fid)&&xI(e,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(e){let t;const n=await Gm(e.appConfig,i=>{const s=$F(i),a=GF(e,s);return t=a.registrationPromise,a.installationEntry});return n.fid===D_?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function $F(e){const t=e||{fid:BF(),registrationStatus:0};return CI(t)}function GF(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(el.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=KF(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:YF(e)}:{installationEntry:t}}async function KF(e,t){try{const n=await LF(e,t);return nm(e.appConfig,n)}catch(n){throw yI(n)&&n.customData.serverCode===409?await RI(e.appConfig):await nm(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function YF(e){let t=await bA(e.appConfig);for(;t.registrationStatus===1;)await SI(100),t=await bA(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await pb(e);return i||n}return t}function bA(e){return Gm(e,t=>{if(!t)throw el.create("installation-not-found");return CI(t)})}function CI(e){return XF(e)?{fid:e.fid,registrationStatus:0}:e}function XF(e){return e.registrationStatus===1&&e.registrationTime+pI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QF({appConfig:e,heartbeatServiceProvider:t},n){const i=ZF(e,n),s=PF(e,n),a=t.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={installation:{sdkVersion:mI,appId:e.appId}},c={method:"POST",headers:s,body:JSON.stringify(l)},h=await TI(()=>fetch(i,c));if(h.ok){const f=await h.json();return _I(f)}else throw await bI("Generate Auth Token",h)}function ZF(e,{fid:t}){return`${vI(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(e,t=!1){let n;const i=await Gm(e.appConfig,a=>{if(!DI(a))throw el.create("not-registered");const l=a.authToken;if(!t&&e3(l))return a;if(l.requestStatus===1)return n=JF(e,t),a;{if(!navigator.onLine)throw el.create("app-offline");const c=i3(a);return n=t3(e,c),c}});return n?await n:i.authToken}async function JF(e,t){let n=await wA(e.appConfig);for(;n.authToken.requestStatus===1;)await SI(100),n=await wA(e.appConfig);const i=n.authToken;return i.requestStatus===0?mb(e,t):i}function wA(e){return Gm(e,t=>{if(!DI(t))throw el.create("not-registered");const n=t.authToken;return s3(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function t3(e,t){try{const n=await QF(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await nm(e.appConfig,i),n}catch(n){if(yI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await RI(e.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await nm(e.appConfig,i)}throw n}}function DI(e){return e!==void 0&&e.registrationStatus===2}function e3(e){return e.requestStatus===2&&!n3(e)}function n3(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+DF}function i3(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function s3(e){return e.requestStatus===1&&e.requestTime+pI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(e){const t=e,{installationEntry:n,registrationPromise:i}=await pb(t);return i?i.catch(console.error):mb(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(e,t=!1){const n=e;return await o3(n),(await mb(n,t)).token}async function o3(e){const{registrationPromise:t}=await pb(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(e){if(!e||!e.options)throw Sv("App Configuration");if(!e.name)throw Sv("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Sv(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Sv(e){return el.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="installations",c3="installations-internal",u3=e=>{const t=e.getProvider("app").getImmediate(),n=l3(t),i=ll(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},h3=e=>{const t=e.getProvider("app").getImmediate(),n=ll(t,kI).getImmediate();return{getId:()=>r3(n),getToken:s=>a3(n,s)}};function f3(){or(new Ss(kI,u3,"PUBLIC")),or(new Ss(c3,h3,"PRIVATE"))}f3();as(dI,fb);as(dI,fb,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="analytics",d3="firebase_id",p3="origin",m3=60*1e3,g3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Am("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vi=new ol("analytics","Analytics",y3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(e){if(!e.startsWith(gb)){const t=Vi.create("invalid-gtag-resource",{gtagURL:e});return Si.warn(t.message),""}return e}function II(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function _3(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function b3(e,t){const n=_3("firebase-js-sdk-policy",{createScriptURL:v3}),i=document.createElement("script"),s=`${gb}?l=${e}&id=${t}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function w3(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function T3(e,t,n,i,s,a){const l=i[s];try{if(l)await t[l];else{const h=(await II(n)).find(f=>f.measurementId===s);h&&await t[h.appId]}}catch(c){Si.error(c)}e("config",s,a)}async function S3(e,t,n,i,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const c=await II(n);for(const h of l){const f=c.find(y=>y.measurementId===h),p=f&&t[f.appId];if(p)a.push(p);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),e("event",i,s||{})}catch(a){Si.error(a)}}function E3(e,t,n,i){async function s(a,...l){try{if(a==="event"){const[c,h]=l;await S3(e,t,n,c,h)}else if(a==="config"){const[c,h]=l;await T3(e,t,n,i,c,h)}else if(a==="consent"){const[c,h]=l;e("consent",c,h)}else if(a==="get"){const[c,h,f]=l;e("get",c,h,f)}else if(a==="set"){const[c]=l;e("set",c)}else e(a,...l)}catch(c){Si.error(c)}}return s}function x3(e,t,n,i,s){let a=function(...l){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=E3(a,e,t,n),{gtagCore:a,wrappedGtag:window[s]}}function A3(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(gb)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=30,C3=1e3;class D3{constructor(t={},n=C3){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const MI=new D3;function k3(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function I3(e){var t;const{appId:n,apiKey:i}=e,s={method:"GET",headers:k3(i)},a=g3.replace("{app-id}",n),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let c="";try{const h=await l.json();!((t=h.error)===null||t===void 0)&&t.message&&(c=h.error.message)}catch{}throw Vi.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function M3(e,t=MI,n){const{appId:i,apiKey:s,measurementId:a}=e.options;if(!i)throw Vi.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:i};throw Vi.create("no-api-key")}const l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new N3;return setTimeout(async()=>{c.abort()},m3),PI({appId:i,apiKey:s,measurementId:a},l,c,t)}async function PI(e,{throttleEndTimeMillis:t,backoffCount:n},i,s=MI){var a;const{appId:l,measurementId:c}=e;try{await P3(i,t)}catch(h){if(c)return Si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:c};throw h}try{const h=await I3(e);return s.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!O3(f)){if(s.deleteThrottleMetadata(l),c)return Si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:c};throw h}const p=Number((a=f==null?void 0:f.customData)===null||a===void 0?void 0:a.httpStatus)===503?JE(n,s.intervalMillis,R3):JE(n,s.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return s.setThrottleMetadata(l,y),Si.debug(`Calling attemptFetch again in ${p} millis`),PI(e,y,i,s)}}function P3(e,t){return new Promise((n,i)=>{const s=Math.max(t-Date.now(),0),a=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(a),i(Vi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function O3(e){if(!(e instanceof ks)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class N3{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function L3(e,t,n,i,s){if(s&&s.global){e("event",n,i);return}else{const a=await t,l=Object.assign(Object.assign({},i),{send_to:a});e("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3(){if(ZC())try{await JC()}catch(e){return Si.warn(Vi.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Si.warn(Vi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function j3(e,t,n,i,s,a,l){var c;const h=M3(e);h.then(b=>{n[b.measurementId]=b.appId,e.options.measurementId&&b.measurementId!==e.options.measurementId&&Si.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Si.error(b)),t.push(h);const f=V3().then(b=>{if(b)return i.getId()}),[p,y]=await Promise.all([h,f]);A3(a)||b3(a,p.measurementId),s("js",new Date);const _=(c=l==null?void 0:l.config)!==null&&c!==void 0?c:{};return _[p3]="firebase",_.update=!0,y!=null&&(_[d3]=y),s("config",p.measurementId,_),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(t){this.app=t}_delete(){return delete bh[this.app.options.appId],Promise.resolve()}}let bh={},TA=[];const SA={};let Ev="dataLayer",U3="gtag",EA,OI,xA=!1;function z3(){const e=[];if(QC()&&e.push("This is a browser extension environment."),FL()||e.push("Cookies are not available."),e.length>0){const t=e.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=Vi.create("invalid-analytics-context",{errorInfo:t});Si.warn(n.message)}}function F3(e,t,n){z3();const i=e.options.appId;if(!i)throw Vi.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vi.create("no-api-key");if(bh[i]!=null)throw Vi.create("already-exists",{id:i});if(!xA){w3(Ev);const{wrappedGtag:a,gtagCore:l}=x3(bh,TA,SA,Ev,U3);OI=a,EA=l,xA=!0}return bh[i]=j3(e,TA,SA,t,EA,Ev,n),new B3(e)}function H3(e=w0()){e=Jn(e);const t=ll(e,im);return t.isInitialized()?t.getImmediate():q3(e)}function q3(e,t={}){const n=ll(e,im);if(n.isInitialized()){const s=n.getImmediate();if(Gr(t,n.getOptions()))return s;throw Vi.create("already-initialized")}return n.initialize({options:t})}function W3(e,t,n,i){e=Jn(e),L3(OI,bh[e.app.options.appId],t,n,i).catch(s=>Si.error(s))}const AA="@firebase/analytics",RA="0.10.12";function $3(){or(new Ss(im,(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return F3(i,s,n)},"PUBLIC")),or(new Ss("analytics-internal",e,"PRIVATE")),as(AA,RA),as(AA,RA,"esm2017");function e(t){try{const n=t.getProvider(im).getImmediate();return{logEvent:(i,s,a)=>W3(n,i,s,a)}}catch(n){throw Vi.create("interop-component-reg-failed",{reason:n})}}}$3();const G3={apiKey:"AIzaSyARvah7E7kRKD09seeiQSzTb1BIuCWUyVE",authDomain:"next-rep-e58cd.firebaseapp.com",projectId:"next-rep-e58cd",storageBucket:"next-rep-e58cd.firebasestorage.app",messagingSenderId:"6118694283",appId:"1:6118694283:web:fc89b6174edffe7795638e",measurementId:"G-2QWPTRVPQQ"},yb=iD(G3);H3(yb);const ui=rU(yb),xs=oF(yb),K3=new Fr;function Y3(){const e=Ds(),[t,n]=P.useState(null),[i,s]=P.useState(!1),[a,l]=P.useState(!1);P.useEffect(()=>{(async()=>{try{s(!0);const _=await wB(ui);if(_){const b=_.user;await h(b),e("/dashboard")}}catch(_){console.error("Error processing redirect result:",_),c(_)}finally{s(!1),l(!0)}})();const y=ui.onAuthStateChanged(_=>{_&&e("/dashboard")});return()=>y()},[e]);const c=p=>{console.log("Auth error code:",p.code),console.log("Auth error message:",p.message),p.code==="auth/requests-from-referer-https://pmin574.github.io-are-blocked."?n("This domain is currently blocked by Firebase. Please check Firebase Console settings."):p.code==="auth/unauthorized-domain"?n("This domain is not authorized for Firebase Authentication. Please add your domain in Firebase Console."):p.code==="auth/operation-not-allowed"?n("Google sign-in is not enabled for this project. Please enable it in Firebase Console."):p.code==="auth/configuration-not-found"?n("Authentication configuration error. Please check Firebase Console settings."):p.code==="auth/invalid-api-key"?n("Invalid Firebase API key. Please check your configuration."):p.code==="auth/popup-blocked"?n("Login popup was blocked. Please allow popups for this site."):p.code==="auth/popup-closed-by-user"?n("Login popup was closed. Please try again."):p.code==="auth/cancelled-popup-request"?n(null):p.code==="auth/network-request-failed"?n("Network error. Please check your internet connection."):n(`Authentication error: ${p.message}`)},h=async p=>{if(!p)return;const y=Es(xs,"users",p.uid);if(!(await hr(y)).exists())try{await SF(y,{uid:p.uid,displayName:p.displayName,email:p.email,photoURL:p.photoURL,createdAt:xF(),workouts:[],exercises:[],goals:[],weightLogs:[]}),console.log("New user document created!")}catch(b){throw console.error("Error creating user document:",b),b}},f=async()=>{n(null),s(!0);try{console.log("Attempting sign-in with popup...");const p=await pB(ui,K3);console.log("Sign-in with popup successful");const y=p.user;await h(y),e("/dashboard")}catch(p){console.error("Error with popup sign-in:",p),c(p),s(!1)}};return!a&&i?R.jsx("div",{className:"login-page",children:R.jsx("div",{className:"login-container",children:R.jsx("div",{className:"loading-spinner",children:"Checking authentication..."})})}):R.jsxs("div",{className:"login-page",children:[R.jsxs("div",{className:"login-container",children:[R.jsxs("div",{className:"app-logo",children:[R.jsx("div",{className:"logo-icon",children:"NR"}),R.jsx("h1",{children:"NextRep"})]}),R.jsx("h2",{children:"Track Your Fitness Journey"}),R.jsx("p",{className:"login-description",children:"Log workouts, track your progress, and achieve your fitness goals with NextRep."}),t&&R.jsx("div",{className:"error-message",children:t}),R.jsx("button",{className:"login-button",onClick:f,disabled:i,children:i?"Signing in...":R.jsxs(R.Fragment,{children:[R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24px",height:"24px",children:[R.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),R.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),R.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),R.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign in with Google"]})}),R.jsx("div",{className:"login-footer",children:"Start tracking your fitness journey today"})]}),R.jsx("div",{className:"login-background-decoration"})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function vf(e){return e+.5|0}const Oa=(e,t,n)=>Math.max(Math.min(e,n),t);function ch(e){return Oa(vf(e*2.55),0,255)}function za(e){return Oa(vf(e*255),0,255)}function zr(e){return Oa(vf(e/2.55)/100,0,1)}function CA(e){return Oa(vf(e*100),0,100)}const es={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},k_=[..."0123456789ABCDEF"],X3=e=>k_[e&15],Q3=e=>k_[(e&240)>>4]+k_[e&15],Xd=e=>(e&240)>>4===(e&15),Z3=e=>Xd(e.r)&&Xd(e.g)&&Xd(e.b)&&Xd(e.a);function J3(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&es[e[1]]*17,g:255&es[e[2]]*17,b:255&es[e[3]]*17,a:t===5?es[e[4]]*17:255}:(t===7||t===9)&&(n={r:es[e[1]]<<4|es[e[2]],g:es[e[3]]<<4|es[e[4]],b:es[e[5]]<<4|es[e[6]],a:t===9?es[e[7]]<<4|es[e[8]]:255})),n}const t5=(e,t)=>e<255?t(e):"";function e5(e){var t=Z3(e)?X3:Q3;return e?"#"+t(e.r)+t(e.g)+t(e.b)+t5(e.a,t):void 0}const n5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function NI(e,t,n){const i=t*Math.min(n,1-n),s=(a,l=(a+e/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function i5(e,t,n){const i=(s,a=(s+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function s5(e,t,n){const i=NI(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function r5(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function vb(e){const n=e.r/255,i=e.g/255,s=e.b/255,a=Math.max(n,i,s),l=Math.min(n,i,s),c=(a+l)/2;let h,f,p;return a!==l&&(p=a-l,f=c>.5?p/(2-a-l):p/(a+l),h=r5(n,i,s,p,a),h=h*60+.5),[h|0,f||0,c]}function _b(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(za)}function bb(e,t,n){return _b(NI,e,t,n)}function a5(e,t,n){return _b(s5,e,t,n)}function o5(e,t,n){return _b(i5,e,t,n)}function LI(e){return(e%360+360)%360}function l5(e){const t=n5.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?ch(+t[5]):za(+t[5]));const s=LI(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=a5(s,a,l):t[1]==="hsv"?i=o5(s,a,l):i=bb(s,a,l),{r:i[0],g:i[1],b:i[2],a:n}}function c5(e,t){var n=vb(e);n[0]=LI(n[0]+t),n=bb(n),e.r=n[0],e.g=n[1],e.b=n[2]}function u5(e){if(!e)return;const t=vb(e),n=t[0],i=CA(t[1]),s=CA(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${zr(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const DA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},kA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function h5(){const e={},t=Object.keys(kA),n=Object.keys(DA);let i,s,a,l,c;for(i=0;i<t.length;i++){for(l=c=t[i],s=0;s<n.length;s++)a=n[s],c=c.replace(a,DA[a]);a=parseInt(kA[l],16),e[c]=[a>>16&255,a>>8&255,a&255]}return e}let Qd;function f5(e){Qd||(Qd=h5(),Qd.transparent=[0,0,0,0]);const t=Qd[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const d5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function p5(e){const t=d5.exec(e);let n=255,i,s,a;if(t){if(t[7]!==i){const l=+t[7];n=t[8]?ch(l):Oa(l*255,0,255)}return i=+t[1],s=+t[3],a=+t[5],i=255&(t[2]?ch(i):Oa(i,0,255)),s=255&(t[4]?ch(s):Oa(s,0,255)),a=255&(t[6]?ch(a):Oa(a,0,255)),{r:i,g:s,b:a,a:n}}}function m5(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${zr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const xv=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,ec=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function g5(e,t,n){const i=ec(zr(e.r)),s=ec(zr(e.g)),a=ec(zr(e.b));return{r:za(xv(i+n*(ec(zr(t.r))-i))),g:za(xv(s+n*(ec(zr(t.g))-s))),b:za(xv(a+n*(ec(zr(t.b))-a))),a:e.a+n*(t.a-e.a)}}function Zd(e,t,n){if(e){let i=vb(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=bb(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function VI(e,t){return e&&Object.assign(t||{},e)}function IA(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=za(e[3]))):(t=VI(e,{r:0,g:0,b:0,a:1}),t.a=za(t.a)),t}function y5(e){return e.charAt(0)==="r"?p5(e):l5(e)}class Bh{constructor(t){if(t instanceof Bh)return t;const n=typeof t;let i;n==="object"?i=IA(t):n==="string"&&(i=J3(t)||f5(t)||y5(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=VI(this._rgb);return t&&(t.a=zr(t.a)),t}set rgb(t){this._rgb=IA(t)}rgbString(){return this._valid?m5(this._rgb):void 0}hexString(){return this._valid?e5(this._rgb):void 0}hslString(){return this._valid?u5(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let a;const l=n===a?.5:n,c=2*l-1,h=i.a-s.a,f=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;a=1-f,i.r=255&f*i.r+a*s.r+.5,i.g=255&f*i.g+a*s.g+.5,i.b=255&f*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=g5(this._rgb,t._rgb,n)),this}clone(){return new Bh(this.rgb)}alpha(t){return this._rgb.a=za(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=vf(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Zd(this._rgb,2,t),this}darken(t){return Zd(this._rgb,2,-t),this}saturate(t){return Zd(this._rgb,1,t),this}desaturate(t){return Zd(this._rgb,1,-t),this}rotate(t){return c5(this._rgb,t),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function jr(){}const v5=(()=>{let e=0;return()=>e++})();function ve(e){return e==null}function dn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function se(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ti(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function qs(e,t){return ti(e)?e:t}function ne(e,t){return typeof e>"u"?t:e}const _5=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Pe(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Te(e,t,n,i){let s,a,l;if(dn(e))for(a=e.length,s=0;s<a;s++)t.call(n,e[s],s);else if(se(e))for(l=Object.keys(e),a=l.length,s=0;s<a;s++)t.call(n,e[l[s]],l[s])}function sm(e,t){let n,i,s,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],a=t[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function rm(e){if(dn(e))return e.map(rm);if(se(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=rm(e[n[s]]);return t}return e}function jI(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function b5(e,t,n,i){if(!jI(e))return;const s=t[e],a=n[e];se(s)&&se(a)?Uh(s,a,i):t[e]=rm(a)}function Uh(e,t,n){const i=dn(t)?t:[t],s=i.length;if(!se(e))return e;n=n||{};const a=n.merger||b5;let l;for(let c=0;c<s;++c){if(l=i[c],!se(l))continue;const h=Object.keys(l);for(let f=0,p=h.length;f<p;++f)a(h[f],e,l,n)}return e}function wh(e,t){return Uh(e,t,{merger:w5})}function w5(e,t,n){if(!jI(e))return;const i=t[e],s=n[e];se(i)&&se(s)?wh(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=rm(s))}const MA={"":e=>e,x:e=>e.x,y:e=>e.y};function T5(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function S5(e){const t=T5(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function kc(e,t){return(MA[t]||(MA[t]=S5(t)))(e)}function wb(e){return e.charAt(0).toUpperCase()+e.slice(1)}const zh=e=>typeof e<"u",Ka=e=>typeof e=="function",PA=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function E5(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const In=Math.PI,Ts=2*In,x5=Ts+In,am=Number.POSITIVE_INFINITY,A5=In/180,bs=In/2,Do=In/4,OA=In*2/3,BI=Math.log10,er=Math.sign;function Th(e,t,n){return Math.abs(e-t)<n}function NA(e){const t=Math.round(e);e=Th(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(BI(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function R5(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,a)=>s-a).pop(),t}function C5(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Fh(e){return!C5(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function D5(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function k5(e,t,n){let i,s,a;for(i=0,s=e.length;i<s;i++)a=e[i][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Fo(e){return e*(In/180)}function I5(e){return e*(180/In)}function LA(e){if(!ti(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function M5(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*In&&(a+=Ts),{angle:a,distance:s}}function I_(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function P5(e,t){return(e-t+x5)%Ts-In}function Ys(e){return(e%Ts+Ts)%Ts}function UI(e,t,n,i){const s=Ys(e),a=Ys(t),l=Ys(n),c=Ys(a-s),h=Ys(l-s),f=Ys(s-a),p=Ys(s-l);return s===a||s===l||i&&a===l||c>h&&f<p}function Ni(e,t,n){return Math.max(t,Math.min(n,e))}function O5(e){return Ni(e,-32768,32767)}function Na(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Tb(e,t,n){n=n||(l=>e[l]<t);let i=e.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,n(a)?s=a:i=a;return{lo:s,hi:i}}const Ho=(e,t,n,i)=>Tb(e,n,i?s=>{const a=e[s][t];return a<n||a===n&&e[s+1][t]===n}:s=>e[s][t]<n),N5=(e,t,n)=>Tb(e,n,i=>e[i][t]>=n);function L5(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const zI=["push","pop","shift","splice","unshift"];function V5(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),zI.forEach(n=>{const i="_onData"+wb(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return e._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...a)}),l}})})}function VA(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(zI.forEach(a=>{delete e[a]}),delete e._chartjs)}function FI(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const HI=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function qI(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,HI.call(window,()=>{i=!1,e.apply(t,n)}))}}function j5(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Sb=e=>e==="start"?"left":e==="end"?"right":"center",$n=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,B5=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function U5(e,t,n){const i=t.length;let s=0,a=i;if(e._sorted){const{iScale:l,vScale:c,_parsed:h}=e,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,p=l.axis,{min:y,max:_,minDefined:b,maxDefined:T}=l.getUserBounds();if(b){if(s=Math.min(Ho(h,p,y).lo,n?i:Ho(t,p,l.getPixelForValue(y)).lo),f){const E=h.slice(0,s+1).reverse().findIndex(S=>!ve(S[c.axis]));s-=Math.max(0,E)}s=Ni(s,0,i-1)}if(T){let E=Math.max(Ho(h,l.axis,_,!0).hi+1,n?0:Ho(t,p,l.getPixelForValue(_),!0).hi+1);if(f){const S=h.slice(E-1).findIndex(C=>!ve(C[c.axis]));E+=Math.max(0,S)}a=Ni(E,s,i)-s}else a=i-s}return{start:s,count:a}}function z5(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),a}const Jd=e=>e===0||e===1,jA=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ts/n)),BA=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ts/n)+1,Sh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*bs)+1,easeOutSine:e=>Math.sin(e*bs),easeInOutSine:e=>-.5*(Math.cos(In*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Jd(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Jd(e)?e:jA(e,.075,.3),easeOutElastic:e=>Jd(e)?e:BA(e,.075,.3),easeInOutElastic(e){return Jd(e)?e:e<.5?.5*jA(e*2,.1125,.45):.5+.5*BA(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Sh.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Sh.easeInBounce(e*2)*.5:Sh.easeOutBounce(e*2-1)*.5+.5};function Eb(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function UA(e){return Eb(e)?e:new Bh(e)}function Av(e){return Eb(e)?e:new Bh(e).saturate(.5).darken(.1).hexString()}const F5=["x","y","borderWidth","radius","tension"],H5=["color","borderColor","backgroundColor"];function q5(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:H5},numbers:{type:"number",properties:F5}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function W5(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const zA=new Map;function $5(e,t){t=t||{};const n=e+JSON.stringify(t);let i=zA.get(n);return i||(i=new Intl.NumberFormat(e,t),zA.set(n,i)),i}function WI(e,t,n){return $5(t,n).format(e)}const G5={values(e){return dn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,a=e;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),a=K5(e,n)}const l=BI(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),WI(e,i,h)}};function K5(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var $I={formatters:G5};function Y5(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$I.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const il=Object.create(null),M_=Object.create(null);function Eh(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const a=n[i];e=e[a]||(e[a]=Object.create(null))}return e}function Rv(e,t,n){return typeof t=="string"?Uh(Eh(e,t),n):Uh(Eh(e,""),t)}class X5{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Av(s.backgroundColor),this.hoverBorderColor=(i,s)=>Av(s.borderColor),this.hoverColor=(i,s)=>Av(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Rv(this,t,n)}get(t){return Eh(this,t)}describe(t,n){return Rv(M_,t,n)}override(t,n){return Rv(il,t,n)}route(t,n,i,s){const a=Eh(this,t),l=Eh(this,i),c="_"+n;Object.defineProperties(a,{[c]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[c],f=l[s];return se(h)?Object.assign({},f,h):ne(h,f)},set(h){this[c]=h}}})}apply(t){t.forEach(n=>n(this))}}var an=new X5({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[q5,W5,Y5]);function Q5(e){return!e||ve(e.size)||ve(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function FA(e,t,n,i,s){let a=t[s];return a||(a=t[s]=e.measureText(s).width,n.push(s)),a>i&&(i=a),i}function ko(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function HA(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function P_(e,t,n,i){GI(e,t,n,i,null)}function GI(e,t,n,i,s){let a,l,c,h,f,p,y,_;const b=t.pointStyle,T=t.rotation,E=t.radius;let S=(T||0)*A5;if(b&&typeof b=="object"&&(a=b.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(S),e.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),e.restore();return}if(!(isNaN(E)||E<=0)){switch(e.beginPath(),b){default:s?e.ellipse(n,i,s/2,E,0,0,Ts):e.arc(n,i,E,0,Ts),e.closePath();break;case"triangle":p=s?s/2:E,e.moveTo(n+Math.sin(S)*p,i-Math.cos(S)*E),S+=OA,e.lineTo(n+Math.sin(S)*p,i-Math.cos(S)*E),S+=OA,e.lineTo(n+Math.sin(S)*p,i-Math.cos(S)*E),e.closePath();break;case"rectRounded":f=E*.516,h=E-f,l=Math.cos(S+Do)*h,y=Math.cos(S+Do)*(s?s/2-f:h),c=Math.sin(S+Do)*h,_=Math.sin(S+Do)*(s?s/2-f:h),e.arc(n-y,i-c,f,S-In,S-bs),e.arc(n+_,i-l,f,S-bs,S),e.arc(n+y,i+c,f,S,S+bs),e.arc(n-_,i+l,f,S+bs,S+In),e.closePath();break;case"rect":if(!T){h=Math.SQRT1_2*E,p=s?s/2:h,e.rect(n-p,i-h,2*p,2*h);break}S+=Do;case"rectRot":y=Math.cos(S)*(s?s/2:E),l=Math.cos(S)*E,c=Math.sin(S)*E,_=Math.sin(S)*(s?s/2:E),e.moveTo(n-y,i-c),e.lineTo(n+_,i-l),e.lineTo(n+y,i+c),e.lineTo(n-_,i+l),e.closePath();break;case"crossRot":S+=Do;case"cross":y=Math.cos(S)*(s?s/2:E),l=Math.cos(S)*E,c=Math.sin(S)*E,_=Math.sin(S)*(s?s/2:E),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"star":y=Math.cos(S)*(s?s/2:E),l=Math.cos(S)*E,c=Math.sin(S)*E,_=Math.sin(S)*(s?s/2:E),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l),S+=Do,y=Math.cos(S)*(s?s/2:E),l=Math.cos(S)*E,c=Math.sin(S)*E,_=Math.sin(S)*(s?s/2:E),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"line":l=s?s/2:Math.cos(S)*E,c=Math.sin(S)*E,e.moveTo(n-l,i-c),e.lineTo(n+l,i+c);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(S)*(s?s/2:E),i+Math.sin(S)*E);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Hh(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Km(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ym(e){e.restore()}function Z5(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function J5(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function t6(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ve(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function e6(e,t,n,i,s){if(s.strikethrough||s.underline){const a=e.measureText(i),l=t-a.actualBoundingBoxLeft,c=t+a.actualBoundingBoxRight,h=n-a.actualBoundingBoxAscent,f=n+a.actualBoundingBoxDescent,p=s.strikethrough?(h+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(l,p),e.lineTo(c,p),e.stroke()}}function n6(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function qh(e,t,n,i,s,a={}){const l=dn(t)?t:[t],c=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(e.save(),e.font=s.string,t6(e,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&n6(e,a.backdrop),c&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),ve(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(f,n,i,a.maxWidth)),e.fillText(f,n,i,a.maxWidth),e6(e,n,i,f,a),i+=Number(s.lineHeight);e.restore()}function om(e,t){const{x:n,y:i,w:s,h:a,radius:l}=t;e.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*In,In,!0),e.lineTo(n,i+a-l.bottomLeft),e.arc(n+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,In,bs,!0),e.lineTo(n+s-l.bottomRight,i+a),e.arc(n+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,bs,0,!0),e.lineTo(n+s,i+l.topRight),e.arc(n+s-l.topRight,i+l.topRight,l.topRight,0,-bs,!0),e.lineTo(n+l.topLeft,i)}const i6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,s6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function r6(e,t){const n=(""+e).match(i6);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const a6=e=>+e||0;function KI(e,t){const n={},i=se(t),s=i?Object.keys(t):t,a=se(e)?i?l=>ne(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of s)n[l]=a6(a(l));return n}function YI(e){return KI(e,{top:"y",right:"x",bottom:"y",left:"x"})}function gc(e){return KI(e,["topLeft","topRight","bottomLeft","bottomRight"])}function cs(e){const t=YI(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Xn(e,t){e=e||{},t=t||an.font;let n=ne(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=ne(e.style,t.style);i&&!(""+i).match(s6)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:ne(e.family,t.family),lineHeight:r6(ne(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:ne(e.weight,t.weight),string:""};return s.string=Q5(s),s}function tp(e,t,n,i){let s,a,l;for(s=0,a=e.length;s<a;++s)if(l=e[s],l!==void 0&&l!==void 0)return l}function o6(e,t,n){const{min:i,max:s}=e,a=_5(t,(s-i)/2),l=(c,h)=>n&&c===0?0:c+h;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function hl(e,t){return Object.assign(Object.create(e),t)}function xb(e,t=[""],n,i,s=()=>e[0]){const a=n||e;typeof i>"u"&&(i=JI("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:i,_getTarget:s,override:c=>xb([c,...e],t,a,i)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete e[0][h],!0},get(c,h){return QI(c,h,()=>m6(h,t,e,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,h){return WA(c).includes(h)},ownKeys(c){return WA(c)},set(c,h,f){const p=c._storage||(c._storage=s());return c[h]=p[h]=f,delete c._keys,!0}})}function Ic(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:XI(e,i),setContext:a=>Ic(e,a,n,i),override:a=>Ic(e.override(a),t,n,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete e[l],!0},get(a,l,c){return QI(a,l,()=>c6(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(a,l,c){return e[l]=c,delete a[l],!0}})}function XI(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Ka(n)?n:()=>n,isIndexable:Ka(i)?i:()=>i}}const l6=(e,t)=>e?e+wb(t):t,Ab=(e,t)=>se(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function QI(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function c6(e,t,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=e;let c=i[t];return Ka(c)&&l.isScriptable(t)&&(c=u6(t,c,e,n)),dn(c)&&c.length&&(c=h6(t,c,e,l.isIndexable)),Ab(t,c)&&(c=Ic(c,s,a&&a[t],l)),c}function u6(e,t,n,i){const{_proxy:s,_context:a,_subProxy:l,_stack:c}=n;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let h=t(a,l||i);return c.delete(e),Ab(e,h)&&(h=Rb(s._scopes,s,e,h)),h}function h6(e,t,n,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:c}=n;if(typeof a.index<"u"&&i(e))return t[a.index%t.length];if(se(t[0])){const h=t,f=s._scopes.filter(p=>p!==h);t=[];for(const p of h){const y=Rb(f,s,e,p);t.push(Ic(y,a,l&&l[e],c))}}return t}function ZI(e,t,n){return Ka(e)?e(t,n):e}const f6=(e,t)=>e===!0?t:typeof e=="string"?kc(t,e):void 0;function d6(e,t,n,i,s){for(const a of t){const l=f6(n,a);if(l){e.add(l);const c=ZI(l._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function Rb(e,t,n,i){const s=t._rootScopes,a=ZI(t._fallback,n,i),l=[...e,...s],c=new Set;c.add(i);let h=qA(c,l,n,a||n,i);return h===null||typeof a<"u"&&a!==n&&(h=qA(c,l,a,h,i),h===null)?!1:xb(Array.from(c),[""],s,a,()=>p6(t,n,i))}function qA(e,t,n,i,s){for(;n;)n=d6(e,t,n,i,s);return n}function p6(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return dn(s)&&se(n)?n:s||{}}function m6(e,t,n,i){let s;for(const a of t)if(s=JI(l6(a,e),n),typeof s<"u")return Ab(e,s)?Rb(n,i,e,s):s}function JI(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function WA(e){let t=e._keys;return t||(t=e._keys=g6(e._scopes)),t}function g6(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}const y6=Number.EPSILON||1e-14,Mc=(e,t)=>t<e.length&&!e[t].skip&&e[t],tM=e=>e==="x"?"y":"x";function v6(e,t,n,i){const s=e.skip?t:e,a=t,l=n.skip?t:n,c=I_(a,s),h=I_(l,a);let f=c/(c+h),p=h/(c+h);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const y=i*f,_=i*p;return{previous:{x:a.x-y*(l.x-s.x),y:a.y-y*(l.y-s.y)},next:{x:a.x+_*(l.x-s.x),y:a.y+_*(l.y-s.y)}}}function _6(e,t,n){const i=e.length;let s,a,l,c,h,f=Mc(e,0);for(let p=0;p<i-1;++p)if(h=f,f=Mc(e,p+1),!(!h||!f)){if(Th(t[p],0,y6)){n[p]=n[p+1]=0;continue}s=n[p]/t[p],a=n[p+1]/t[p],c=Math.pow(s,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),n[p]=s*l*t[p],n[p+1]=a*l*t[p])}}function b6(e,t,n="x"){const i=tM(n),s=e.length;let a,l,c,h=Mc(e,0);for(let f=0;f<s;++f){if(l=c,c=h,h=Mc(e,f+1),!c)continue;const p=c[n],y=c[i];l&&(a=(p-l[n])/3,c[`cp1${n}`]=p-a,c[`cp1${i}`]=y-a*t[f]),h&&(a=(h[n]-p)/3,c[`cp2${n}`]=p+a,c[`cp2${i}`]=y+a*t[f])}}function w6(e,t="x"){const n=tM(t),i=e.length,s=Array(i).fill(0),a=Array(i);let l,c,h,f=Mc(e,0);for(l=0;l<i;++l)if(c=h,h=f,f=Mc(e,l+1),!!h){if(f){const p=f[t]-h[t];s[l]=p!==0?(f[n]-h[n])/p:0}a[l]=c?f?er(s[l-1])!==er(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}_6(e,s,a),b6(e,a,t)}function ep(e,t,n){return Math.max(Math.min(e,n),t)}function T6(e,t){let n,i,s,a,l,c=Hh(e[0],t);for(n=0,i=e.length;n<i;++n)l=a,a=c,c=n<i-1&&Hh(e[n+1],t),a&&(s=e[n],l&&(s.cp1x=ep(s.cp1x,t.left,t.right),s.cp1y=ep(s.cp1y,t.top,t.bottom)),c&&(s.cp2x=ep(s.cp2x,t.left,t.right),s.cp2y=ep(s.cp2y,t.top,t.bottom)))}function S6(e,t,n,i,s){let a,l,c,h;if(t.spanGaps&&(e=e.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")w6(e,s);else{let f=i?e[e.length-1]:e[0];for(a=0,l=e.length;a<l;++a)c=e[a],h=v6(f,c,e[Math.min(a+1,l-(i?0:1))%l],t.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,f=c}t.capBezierPoints&&T6(e,n)}function Cb(){return typeof window<"u"&&typeof document<"u"}function Db(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function lm(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Xm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function E6(e,t){return Xm(e).getPropertyValue(t)}const x6=["top","right","bottom","left"];function Go(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=x6[s];i[a]=parseFloat(e[t+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const A6=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function R6(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:a}=i;let l=!1,c,h;if(A6(s,a,e.target))c=s,h=a;else{const f=t.getBoundingClientRect();c=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:c,y:h,box:l}}function Lo(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=Xm(n),a=s.boxSizing==="border-box",l=Go(s,"padding"),c=Go(s,"border","width"),{x:h,y:f,box:p}=R6(e,n),y=l.left+(p&&c.left),_=l.top+(p&&c.top);let{width:b,height:T}=t;return a&&(b-=l.width+c.width,T-=l.height+c.height),{x:Math.round((h-y)/b*n.width/i),y:Math.round((f-_)/T*n.height/i)}}function C6(e,t,n){let i,s;if(t===void 0||n===void 0){const a=e&&Db(e);if(!a)t=e.clientWidth,n=e.clientHeight;else{const l=a.getBoundingClientRect(),c=Xm(a),h=Go(c,"border","width"),f=Go(c,"padding");t=l.width-f.width-h.width,n=l.height-f.height-h.height,i=lm(c.maxWidth,a,"clientWidth"),s=lm(c.maxHeight,a,"clientHeight")}}return{width:t,height:n,maxWidth:i||am,maxHeight:s||am}}const np=e=>Math.round(e*10)/10;function D6(e,t,n,i){const s=Xm(e),a=Go(s,"margin"),l=lm(s.maxWidth,e,"clientWidth")||am,c=lm(s.maxHeight,e,"clientHeight")||am,h=C6(e,t,n);let{width:f,height:p}=h;if(s.boxSizing==="content-box"){const _=Go(s,"border","width"),b=Go(s,"padding");f-=b.width+_.width,p-=b.height+_.height}return f=Math.max(0,f-a.width),p=Math.max(0,i?f/i:p-a.height),f=np(Math.min(f,l,h.maxWidth)),p=np(Math.min(p,c,h.maxHeight)),f&&!p&&(p=np(f/2)),(t!==void 0||n!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,f=np(Math.floor(p*i))),{width:f,height:p}}function $A(e,t,n){const i=t||1,s=Math.floor(e.height*i),a=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(e.currentDevicePixelRatio=i,l.height=s,l.width=a,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const k6=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Cb()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function GA(e,t){const n=E6(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Vo(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function I6(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function M6(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},l=Vo(e,s,n),c=Vo(s,a,n),h=Vo(a,t,n),f=Vo(l,c,n),p=Vo(c,h,n);return Vo(f,p,n)}const P6=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},O6=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function yc(e,t,n){return e?P6(t,n):O6()}function eM(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function nM(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function iM(e){return e==="angle"?{between:UI,compare:P5,normalize:Ys}:{between:Na,compare:(t,n)=>t-n,normalize:t=>t}}function KA({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function N6(e,t,n){const{property:i,start:s,end:a}=n,{between:l,normalize:c}=iM(i),h=t.length;let{start:f,end:p,loop:y}=e,_,b;if(y){for(f+=h,p+=h,_=0,b=h;_<b&&l(c(t[f%h][i]),s,a);++_)f--,p--;f%=h,p%=h}return p<f&&(p+=h),{start:f,end:p,loop:y,style:e.style}}function sM(e,t,n){if(!n)return[e];const{property:i,start:s,end:a}=n,l=t.length,{compare:c,between:h,normalize:f}=iM(i),{start:p,end:y,loop:_,style:b}=N6(e,t,n),T=[];let E=!1,S=null,C,V,j;const W=()=>h(s,j,C)&&c(s,j)!==0,z=()=>c(a,C)===0||h(a,j,C),$=()=>E||W(),M=()=>!E||z();for(let D=p,I=p;D<=y;++D)V=t[D%l],!V.skip&&(C=f(V[i]),C!==j&&(E=h(C,s,a),S===null&&$()&&(S=c(C,s)===0?D:I),S!==null&&M()&&(T.push(KA({start:S,end:D,loop:_,count:l,style:b})),S=null),I=D,j=C));return S!==null&&T.push(KA({start:S,end:y,loop:_,count:l,style:b})),T}function rM(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const a=sM(i[s],e.points,t);a.length&&n.push(...a)}return n}function L6(e,t,n,i){let s=0,a=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(a+=s);a>s&&e[a%t].skip;)a--;return a%=t,{start:s,end:a}}function V6(e,t,n,i){const s=e.length,a=[];let l=t,c=e[t],h;for(h=t+1;h<=n;++h){const f=e[h%s];f.skip||f.stop?c.skip||(i=!1,a.push({start:t%s,end:(h-1)%s,loop:i}),t=l=f.stop?h:null):(l=h,c.skip&&(t=h)),c=f}return l!==null&&a.push({start:t%s,end:l%s,loop:i}),a}function j6(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const a=!!e._loop,{start:l,end:c}=L6(n,s,a,i);if(i===!0)return YA(e,[{start:l,end:c,loop:a}],n,t);const h=c<l?c+s:c,f=!!e._fullLoop&&l===0&&c===s-1;return YA(e,V6(n,l,h,f),n,t)}function YA(e,t,n,i){return!i||!i.setContext||!n?t:B6(e,t,n,i)}function B6(e,t,n,i){const s=e._chart.getContext(),a=XA(e.options),{_datasetIndex:l,options:{spanGaps:c}}=e,h=n.length,f=[];let p=a,y=t[0].start,_=y;function b(T,E,S,C){const V=c?-1:1;if(T!==E){for(T+=h;n[T%h].skip;)T-=V;for(;n[E%h].skip;)E+=V;T%h!==E%h&&(f.push({start:T%h,end:E%h,loop:S,style:C}),p=C,y=E%h)}}for(const T of t){y=c?y:T.start;let E=n[y%h],S;for(_=y+1;_<=T.end;_++){const C=n[_%h];S=XA(i.setContext(hl(s,{type:"segment",p0:E,p1:C,p0DataIndex:(_-1)%h,p1DataIndex:_%h,datasetIndex:l}))),U6(S,p)&&b(y,_-1,T.loop,p),E=C,p=S}y<_-1&&b(y,_-1,T.loop,p)}return f}function XA(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function U6(e,t){if(!t)return!1;const n=[],i=function(s,a){return Eb(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class z6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const a=n.listeners[s],l=n.duration;a.forEach(c=>c({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=HI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,c=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),c=!0):(a[l]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,i,t,"progress")),a.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=a.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Br=new z6;const QA="transparent",F6={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=UA(e||QA),s=i.valid&&UA(t||QA);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class H6{constructor(t,n,i,s){const a=n[i];s=tp([t.to,s,a,t.from]);const l=tp([t.from,a,s]);this._active=!0,this._fn=t.fn||F6[t.type||typeof l],this._easing=Sh[t.easing]||Sh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=tp([t.to,n,s,t.from]),this._from=tp([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,c=this._to;let h;if(this._active=a!==c&&(l||n<i),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=a;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(a,c,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class aM{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!se(t))return;const n=Object.keys(an.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!se(a))return;const l={};for(const c of n)l[c]=a[c];(dn(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(t,n){const i=n.options,s=W6(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&q6(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,n){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),l=Object.keys(n),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(t,n));continue}const p=n[f];let y=a[f];const _=i.get(f);if(y)if(_&&y.active()){y.update(_,p,c);continue}else y.cancel();if(!_||!_.duration){t[f]=p;continue}a[f]=y=new H6(_,t,f,p),s.push(y)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Br.add(this._chart,i),!0}}function q6(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const a=e[i[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function W6(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function ZA(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,a=n.max===void 0?t:0;return{start:i?a:s,end:i?s:a}}function $6(e,t,n){if(n===!1)return!1;const i=ZA(e,n),s=ZA(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function G6(e){let t,n,i,s;return se(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function oM(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,a;for(s=0,a=i.length;s<a;++s)n.push(i[s].index);return n}function JA(e,t,n,i={}){const s=e.keys,a=i.mode==="single";let l,c,h,f;if(t===null)return;let p=!1;for(l=0,c=s.length;l<c;++l){if(h=+s[l],h===n){if(p=!0,i.all)continue;break}f=e.values[h],ti(f)&&(a||t===0||er(t)===er(f))&&(t+=f)}return!p&&!i.all?0:t}function K6(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(e),c=new Array(l.length);let h,f,p;for(h=0,f=l.length;h<f;++h)p=l[h],c[h]={[s]:p,[a]:e[p]};return c}function Cv(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function Y6(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function X6(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function Q6(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function tR(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const a=e[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function eR(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:a,vScale:l,index:c}=i,h=a.axis,f=l.axis,p=Y6(a,l,i),y=t.length;let _;for(let b=0;b<y;++b){const T=t[b],{[h]:E,[f]:S}=T,C=T._stacks||(T._stacks={});_=C[f]=Q6(s,p,E),_[c]=S,_._top=tR(_,l,!0,i.type),_._bottom=tR(_,l,!1,i.type);const V=_._visualValues||(_._visualValues={});V[c]=S}}function Dv(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function Z6(e,t){return hl(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function J6(e,t,n){return hl(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function th(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const a=s._stacks;if(!a||a[i]===void 0||a[i][n]===void 0)return;delete a[i][n],a[i]._visualValues!==void 0&&a[i]._visualValues[n]!==void 0&&delete a[i]._visualValues[n]}}}const kv=e=>e==="reset"||e==="none",nR=(e,t)=>t?e:Object.assign({},e),t9=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:oM(n,!0),values:null};class vc{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Cv(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&th(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(y,_,b,T)=>y==="x"?_:y==="r"?T:b,a=n.xAxisID=ne(i.xAxisID,Dv(t,"x")),l=n.yAxisID=ne(i.yAxisID,Dv(t,"y")),c=n.rAxisID=ne(i.rAxisID,Dv(t,"r")),h=n.indexAxis,f=n.iAxisID=s(h,a,l,c),p=n.vAxisID=s(h,l,a,c);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&VA(this._data,this),t._stacked&&th(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(se(n)){const s=this._cachedMeta;this._data=K6(n,s)}else if(i!==n){if(i){VA(i,this);const s=this._cachedMeta;th(s),s._parsed=[]}n&&Object.isExtensible(n)&&V5(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=Cv(n.vScale,n),n.stack!==i.stack&&(s=!0,th(n),n.stack=i.stack),this._resyncElements(t),(s||a!==n._stacked)&&(eR(this,n._parsed),n._stacked=Cv(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,c=a.axis;let h=t===0&&n===s.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,y,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{dn(s[t])?_=this.parseArrayData(i,s,t,n):se(s[t])?_=this.parseObjectData(i,s,t,n):_=this.parsePrimitiveData(i,s,t,n);const b=()=>y[c]===null||f&&y[c]<f[c];for(p=0;p<n;++p)i._parsed[p+t]=y=_[p],h&&(b()&&(h=!1),f=y);i._sorted=h}l&&eR(this,_)}parsePrimitiveData(t,n,i,s){const{iScale:a,vScale:l}=t,c=a.axis,h=l.axis,f=a.getLabels(),p=a===l,y=new Array(s);let _,b,T;for(_=0,b=s;_<b;++_)T=_+i,y[_]={[c]:p||a.parse(f[T],T),[h]:l.parse(n[T],T)};return y}parseArrayData(t,n,i,s){const{xScale:a,yScale:l}=t,c=new Array(s);let h,f,p,y;for(h=0,f=s;h<f;++h)p=h+i,y=n[p],c[h]={x:a.parse(y[0],p),y:l.parse(y[1],p)};return c}parseObjectData(t,n,i,s){const{xScale:a,yScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=new Array(s);let p,y,_,b;for(p=0,y=s;p<y;++p)_=p+i,b=n[_],f[p]={x:a.parse(kc(b,c),_),y:l.parse(kc(b,h),_)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,a=this._cachedMeta,l=n[t.axis],c={keys:oM(s,!0),values:n._stacks[t.axis]._visualValues};return JA(c,l,a.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const a=i[n.axis];let l=a===null?NaN:a;const c=s&&i._stacks[n.axis];s&&c&&(s.values=c,l=JA(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&t===i.iScale,l=s.length,c=this._getOtherScale(t),h=t9(n,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=X6(c);let _,b;function T(){b=s[_];const E=b[c.axis];return!ti(b[t.axis])||p>E||y<E}for(_=0;_<l&&!(!T()&&(this.updateRangeFromParsed(f,t,b,h),a));++_);if(a){for(_=l-1;_>=0;--_)if(!T()){this.updateRangeFromParsed(f,t,b,h);break}}return f}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=n.length;s<a;++s)l=n[s][t.axis],ti(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=G6(ne(this.options.clip,$6(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],a=n.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||s.length-c,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,a,c,h),p=c;p<c+h;++p){const y=s[p];y.hidden||(y.active&&f?l.push(y):y.draw(t,a))}for(p=0;p<l.length;++p)l[p].draw(t,a)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=J6(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=Z6(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",a=this._cachedDataOpts,l=t+"-"+n,c=a[l],h=this.enableOptionSharing&&zh(i);if(c)return nR(c,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),y=s?[`${t}Hover`,"hover",t,""]:[t,""],_=f.getOptionScopes(this.getDataset(),p),b=Object.keys(an.elements[t]),T=()=>this.getContext(i,s,n),E=f.resolveNamedOptions(_,b,T,y);return E.$shared&&(E.$shared=h,a[l]=Object.freeze(nR(E,h))),E}_resolveAnimations(t,n,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${n}`,c=a[l];if(c)return c;let h;if(s.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,n),_=p.getOptionScopes(this.getDataset(),y);h=p.createResolver(_,this.getContext(t,i,n))}const f=new aM(s,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||kv(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(n,a)||a!==s;return this.updateSharedOptions(a,n,i),{sharedOptions:a,includeOptions:l}}updateElement(t,n,i,s){kv(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!kv(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[c,h,f]of this._syncList)this[c](h,f);this._syncList=[];const s=i.length,a=n.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,n,i=!0){const s=this._cachedMeta,a=s.data,l=t+n;let c;const h=f=>{for(f.length+=n,c=f.length-1;c>=l;c--)f[c]=f[c-n]};for(h(a),c=t;c<l;++c)a[c]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,n),i&&this.updateElements(a,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&th(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ut(vc,"defaults",{}),Ut(vc,"datasetElementType",null),Ut(vc,"dataElementType",null);function e9(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,a=n.length;s<a;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=FI(i.sort((s,a)=>s-a))}return e._cache.$bar}function n9(e){const t=e.iScale,n=e9(t,e.type);let i=t._length,s,a,l,c;const h=()=>{l===32767||l===-32768||(zh(c)&&(i=Math.min(i,Math.abs(l-c)||i)),c=l)};for(s=0,a=n.length;s<a;++s)l=t.getPixelForValue(n[s]),h();for(c=void 0,s=0,a=t.ticks.length;s<a;++s)l=t.getPixelForTick(s),h();return i}function i9(e,t,n,i){const s=n.barThickness;let a,l;return ve(s)?(a=t.min*n.categoryPercentage,l=n.barPercentage):(a=s*i,l=1),{chunk:a/i,ratio:l,start:t.pixels[e]-a/2}}function s9(e,t,n,i){const s=t.pixels,a=s[e];let l=e>0?s[e-1]:null,c=e<s.length-1?s[e+1]:null;const h=n.categoryPercentage;l===null&&(l=a-(c===null?t.end-t.start:c-a)),c===null&&(c=a+a-l);const f=a-(a-Math.min(l,c))/2*h;return{chunk:Math.abs(c-l)/2*h/i,ratio:n.barPercentage,start:f}}function r9(e,t,n,i){const s=n.parse(e[0],i),a=n.parse(e[1],i),l=Math.min(s,a),c=Math.max(s,a);let h=l,f=c;Math.abs(l)>Math.abs(c)&&(h=c,f=l),t[n.axis]=f,t._custom={barStart:h,barEnd:f,start:s,end:a,min:l,max:c}}function lM(e,t,n,i){return dn(e)?r9(e,t,n,i):t[n.axis]=n.parse(e,i),t}function iR(e,t,n,i){const s=e.iScale,a=e.vScale,l=s.getLabels(),c=s===a,h=[];let f,p,y,_;for(f=n,p=n+i;f<p;++f)_=t[f],y={},y[s.axis]=c||s.parse(l[f],f),h.push(lM(_,y,a,f));return h}function Iv(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function a9(e,t,n){return e!==0?er(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function o9(e){let t,n,i,s,a;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",a="start"):(s="start",a="end"),{start:n,end:i,reverse:t,top:s,bottom:a}}function l9(e,t,n,i){let s=t.borderSkipped;const a={};if(!s){e.borderSkipped=a;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:h,top:f,bottom:p}=o9(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=f:(n._bottom||0)===i?s=p:(a[sR(p,l,c,h)]=!0,s=f)),a[sR(s,l,c,h)]=!0,e.borderSkipped=a}function sR(e,t,n,i){return i?(e=c9(e,t,n),e=rR(e,n,t)):e=rR(e,t,n),e}function c9(e,t,n){return e===t?n:e===n?t:e}function rR(e,t,n){return e==="start"?t:e==="end"?n:e}function u9(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Rp extends vc{parsePrimitiveData(t,n,i,s){return iR(t,n,i,s)}parseArrayData(t,n,i,s){return iR(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:a,vScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=a.axis==="x"?c:h,p=l.axis==="x"?c:h,y=[];let _,b,T,E;for(_=i,b=i+s;_<b;++_)E=n[_],T={},T[a.axis]=a.parse(kc(E,f),_),y.push(lM(kc(E,p),T,l,_));return y}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const a=i._custom;a&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,a=this.getParsed(t),l=a._custom,c=Iv(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),f=c.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:_}=this._getSharedOptions(n,s);for(let b=n;b<n+i;b++){const T=this.getParsed(b),E=a||ve(T[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(b),S=this._calculateBarIndexPixels(b,p),C=(T._stacks||{})[c.axis],V={horizontal:f,base:E.base,enableBorderRadius:!C||Iv(T._custom)||l===C._top||l===C._bottom,x:f?E.head:S.center,y:f?S.center:E.head,height:f?S.size:Math.abs(E.size),width:f?Math.abs(E.size):S.size};_&&(V.options=y||this.resolveDataElementOptions(b,t[b].active?"active":s));const j=V.options||t[b].options;l9(V,j,C,l),u9(V,j,p.ratio),this.updateElement(t[b],b,V,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=i.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(n),h=c&&c[i.axis],f=p=>{const y=p._parsed.find(b=>b[i.axis]===h),_=y&&y[p.vScale.axis];if(ve(_)||isNaN(_))return!0};for(const p of s)if(!(n!==void 0&&f(p))&&((a===!1||l.indexOf(p.stack)===-1||a===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const s=this._getStacks(t,i),a=n!==void 0?s.indexOf(n):-1;return a===-1?s.length-1:a}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let a,l;for(a=0,l=n.data.length;a<l;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const c=t.barThickness;return{min:c||n9(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:a,minBarLength:l}}=this,c=a||0,h=this.getParsed(t),f=h._custom,p=Iv(f);let y=h[n.axis],_=0,b=i?this.applyStack(n,h,i):y,T,E;b!==y&&(_=b-y,b=y),p&&(y=f.barStart,b=f.barEnd-f.barStart,y!==0&&er(y)!==er(f.barEnd)&&(_=0),_+=y);const S=!ve(a)&&!p?a:_;let C=n.getPixelForValue(S);if(this.chart.getDataVisibility(t)?T=n.getPixelForValue(_+b):T=C,E=T-C,Math.abs(E)<l){E=a9(E,n,c)*l,y===c&&(C-=E/2);const V=n.getPixelForDecimal(0),j=n.getPixelForDecimal(1),W=Math.min(V,j),z=Math.max(V,j);C=Math.max(Math.min(C,z),W),T=C+E,i&&!p&&(h._stacks[n.axis]._visualValues[s]=n.getValueForPixel(T)-n.getValueForPixel(C))}if(C===n.getPixelForValue(c)){const V=er(E)*n.getLineWidthForValue(c)/2;C+=V,E-=V}return{size:E,base:C,head:T,center:T+E/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,a=s.skipNull,l=ne(s.maxBarThickness,1/0);let c,h;if(n.grouped){const f=a?this._getStackCount(t):n.stackCount,p=s.barThickness==="flex"?s9(t,n,s,f):i9(t,n,s,f),y=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0);c=p.start+p.chunk*y+p.chunk/2,h=Math.min(l,p.chunk*p.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,n.min*n.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[n.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}Ut(Rp,"id","bar"),Ut(Rp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ut(Rp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Cp extends vc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=n,l=this.chart._animationsDisabled;let{start:c,count:h}=U5(n,s,l);this._drawStart=c,this._drawCount=h,z5(n)&&(c=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},t),this.updateElements(s,c,h,t)}updateElements(t,n,i,s){const a=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(n,s),_=l.axis,b=c.axis,{spanGaps:T,segment:E}=this.options,S=Fh(T)?T:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||a||s==="none",V=n+i,j=t.length;let W=n>0&&this.getParsed(n-1);for(let z=0;z<j;++z){const $=t[z],M=C?$:{};if(z<n||z>=V){M.skip=!0;continue}const D=this.getParsed(z),I=ve(D[b]),B=M[_]=l.getPixelForValue(D[_],z),N=M[b]=a||I?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,D,h):D[b],z);M.skip=isNaN(B)||isNaN(N)||I,M.stop=z>0&&Math.abs(D[_]-W[_])>S,E&&(M.parsed=D,M.raw=f.data[z]),y&&(M.options=p||this.resolveDataElementOptions(z,$.active?"active":s)),C||this.updateElement($,z,M,s),W=D}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Ut(Cp,"id","line"),Ut(Cp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ut(Cp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Io(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class kb{constructor(t){Ut(this,"options");this.options=t||{}}static override(t){Object.assign(kb.prototype,t)}init(){}formats(){return Io()}parse(){return Io()}format(){return Io()}add(){return Io()}diff(){return Io()}startOf(){return Io()}endOf(){return Io()}}var h9={_date:kb};function f9(e,t,n,i){const{controller:s,data:a,_sorted:l}=e,c=s._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&l&&a.length){const f=c._reversePixels?N5:Ho;if(i){if(s._sharedOptions){const p=a[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const _=f(a,t,n-y),b=f(a,t,n+y);return{lo:_.lo,hi:b.hi}}}}else{const p=f(a,t,n);if(h){const{vScale:y}=s._cachedMeta,{_parsed:_}=e,b=_.slice(0,p.lo+1).reverse().findIndex(E=>!ve(E[y.axis]));p.lo-=Math.max(0,b);const T=_.slice(p.hi).findIndex(E=>!ve(E[y.axis]));p.hi+=Math.max(0,T)}return p}}return{lo:0,hi:a.length-1}}function Qm(e,t,n,i,s){const a=e.getSortedVisibleDatasetMetas(),l=n[t];for(let c=0,h=a.length;c<h;++c){const{index:f,data:p}=a[c],{lo:y,hi:_}=f9(a[c],t,l,s);for(let b=y;b<=_;++b){const T=p[b];T.skip||i(T,f,b)}}}function d9(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const a=t?Math.abs(i.x-s.x):0,l=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Mv(e,t,n,i,s){const a=[];return!s&&!e.isPointInArea(t)||Qm(e,n,t,function(c,h,f){!s&&!Hh(c,e.chartArea,0)||c.inRange(t.x,t.y,i)&&a.push({element:c,datasetIndex:h,index:f})},!0),a}function p9(e,t,n,i){let s=[];function a(l,c,h){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:y}=M5(l,{x:t.x,y:t.y});UI(y,f,p)&&s.push({element:l,datasetIndex:c,index:h})}return Qm(e,n,t,a),s}function m9(e,t,n,i,s,a){let l=[];const c=d9(n);let h=Number.POSITIVE_INFINITY;function f(p,y,_){const b=p.inRange(t.x,t.y,s);if(i&&!b)return;const T=p.getCenterPoint(s);if(!(!!a||e.isPointInArea(T))&&!b)return;const S=c(t,T);S<h?(l=[{element:p,datasetIndex:y,index:_}],h=S):S===h&&l.push({element:p,datasetIndex:y,index:_})}return Qm(e,n,t,f),l}function Pv(e,t,n,i,s,a){return!a&&!e.isPointInArea(t)?[]:n==="r"&&!i?p9(e,t,n,s):m9(e,t,n,i,s,a)}function aR(e,t,n,i,s){const a=[],l=n==="x"?"inXRange":"inYRange";let c=!1;return Qm(e,n,t,(h,f,p)=>{h[l]&&h[l](t[n],s)&&(a.push({element:h,datasetIndex:f,index:p}),c=c||h.inRange(t.x,t.y,s))}),i&&!c?[]:a}var g9={modes:{index(e,t,n,i){const s=Lo(t,e),a=n.axis||"x",l=n.includeInvisible||!1,c=n.intersect?Mv(e,s,a,i,l):Pv(e,s,a,!1,i,l),h=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const p=c[0].index,y=f.data[p];y&&!y.skip&&h.push({element:y,datasetIndex:f.index,index:p})}),h):[]},dataset(e,t,n,i){const s=Lo(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;let c=n.intersect?Mv(e,s,a,i,l):Pv(e,s,a,!1,i,l);if(c.length>0){const h=c[0].datasetIndex,f=e.getDatasetMeta(h).data;c=[];for(let p=0;p<f.length;++p)c.push({element:f[p],datasetIndex:h,index:p})}return c},point(e,t,n,i){const s=Lo(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;return Mv(e,s,a,i,l)},nearest(e,t,n,i){const s=Lo(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;return Pv(e,s,a,n.intersect,i,l)},x(e,t,n,i){const s=Lo(t,e);return aR(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=Lo(t,e);return aR(e,s,"y",n.intersect,i)}}};const cM=["left","top","right","bottom"];function eh(e,t){return e.filter(n=>n.pos===t)}function oR(e,t){return e.filter(n=>cM.indexOf(n.pos)===-1&&n.box.axis===t)}function nh(e,t){return e.sort((n,i)=>{const s=t?i:n,a=t?n:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function y9(e){const t=[];let n,i,s,a,l,c;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:a,options:{stack:l,stackWeight:c=1}}=s,t.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:c});return t}function v9(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:a}=n;if(!i||!cM.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function _9(e,t){const n=v9(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let a,l,c;for(a=0,l=e.length;a<l;++a){c=e[a];const{fullSize:h}=c.box,f=n[c.stack],p=f&&c.stackWeight/f.weight;c.horizontal?(c.width=p?p*i:h&&t.availableWidth,c.height=s):(c.width=i,c.height=p?p*s:h&&t.availableHeight)}return n}function b9(e){const t=y9(e),n=nh(t.filter(f=>f.box.fullSize),!0),i=nh(eh(t,"left"),!0),s=nh(eh(t,"right")),a=nh(eh(t,"top"),!0),l=nh(eh(t,"bottom")),c=oR(t,"x"),h=oR(t,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:s.concat(h).concat(l).concat(c),chartArea:eh(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:a.concat(l).concat(c)}}function lR(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function uM(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function w9(e,t,n,i){const{pos:s,box:a}=n,l=e.maxPadding;if(!se(s)){n.size&&(e[s]-=n.size);const y=i[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?a.height:a.width),n.size=y.size/y.count,e[s]+=n.size}a.getPadding&&uM(l,a.getPadding());const c=Math.max(0,t.outerWidth-lR(l,e,"left","right")),h=Math.max(0,t.outerHeight-lR(l,e,"top","bottom")),f=c!==e.w,p=h!==e.h;return e.w=c,e.h=h,n.horizontal?{same:f,other:p}:{same:p,other:f}}function T9(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function S9(e,t){const n=t.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(t[l],n[l])}),a}return i(e?["left","right"]:["top","bottom"])}function uh(e,t,n,i){const s=[];let a,l,c,h,f,p;for(a=0,l=e.length,f=0;a<l;++a){c=e[a],h=c.box,h.update(c.width||t.w,c.height||t.h,S9(c.horizontal,t));const{same:y,other:_}=w9(t,n,c,i);f|=y&&s.length,p=p||_,h.fullSize||s.push(c)}return f&&uh(s,t,n,i)||p}function ip(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function cR(e,t,n,i){const s=n.padding;let{x:a,y:l}=t;for(const c of e){const h=c.box,f=i[c.stack]||{placed:0,weight:1},p=c.stackWeight/f.weight||1;if(c.horizontal){const y=t.w*p,_=f.size||h.height;zh(f.start)&&(l=f.start),h.fullSize?ip(h,s.left,l,n.outerWidth-s.right-s.left,_):ip(h,t.left+f.placed,l,y,_),f.start=l,f.placed+=y,l=h.bottom}else{const y=t.h*p,_=f.size||h.width;zh(f.start)&&(a=f.start),h.fullSize?ip(h,a,s.top,_,n.outerHeight-s.bottom-s.top):ip(h,a,t.top+f.placed,_,y),f.start=a,f.placed+=y,a=h.right}}t.x=a,t.y=l}var rs={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=cs(e.options.layout.padding),a=Math.max(t-s.width,0),l=Math.max(n-s.height,0),c=b9(e.boxes),h=c.vertical,f=c.horizontal;Te(e.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const p=h.reduce((E,S)=>S.box.options&&S.box.options.display===!1?E:E+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},s);uM(_,cs(i));const b=Object.assign({maxPadding:_,w:a,h:l,x:s.left,y:s.top},s),T=_9(h.concat(f),y);uh(c.fullSize,b,y,T),uh(h,b,y,T),uh(f,b,y,T)&&uh(h,b,y,T),T9(b),cR(c.leftAndTop,b,y,T),b.x+=b.w,b.y+=b.h,cR(c.rightAndBottom,b,y,T),e.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Te(c.chartArea,E=>{const S=E.box;Object.assign(S,e.chartArea),S.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class hM{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class E9 extends hM{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Dp="$chartjs",x9={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},uR=e=>e===null||e==="";function A9(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Dp]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",uR(s)){const a=GA(e,"width");a!==void 0&&(e.width=a)}if(uR(i))if(e.style.height==="")e.height=e.width/(t||2);else{const a=GA(e,"height");a!==void 0&&(e.height=a)}return e}const fM=k6?{passive:!0}:!1;function R9(e,t,n){e&&e.addEventListener(t,n,fM)}function C9(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,fM)}function D9(e,t){const n=x9[e.type]||e.type,{x:i,y:s}=Lo(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function cm(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function k9(e,t,n){const i=e.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||cm(c.addedNodes,i),l=l&&!cm(c.removedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function I9(e,t,n){const i=e.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||cm(c.removedNodes,i),l=l&&!cm(c.addedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Wh=new Map;let hR=0;function dM(){const e=window.devicePixelRatio;e!==hR&&(hR=e,Wh.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function M9(e,t){Wh.size||window.addEventListener("resize",dM),Wh.set(e,t)}function P9(e){Wh.delete(e),Wh.size||window.removeEventListener("resize",dM)}function O9(e,t,n){const i=e.canvas,s=i&&Db(i);if(!s)return;const a=qI((c,h)=>{const f=s.clientWidth;n(c,h),f<s.clientWidth&&n()},window),l=new ResizeObserver(c=>{const h=c[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||a(f,p)});return l.observe(s),M9(e,a),l}function Ov(e,t,n){n&&n.disconnect(),t==="resize"&&P9(e)}function N9(e,t,n){const i=e.canvas,s=qI(a=>{e.ctx!==null&&n(D9(a,e))},e);return R9(i,t,s),s}class L9 extends hM{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(A9(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Dp])return!1;const i=n[Dp].initial;["height","width"].forEach(a=>{const l=i[a];ve(l)?n.removeAttribute(a):n.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[Dp],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),l={attach:k9,detach:I9,resize:O9}[n]||N9;s[n]=l(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Ov,detach:Ov,resize:Ov}[n]||C9)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return D6(t,n,i,s)}isAttached(t){const n=t&&Db(t);return!!(n&&n.isConnected)}}function V9(e){return!Cb()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?E9:L9}var mp;let Ja=(mp=class{constructor(){Ut(this,"x");Ut(this,"y");Ut(this,"active",!1);Ut(this,"options");Ut(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return Fh(this.x)&&Fh(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}},Ut(mp,"defaults",{}),Ut(mp,"defaultRoutes"),mp);function j9(e,t){const n=e.options.ticks,i=B9(e),s=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?z9(t):[],l=a.length,c=a[0],h=a[l-1],f=[];if(l>s)return F9(t,f,a,l/s),f;const p=U9(a,t,s);if(l>0){let y,_;const b=l>1?Math.round((h-c)/(l-1)):null;for(sp(t,f,p,ve(b)?0:c-b,c),y=0,_=l-1;y<_;y++)sp(t,f,p,a[y],a[y+1]);return sp(t,f,p,h,ve(b)?t.length:h+b),f}return sp(t,f,p),f}function B9(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function U9(e,t,n){const i=H9(e),s=t.length/n;if(!i)return Math.max(s,1);const a=R5(i);for(let l=0,c=a.length-1;l<c;l++){const h=a[l];if(h>s)return h}return Math.max(s,1)}function z9(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function F9(e,t,n,i){let s=0,a=n[0],l;for(i=Math.ceil(i),l=0;l<e.length;l++)l===a&&(t.push(e[l]),s++,a=n[s*i])}function sp(e,t,n,i,s){const a=ne(i,0),l=Math.min(ne(s,e.length),e.length);let c=0,h,f,p;for(n=Math.ceil(n),s&&(h=s-i,n=h/Math.floor(h/n)),p=a;p<0;)c++,p=Math.round(a+c*n);for(f=Math.max(a,0);f<l;f++)f===p&&(t.push(e[f]),c++,p=Math.round(a+c*n))}function H9(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const q9=e=>e==="left"?"right":e==="right"?"left":e,fR=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,dR=(e,t)=>Math.min(t||e,e);function pR(e,t){const n=[],i=e.length/t,s=e.length;let a=0;for(;a<s;a+=i)n.push(e[Math.floor(a)]);return n}function W9(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),a=e._startPixel,l=e._endPixel,c=1e-6;let h=e.getPixelForTick(s),f;if(!(n&&(i===1?f=Math.max(h-a,l-h):t===0?f=(e.getPixelForTick(1)-h)/2:f=(h-e.getPixelForTick(s-1))/2,h+=s<t?f:-f,h<a-c||h>l+c)))return h}function $9(e,t){Te(e,n=>{const i=n.gc,s=i.length/2;let a;if(s>t){for(a=0;a<s;++a)delete n.data[i[a]];i.splice(0,s)}})}function ih(e){return e.drawTicks?e.tickLength:0}function mR(e,t){if(!e.display)return 0;const n=Xn(e.font,t),i=cs(e.padding);return(dn(e.text)?e.text.length:1)*n.lineHeight+i.height}function G9(e,t){return hl(e,{scale:t,type:"scale"})}function K9(e,t,n){return hl(e,{tick:n,index:t,type:"tick"})}function Y9(e,t,n){let i=Sb(e);return(n&&t!=="right"||!n&&t==="right")&&(i=q9(i)),i}function X9(e,t,n,i){const{top:s,left:a,bottom:l,right:c,chart:h}=e,{chartArea:f,scales:p}=h;let y=0,_,b,T;const E=l-s,S=c-a;if(e.isHorizontal()){if(b=$n(i,a,c),se(n)){const C=Object.keys(n)[0],V=n[C];T=p[C].getPixelForValue(V)+E-t}else n==="center"?T=(f.bottom+f.top)/2+E-t:T=fR(e,n,t);_=c-a}else{if(se(n)){const C=Object.keys(n)[0],V=n[C];b=p[C].getPixelForValue(V)-S+t}else n==="center"?b=(f.left+f.right)/2-S+t:b=fR(e,n,t);T=$n(i,l,s),y=n==="left"?-bs:bs}return{titleX:b,titleY:T,maxWidth:_,rotation:y}}class $c extends Ja{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=qs(t,Number.POSITIVE_INFINITY),n=qs(n,Number.NEGATIVE_INFINITY),i=qs(i,Number.POSITIVE_INFINITY),s=qs(s,Number.NEGATIVE_INFINITY),{min:qs(t,i),max:qs(n,s),minDefined:ti(t),maxDefined:ti(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,f=c.length;h<f;++h)l=c[h].controller.getMinMax(this,t),s||(n=Math.min(n,l.min)),a||(i=Math.max(i,l.max));return n=a&&n>i?i:n,i=s&&n>i?n:i,{min:qs(n,qs(i,n)),max:qs(i,qs(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Pe(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=o6(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?pR(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=j9(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Pe(this.options.afterUpdate,[this])}beforeSetDimensions(){Pe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Pe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Pe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Pe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i],a.label=Pe(n.callback,[a.value,i,t],this)}afterTickToLabelConversion(){Pe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Pe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=dR(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,a=n.maxRotation;let l=s,c,h,f;if(!this._isVisible()||!n.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,b=Ni(this.chart.width-y,0,this.maxWidth);c=t.offset?this.maxWidth/i:b/(i-1),y+6>c&&(c=b/(i-(t.offset?.5:1)),h=this.maxHeight-ih(t.grid)-n.padding-mR(t.title,this.chart.options.font),f=Math.sqrt(y*y+_*_),l=I5(Math.min(Math.asin(Ni((p.highest.height+6)/c,-1,1)),Math.asin(Ni(h/f,-1,1))-Math.asin(Ni(_/f,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Pe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Pe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=mR(s,n.options.font);if(c?(t.width=this.maxWidth,t.height=ih(a)+h):(t.height=this.maxHeight,t.width=ih(a)+h),i.display&&this.ticks.length){const{first:f,last:p,widest:y,highest:_}=this._getLabelSizes(),b=i.padding*2,T=Fo(this.labelRotation),E=Math.cos(T),S=Math.sin(T);if(c){const C=i.mirror?0:S*y.width+E*_.height;t.height=Math.min(this.maxHeight,t.height+C+b)}else{const C=i.mirror?0:E*y.width+S*_.height;t.width=Math.min(this.maxWidth,t.width+C+b)}this._calculatePadding(f,p,S,E)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:a,padding:l},position:c}=this.options,h=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,b=0;h?f?(_=s*t.width,b=i*n.height):(_=i*t.height,b=s*n.width):a==="start"?b=n.width:a==="end"?_=t.width:a!=="inner"&&(_=t.width/2,b=n.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-y+l)*this.width/(this.width-y),0)}else{let p=n.height/2,y=t.height/2;a==="start"?(p=0,y=t.height):a==="end"&&(p=n.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Pe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)ve(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=pR(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:a}=this,l=[],c=[],h=Math.floor(n/dR(n,i));let f=0,p=0,y,_,b,T,E,S,C,V,j,W,z;for(y=0;y<n;y+=h){if(T=t[y].label,E=this._resolveTickFontOptions(y),s.font=S=E.string,C=a[S]=a[S]||{data:{},gc:[]},V=E.lineHeight,j=W=0,!ve(T)&&!dn(T))j=FA(s,C.data,C.gc,j,T),W=V;else if(dn(T))for(_=0,b=T.length;_<b;++_)z=T[_],!ve(z)&&!dn(z)&&(j=FA(s,C.data,C.gc,j,z),W+=V);l.push(j),c.push(W),f=Math.max(j,f),p=Math.max(W,p)}$9(a,n);const $=l.indexOf(f),M=c.indexOf(p),D=I=>({width:l[I]||0,height:c[I]||0});return{first:D(0),last:D(n-1),widest:D($),highest:D(M),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return O5(this._alignToPixels?ko(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=K9(this.getContext(),t,i))}return this.$context||(this.$context=G9(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Fo(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,c=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>c*s?c/i:h/s:h*s<c*i?h/i:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:c}=s,h=a.offset,f=this.isHorizontal(),y=this.ticks.length+(h?1:0),_=ih(a),b=[],T=c.setContext(this.getContext()),E=T.display?T.width:0,S=E/2,C=function(K){return ko(i,K,E)};let V,j,W,z,$,M,D,I,B,N,U,L;if(l==="top")V=C(this.bottom),M=this.bottom-_,I=V-S,N=C(t.top)+S,L=t.bottom;else if(l==="bottom")V=C(this.top),N=t.top,L=C(t.bottom)-S,M=V+S,I=this.top+_;else if(l==="left")V=C(this.right),$=this.right-_,D=V-S,B=C(t.left)+S,U=t.right;else if(l==="right")V=C(this.left),B=t.left,U=C(t.right)-S,$=V+S,D=this.left+_;else if(n==="x"){if(l==="center")V=C((t.top+t.bottom)/2+.5);else if(se(l)){const K=Object.keys(l)[0],et=l[K];V=C(this.chart.scales[K].getPixelForValue(et))}N=t.top,L=t.bottom,M=V+S,I=M+_}else if(n==="y"){if(l==="center")V=C((t.left+t.right)/2);else if(se(l)){const K=Object.keys(l)[0],et=l[K];V=C(this.chart.scales[K].getPixelForValue(et))}$=V-S,D=$-_,B=t.left,U=t.right}const ft=ne(s.ticks.maxTicksLimit,y),gt=Math.max(1,Math.ceil(y/ft));for(j=0;j<y;j+=gt){const K=this.getContext(j),et=a.setContext(K),dt=c.setContext(K),xt=et.lineWidth,H=et.color,nt=dt.dash||[],ht=dt.dashOffset,lt=et.tickWidth,yt=et.tickColor,It=et.tickBorderDash||[],St=et.tickBorderDashOffset;W=W9(this,j,h),W!==void 0&&(z=ko(i,W,xt),f?$=D=B=U=z:M=I=N=L=z,b.push({tx1:$,ty1:M,tx2:D,ty2:I,x1:B,y1:N,x2:U,y2:L,width:xt,color:H,borderDash:nt,borderDashOffset:ht,tickWidth:lt,tickColor:yt,tickBorderDash:It,tickBorderDashOffset:St}))}return this._ticksLength=y,this._borderValue=V,b}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:f,padding:p,mirror:y}=a,_=ih(i.grid),b=_+p,T=y?-p:b,E=-Fo(this.labelRotation),S=[];let C,V,j,W,z,$,M,D,I,B,N,U,L="middle";if(s==="top")$=this.bottom-T,M=this._getXAxisLabelAlignment();else if(s==="bottom")$=this.top+T,M=this._getXAxisLabelAlignment();else if(s==="left"){const gt=this._getYAxisLabelAlignment(_);M=gt.textAlign,z=gt.x}else if(s==="right"){const gt=this._getYAxisLabelAlignment(_);M=gt.textAlign,z=gt.x}else if(n==="x"){if(s==="center")$=(t.top+t.bottom)/2+b;else if(se(s)){const gt=Object.keys(s)[0],K=s[gt];$=this.chart.scales[gt].getPixelForValue(K)+b}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")z=(t.left+t.right)/2-b;else if(se(s)){const gt=Object.keys(s)[0],K=s[gt];z=this.chart.scales[gt].getPixelForValue(K)}M=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(h==="start"?L="top":h==="end"&&(L="bottom"));const ft=this._getLabelSizes();for(C=0,V=c.length;C<V;++C){j=c[C],W=j.label;const gt=a.setContext(this.getContext(C));D=this.getPixelForTick(C)+a.labelOffset,I=this._resolveTickFontOptions(C),B=I.lineHeight,N=dn(W)?W.length:1;const K=N/2,et=gt.color,dt=gt.textStrokeColor,xt=gt.textStrokeWidth;let H=M;l?(z=D,M==="inner"&&(C===V-1?H=this.options.reverse?"left":"right":C===0?H=this.options.reverse?"right":"left":H="center"),s==="top"?f==="near"||E!==0?U=-N*B+B/2:f==="center"?U=-ft.highest.height/2-K*B+B:U=-ft.highest.height+B/2:f==="near"||E!==0?U=B/2:f==="center"?U=ft.highest.height/2-K*B:U=ft.highest.height-N*B,y&&(U*=-1),E!==0&&!gt.showLabelBackdrop&&(z+=B/2*Math.sin(E))):($=D,U=(1-N)*B/2);let nt;if(gt.showLabelBackdrop){const ht=cs(gt.backdropPadding),lt=ft.heights[C],yt=ft.widths[C];let It=U-ht.top,St=0-ht.left;switch(L){case"middle":It-=lt/2;break;case"bottom":It-=lt;break}switch(M){case"center":St-=yt/2;break;case"right":St-=yt;break;case"inner":C===V-1?St-=yt:C>0&&(St-=yt/2);break}nt={left:St,top:It,width:yt+ht.width,height:lt+ht.height,color:gt.backdropColor}}S.push({label:W,font:I,textOffset:U,options:{rotation:E,color:et,strokeColor:dt,strokeWidth:xt,textAlign:H,textBaseline:L,translation:[z,$],backdrop:nt}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Fo(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),c=t+a,h=l.widest.width;let f,p;return n==="left"?s?(p=this.right+a,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-c,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p=this.left)):n==="right"?s?(p=this.left+a,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+c,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:a,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,a,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const c=(h,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(n.display)for(a=0,l=s.length;a<l;++a){const h=s[a];n.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,y,_;this.isHorizontal()?(f=ko(t,this.left,l)-l/2,p=ko(t,this.right,c)+c/2,y=_=h):(y=ko(t,this.top,l)-l/2,_=ko(t,this.bottom,c)+c/2,f=p=h),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(f,y),n.lineTo(p,_),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Km(i,s);const a=this.getLabelItems(t);for(const l of a){const c=l.options,h=l.font,f=l.label,p=l.textOffset;qh(i,f,0,p,h,c)}s&&Ym(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const a=Xn(i.font),l=cs(i.padding),c=i.align;let h=a.lineHeight/2;n==="bottom"||n==="center"||se(n)?(h+=l.bottom,dn(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:p,maxWidth:y,rotation:_}=X9(this,h,n,c);qh(t,i.text,0,0,a,{color:i.color,maxWidth:y,rotation:_,textAlign:Y9(c,n,s),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=ne(t.grid&&t.grid.z,-1),s=ne(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==$c.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=n.length;a<l;++a){const c=n[a];c[i]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Xn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class rp{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;J9(n)&&(i=this.register(n));const s=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,Q9(t,l,i),this.override&&an.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in an[s]&&(delete an[s][i],this.override&&delete il[i])}}function Q9(e,t,n){const i=Uh(Object.create(null),[n?an.get(n):{},an.get(t),e.defaults]);an.set(t,i),e.defaultRoutes&&Z9(t,e.defaultRoutes),e.descriptors&&an.describe(t,e.descriptors)}function Z9(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),a=[e].concat(i).join("."),l=t[n].split("."),c=l.pop(),h=l.join(".");an.route(a,s,h,c)})}function J9(e){return"id"in e&&"defaults"in e}class tH{constructor(){this.controllers=new rp(vc,"datasets",!0),this.elements=new rp(Ja,"elements"),this.plugins=new rp(Object,"plugins"),this.scales=new rp($c,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):Te(s,l=>{const c=i||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,n,i){const s=wb(t);Pe(i["before"+s],[],i),n[t](i),Pe(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Gs=new tH;class eH{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(a,t,n,i);return n==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,i,s){s=s||{};for(const a of t){const l=a.plugin,c=l[i],h=[n,s,a.options];if(Pe(c,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){ve(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=ne(i.options&&i.options.plugins,{}),a=nH(i);return s===!1&&!n?[]:sH(t,a,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function nH(e){const t={},n=[],i=Object.keys(Gs.plugins.items);for(let a=0;a<i.length;a++)n.push(Gs.getPlugin(i[a]));const s=e.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function iH(e,t){return!t&&e===!1?null:e===!0?{}:e}function sH(e,{plugins:t,localIds:n},i,s){const a=[],l=e.getContext();for(const c of t){const h=c.id,f=iH(i[h],s);f!==null&&a.push({plugin:c,options:rH(e.config,{plugin:c,local:n[h]},f,l)})}return a}function rH(e,{plugin:t,local:n},i,s){const a=e.pluginScopeKeys(t),l=e.getOptionScopes(i,a);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function O_(e,t){const n=an.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function aH(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function oH(e,t){return e===t?"_index_":"_value_"}function gR(e){if(e==="x"||e==="y"||e==="r")return e}function lH(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function N_(e,...t){if(gR(e))return e;for(const n of t){const i=n.axis||lH(n.position)||e.length>1&&gR(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function yR(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function cH(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return yR(e,"x",n[0])||yR(e,"y",n[0])}return{}}function uH(e,t){const n=il[e.type]||{scales:{}},i=t.scales||{},s=O_(e.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!se(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=N_(l,c,cH(l,e),an.scales[c.type]),f=oH(h,s),p=n.scales||{};a[l]=wh(Object.create(null),[{axis:h},c,p[h],p[f]])}),e.data.datasets.forEach(l=>{const c=l.type||e.type,h=l.indexAxis||O_(c,t),p=(il[c]||{}).scales||{};Object.keys(p).forEach(y=>{const _=aH(y,h),b=l[_+"AxisID"]||_;a[b]=a[b]||Object.create(null),wh(a[b],[{axis:_},i[b],p[y]])})}),Object.keys(a).forEach(l=>{const c=a[l];wh(c,[an.scales[c.type],an.scale])}),a}function pM(e){const t=e.options||(e.options={});t.plugins=ne(t.plugins,{}),t.scales=uH(e,t)}function mM(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function hH(e){return e=e||{},e.data=mM(e.data),pM(e),e}const vR=new Map,gM=new Set;function ap(e,t){let n=vR.get(e);return n||(n=t(),vR.set(e,n),gM.add(n)),n}const sh=(e,t,n)=>{const i=kc(t,n);i!==void 0&&e.add(i)};class fH{constructor(t){this._config=hH(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=mM(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),pM(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ap(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return ap(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return ap(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return ap(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:a}=this,l=this._cachedScopes(t,i),c=l.get(n);if(c)return c;const h=new Set;n.forEach(p=>{t&&(h.add(t),p.forEach(y=>sh(h,t,y))),p.forEach(y=>sh(h,s,y)),p.forEach(y=>sh(h,il[a]||{},y)),p.forEach(y=>sh(h,an,y)),p.forEach(y=>sh(h,M_,y))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),gM.has(n)&&l.set(n,f),f}chartOptionScopes(){const{options:t,type:n}=this;return[t,il[n]||{},an.datasets[n]||{},{type:n},an,M_]}resolveNamedOptions(t,n,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=_R(this._resolverCache,t,s);let h=l;if(pH(l,n)){a.$shared=!1,i=Ka(i)?i():i;const f=this.createResolver(t,i,c);h=Ic(l,i,f)}for(const f of n)a[f]=h[f];return a}createResolver(t,n,i=[""],s){const{resolver:a}=_R(this._resolverCache,t,i);return se(n)?Ic(a,n,void 0,s):a}}function _R(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let a=i.get(s);return a||(a={resolver:xb(t,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,a)),a}const dH=e=>se(e)&&Object.getOwnPropertyNames(e).some(t=>Ka(e[t]));function pH(e,t){const{isScriptable:n,isIndexable:i}=XI(e);for(const s of t){const a=n(s),l=i(s),c=(l||a)&&e[s];if(a&&(Ka(c)||dH(c))||l&&dn(c))return!0}return!1}var mH="4.4.8";const gH=["top","bottom","left","right","chartArea"];function bR(e,t){return e==="top"||e==="bottom"||gH.indexOf(e)===-1&&t==="x"}function wR(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function TR(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Pe(n&&n.onComplete,[e],t)}function yH(e){const t=e.chart,n=t.options.animation;Pe(n&&n.onProgress,[e],t)}function yM(e){return Cb()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const kp={},SR=e=>{const t=yM(e);return Object.values(kp).filter(n=>n.canvas===t).pop()};function vH(e,t,n){const i=Object.keys(e);for(const s of i){const a=+s;if(a>=t){const l=e[s];delete e[s],(n>0||a>t)&&(e[a+n]=l)}}}function _H(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function op(e,t,n){return e.options.clip?e[n]:t[n]}function bH(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:op(n,t,"left"),right:op(n,t,"right"),top:op(i,t,"top"),bottom:op(i,t,"bottom")}:t}var Ra;let Gc=(Ra=class{static register(...t){Gs.add(...t),ER()}static unregister(...t){Gs.remove(...t),ER()}constructor(t,n){const i=this.config=new fH(n),s=yM(t),a=SR(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||V9(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),h=c&&c.canvas,f=h&&h.height,p=h&&h.width;if(this.id=v5(),this.ctx=c,this.canvas=h,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new eH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=j5(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],kp[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Br.listen(this,"complete",TR),Br.listen(this,"progress",yH),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:a}=this;return ve(t)?n&&a?a:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Gs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$A(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return HA(this.canvas,this.ctx),this}stop(){return Br.stop(this),this}resize(t,n){Br.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,n,a),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,$A(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),Pe(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Te(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let a=[];n&&(a=a.concat(Object.keys(n).map(l=>{const c=n[l],h=N_(l,c),f=h==="r",p=h==="x";return{options:c,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),Te(a,l=>{const c=l.options,h=c.id,f=N_(h,c),p=ne(c.type,l.dtype);(c.position===void 0||bR(c.position,f)!==bR(l.dposition))&&(c.position=l.dposition),s[h]=!0;let y=null;if(h in i&&i[h].type===p)y=i[h];else{const _=Gs.getScale(p);y=new _({id:h,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,t)}),Te(s,(l,c)=>{l||delete i[c]}),Te(i,l=>{rs.configure(this,l,l.options),rs.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,a)=>s.index-a.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(wR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const a=n[i];let l=this.getDatasetMeta(i);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=a.indexAxis||O_(c,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Gs.getController(c),{datasetElementType:f,dataElementType:p}=an.datasets[c];Object.assign(h,{dataElementType:Gs.getElement(p),datasetElementType:f&&Gs.getElement(f)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Te(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:y}=this.getDatasetMeta(f),_=!s&&a.indexOf(y)===-1;y.buildOrUpdateElements(_),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||Te(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(wR("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Te(this.scales,t=>{rs.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!PA(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of n){const l=i==="_removeElements"?-a:a;vH(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<n;a++)if(!PA(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;rs.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Te(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ka(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Br.has(this)?this.attached&&!Br.running(this)&&Br.start(this):(this.draw(),TR({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,s=!i.disabled,a=bH(t,this.chartArea),l={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(s&&Km(n,{left:i.left===!1?0:a.left-i.left,right:i.right===!1?this.width:a.right+i.right,top:i.top===!1?0:a.top-i.top,bottom:i.bottom===!1?this.height:a.bottom+i.bottom}),t.controller.draw(),s&&Ym(n),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(t){return Hh(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const a=g9.modes[n];return typeof a=="function"?a(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=hl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,s);zh(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Br.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),HA(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete kp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(a,l)=>{n.addEventListener(this,a,l),t[a]=l},s=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};Te(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(h,f)=>{n.addEventListener(this,h,f),t[h]=f},s=(h,f)=>{t[h]&&(n.removeEventListener(this,h,f),delete t[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():l()}unbindEvents(){Te(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Te(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let a,l,c,h;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,h=t.length;c<h;++c){l=t[c];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!sm(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,a=(h,f)=>h.filter(p=>!f.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=a(n,t),c=i?t:a(t,n);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:a}=this,l=n,c=this._getActiveElements(t,s,i,l),h=E5(t),f=_H(t,this._lastEvent,i,h);i&&(this._lastEvent=null,Pe(a.onHover,[t,c,this],this),h&&Pe(a.onClick,[t,c,this],this));const p=!sm(c,s);return(p||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=f,p}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}},Ut(Ra,"defaults",an),Ut(Ra,"instances",kp),Ut(Ra,"overrides",il),Ut(Ra,"registry",Gs),Ut(Ra,"version",mH),Ut(Ra,"getChart",SR),Ra);function ER(){return Te(Gc.instances,e=>e._plugins.invalidate())}function vM(e,t,n=t){e.lineCap=ne(n.borderCapStyle,t.borderCapStyle),e.setLineDash(ne(n.borderDash,t.borderDash)),e.lineDashOffset=ne(n.borderDashOffset,t.borderDashOffset),e.lineJoin=ne(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ne(n.borderWidth,t.borderWidth),e.strokeStyle=ne(n.borderColor,t.borderColor)}function wH(e,t,n){e.lineTo(n.x,n.y)}function TH(e){return e.stepped?Z5:e.tension||e.cubicInterpolationMode==="monotone"?J5:wH}function _M(e,t,n={}){const i=e.length,{start:s=0,end:a=i-1}=n,{start:l,end:c}=t,h=Math.max(s,l),f=Math.min(a,c),p=s<l&&a<l||s>c&&a>c;return{count:i,start:h,loop:t.loop,ilen:f<h&&!p?i+f-h:f-h}}function SH(e,t,n,i){const{points:s,options:a}=t,{count:l,start:c,loop:h,ilen:f}=_M(s,n,i),p=TH(a);let{move:y=!0,reverse:_}=i||{},b,T,E;for(b=0;b<=f;++b)T=s[(c+(_?f-b:b))%l],!T.skip&&(y?(e.moveTo(T.x,T.y),y=!1):p(e,E,T,_,a.stepped),E=T);return h&&(T=s[(c+(_?f:0))%l],p(e,E,T,_,a.stepped)),!!h}function EH(e,t,n,i){const s=t.points,{count:a,start:l,ilen:c}=_M(s,n,i),{move:h=!0,reverse:f}=i||{};let p=0,y=0,_,b,T,E,S,C;const V=W=>(l+(f?c-W:W))%a,j=()=>{E!==S&&(e.lineTo(p,S),e.lineTo(p,E),e.lineTo(p,C))};for(h&&(b=s[V(0)],e.moveTo(b.x,b.y)),_=0;_<=c;++_){if(b=s[V(_)],b.skip)continue;const W=b.x,z=b.y,$=W|0;$===T?(z<E?E=z:z>S&&(S=z),p=(y*p+W)/++y):(j(),e.lineTo(W,z),T=$,y=0,E=S=z),C=z}j()}function L_(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?EH:SH}function xH(e){return e.stepped?I6:e.tension||e.cubicInterpolationMode==="monotone"?M6:Vo}function AH(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),vM(e,t.options),e.stroke(s)}function RH(e,t,n,i){const{segments:s,options:a}=t,l=L_(t);for(const c of s)vM(e,a,c.style),e.beginPath(),l(e,t,c,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const CH=typeof Path2D=="function";function DH(e,t,n,i){CH&&!t.options.segment?AH(e,t,n,i):RH(e,t,n,i)}class Xs extends Ja{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;S6(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=j6(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],a=this.points,l=rM(this,{property:n,start:s,end:s});if(!l.length)return;const c=[],h=xH(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:y,end:_}=l[f],b=a[y],T=a[_];if(b===T){c.push(b);continue}const E=Math.abs((s-b[n])/(T[n]-b[n])),S=h(b,T,E,i.stepped);S[n]=t[n],c.push(S)}return c.length===1?c[0]:c}pathSegment(t,n,i){return L_(this)(t,this,n,i)}path(t,n,i){const s=this.segments,a=L_(this);let l=this._loop;n=n||0,i=i||this.points.length-n;for(const c of s)l&=a(t,this,c,{start:n,end:n+i-1});return!!l}draw(t,n,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),DH(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ut(Xs,"id","line"),Ut(Xs,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ut(Xs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ut(Xs,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function xR(e,t,n,i){const s=e.options,{[n]:a}=e.getProps([n],i);return Math.abs(t-a)<s.radius+s.hitRadius}class _c extends Ja{constructor(n){super();Ut(this,"parsed");Ut(this,"skip");Ut(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const a=this.options,{x:l,y:c}=this.getProps(["x","y"],s);return Math.pow(n-l,2)+Math.pow(i-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(n,i){return xR(this,n,"x",i)}inYRange(n,i){return xR(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Hh(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,P_(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ut(_c,"id","point"),Ut(_c,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ut(_c,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function bM(e,t){const{x:n,y:i,base:s,width:a,height:l}=e.getProps(["x","y","base","width","height"],t);let c,h,f,p,y;return e.horizontal?(y=l/2,c=Math.min(n,s),h=Math.max(n,s),f=i-y,p=i+y):(y=a/2,c=n-y,h=n+y,f=Math.min(i,s),p=Math.max(i,s)),{left:c,top:f,right:h,bottom:p}}function La(e,t,n,i){return e?0:Ni(t,n,i)}function kH(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,a=YI(i);return{t:La(s.top,a.top,0,n),r:La(s.right,a.right,0,t),b:La(s.bottom,a.bottom,0,n),l:La(s.left,a.left,0,t)}}function IH(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,a=gc(s),l=Math.min(t,n),c=e.borderSkipped,h=i||se(s);return{topLeft:La(!h||c.top||c.left,a.topLeft,0,l),topRight:La(!h||c.top||c.right,a.topRight,0,l),bottomLeft:La(!h||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:La(!h||c.bottom||c.right,a.bottomRight,0,l)}}function MH(e){const t=bM(e),n=t.right-t.left,i=t.bottom-t.top,s=kH(e,n/2,i/2),a=IH(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Nv(e,t,n,i){const s=t===null,a=n===null,c=e&&!(s&&a)&&bM(e,i);return c&&(s||Na(t,c.left,c.right))&&(a||Na(n,c.top,c.bottom))}function PH(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function OH(e,t){e.rect(t.x,t.y,t.w,t.h)}function Lv(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-i,l=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+a,h:e.h+l,radius:e.radius}}class Ip extends Ja{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:l}=MH(this),c=PH(l.radius)?om:OH;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),c(t,Lv(l,n,a)),t.clip(),c(t,Lv(a,-n,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,Lv(a,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Nv(this,t,n,i)}inXRange(t,n){return Nv(this,t,null,n)}inYRange(t,n){return Nv(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(n+s)/2:n,y:a?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Ut(Ip,"id","bar"),Ut(Ip,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ut(Ip,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function NH(e,t,n){const i=e.segments,s=e.points,a=t.points,l=[];for(const c of i){let{start:h,end:f}=c;f=Ib(h,f,s);const p=V_(n,s[h],s[f],c.loop);if(!t.segments){l.push({source:c,target:p,start:s[h],end:s[f]});continue}const y=rM(t,p);for(const _ of y){const b=V_(n,a[_.start],a[_.end],_.loop),T=sM(c,s,b);for(const E of T)l.push({source:E,target:_,start:{[n]:AR(p,b,"start",Math.max)},end:{[n]:AR(p,b,"end",Math.min)}})}}return l}function V_(e,t,n,i){if(i)return;let s=t[e],a=n[e];return e==="angle"&&(s=Ys(s),a=Ys(a)),{property:e,start:s,end:a}}function LH(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,a=[];return t.segments.forEach(({start:l,end:c})=>{c=Ib(l,c,s);const h=s[l],f=s[c];i!==null?(a.push({x:h.x,y:i}),a.push({x:f.x,y:i})):n!==null&&(a.push({x:n,y:h.y}),a.push({x:n,y:f.y}))}),a}function Ib(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function AR(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function wM(e,t){let n=[],i=!1;return dn(e)?(i=!0,n=e):n=LH(e,t),n.length?new Xs({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function RR(e){return e&&e.fill!==!1}function VH(e,t,n){let s=e[t].fill;const a=[t];let l;if(!n)return s;for(;s!==!1&&a.indexOf(s)===-1;){if(!ti(s))return s;if(l=e[s],!l)return!1;if(l.visible)return s;a.push(s),s=l.fill}return!1}function jH(e,t,n){const i=FH(e);if(se(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return ti(s)&&Math.floor(s)===s?BH(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function BH(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function UH(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:se(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function zH(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:se(e)?i=e.value:i=t.getBaseValue(),i}function FH(e){const t=e.options,n=t.fill;let i=ne(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function HH(e){const{scale:t,index:n,line:i}=e,s=[],a=i.segments,l=i.points,c=qH(t,n);c.push(wM({x:null,y:t.bottom},i));for(let h=0;h<a.length;h++){const f=a[h];for(let p=f.start;p<=f.end;p++)WH(s,l[p],c)}return new Xs({points:s,options:{}})}function qH(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const a=i[s];if(a.index===t)break;a.hidden||n.unshift(a.dataset)}return n}function WH(e,t,n){const i=[];for(let s=0;s<n.length;s++){const a=n[s],{first:l,last:c,point:h}=$H(a,t,"x");if(!(!h||l&&c)){if(l)i.unshift(h);else if(e.push(h),!c)break}}e.push(...i)}function $H(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],a=e.segments,l=e.points;let c=!1,h=!1;for(let f=0;f<a.length;f++){const p=a[f],y=l[p.start][n],_=l[p.end][n];if(Na(s,y,_)){c=s===y,h=s===_;break}}return{first:c,last:h,point:i}}class TM{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:a,radius:l}=this;return n=n||{start:0,end:Ts},t.arc(s,a,l,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,a=t.angle;return{x:n+Math.cos(a)*s,y:i+Math.sin(a)*s,angle:a}}}function GH(e){const{chart:t,fill:n,line:i}=e;if(ti(n))return KH(t,n);if(n==="stack")return HH(e);if(n==="shape")return!0;const s=YH(e);return s instanceof TM?s:wM(s,i)}function KH(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function YH(e){return(e.scale||{}).getPointPositionForValue?QH(e):XH(e)}function XH(e){const{scale:t={},fill:n}=e,i=UH(n,t);if(ti(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function QH(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,a=i.reverse?t.max:t.min,l=zH(n,t,a),c=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,a);return new TM({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<s;++h)c.push(t.getPointPositionForValue(h,l));return c}function Vv(e,t,n){const i=GH(t),{line:s,scale:a,axis:l}=t,c=s.options,h=c.fill,f=c.backgroundColor,{above:p=f,below:y=f}=h||{};i&&s.points.length&&(Km(e,n),ZH(e,{line:s,target:i,above:p,below:y,area:n,scale:a,axis:l}),Ym(e))}function ZH(e,t){const{line:n,target:i,above:s,below:a,area:l,scale:c}=t,h=n._loop?"angle":t.axis;e.save(),h==="x"&&a!==s&&(CR(e,i,l.top),DR(e,{line:n,target:i,color:s,scale:c,property:h}),e.restore(),e.save(),CR(e,i,l.bottom)),DR(e,{line:n,target:i,color:a,scale:c,property:h}),e.restore()}function CR(e,t,n){const{segments:i,points:s}=t;let a=!0,l=!1;e.beginPath();for(const c of i){const{start:h,end:f}=c,p=s[h],y=s[Ib(h,f,s)];a?(e.moveTo(p.x,p.y),a=!1):(e.lineTo(p.x,n),e.lineTo(p.x,p.y)),l=!!t.pathSegment(e,c,{move:l}),l?e.closePath():e.lineTo(y.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function DR(e,t){const{line:n,target:i,property:s,color:a,scale:l}=t,c=NH(n,i,s);for(const{source:h,target:f,start:p,end:y}of c){const{style:{backgroundColor:_=a}={}}=h,b=i!==!0;e.save(),e.fillStyle=_,JH(e,l,b&&V_(s,p,y)),e.beginPath();const T=!!n.pathSegment(e,h);let E;if(b){T?e.closePath():kR(e,i,y,s);const S=!!i.pathSegment(e,f,{move:T,reverse:!0});E=T&&S,E||kR(e,i,p,s)}e.closePath(),e.fill(E?"evenodd":"nonzero"),e.restore()}}function JH(e,t,n){const{top:i,bottom:s}=t.chart.chartArea,{property:a,start:l,end:c}=n||{};a==="x"&&(e.beginPath(),e.rect(l,i,c-l,s-i),e.clip())}function kR(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var tq={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let a,l,c,h;for(l=0;l<i;++l)a=e.getDatasetMeta(l),c=a.dataset,h=null,c&&c.options&&c instanceof Xs&&(h={visible:e.isDatasetVisible(l),index:l,fill:jH(c,l,i),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=h,s.push(h);for(l=0;l<i;++l)h=s[l],!(!h||h.fill===!1)&&(h.fill=VH(s,l,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let l=s.length-1;l>=0;--l){const c=s[l].$filler;c&&(c.line.updateControlPoints(a,c.axis),i&&c.fill&&Vv(e.ctx,c,a))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const a=i[s].$filler;RR(a)&&Vv(e.ctx,a,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!RR(i)||n.drawTime!=="beforeDatasetDraw"||Vv(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const IR=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},eq=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class MR extends Ja{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Pe(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Xn(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=IR(i,a);let f,p;n.font=s.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,c,h)+10):(p=this.maxHeight,f=this._fitCols(l,s,c,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=s+c;let y=t;a.textAlign="left",a.textBaseline="middle";let _=-1,b=-p;return this.legendItems.forEach((T,E)=>{const S=i+n/2+a.measureText(T.text).width;(E===0||f[f.length-1]+S+2*c>l)&&(y+=p,f[f.length-(E>0?0:1)]=0,b+=p,_++),h[E]={left:0,top:b,row:_,width:S,height:s},f[f.length-1]+=S+c}),y}_fitCols(t,n,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-t;let y=c,_=0,b=0,T=0,E=0;return this.legendItems.forEach((S,C)=>{const{itemWidth:V,itemHeight:j}=nq(i,n,a,S,s);C>0&&b+j+2*c>p&&(y+=_+c,f.push({width:_,height:b}),T+=_+c,E++,_=b=0),h[C]={left:T,top:b,col:E,width:V,height:j},_=Math.max(_,V),b+=j+c}),y+=_,f.push({width:_,height:b}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:a}}=this,l=yc(a,this.left,this.width);if(this.isHorizontal()){let c=0,h=$n(i,this.left+s,this.right-this.lineWidths[c]);for(const f of n)c!==f.row&&(c=f.row,h=$n(i,this.left+s,this.right-this.lineWidths[c])),f.top+=this.top+t+s,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+s}else{let c=0,h=$n(i,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const f of n)f.col!==c&&(c=f.col,h=$n(i,this.top+t+s,this.bottom-this.columnSizes[c].height)),f.top=h,f.left+=this.left+s,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Km(t,this),this._draw(),Ym(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:a,labels:l}=t,c=an.color,h=yc(t.rtl,this.left,this.width),f=Xn(l.font),{padding:p}=l,y=f.size,_=y/2;let b;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:T,boxHeight:E,itemHeight:S}=IR(l,y),C=function($,M,D){if(isNaN(T)||T<=0||isNaN(E)||E<0)return;s.save();const I=ne(D.lineWidth,1);if(s.fillStyle=ne(D.fillStyle,c),s.lineCap=ne(D.lineCap,"butt"),s.lineDashOffset=ne(D.lineDashOffset,0),s.lineJoin=ne(D.lineJoin,"miter"),s.lineWidth=I,s.strokeStyle=ne(D.strokeStyle,c),s.setLineDash(ne(D.lineDash,[])),l.usePointStyle){const B={radius:E*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:I},N=h.xPlus($,T/2),U=M+_;GI(s,B,N,U,l.pointStyleWidth&&T)}else{const B=M+Math.max((y-E)/2,0),N=h.leftForLtr($,T),U=gc(D.borderRadius);s.beginPath(),Object.values(U).some(L=>L!==0)?om(s,{x:N,y:B,w:T,h:E,radius:U}):s.rect(N,B,T,E),s.fill(),I!==0&&s.stroke()}s.restore()},V=function($,M,D){qh(s,D.text,$,M+S/2,f,{strikethrough:D.hidden,textAlign:h.textAlign(D.textAlign)})},j=this.isHorizontal(),W=this._computeTitleHeight();j?b={x:$n(a,this.left+p,this.right-i[0]),y:this.top+p+W,line:0}:b={x:this.left+p,y:$n(a,this.top+W+p,this.bottom-n[0].height),line:0},eM(this.ctx,t.textDirection);const z=S+p;this.legendItems.forEach(($,M)=>{s.strokeStyle=$.fontColor,s.fillStyle=$.fontColor;const D=s.measureText($.text).width,I=h.textAlign($.textAlign||($.textAlign=l.textAlign)),B=T+_+D;let N=b.x,U=b.y;h.setWidth(this.width),j?M>0&&N+B+p>this.right&&(U=b.y+=z,b.line++,N=b.x=$n(a,this.left+p,this.right-i[b.line])):M>0&&U+z>this.bottom&&(N=b.x=N+n[b.line].width+p,b.line++,U=b.y=$n(a,this.top+W+p,this.bottom-n[b.line].height));const L=h.x(N);if(C(L,U,$),N=B5(I,N+T+_,j?N+B:this.right,t.rtl),V(h.x(N),U,$),j)b.x+=B+p;else if(typeof $.text!="string"){const ft=f.lineHeight;b.y+=SM($,ft)+p}else b.y+=z}),nM(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=Xn(n.font),s=cs(n.padding);if(!n.display)return;const a=yc(t.rtl,this.left,this.width),l=this.ctx,c=n.position,h=i.size/2,f=s.top+h;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+f,y=$n(t.align,y,this.right-_);else{const T=this.columnSizes.reduce((E,S)=>Math.max(E,S.height),0);p=f+$n(t.align,this.top,this.bottom-T-t.labels.padding-this._computeTitleHeight())}const b=$n(c,y,y+_);l.textAlign=a.textAlign(Sb(c)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,qh(l,n.text,b,p,i)}_computeTitleHeight(){const t=this.options.title,n=Xn(t.font),i=cs(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,a;if(Na(t,this.left,this.right)&&Na(n,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],Na(t,s.left,s.left+s.width)&&Na(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!rq(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=eq(s,i);s&&!a&&Pe(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!a&&Pe(n.onHover,[t,i,this],this)}else i&&Pe(n.onClick,[t,i,this],this)}}function nq(e,t,n,i,s){const a=iq(i,e,t,n),l=sq(s,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function iq(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),t+n.size/2+i.measureText(s).width}function sq(e,t,n){let i=e;return typeof t.text!="string"&&(i=SM(t,n)),i}function SM(e,t){const n=e.text?e.text.length:0;return t*n}function rq(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Mb={id:"legend",_element:MR,start(e,t,n){const i=e.legend=new MR({ctx:e.ctx,options:n,chart:e});rs.configure(e,i,n),rs.addBox(e,i)},stop(e){rs.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;rs.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(n?0:void 0),p=cs(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(c||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class EM extends Ja{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=dn(i.text)?i.text.length:1;this._padding=cs(i.padding);const a=s*Xn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:a,options:l}=this,c=l.align;let h=0,f,p,y;return this.isHorizontal()?(p=$n(c,i,a),y=n+t,f=a-i):(l.position==="left"?(p=i+t,y=$n(c,s,n),h=In*-.5):(p=a-t,y=$n(c,n,s),h=In*.5),f=s-n),{titleX:p,titleY:y,maxWidth:f,rotation:h}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=Xn(n.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:h,rotation:f}=this._drawArgs(a);qh(t,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:f,textAlign:Sb(n.align),textBaseline:"middle",translation:[l,c]})}}function aq(e,t){const n=new EM({ctx:e.ctx,options:t,chart:e});rs.configure(e,n,t),rs.addBox(e,n),e.titleBlock=n}var Pb={id:"title",_element:EM,start(e,t,n){aq(e,n)},stop(e){const t=e.titleBlock;rs.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;rs.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hh={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,a=0;for(t=0,n=e.length;t<n;++t){const c=e[t].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),s+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:s/a}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=e.length;a<l;++a){const h=e[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=I_(t,f);p<s&&(s=p,c=h)}}if(c){const h=c.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function $s(e,t){return t&&(dn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ur(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function oq(e,t){const{element:n,datasetIndex:i,index:s}=t,a=e.getDatasetMeta(i).controller,{label:l,value:c}=a.getLabelAndValue(s);return{chart:e,label:l,parsed:a.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function PR(e,t){const n=e.chart.ctx,{body:i,footer:s,title:a}=e,{boxWidth:l,boxHeight:c}=t,h=Xn(t.bodyFont),f=Xn(t.titleFont),p=Xn(t.footerFont),y=a.length,_=s.length,b=i.length,T=cs(t.padding);let E=T.height,S=0,C=i.reduce((W,z)=>W+z.before.length+z.lines.length+z.after.length,0);if(C+=e.beforeBody.length+e.afterBody.length,y&&(E+=y*f.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),C){const W=t.displayColors?Math.max(c,h.lineHeight):h.lineHeight;E+=b*W+(C-b)*h.lineHeight+(C-1)*t.bodySpacing}_&&(E+=t.footerMarginTop+_*p.lineHeight+(_-1)*t.footerSpacing);let V=0;const j=function(W){S=Math.max(S,n.measureText(W).width+V)};return n.save(),n.font=f.string,Te(e.title,j),n.font=h.string,Te(e.beforeBody.concat(e.afterBody),j),V=t.displayColors?l+2+t.boxPadding:0,Te(i,W=>{Te(W.before,j),Te(W.lines,j),Te(W.after,j)}),V=0,n.font=p.string,Te(e.footer,j),n.restore(),S+=T.width,{width:S,height:E}}function lq(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function cq(e,t,n,i){const{x:s,width:a}=i,l=n.caretSize+n.caretPadding;if(e==="left"&&s+a+l>t.width||e==="right"&&s-a-l<0)return!0}function uq(e,t,n,i){const{x:s,width:a}=n,{width:l,chartArea:{left:c,right:h}}=e;let f="center";return i==="center"?f=s<=(c+h)/2?"left":"right":s<=a/2?f="left":s>=l-a/2&&(f="right"),cq(f,e,t,n)&&(f="center"),f}function OR(e,t,n){const i=n.yAlign||t.yAlign||lq(e,n);return{xAlign:n.xAlign||t.xAlign||uq(e,t,n,i),yAlign:i}}function hq(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function fq(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function NR(e,t,n,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=e,{xAlign:c,yAlign:h}=n,f=s+a,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:b}=gc(l);let T=hq(t,c);const E=fq(t,h,f);return h==="center"?c==="left"?T+=f:c==="right"&&(T-=f):c==="left"?T-=Math.max(p,_)+s:c==="right"&&(T+=Math.max(y,b)+s),{x:Ni(T,0,i.width-t.width),y:Ni(E,0,i.height-t.height)}}function lp(e,t,n){const i=cs(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function LR(e){return $s([],Ur(e))}function dq(e,t,n){return hl(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function VR(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const xM={beforeTitle:jr,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:jr,beforeBody:jr,beforeLabel:jr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ve(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:jr,afterBody:jr,beforeFooter:jr,footer:jr,afterFooter:jr};function _i(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?xM[t].call(n,i):s}class j_ extends Ja{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,a=new aM(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=dq(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=_i(i,"beforeTitle",this,t),a=_i(i,"title",this,t),l=_i(i,"afterTitle",this,t);let c=[];return c=$s(c,Ur(s)),c=$s(c,Ur(a)),c=$s(c,Ur(l)),c}getBeforeBody(t,n){return LR(_i(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return Te(t,a=>{const l={before:[],lines:[],after:[]},c=VR(i,a);$s(l.before,Ur(_i(c,"beforeLabel",this,a))),$s(l.lines,_i(c,"label",this,a)),$s(l.after,Ur(_i(c,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(t,n){return LR(_i(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=_i(i,"beforeFooter",this,t),a=_i(i,"footer",this,t),l=_i(i,"afterFooter",this,t);let c=[];return c=$s(c,Ur(s)),c=$s(c,Ur(a)),c=$s(c,Ur(l)),c}_createItems(t){const n=this._active,i=this.chart.data,s=[],a=[],l=[];let c=[],h,f;for(h=0,f=n.length;h<f;++h)c.push(oq(this.chart,n[h]));return t.filter&&(c=c.filter((p,y,_)=>t.filter(p,y,_,i))),t.itemSort&&(c=c.sort((p,y)=>t.itemSort(p,y,i))),Te(c,p=>{const y=VR(t.callbacks,p);s.push(_i(y,"labelColor",this,p)),a.push(_i(y,"labelPointStyle",this,p)),l.push(_i(y,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=hh[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=PR(this,i),f=Object.assign({},c,h),p=OR(this.chart,i,f),y=NR(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const a=this.getCaretPosition(t,i,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:y}=gc(c),{x:_,y:b}=t,{width:T,height:E}=n;let S,C,V,j,W,z;return a==="center"?(W=b+E/2,s==="left"?(S=_,C=S-l,j=W+l,z=W-l):(S=_+T,C=S+l,j=W-l,z=W+l),V=S):(s==="left"?C=_+Math.max(h,p)+l:s==="right"?C=_+T-Math.max(f,y)-l:C=this.caretX,a==="top"?(j=b,W=j-l,S=C-l,V=C+l):(j=b+E,W=j+l,S=C+l,V=C-l),z=j),{x1:S,x2:C,x3:V,y1:j,y2:W,y3:z}}drawTitle(t,n,i){const s=this.title,a=s.length;let l,c,h;if(a){const f=yc(i.rtl,this.x,this.width);for(t.x=lp(this,i.titleAlign,i),n.textAlign=f.textAlign(i.titleAlign),n.textBaseline="middle",l=Xn(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<a;++h)n.fillText(s[h],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,h+1===a&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,n,i,s,a){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=a,p=Xn(a.bodyFont),y=lp(this,"left",a),_=s.x(y),b=h<p.lineHeight?(p.lineHeight-h)/2:0,T=n.y+b;if(a.usePointStyle){const E={radius:Math.min(f,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=s.leftForLtr(_,f)+f/2,C=T+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,P_(t,E,S,C),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,P_(t,E,S,C)}else{t.lineWidth=se(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const E=s.leftForLtr(_,f),S=s.leftForLtr(s.xPlus(_,1),f-2),C=gc(l.borderRadius);Object.values(C).some(V=>V!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,om(t,{x:E,y:T,w:f,h,radius:C}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),om(t,{x:S,y:T+1,w:f-2,h:h-2,radius:C}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(E,T,f,h),t.strokeRect(E,T,f,h),t.fillStyle=l.backgroundColor,t.fillRect(S,T+1,f-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:f,boxPadding:p}=i,y=Xn(i.bodyFont);let _=y.lineHeight,b=0;const T=yc(i.rtl,this.x,this.width),E=function(D){n.fillText(D,T.x(t.x+b),t.y+_/2),t.y+=_+a},S=T.textAlign(l);let C,V,j,W,z,$,M;for(n.textAlign=l,n.textBaseline="middle",n.font=y.string,t.x=lp(this,S,i),n.fillStyle=i.bodyColor,Te(this.beforeBody,E),b=c&&S!=="right"?l==="center"?f/2+p:f+2+p:0,W=0,$=s.length;W<$;++W){for(C=s[W],V=this.labelTextColors[W],n.fillStyle=V,Te(C.before,E),j=C.lines,c&&j.length&&(this._drawColorBox(n,t,W,T,i),_=Math.max(y.lineHeight,h)),z=0,M=j.length;z<M;++z)E(j[z]),_=y.lineHeight;Te(C.after,E)}b=0,_=y.lineHeight,Te(this.afterBody,E),t.y-=a}drawFooter(t,n,i){const s=this.footer,a=s.length;let l,c;if(a){const h=yc(i.rtl,this.x,this.width);for(t.x=lp(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=Xn(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,c=0;c<a;++c)n.fillText(s[c],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:a,yAlign:l}=this,{x:c,y:h}=t,{width:f,height:p}=i,{topLeft:y,topRight:_,bottomLeft:b,bottomRight:T}=gc(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+y,h),l==="top"&&this.drawCaret(t,n,i,s),n.lineTo(c+f-_,h),n.quadraticCurveTo(c+f,h,c+f,h+_),l==="center"&&a==="right"&&this.drawCaret(t,n,i,s),n.lineTo(c+f,h+p-T),n.quadraticCurveTo(c+f,h+p,c+f-T,h+p),l==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(c+b,h+p),n.quadraticCurveTo(c,h+p,c,h+p-b),l==="center"&&a==="left"&&this.drawCaret(t,n,i,s),n.lineTo(c,h+y),n.quadraticCurveTo(c,h,c+y,h),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=hh[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=PR(this,t),h=Object.assign({},l,this._size),f=OR(n,t,h),p=NR(t,h,f,n);(s._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=cs(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,s,n),eM(t,n.textDirection),a.y+=l.top,this.drawTitle(a,t,n),this.drawBody(a,t,n),this.drawFooter(a,t,n),nM(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:c,index:h})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[h],index:h}}),a=!sm(i,s),l=this._positionChanged(s,n);(a||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(t,a,n,i),c=this._positionChanged(l,t),h=n||!sm(l,a)||c;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),h}_getActiveElements(t,n,i,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:i,caretY:s,options:a}=this,l=hh[a.position].call(this,t,n);return l!==!1&&(i!==l.x||s!==l.y)}}Ut(j_,"positioners",hh);var Ob={id:"tooltip",_element:j_,positioners:hh,afterInit(e,t,n){n&&(e.tooltip=new j_({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xM},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const pq=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function mq(e,t,n,i){const s=e.indexOf(t);if(s===-1)return pq(e,t,n,i);const a=e.lastIndexOf(t);return s!==a?n:s}const gq=(e,t)=>e===null?null:Ni(Math.round(e),0,t);function jR(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class $h extends $c{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:a}of n)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ve(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:mq(i,t,ne(n,t),this._addedLabels),gq(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=t===0&&n===a.length-1?a:a.slice(t,n+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=n;l++)s.push({value:l});return s}getLabelForValue(t){return jR.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Ut($h,"id","category"),Ut($h,"defaults",{ticks:{callback:jR}});function yq(e,t){const n=[],{bounds:s,step:a,min:l,max:c,precision:h,count:f,maxTicks:p,maxDigits:y,includeBounds:_}=e,b=a||1,T=p-1,{min:E,max:S}=t,C=!ve(l),V=!ve(c),j=!ve(f),W=(S-E)/(y+1);let z=NA((S-E)/T/b)*b,$,M,D,I;if(z<1e-14&&!C&&!V)return[{value:E},{value:S}];I=Math.ceil(S/z)-Math.floor(E/z),I>T&&(z=NA(I*z/T/b)*b),ve(h)||($=Math.pow(10,h),z=Math.ceil(z*$)/$),s==="ticks"?(M=Math.floor(E/z)*z,D=Math.ceil(S/z)*z):(M=E,D=S),C&&V&&a&&D5((c-l)/a,z/1e3)?(I=Math.round(Math.min((c-l)/z,p)),z=(c-l)/I,M=l,D=c):j?(M=C?l:M,D=V?c:D,I=f-1,z=(D-M)/I):(I=(D-M)/z,Th(I,Math.round(I),z/1e3)?I=Math.round(I):I=Math.ceil(I));const B=Math.max(LA(z),LA(M));$=Math.pow(10,ve(h)?B:h),M=Math.round(M*$)/$,D=Math.round(D*$)/$;let N=0;for(C&&(_&&M!==l?(n.push({value:l}),M<l&&N++,Th(Math.round((M+N*z)*$)/$,l,BR(l,W,e))&&N++):M<l&&N++);N<I;++N){const U=Math.round((M+N*z)*$)/$;if(V&&U>c)break;n.push({value:U})}return V&&_&&D!==c?n.length&&Th(n[n.length-1].value,c,BR(c,W,e))?n[n.length-1].value=c:n.push({value:c}):(!V||D===c)&&n.push({value:D}),n}function BR(e,t,{horizontal:n,minRotation:i}){const s=Fo(i),a=(n?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+e).length;return Math.min(t/a,l)}class vq extends $c{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return ve(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=h=>s=n?s:h,c=h=>a=i?a:h;if(t){const h=er(s),f=er(a);h<0&&f<0?c(0):h>0&&f>0&&l(0)}if(s===a){let h=a===0?1:Math.abs(a*.05);c(a+h),t||l(s-h)}this.min=s,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,l=yq(s,a);return t.bounds==="ticks"&&k5(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return WI(t,this.chart.options.locale,this.options.ticks.format)}}class Gh extends vq{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ti(t)?t:0,this.max=ti(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=Fo(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Ut(Gh,"id","linear"),Ut(Gh,"defaults",{ticks:{callback:$I.formatters.numeric}});const Zm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ti=Object.keys(Zm);function UR(e,t){return e-t}function zR(e,t){if(ve(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:a}=e._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),ti(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(Fh(a)||a===!0)?n.startOf(l,"isoWeek",a):n.startOf(l,s)),+l)}function FR(e,t,n,i){const s=Ti.length;for(let a=Ti.indexOf(e);a<s-1;++a){const l=Zm[Ti[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(c*l.size))<=i)return Ti[a]}return Ti[s-1]}function _q(e,t,n,i,s){for(let a=Ti.length-1;a>=Ti.indexOf(n);a--){const l=Ti[a];if(Zm[l].common&&e._adapter.diff(s,i,l)>=t-1)return l}return Ti[n?Ti.indexOf(n):0]}function bq(e){for(let t=Ti.indexOf(e)+1,n=Ti.length;t<n;++t)if(Zm[Ti[t]].common)return Ti[t]}function HR(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=Tb(n,t),a=n[i]>=t?n[i]:n[s];e[a]=!0}}function wq(e,t,n,i){const s=e._adapter,a=+s.startOf(t[0].value,i),l=t[t.length-1].value;let c,h;for(c=a;c<=l;c=+s.add(c,1,i))h=n[c],h>=0&&(t[h].major=!0);return t}function qR(e,t,n){const i=[],s={},a=t.length;let l,c;for(l=0;l<a;++l)c=t[l],s[c]=l,i.push({value:c,major:!1});return a===0||!n?i:wq(e,i,s,n)}class um extends $c{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new h9._date(t.adapters.date);s.init(n),wh(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:zR(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!c&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!c)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=ti(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),a=ti(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,c=L5(s,a,l);return this._unit=n.unit||(i.autoSkip?FR(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):_q(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:bq(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),qR(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=Ni(n,0,l),i=Ni(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||FR(a.minUnit,n,i,this._getLabelCapacity(n)),c=ne(s.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=Fh(h)||h===!0,p={};let y=n,_,b;if(f&&(y=+t.startOf(y,"isoWeek",h)),y=+t.startOf(y,f?"day":l),t.diff(i,n,l)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+l);const T=s.ticks.source==="data"&&this.getDataTimestamps();for(_=y,b=0;_<i;_=+t.add(_,c,l),b++)HR(p,_,T);return(_===i||s.bounds==="ticks"||b===1)&&HR(p,_,T),Object.keys(p).sort(UR).map(E=>+E)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,a=this._unit,l=n||s[a];return this._adapter.format(t,l)}_tickFormatFunction(t,n,i,s){const a=this.options,l=a.ticks.callback;if(l)return Pe(l,[t,n,i],this);const c=a.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&c[h],y=f&&c[f],_=i[n],b=f&&y&&_&&_.major;return this._adapter.format(t,s||(b?y:p))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=Fo(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*a+c*l,h:i*l+c*a}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,a=this._tickFormatFunction(t,0,qR(this,[t],this._majorUnit),s),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(zR(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return FI(t.sort(UR))}}Ut(um,"id","time"),Ut(um,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function cp(e,t,n){let i=0,s=e.length-1,a,l,c,h;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=Ho(e,"pos",t)),{pos:a,time:c}=e[i],{pos:l,time:h}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=Ho(e,"time",t)),{time:a,pos:c}=e[i],{time:l,pos:h}=e[s]);const f=l-a;return f?c+(h-c)*(t-a)/f:c}class WR extends um{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=cp(n,this.min),this._tableRange=cp(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],a=[];let l,c,h,f,p;for(l=0,c=t.length;l<c;++l)f=t[l],f>=n&&f<=i&&s.push(f);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)p=s[l+1],h=s[l-1],f=s[l],Math.round((p+h)/2)!==f&&a.push({time:f,pos:l/(c-1)});return a}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(cp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return cp(this._table,i*this._tableRange+this._minPos,!0)}}Ut(WR,"id","timeseries"),Ut(WR,"defaults",um.defaults);const AM="label";function $R(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Tq(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function RM(e,t){e.labels=t}function CM(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:AM;const i=[];e.datasets=t.map(s=>{const a=e.datasets.find(l=>l[n]===s[n]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function Sq(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:AM;const n={labels:[],datasets:[]};return RM(n,e.labels),CM(n,e.datasets,t),n}function Eq(e,t){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:l,data:c,options:h,plugins:f=[],fallbackContent:p,updateMode:y,..._}=e,b=P.useRef(null),T=P.useRef(null),E=()=>{b.current&&(T.current=new Gc(b.current,{type:l,data:Sq(c,a),options:h&&{...h},plugins:f}),$R(t,T.current))},S=()=>{$R(t,null),T.current&&(T.current.destroy(),T.current=null)};return P.useEffect(()=>{!s&&T.current&&h&&Tq(T.current,h)},[s,h]),P.useEffect(()=>{!s&&T.current&&RM(T.current.config.data,c.labels)},[s,c.labels]),P.useEffect(()=>{!s&&T.current&&c.datasets&&CM(T.current.config.data,c.datasets,a)},[s,c.datasets]),P.useEffect(()=>{T.current&&(s?(S(),setTimeout(E)):T.current.update(y))},[s,h,c.labels,c.datasets,y]),P.useEffect(()=>{T.current&&(S(),setTimeout(E))},[l]),P.useEffect(()=>(E(),()=>S()),[]),Ie.createElement("canvas",{ref:b,role:"img",height:n,width:i,..._},p)}const xq=P.forwardRef(Eq);function DM(e,t){return Gc.register(t),P.forwardRef((n,i)=>Ie.createElement(xq,{...n,ref:i,type:e}))}const Nb=DM("line",Cp),Aq=DM("bar",Rp);Gc.register($h,Gh,_c,Xs,Pb,Ob,Mb);const Rq=()=>{var b;const e=Ds(),[t,n]=P.useState(null),[i,s]=P.useState({totalWorkouts:0,totalVolume:0,totalWeightLogs:0,weightChange:null,lastWorkout:{date:null,name:null},currentWeight:null,recentWorkouts:[],recentWeights:[]}),[a,l]=P.useState([]);P.useEffect(()=>{const T=ui.onAuthStateChanged(E=>{E&&(n(E),c(E.uid))});return()=>T()},[]);const c=async T=>{try{const E=Es(xs,"users",T),S=await hr(E);if(!S.exists()){console.error("User document does not exist");return}const C=S.data(),V=C.workouts||[],j=C.weightLogs||[],W=[...V].sort((B,N)=>{const U=h(B.date);return h(N.date)-U}),z=[...j].sort((B,N)=>{const U=h(B.date);return h(N.date)-U});let $=0;V.forEach(B=>{B.exercises&&Array.isArray(B.exercises)&&B.exercises.forEach(N=>{N.sets&&Array.isArray(N.sets)&&N.sets.forEach(U=>{const L=parseInt(U.reps)||0,ft=U.weight==="bodyweight"?155:parseInt(U.weight)||0;$+=L*ft})})});const M=B=>{if(!B||B.length<2)return null;const N=new Date,U=new Date(N);U.setDate(N.getDate()-N.getDay()),U.setHours(0,0,0,0);const L=B.filter(ft=>h(ft.date)>=U);if(L.length>=2){const ft=L[L.length-1].weight;return L[0].weight-ft}if(B.length>=2){const ft=B[0].weight,gt=B[1].weight;return ft-gt}return null},D=[...z].reverse().slice(-10).map(B=>({date:f(B.date),weight:B.weight}));l(D);const I=M(z);s({totalWorkouts:V.length,totalVolume:$,totalWeightLogs:j.length,weightChange:I,lastWorkout:W.length>0?{date:p(W[0].date),name:W[0].name||"Unnamed Workout"}:{date:null,name:null},currentWeight:z.length>0?z[0].weight:null,recentWorkouts:W.slice(0,4),recentWeights:z.slice(0,3)})}catch(E){console.error("Error fetching dashboard data:",E)}},h=T=>{if(typeof T=="object"&&T.seconds)return new Date(T.seconds*1e3);if(typeof T=="string"&&T.match(/^\d{4}-\d{2}-\d{2}$/)){const[E,S,C]=T.split("-").map(Number);return new Date(E,S-1,C)}return new Date(T)},f=T=>h(T).toLocaleDateString("en-US",{month:"short",day:"numeric"}),p=T=>`${h(T).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`,y={labels:a.map(T=>T.date),datasets:[{label:"Weight (lbs)",data:a.map(T=>T.weight),borderColor:"#FF5722",backgroundColor:"rgba(255, 87, 34, 0.1)",tension:.3,fill:!0}]},_={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#333",bodyColor:"#666",borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,padding:8,displayColors:!1,callbacks:{label:function(T){return`${T.parsed.y} lbs`}}}},scales:{y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:10}}},x:{grid:{display:!1},ticks:{font:{size:10}}}}};return R.jsxs("div",{className:"dashboard-container",children:[R.jsxs("div",{className:"dashboard-header",children:[R.jsxs("div",{className:"dashboard-title",children:[R.jsx("div",{className:"dashboard-logo",children:"NR"}),R.jsx("h1",{children:"Next Rep"})]}),R.jsxs("div",{className:"welcome-text",children:["Welcome Back, ",((b=t==null?void 0:t.displayName)==null?void 0:b.split(" ")[0])||"Parker"]}),R.jsxs("div",{className:"quick-actions",children:[R.jsx("button",{onClick:()=>e("/log-workout"),className:"action-btn",children:"Log Workout"}),R.jsx("button",{onClick:()=>e("/log-weight"),className:"action-btn",children:"Log Weight"}),R.jsx("button",{onClick:()=>e("/progress-tracker"),className:"action-btn",children:"Progress"})]})]}),R.jsxs("div",{className:"dashboard-stats",children:[R.jsxs("div",{className:"stat-card",children:[R.jsx("div",{className:"stat-title",children:"Total Workouts"}),R.jsx("div",{className:"stat-value",children:i.totalWorkouts})]}),R.jsxs("div",{className:"stat-card",children:[R.jsx("div",{className:"stat-title",children:"Total Volume"}),R.jsxs("div",{className:"stat-value",children:[Math.floor(i.totalVolume).toLocaleString(),R.jsx("span",{className:"stat-unit",children:"lbs"})]})]}),R.jsxs("div",{className:"stat-card",children:[R.jsx("div",{className:"stat-title",children:"Total Weight Logs"}),R.jsx("div",{className:"stat-value",children:i.totalWeightLogs})]}),R.jsxs("div",{className:"stat-card",children:[R.jsxs("div",{className:"stat-title",children:["Weekly Weight Trend",R.jsx("span",{className:"info-tooltip",title:"Calculated from your first and most recent weight logs of the current week. If you have fewer than 2 logs this week, it shows the change between your last two entries.",children:""})]}),R.jsx("div",{className:"stat-value weight-trend",children:i.weightChange!==null?R.jsxs("span",{className:i.weightChange>0?"positive":"negative",children:[i.weightChange>0?"+":"",i.weightChange,R.jsx("span",{className:"stat-unit",children:"lbs"})]}):"No data"})]}),R.jsxs("div",{className:"stat-card",children:[R.jsx("div",{className:"stat-title",children:"Last Workout"}),R.jsx("div",{className:"stat-value last-workout",children:i.lastWorkout.date?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"workout-date",children:i.lastWorkout.date}),R.jsxs("div",{className:"workout-name",children:['"',i.lastWorkout.name,'"']})]}):"No workouts"})]})]}),R.jsxs("div",{className:"dashboard-sections",children:[R.jsxs("div",{className:"dashboard-section",children:[R.jsx("div",{className:"section-header",children:R.jsx("h2",{children:"Strength Training"})}),R.jsxs("div",{className:"section-content",children:[R.jsxs("div",{className:"section-buttons",children:[R.jsx("button",{onClick:()=>e("/log-workout"),className:"section-btn",children:"Log Workout"}),R.jsx("button",{onClick:()=>e("/workout-history"),className:"section-btn",children:"Workout History"}),R.jsx("button",{onClick:()=>e("/strength-progress"),className:"section-btn",children:"Strength Progress"})]}),R.jsxs("div",{className:"section-list",children:[R.jsx("h3",{children:"Recent Workouts"}),i.recentWorkouts.length>0?R.jsx("div",{className:"workout-list",children:i.recentWorkouts.map((T,E)=>R.jsxs("div",{className:"workout-item clickable",onClick:()=>e("/workout-history",{state:{selectedWorkout:{...T,id:E.toString()}}}),children:[R.jsx("div",{className:"workout-date",children:p(T.date)}),R.jsxs("div",{className:"workout-name",children:['"',T.name||`Push Day ${E+3}`,'"']})]},E))}):R.jsx("div",{className:"empty-list",children:"No recent workouts"})]})]})]}),R.jsxs("div",{className:"dashboard-section",children:[R.jsx("div",{className:"section-header",children:R.jsx("h2",{children:"Body Weight"})}),R.jsxs("div",{className:"section-content",children:[R.jsxs("div",{className:"section-buttons",children:[R.jsx("button",{onClick:()=>e("/log-weight"),className:"section-btn",children:"Log Weight"}),R.jsx("button",{onClick:()=>e("/weight-history"),className:"section-btn",children:"Weight History"}),R.jsx("button",{onClick:()=>e("/weight-progress"),className:"section-btn",children:"Weight Progress"})]}),R.jsxs("div",{className:"weight-chart-container",children:[R.jsx("h3",{children:"Weight Over Time"}),a.length>1?R.jsx("div",{className:"weight-chart",children:R.jsx(Nb,{data:y,options:_,height:180})}):R.jsx("div",{className:"empty-chart",children:"Not enough data to display chart"})]}),R.jsxs("div",{className:"current-weight",children:[R.jsx("h3",{children:"Current Weight"}),R.jsx("div",{className:"current-weight-value",children:i.currentWeight?R.jsxs(R.Fragment,{children:[i.currentWeight,R.jsx("span",{className:"stat-unit",children:"lbs"})]}):"No data"})]})]})]})]})]})},Cq=["Barbell Squat","Front Squat","Back Squat","Overhead Squat","Zercher Squat","Box Squat","Barbell Deadlift","Romanian Deadlift","Stiff-Leg Deadlift","Sumo Deadlift","Deficit Deadlift","Rack Pull","Barbell Bench Press","Incline Barbell Bench Press","Decline Barbell Bench Press","Close-Grip Bench Press","Barbell Row","Pendlay Row","Yates Row","Barbell Overhead Press","Push Press","Behind the Neck Press","Barbell Curl","Reverse Curl","Drag Curl","Barbell Skull Crushers","Good Morning","Barbell Hip Thrust","Barbell Rollout","Dumbbell Bench Press","Incline Dumbbell Press","Dumbbell Flyes","Dumbbell Pullover","Dumbbell Row","Renegade Row","Dumbbell Shoulder Press","Arnold Press","Dumbbell Lateral Raise","Front Raise","Reverse Fly","Dumbbell Shrugs","Dumbbell Curl","Hammer Curl","Zottman Curl","Concentration Curl","Incline Curl","Dumbbell Kickback","Overhead Triceps Extension","Dumbbell Squat","Goblet Squat","Dumbbell Lunge","Step-Up with Dumbbells","Dumbbell Romanian Deadlift","Suitcase Carry","Leg Press","Hack Squat","Smith Machine Squat","Smith Machine Press","Chest Press Machine","Shoulder Press Machine","Lateral Raise Machine","Seated Row Machine","Lat Pulldown","Cable Row","Leg Curl Machine","Leg Extension Machine","Calf Raise Machine","Preacher Curl Machine","Triceps Pushdown Machine","Pec Deck Machine","Assisted Pull-Up","Assisted Dip","Cable Crossover","Cable Lateral Raise","Cable Bicep Curl","Cable Hammer Curl","Cable Triceps Pushdown","Overhead Cable Triceps Extension","Cable Kickback","Cable Row","Cable Crunch","Straight-Arm Pulldown","Cable Upright Row","Cable Pull-Through","Face Pull","Push-Up","Diamond Push-Up","Wide Grip Push-Up","Pull-Up","Chin-Up","Inverted Row","Dip","Bodyweight Squat","Jump Squat","Pistol Squat","Walking Lunge","Wall Sit","Glute Bridge","Hip Thrust (Bodyweight)","Leg Raise","Plank","Side Plank","V-Up","Mountain Climber","Burpee","Box Jump","Step-Up","Lunge Jump","Donkey Kick","Bear Crawl","Kettlebell Swing","Kettlebell Snatch","Kettlebell Clean","Kettlebell Goblet Squat","Kettlebell Press","Medicine Ball Slam","Sled Push","Battle Ropes","Tire Flip","Farmer's Walk","Sledgehammer Swings","Sandbag Clean","Jump Rope","Weighted Carry","Weighted Sit-Up","Weighted Pull-Up","Ab Wheel Rollout","Russian Twist","Cable Woodchopper","Landmine Press","Landmine Row","Barbell Split Squat","Barbell Step-Up","Barbell Walking Lunge","Barbell Calf Raise","Barbell Thruster","Barbell Hack Squat","Barbell Clean","Barbell Jerk","Barbell Snatch Pull","Barbell High Pull","Barbell Floor Press","Barbell Incline Row","Dumbbell Step-Up","Dumbbell Thruster","Dumbbell High Pull","Dumbbell Deadlift","Dumbbell Snatch","Dumbbell Clean and Press","Dumbbell Sumo Squat","Dumbbell Side Lunge","Dumbbell Floor Press","Dumbbell Chest Supported Row","Dumbbell Reverse Curl","Dumbbell Upright Row","Standing Calf Machine Raise","Lying Calf Machine Raise","Glute Kickback Machine","Standing Leg Curl Machine","Incline Chest Press Machine","Assisted Inverted Row Machine","Rotary Torso Machine","Hip Abduction Machine","Hip Adduction Machine","Cable Reverse Fly","Cable Chest Press","Cable Squat to Row","Cable Front Raise","Cable Shrug","Cable Romanian Deadlift","Cable Side Lunge","Cable Step-Up","Cable Hip Abduction","Cable Hip Adduction","Cable Concentration Curl","Cable Reverse Curl","Cable Drag Curl","Wall Push-Up","Clapping Push-Up","Archer Push-Up","Hindu Push-Up","Typewriter Pull-Up","L-Sit Pull-Up","Negative Pull-Up","Jumping Pull-Up","Wall Sit with Dumbbell","Single-Leg Glute Bridge","Side-Lying Leg Raise","Superman","Bird-Dog","Wall Walk","Spiderman Plank","Tuck Jump","Plank to Push-Up","Side Plank with Leg Raise","Heel Touch","Toe Tap Crunch","Kettlebell Turkish Get-Up","Kettlebell Windmill","Kettlebell Overhead Squat","Kettlebell Bottoms-Up Press","Kettlebell Suitcase Deadlift","Kettlebell Curtsy Lunge","Kettlebell Halo","Kettlebell Row","Kettlebell Lunge Press","Kettlebell Russian Twist","Sandbag Squat","Sandbag Deadlift","Sandbag Clean and Press","Sandbag Front Carry","Tire Jump","Log Press","Yoke Carry","Atlas Stone Lift","Stone Shoulder","Weighted Russian Twist","Cable Oblique Twist","Medicine Ball V-Up","Decline Russian Twist","Hanging Oblique Raise","Weighted Side Plank","Reverse Crunch","Toe Touch","Sit-Up to Stand-Up","Jackknife Sit-Up","Skater Jump","Depth Jump","Lateral Bound","Tuck Jump to Squat","Box Squat Jump","Broad Jump","Kneeling Jump","Burpee to Pull-Up","Wall Ball Shot","Medicine Ball Chest Pass","Medicine Ball Rotational Slam","Overhead Carry","Zercher Carry","Front Rack Carry","Crossbody Carry","Waiter Carry","Sandbag Carry","Trap Bar Carry","Trap Bar Deadlift","Trap Bar Shrug","Trap Bar Romanian Deadlift","Bulgarian Split Squat","Isometric Lunge Hold","Paused Back Squat","Tempo Front Squat","Cluster Deadlift","Band-Resisted Deadlift","Banded Squat","Tempo Bench Press","Spoto Press","Paused Overhead Press","Wall Ball Squat","Landmine Squat","Single-Arm Landmine Press","Banded Pull-Up","Paused Pull-Up","Weighted Dip","Eccentric Dip","Eccentric Chin-Up","Glute March","Stability Ball Hamstring Curl","Slider Hamstring Curl","Resistance Band Leg Curl","Mini-Band Side Step","Mini-Band Kickback","Resistance Band Chest Press","Resistance Band Shoulder Press","Resistance Band Row","Resistance Band Upright Row","Resistance Band Deadlift","Resistance Band Good Morning","Resistance Band Bicep Curl","Resistance Band Tricep Extension","Resistance Band Lateral Raise","Resistance Band Squat","Resistance Band Glute Bridge","Stability Ball Russian Twist","Stability Ball Pike","Stability Ball Plank","Stability Ball Rollout","Decline Push-Up","Incline Push-Up","One-Arm Push-Up","Elevated Pike Push-Up","Dive Bomber Push-Up","Sphinx Push-Up","Pseudo Planche Push-Up","Box Pike Press","Feet-Elevated Glute Bridge","Wall-Facing Handstand Hold","Wall-Facing Shoulder Tap","Inverted Wall Walk","Wall Climb","Wall Plank","Wall Pike Press","Crab Walk","Bear Hold","Lizard Crawl","Scapular Pull-Up","Scapular Push-Up","Dead Hang","Wall Ball Clean","Wall Ball Push Press","Wall Ball Sit-Up","Wall Ball Overhead Throw","Tire Drag","Sled Drag","Sled Row","Sled Chest Press","Sled Sprint","Backward Sled Drag","Reverse Sled Row","Overhead Sled Drag","Low Handle Sled Push","High Handle Sled Push","Reverse Band Squat","Chain Bench Press","Chain Deadlift","Chain Overhead Press","Chain Row","Bamboo Bar Bench Press","Slosh Pipe Overhead Carry","Slosh Pipe Squat","Slosh Pipe Lunge","Slosh Pipe Overhead Press","Hammer Curl to Press","Burpee Over Bar","Thruster with Slam Ball","Barbell Complex (Clean, Press, Squat)","Dumbbell Complex (Snatch, Lunge, Press)","Kettlebell Complex (Swing, Clean, Squat)","Tabata Squat","Tabata Push-Up","Tabata Jump Lunge","Tabata Mountain Climber","EMOM Deadlift","EMOM Pull-Up","AMRAP Push-Up","AMRAP Air Squat","Pyramid Pull-Up","Ladder Push-Up","Partner Wall Ball","Partner Med Ball Chest Pass","Partner Resisted Sprint","Partner Sled Push","Partner Squat Throw","Jammer Press","Hammer Strength Row","Hammer Strength Chest Press","Hack Squat Machine","Reverse Hack Squat","Belt Squat","Safety Bar Squat","SSB Good Morning","SSB Squat","Cambered Bar Squat","Cambered Bar Row","Trap Bar Farmer's Walk","Trap Bar Shrug to Deadlift","Fat Bar Deadlift","Fat Bar Curl","Fat Grip Pull-Up","Thick Bar Bench Press","Thick Bar Row","Neutral Grip Pull-Up","Neutral Grip Chin-Up","Cross-Grip Front Squat","Zombie Squat","Cyclist Squat","Poliquin Step-Up","Heel-Elevated Goblet Squat","Heels-Elevated Barbell Back Squat","B-Stance RDL","Kickstand Deadlift","Kickstand Squat","Staggered-Stance Romanian Deadlift","Toes-Elevated RDL","Toes-Elevated Calf Raise"],GR=e=>{if(!e)return[];const t=e.toLowerCase();return Cq.filter(n=>n.toLowerCase().includes(t)).slice(0,5)},Lb=P.createContext({});function Vb(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}const jb=typeof window<"u",kM=jb?P.useLayoutEffect:P.useEffect,Jm=P.createContext(null),Bb=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Dq extends P.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=i instanceof HTMLElement&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function kq({children:e,isPresent:t,anchorX:n}){const i=P.useId(),s=P.useRef(null),a=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=P.useContext(Bb);return P.useInsertionEffect(()=>{const{width:c,height:h,top:f,left:p,right:y}=a.current;if(t||!s.current||!c||!h)return;const _=n==="left"?`left: ${p}`:`right: ${y}`;s.current.dataset.motionPopId=i;const b=document.createElement("style");return l&&(b.nonce=l),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${_}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.removeChild(b)}},[t]),R.jsx(Dq,{isPresent:t,childRef:s,sizeRef:a,children:P.cloneElement(e,{ref:s})})}const Iq=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:l,anchorX:c})=>{const h=Vb(Mq),f=P.useId(),p=P.useCallback(_=>{h.set(_,!0);for(const b of h.values())if(!b)return;i&&i()},[h,i]),y=P.useMemo(()=>({id:f,initial:t,isPresent:n,custom:s,onExitComplete:p,register:_=>(h.set(_,!1),()=>h.delete(_))}),a?[Math.random(),p]:[n,p]);return P.useMemo(()=>{h.forEach((_,b)=>h.set(b,!1))},[n]),P.useEffect(()=>{!n&&!h.size&&i&&i()},[n]),l==="popLayout"&&(e=R.jsx(kq,{isPresent:n,anchorX:c,children:e})),R.jsx(Jm.Provider,{value:y,children:e})};function Mq(){return new Map}function IM(e=!0){const t=P.useContext(Jm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,a=P.useId();P.useEffect(()=>{if(e)return s(a)},[e]);const l=P.useCallback(()=>e&&i&&i(a),[a,i,e]);return!n&&i?[!1,l]:[!0]}const up=e=>e.key||"";function KR(e){const t=[];return P.Children.forEach(e,n=>{P.isValidElement(n)&&t.push(n)}),t}const Pq=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:c="left"})=>{const[h,f]=IM(l),p=P.useMemo(()=>KR(e),[e]),y=l&&!h?[]:p.map(up),_=P.useRef(!0),b=P.useRef(p),T=Vb(()=>new Map),[E,S]=P.useState(p),[C,V]=P.useState(p);kM(()=>{_.current=!1,b.current=p;for(let z=0;z<C.length;z++){const $=up(C[z]);y.includes($)?T.delete($):T.get($)!==!0&&T.set($,!1)}},[C,y.length,y.join("-")]);const j=[];if(p!==E){let z=[...p];for(let $=0;$<C.length;$++){const M=C[$],D=up(M);y.includes(D)||(z.splice($,0,M),j.push(M))}return a==="wait"&&j.length&&(z=j),V(KR(z)),S(p),null}const{forceRender:W}=P.useContext(Lb);return R.jsx(R.Fragment,{children:C.map(z=>{const $=up(z),M=l&&!h?!1:p===C||y.includes($),D=()=>{if(T.has($))T.set($,!0);else return;let I=!0;T.forEach(B=>{B||(I=!1)}),I&&(W==null||W(),V(b.current),l&&(f==null||f()),i&&i())};return R.jsx(Iq,{isPresent:M,initial:!_.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,onExitComplete:M?void 0:D,anchorX:c,children:z},$)})})};function Ub(e,t){e.indexOf(t)===-1&&e.push(t)}function zb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let MM=()=>{};const B_={useManualTiming:!1};function Fb(e){let t;return()=>(t===void 0&&(t=e()),t)}const os=e=>e,Kh=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class Hb{constructor(){this.subscriptions=[]}add(t){return Ub(this.subscriptions,t),()=>zb(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nr=e=>e*1e3,ir=e=>e/1e3;function PM(e,t){return t?e*(1e3/t):0}const Oq=Fb(()=>window.ScrollTimeline!==void 0);class Nq{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(s=>{if(Oq()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{i.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Lq extends Nq{then(t,n){return this.finished.finally(t).then(()=>{})}}const YR={value:null},qb=e=>Array.isArray(e)&&typeof e[0]=="number",Vq={};function jq(e,t){const n=Fb(e);return()=>Vq[t]??n()}const Yh=jq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),OM=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)i+=e(a/(s-1))+", ";return`linear(${i.substring(0,i.length-2)})`},fh=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,U_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fh([0,.65,.55,1]),circOut:fh([.55,0,1,.45]),backIn:fh([.31,.01,.66,-.59]),backOut:fh([.33,1.53,.69,.99])};function NM(e,t){if(e)return typeof e=="function"&&Yh()?OM(e,t):qb(e)?fh(e):Array.isArray(e)?e.map(n=>NM(n,t)||U_.easeOut):U_[e]}function Bq(e,t,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:h}={},f=void 0){const p={[t]:n};h&&(p.offset=h);const y=NM(c,s);return Array.isArray(y)&&(p.easing=y),e.animate(p,{delay:i,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal",pseudoElement:f})}function Wb(e){return typeof e=="function"&&"applyToOptions"in e}function $b(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const hm=2e4;function Gb(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<hm;)t+=n,i=e.next(t);return t>=hm?1/0:t}function Uq(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(Gb(i),hm);return{type:"keyframes",ease:a=>i.next(s*a).value/t,duration:ir(s)}}function LM(e){return!!(typeof e=="function"&&Yh()||!e||typeof e=="string"&&(e in U_||Yh())||qb(e)||Array.isArray(e)&&e.every(LM))}function XR(e,t){e.timeline=t,e.onfinish=null}const dh=["read","resolveKeyframes","update","preRender","render","postRender"];function zq(e,t){let n=new Set,i=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},h=0;function f(y){l.has(y)&&(p.schedule(y),e()),h++,y(c)}const p={schedule:(y,_=!1,b=!1)=>{const E=b&&s?n:i;return _&&l.add(y),E.has(y)||E.add(y),y},cancel:y=>{i.delete(y),l.delete(y)},process:y=>{if(c=y,s){a=!0;return}s=!0,[n,i]=[i,n],n.forEach(f),t&&YR.value&&YR.value.frameloop[t].push(h),h=0,n.clear(),s=!1,a&&(a=!1,p.process(y))}};return p}const Fq=40;function VM(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=dh.reduce((C,V)=>(C[V]=zq(a,t?V:void 0),C),{}),{read:c,resolveKeyframes:h,update:f,preRender:p,render:y,postRender:_}=l,b=()=>{const C=performance.now();n=!1,s.delta=i?1e3/60:Math.max(Math.min(C-s.timestamp,Fq),1),s.timestamp=C,s.isProcessing=!0,c.process(s),h.process(s),f.process(s),p.process(s),y.process(s),_.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(b))},T=()=>{n=!0,i=!0,s.isProcessing||e(b)};return{schedule:dh.reduce((C,V)=>{const j=l[V];return C[V]=(W,z=!1,$=!1)=>(n||T(),j.schedule(W,z,$)),C},{}),cancel:C=>{for(let V=0;V<dh.length;V++)l[dh[V]].cancel(C)},state:s,steps:l}}const{schedule:Me,cancel:Zr,state:Vn,steps:jv}=VM(typeof requestAnimationFrame<"u"?requestAnimationFrame:os,!0),{schedule:Kb}=VM(queueMicrotask,!1);let Mp;function Hq(){Mp=void 0}const sr={now:()=>(Mp===void 0&&sr.set(Vn.isProcessing||B_.useManualTiming?Vn.timestamp:performance.now()),Mp),set:e=>{Mp=e,queueMicrotask(Hq)}},ys={x:!1,y:!1};function jM(){return ys.x||ys.y}function qq(e){return e==="x"||e==="y"?ys[e]?null:(ys[e]=!0,()=>{ys[e]=!1}):ys.x||ys.y?null:(ys.x=ys.y=!0,()=>{ys.x=ys.y=!1})}function Wq(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function BM(e,t){const n=Wq(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function QR(e){return!(e.pointerType==="touch"||jM())}function $q(e,t,n={}){const[i,s,a]=BM(e,n),l=c=>{if(!QR(c))return;const{target:h}=c,f=t(h,c);if(typeof f!="function"||!h)return;const p=y=>{QR(y)&&(f(y),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,s)};return i.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const UM=(e,t)=>t?e===t?!0:UM(e,t.parentElement):!1,Yb=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Gq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Kq(e){return Gq.has(e.tagName)||e.tabIndex!==-1}const ph=new WeakSet;function ZR(e){return t=>{t.key==="Enter"&&e(t)}}function Bv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Yq=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=ZR(()=>{if(ph.has(n))return;Bv(n,"down");const s=ZR(()=>{Bv(n,"up")}),a=()=>Bv(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function JR(e){return Yb(e)&&!jM()}function Xq(e,t,n={}){const[i,s,a]=BM(e,n),l=c=>{const h=c.currentTarget;if(!JR(c)||ph.has(h))return;ph.add(h);const f=t(h,c),p=(b,T)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),!(!JR(b)||!ph.has(h))&&(ph.delete(h),typeof f=="function"&&f(b,{success:T}))},y=b=>{p(b,h===window||h===document||n.useGlobalTarget||UM(h,b.target))},_=b=>{p(b,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",_,s)};return i.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),c instanceof HTMLElement&&(c.addEventListener("focus",f=>Yq(f,s)),!Kq(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}const t1=30,Qq=e=>!isNaN(parseFloat(e));class Zq{constructor(t,n={}){this.version="12.6.5",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const a=sr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=sr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Qq(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Hb);const i=this.events[t].add(n);return t==="change"?()=>{i(),Me.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=sr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>t1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,t1);return PM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xh(e,t){return new Zq(e,t)}dh.reduce((e,t)=>(e[t]=n=>Zr(n),e),{});const zM=P.createContext({strict:!1}),e1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pc={};for(const e in e1)Pc[e]={isEnabled:t=>e1[e].some(n=>!!t[n])};function Jq(e){for(const t in e)Pc[t]={...Pc[t],...e[t]}}const tW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||tW.has(e)}let FM=e=>!fm(e);function eW(e){e&&(FM=t=>t.startsWith("on")?!fm(t):e(t))}try{eW(require("@emotion/is-prop-valid").default)}catch{}function nW(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(FM(s)||n===!0&&fm(s)||!t&&!fm(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}function iW(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const tg=P.createContext({});function eg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Qh(e){return typeof e=="string"||Array.isArray(e)}const Xb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qb=["initial",...Xb];function ng(e){return eg(e.animate)||Qb.some(t=>Qh(e[t]))}function HM(e){return!!(ng(e)||e.variants)}function sW(e,t){if(ng(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Qh(n)?n:void 0,animate:Qh(i)?i:void 0}}return e.inherit!==!1?t:{}}function rW(e){const{initial:t,animate:n}=sW(e,P.useContext(tg));return P.useMemo(()=>({initial:t,animate:n}),[n1(t),n1(n)])}function n1(e){return Array.isArray(e)?e.join(" "):e}const aW=Symbol.for("motionComponentSymbol");function oc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function oW(e,t,n){return P.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):oc(n)&&(n.current=i))},[t])}const Zb=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lW="framerAppearId",qM="data-"+Zb(lW),WM=P.createContext({});function cW(e,t,n,i,s){var E,S;const{visualElement:a}=P.useContext(tg),l=P.useContext(zM),c=P.useContext(Jm),h=P.useContext(Bb).reducedMotion,f=P.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,y=P.useContext(WM);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&uW(f.current,n,s,y);const _=P.useRef(!1);P.useInsertionEffect(()=>{p&&_.current&&p.update(n,c)});const b=n[qM],T=P.useRef(!!b&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,b))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,b)));return kM(()=>{p&&(_.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Kb.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),P.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,b)}),T.current=!1))}),p}function uW(e,t,n,i){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:$M(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&oc(c),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:f})}function $M(e){if(e)return e.options.allowProjection!==!1?e.projection:$M(e.parent)}function hW({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:s}){e&&Jq(e);function a(c,h){let f;const p={...P.useContext(Bb),...c,layoutId:fW(c)},{isStatic:y}=p,_=rW(c),b=i(c,y);if(!y&&jb){dW();const T=pW(p);f=T.MeasureLayout,_.visualElement=cW(s,b,p,t,T.ProjectionNode)}return R.jsxs(tg.Provider,{value:_,children:[f&&_.visualElement?R.jsx(f,{visualElement:_.visualElement,...p}):null,n(s,c,oW(b,_.visualElement,h),b,y,_.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=P.forwardRef(a);return l[aW]=s,l}function fW({layoutId:e}){const t=P.useContext(Lb).id;return t&&e!==void 0?t+"-"+e:e}function dW(e,t){P.useContext(zM).strict}function pW(e){const{drag:t,layout:n}=Pc;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const GM=e=>t=>typeof t=="string"&&t.startsWith(e),Jb=GM("--"),mW=GM("var(--"),tw=e=>mW(e)?gW.test(e.split("/*")[0].trim()):!1,gW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zh={};function yW(e){for(const t in e)Zh[t]=e[t],Jb(t)&&(Zh[t].isCSSVariable=!0)}const Kc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fl=new Set(Kc);function KM(e,{layout:t,layoutId:n}){return fl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Zh[e]||e==="opacity")}const Qn=e=>!!(e&&e.getVelocity),YM=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Jr=(e,t,n)=>n>t?t:n<e?e:n,Yc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Jh={...Yc,transform:e=>Jr(0,1,e)},hp={...Yc,default:1},_f=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ca=_f("deg"),rr=_f("%"),Pt=_f("px"),vW=_f("vh"),_W=_f("vw"),i1={...rr,parse:e=>rr.parse(e)/100,transform:e=>rr.transform(e*100)},bW={borderWidth:Pt,borderTopWidth:Pt,borderRightWidth:Pt,borderBottomWidth:Pt,borderLeftWidth:Pt,borderRadius:Pt,radius:Pt,borderTopLeftRadius:Pt,borderTopRightRadius:Pt,borderBottomRightRadius:Pt,borderBottomLeftRadius:Pt,width:Pt,maxWidth:Pt,height:Pt,maxHeight:Pt,top:Pt,right:Pt,bottom:Pt,left:Pt,padding:Pt,paddingTop:Pt,paddingRight:Pt,paddingBottom:Pt,paddingLeft:Pt,margin:Pt,marginTop:Pt,marginRight:Pt,marginBottom:Pt,marginLeft:Pt,backgroundPositionX:Pt,backgroundPositionY:Pt},wW={rotate:Ca,rotateX:Ca,rotateY:Ca,rotateZ:Ca,scale:hp,scaleX:hp,scaleY:hp,scaleZ:hp,skew:Ca,skewX:Ca,skewY:Ca,distance:Pt,translateX:Pt,translateY:Pt,translateZ:Pt,x:Pt,y:Pt,z:Pt,perspective:Pt,transformPerspective:Pt,opacity:Jh,originX:i1,originY:i1,originZ:Pt},s1={...Yc,transform:Math.round},ew={...bW,...wW,zIndex:s1,size:Pt,fillOpacity:Jh,strokeOpacity:Jh,numOctaves:s1},TW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SW=Kc.length;function EW(e,t,n){let i="",s=!0;for(let a=0;a<SW;a++){const l=Kc[a],c=e[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const f=YM(c,ew[l]);if(!h){s=!1;const p=TW[l]||l;i+=`${p}(${f}) `}n&&(t[l]=f)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function nw(e,t,n){const{style:i,vars:s,transformOrigin:a}=e;let l=!1,c=!1;for(const h in t){const f=t[h];if(fl.has(h)){l=!0;continue}else if(Jb(h)){s[h]=f;continue}else{const p=YM(f,ew[h]);h.startsWith("origin")?(c=!0,a[h]=p):i[h]=p}}if(t.transform||(l||n?i.transform=EW(t,e.transform,n):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${f} ${p}`}}const iw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XM(e,t,n){for(const i in t)!Qn(t[i])&&!KM(i,n)&&(e[i]=t[i])}function xW({transformTemplate:e},t){return P.useMemo(()=>{const n=iw();return nw(n,t,e),Object.assign({},n.vars,n.style)},[t])}function AW(e,t){const n=e.style||{},i={};return XM(i,n,e),Object.assign(i,xW(e,t)),i}function RW(e,t){const n={},i=AW(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const CW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sw(e){return typeof e!="string"||e.includes("-")?!1:!!(CW.indexOf(e)>-1||/[A-Z]/u.test(e))}const DW={offset:"stroke-dashoffset",array:"stroke-dasharray"},kW={offset:"strokeDashoffset",array:"strokeDasharray"};function IW(e,t,n=1,i=0,s=!0){e.pathLength=1;const a=s?DW:kW;e[a.offset]=Pt.transform(-i);const l=Pt.transform(t),c=Pt.transform(n);e[a.array]=`${l} ${c}`}function r1(e,t,n){return typeof e=="string"?e:Pt.transform(t+n*e)}function MW(e,t,n){const i=r1(t,e.x,e.width),s=r1(n,e.y,e.height);return`${i} ${s}`}function rw(e,{attrX:t,attrY:n,attrScale:i,originX:s,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...f},p,y){if(nw(e,f,y),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:b,dimensions:T}=e;_.transform&&(T&&(b.transform=_.transform),delete _.transform),T&&(s!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=MW(T,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),i!==void 0&&(_.scale=i),l!==void 0&&IW(_,l,c,h,!1)}const QM=()=>({...iw(),attrs:{}}),aw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function PW(e,t,n,i){const s=P.useMemo(()=>{const a=QM();return rw(a,t,aw(i),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};XM(a,e.style,e),s.style={...a,...s.style}}return s}function OW(e=!1){return(n,i,s,{latestValues:a},l)=>{const h=(sw(n)?PW:RW)(i,a,l,n),f=nW(i,typeof n=="string",e),p=n!==P.Fragment?{...f,...h,ref:s}:{},{children:y}=i,_=P.useMemo(()=>Qn(y)?y.get():y,[y]);return P.createElement(n,{...p,children:_})}}function a1(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function ow(e,t,n,i){if(typeof t=="function"){const[s,a]=a1(i);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=a1(i);t=t(n!==void 0?n:e.custom,s,a)}return t}const z_=e=>Array.isArray(e),NW=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),LW=e=>z_(e)?e[e.length-1]||0:e;function Pp(e){const t=Qn(e)?e.get():e;return NW(t)?t.toValue():t}function VW({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},i,s,a){const l={latestValues:jW(i,s,a,e),renderState:t()};return n&&(l.onMount=c=>n({props:i,current:c,...l}),l.onUpdate=c=>n(c)),l}const ZM=e=>(t,n)=>{const i=P.useContext(tg),s=P.useContext(Jm),a=()=>VW(e,t,i,s);return n?a():Vb(a)};function jW(e,t,n,i){const s={},a=i(e,{});for(const _ in a)s[_]=Pp(a[_]);let{initial:l,animate:c}=e;const h=ng(e),f=HM(e);t&&f&&!h&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const y=p?c:l;if(y&&typeof y!="boolean"&&!eg(y)){const _=Array.isArray(y)?y:[y];for(let b=0;b<_.length;b++){const T=ow(e,_[b]);if(T){const{transitionEnd:E,transition:S,...C}=T;for(const V in C){let j=C[V];if(Array.isArray(j)){const W=p?j.length-1:0;j=j[W]}j!==null&&(s[V]=j)}for(const V in E)s[V]=E[V]}}}return s}function lw(e,t,n){var a;const{style:i}=e,s={};for(const l in i)(Qn(i[l])||t.style&&Qn(t.style[l])||KM(l,e)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(s[l]=i[l]);return s}const BW={useVisualState:ZM({scrapeMotionValuesFromProps:lw,createRenderState:iw})};function JM(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function tP(e,{style:t,vars:n},i,s){Object.assign(e.style,t,s&&s.getProjectionStyles(i));for(const a in n)e.style.setProperty(a,n[a])}const eP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nP(e,t,n,i){tP(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(eP.has(s)?s:Zb(s),t.attrs[s])}function iP(e,t,n){const i=lw(e,t,n);for(const s in e)if(Qn(e[s])||Qn(t[s])){const a=Kc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=e[s]}return i}const o1=["x","y","width","height","cx","cy","r"],UW={useVisualState:ZM({scrapeMotionValuesFromProps:iP,createRenderState:QM,onUpdate:({props:e,prevProps:t,current:n,renderState:i,latestValues:s})=>{if(!n)return;let a=!!e.drag;if(!a){for(const c in s)if(fl.has(c)){a=!0;break}}if(!a)return;let l=!t;if(t)for(let c=0;c<o1.length;c++){const h=o1[c];e[h]!==t[h]&&(l=!0)}l&&Me.read(()=>{JM(n,i),Me.render(()=>{rw(i,s,aw(n.tagName),e.transformTemplate),nP(n,i)})})}})};function zW(e,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...sw(i)?UW:BW,preloadedFeatures:e,useRender:OW(s),createVisualElement:t,Component:i};return hW(l)}}function tf(e,t,n){const i=e.getProps();return ow(i,t,n!==void 0?n:i.custom,e)}const sP=new Set(["width","height","top","left","right","bottom",...Kc]);function FW(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Xh(n))}function HW(e,t){const n=tf(e,t);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const l in a){const c=LW(a[l]);FW(e,l,c)}}function qW(e){return!!(Qn(e)&&e.add)}function F_(e,t){const n=e.getValue("willChange");if(qW(n))return n.add(t);if(!n&&B_.WillChange){const i=new B_.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function rP(e){return e.props[qM]}const aP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,WW=1e-7,$W=12;function GW(e,t,n,i,s){let a,l,c=0;do l=t+(n-t)/2,a=aP(l,i,s)-e,a>0?n=l:t=l;while(Math.abs(a)>WW&&++c<$W);return l}function bf(e,t,n,i){if(e===t&&n===i)return os;const s=a=>GW(a,0,1,e,n);return a=>a===0||a===1?a:aP(s(a),t,i)}const oP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,lP=e=>t=>1-e(1-t),cP=bf(.33,1.53,.69,.99),cw=lP(cP),uP=oP(cw),hP=e=>(e*=2)<1?.5*cw(e):.5*(2-Math.pow(2,-10*(e-1))),uw=e=>1-Math.sin(Math.acos(e)),fP=lP(uw),dP=oP(uw),pP=e=>/^0[^.\s]+$/u.test(e);function KW(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||pP(e):!0}const xh=e=>Math.round(e*1e5)/1e5,hw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YW(e){return e==null}const XW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fw=(e,t)=>n=>!!(typeof n=="string"&&XW.test(n)&&n.startsWith(e)||t&&!YW(n)&&Object.prototype.hasOwnProperty.call(n,t)),mP=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,a,l,c]=i.match(hw);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},QW=e=>Jr(0,255,e),Uv={...Yc,transform:e=>Math.round(QW(e))},qo={test:fw("rgb","red"),parse:mP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Uv.transform(e)+", "+Uv.transform(t)+", "+Uv.transform(n)+", "+xh(Jh.transform(i))+")"};function ZW(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const H_={test:fw("#"),parse:ZW,transform:qo.transform},lc={test:fw("hsl","hue"),parse:mP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+rr.transform(xh(t))+", "+rr.transform(xh(n))+", "+xh(Jh.transform(i))+")"},Gn={test:e=>qo.test(e)||H_.test(e)||lc.test(e),parse:e=>qo.test(e)?qo.parse(e):lc.test(e)?lc.parse(e):H_.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?qo.transform(e):lc.transform(e)},JW=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function t8(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(hw))==null?void 0:t.length)||0)+(((n=e.match(JW))==null?void 0:n.length)||0)>0}const gP="number",yP="color",e8="var",n8="var(",l1="${}",i8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ef(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const c=t.replace(i8,h=>(Gn.test(h)?(i.color.push(a),s.push(yP),n.push(Gn.parse(h))):h.startsWith(n8)?(i.var.push(a),s.push(e8),n.push(h)):(i.number.push(a),s.push(gP),n.push(parseFloat(h))),++a,l1)).split(l1);return{values:n,split:c,indexes:i,types:s}}function vP(e){return ef(e).values}function _P(e){const{split:t,types:n}=ef(e),i=t.length;return s=>{let a="";for(let l=0;l<i;l++)if(a+=t[l],s[l]!==void 0){const c=n[l];c===gP?a+=xh(s[l]):c===yP?a+=Gn.transform(s[l]):a+=s[l]}return a}}const s8=e=>typeof e=="number"?0:e;function r8(e){const t=vP(e);return _P(e)(t.map(s8))}const Ya={test:t8,parse:vP,createTransformer:_P,getAnimatableNone:r8},a8=new Set(["brightness","contrast","saturate","opacity"]);function o8(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(hw)||[];if(!i)return e;const s=n.replace(i,"");let a=a8.has(t)?1:0;return i!==n&&(a*=100),t+"("+a+s+")"}const l8=/\b([a-z-]*)\(.*?\)/gu,q_={...Ya,getAnimatableNone:e=>{const t=e.match(l8);return t?t.map(o8).join(" "):e}},c8={...ew,color:Gn,backgroundColor:Gn,outlineColor:Gn,fill:Gn,stroke:Gn,borderColor:Gn,borderTopColor:Gn,borderRightColor:Gn,borderBottomColor:Gn,borderLeftColor:Gn,filter:q_,WebkitFilter:q_},bP=e=>c8[e];function wP(e,t){let n=bP(e);return n!==q_&&(n=Ya),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const u8=new Set(["auto","none","0"]);function h8(e,t,n){let i=0,s;for(;i<e.length&&!s;){const a=e[i];typeof a=="string"&&!u8.has(a)&&ef(a).values.length&&(s=e[i]),i++}if(s&&n)for(const a of t)e[a]=wP(n,s)}const Wo=e=>e*180/Math.PI,W_=e=>{const t=Wo(Math.atan2(e[1],e[0]));return $_(t)},f8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:W_,rotateZ:W_,skewX:e=>Wo(Math.atan(e[1])),skewY:e=>Wo(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},$_=e=>(e=e%360,e<0&&(e+=360),e),c1=W_,u1=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),h1=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),d8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:u1,scaleY:h1,scale:e=>(u1(e)+h1(e))/2,rotateX:e=>$_(Wo(Math.atan2(e[6],e[5]))),rotateY:e=>$_(Wo(Math.atan2(-e[2],e[0]))),rotateZ:c1,rotate:c1,skewX:e=>Wo(Math.atan(e[4])),skewY:e=>Wo(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function f1(e){return e.includes("scale")?1:0}function G_(e,t){if(!e||e==="none")return f1(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=d8,s=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=f8,s=c}if(!s)return f1(t);const a=i[t],l=s[1].split(",").map(m8);return typeof a=="function"?a(l):l[a]}const p8=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return G_(n,t)};function m8(e){return parseFloat(e.trim())}const d1=e=>e===Yc||e===Pt,g8=new Set(["x","y","z"]),y8=Kc.filter(e=>!g8.has(e));function v8(e){const t=[];return y8.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Oc={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>G_(t,"x"),y:(e,{transform:t})=>G_(t,"y")};Oc.translateX=Oc.x;Oc.translateY=Oc.y;const Ko=new Set;let K_=!1,Y_=!1;function TP(){if(Y_){const e=Array.from(Ko).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=v8(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,l])=>{var c;(c=i.getValue(a))==null||c.set(l)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Y_=!1,K_=!1,Ko.forEach(e=>e.complete()),Ko.clear()}function SP(){Ko.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Y_=!0)})}function _8(){SP(),TP()}class dw{constructor(t,n,i,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ko.add(this),K_||(K_=!0,Me.read(SP),Me.resolveKeyframes(TP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const l=s==null?void 0:s.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&n){const h=i.readValue(n,c);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=c),s&&l===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ko.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ko.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const EP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),b8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function w8(e){const t=b8.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function xP(e,t,n=1){const[i,s]=w8(e);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const l=a.trim();return EP(l)?parseFloat(l):l}return tw(s)?xP(s,t,n+1):s}const AP=e=>t=>t.test(e),T8={test:e=>e==="auto",parse:e=>e},RP=[Yc,Pt,rr,Ca,_W,vW,T8],p1=e=>RP.find(AP(e));class CP extends dw{constructor(t,n,i,s,a){super(t,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let f=t[h];if(typeof f=="string"&&(f=f.trim(),tw(f))){const p=xP(f,n.current);p!==void 0&&(t[h]=p),h===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!sP.has(i)||t.length!==2)return;const[s,a]=t,l=p1(s),c=p1(a);if(l!==c)if(d1(l)&&d1(c))for(let h=0;h<t.length;h++){const f=t[h];typeof f=="string"&&(t[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)KW(t[s])&&i.push(s);i.length&&h8(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oc[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var c;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=Oc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([h,f])=>{t.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const m1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ya.test(e)||e==="0")&&!e.startsWith("url("));function S8(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function E8(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],l=m1(s,t),c=m1(a,t);return!l||!c?!1:S8(e)||(n==="spring"||Wb(n))&&i}const x8=e=>e!==null;function ig(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(x8),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const A8=40;class DP{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=sr.now(),this.options={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>A8?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&_8(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=sr.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:a,delay:l,onComplete:c,onUpdate:h,isGenerator:f}=this.options;if(!f&&!E8(t,i,s,a))if(l)this.options.duration=0;else{h&&h(ig(t,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const p=this.initPlayback(t,n);p!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ze=(e,t,n)=>e+(t-e)*n;function zv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function R8({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,a=0,l=0;if(!t)s=a=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,h=2*n-c;s=zv(h,c,e+1/3),a=zv(h,c,e),l=zv(h,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function dm(e,t){return n=>n>0?t:e}const Fv=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},C8=[H_,qo,lc],D8=e=>C8.find(t=>t.test(e));function g1(e){const t=D8(e);if(!t)return!1;let n=t.parse(e);return t===lc&&(n=R8(n)),n}const y1=(e,t)=>{const n=g1(e),i=g1(t);if(!n||!i)return dm(e,t);const s={...n};return a=>(s.red=Fv(n.red,i.red,a),s.green=Fv(n.green,i.green,a),s.blue=Fv(n.blue,i.blue,a),s.alpha=ze(n.alpha,i.alpha,a),qo.transform(s))},k8=(e,t)=>n=>t(e(n)),wf=(...e)=>e.reduce(k8),X_=new Set(["none","hidden"]);function I8(e,t){return X_.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function M8(e,t){return n=>ze(e,t,n)}function pw(e){return typeof e=="number"?M8:typeof e=="string"?tw(e)?dm:Gn.test(e)?y1:N8:Array.isArray(e)?kP:typeof e=="object"?Gn.test(e)?y1:P8:dm}function kP(e,t){const n=[...e],i=n.length,s=e.map((a,l)=>pw(a)(a,t[l]));return a=>{for(let l=0;l<i;l++)n[l]=s[l](a);return n}}function P8(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=pw(e[s])(e[s],t[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function O8(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],l=e.indexes[a][i[a]],c=e.values[l]??0;n[s]=c,i[a]++}return n}const N8=(e,t)=>{const n=Ya.createTransformer(t),i=ef(e),s=ef(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?X_.has(e)&&!s.values.length||X_.has(t)&&!i.values.length?I8(e,t):wf(kP(O8(i,s),s.values),n):dm(e,t)};function IP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ze(e,t,n):pw(e)(e,t)}const L8=5;function MP(e,t,n){const i=Math.max(t-L8,0);return PM(n-e(i),t-i)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},v1=.001;function V8({duration:e=Ze.duration,bounce:t=Ze.bounce,velocity:n=Ze.velocity,mass:i=Ze.mass}){let s,a,l=1-t;l=Jr(Ze.minDamping,Ze.maxDamping,l),e=Jr(Ze.minDuration,Ze.maxDuration,ir(e)),l<1?(s=f=>{const p=f*l,y=p*e,_=p-n,b=Q_(f,l),T=Math.exp(-y);return v1-_/b*T},a=f=>{const y=f*l*e,_=y*n+n,b=Math.pow(l,2)*Math.pow(f,2)*e,T=Math.exp(-y),E=Q_(Math.pow(f,2),l);return(-s(f)+v1>0?-1:1)*((_-b)*T)/E}):(s=f=>{const p=Math.exp(-f*e),y=(f-n)*e+1;return-.001+p*y},a=f=>{const p=Math.exp(-f*e),y=(n-f)*(e*e);return p*y});const c=5/e,h=B8(s,a,c);if(e=nr(e),isNaN(h))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:e};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:e}}}const j8=12;function B8(e,t,n){let i=n;for(let s=1;s<j8;s++)i=i-e(i)/t(i);return i}function Q_(e,t){return e*Math.sqrt(1-t*t)}const U8=["duration","bounce"],z8=["stiffness","damping","mass"];function _1(e,t){return t.some(n=>e[n]!==void 0)}function F8(e){let t={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...e};if(!_1(e,z8)&&_1(e,U8))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*Jr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ze.mass,stiffness:s,damping:a}}else{const n=V8(e);t={...t,...n,mass:Ze.mass},t.isResolvedFromDuration=!0}return t}function pm(e=Ze.visualDuration,t=Ze.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:f,mass:p,duration:y,velocity:_,isResolvedFromDuration:b}=F8({...n,velocity:-ir(n.velocity||0)}),T=_||0,E=f/(2*Math.sqrt(h*p)),S=l-a,C=ir(Math.sqrt(h/p)),V=Math.abs(S)<5;i||(i=V?Ze.restSpeed.granular:Ze.restSpeed.default),s||(s=V?Ze.restDelta.granular:Ze.restDelta.default);let j;if(E<1){const z=Q_(C,E);j=$=>{const M=Math.exp(-E*C*$);return l-M*((T+E*C*S)/z*Math.sin(z*$)+S*Math.cos(z*$))}}else if(E===1)j=z=>l-Math.exp(-C*z)*(S+(T+C*S)*z);else{const z=C*Math.sqrt(E*E-1);j=$=>{const M=Math.exp(-E*C*$),D=Math.min(z*$,300);return l-M*((T+E*C*S)*Math.sinh(D)+z*S*Math.cosh(D))/z}}const W={calculatedDuration:b&&y||null,next:z=>{const $=j(z);if(b)c.done=z>=y;else{let M=0;E<1&&(M=z===0?nr(T):MP(j,z,$));const D=Math.abs(M)<=i,I=Math.abs(l-$)<=s;c.done=D&&I}return c.value=c.done?l:$,c},toString:()=>{const z=Math.min(Gb(W),hm),$=OM(M=>W.next(z*M).value,z,30);return z+"ms "+$},toTransition:()=>{}};return W}pm.applyToOptions=e=>{const t=Uq(e,100,pm);return e.ease=Yh()?t.ease:"easeOut",e.duration=nr(t.duration),e.type="keyframes",e};function b1({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:h,restDelta:f=.5,restSpeed:p}){const y=e[0],_={done:!1,value:y},b=D=>c!==void 0&&D<c||h!==void 0&&D>h,T=D=>c===void 0?h:h===void 0||Math.abs(c-D)<Math.abs(h-D)?c:h;let E=n*t;const S=y+E,C=l===void 0?S:l(S);C!==S&&(E=C-y);const V=D=>-E*Math.exp(-D/i),j=D=>C+V(D),W=D=>{const I=V(D),B=j(D);_.done=Math.abs(I)<=f,_.value=_.done?C:B};let z,$;const M=D=>{b(_.value)&&(z=D,$=pm({keyframes:[_.value,T(_.value)],velocity:MP(j,D,_.value),damping:s,stiffness:a,restDelta:f,restSpeed:p}))};return M(0),{calculatedDuration:null,next:D=>{let I=!1;return!$&&z===void 0&&(I=!0,W(D),M(D)),z!==void 0&&D>=z?$.next(D-z):(!I&&W(D),_)}}}const H8=bf(.42,0,1,1),q8=bf(0,0,.58,1),PP=bf(.42,0,.58,1),W8=e=>Array.isArray(e)&&typeof e[0]!="number",$8={linear:os,easeIn:H8,easeInOut:PP,easeOut:q8,circIn:uw,circInOut:dP,circOut:fP,backIn:cw,backInOut:uP,backOut:cP,anticipate:hP},w1=e=>{if(qb(e)){MM(e.length===4);const[t,n,i,s]=e;return bf(t,n,i,s)}else if(typeof e=="string")return $8[e];return e};function G8(e,t,n){const i=[],s=n||IP,a=e.length-1;for(let l=0;l<a;l++){let c=s(e[l],e[l+1]);if(t){const h=Array.isArray(t)?t[l]||os:t;c=wf(h,c)}i.push(c)}return i}function K8(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const a=e.length;if(MM(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=G8(t,i,s),h=c.length,f=p=>{if(l&&p<e[0])return t[0];let y=0;if(h>1)for(;y<e.length-2&&!(p<e[y+1]);y++);const _=Kh(e[y],e[y+1],p);return c[y](_)};return n?p=>f(Jr(e[0],e[a-1],p)):f}function Y8(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Kh(0,t,i);e.push(ze(n,1,s))}}function X8(e){const t=[0];return Y8(t,e.length-1),t}function Q8(e,t){return e.map(n=>n*t)}function Z8(e,t){return e.map(()=>t||PP).splice(0,e.length-1)}function mm({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=W8(i)?i.map(w1):w1(i),a={done:!1,value:t[0]},l=Q8(n&&n.length===t.length?n:X8(t),e),c=K8(l,t,{ease:Array.isArray(s)?s:Z8(t,s)});return{calculatedDuration:e,next:h=>(a.value=c(h),a.done=h>=e,a)}}const J8=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Me.update(t,!0),stop:()=>Zr(t),now:()=>Vn.isProcessing?Vn.timestamp:sr.now()}},t7={decay:b1,inertia:b1,tween:mm,keyframes:mm,spring:pm},e7=e=>e/100;class mw extends DP{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:i,element:s,keyframes:a}=this.options,l=(s==null?void 0:s.KeyframeResolver)||dw,c=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new l(a,c,n,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,c=Wb(n)?n:t7[n]||mm;let h,f;c!==mm&&typeof t[0]!="number"&&(h=wf(e7,IP(t[0],t[1])),t=[0,100]);const p=c({...this.options,keyframes:t});a==="mirror"&&(f=c({...this.options,keyframes:[...t].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Gb(p));const{calculatedDuration:y}=p,_=y+s,b=_*(i+1)-s;return{generator:p,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:_,totalDuration:b}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:i}=this;if(!i){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:f,totalDuration:p,resolvedDuration:y}=i;if(this.startTime===null)return a.next(0);const{delay:_,repeat:b,repeatType:T,repeatDelay:E,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-p/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const C=this.currentTime-_*(this.speed>=0?1:-1),V=this.speed>=0?C<0:C>p;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let j=this.currentTime,W=a;if(b){const D=Math.min(this.currentTime,p)/y;let I=Math.floor(D),B=D%1;!B&&D>=1&&(B=1),B===1&&I--,I=Math.min(I,b+1),!!(I%2)&&(T==="reverse"?(B=1-B,E&&(B-=E/y)):T==="mirror"&&(W=l)),j=Jr(0,1,B)*y}const z=V?{done:!1,value:h[0]}:W.next(j);c&&(z.value=c(z.value));let{done:$}=z;!V&&f!==null&&($=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return M&&s!==void 0&&(z.value=ig(h,this.options,s)),S&&S(z.value),M&&this.finish(),z}get duration(){const{resolved:t}=this;return t?ir(t.calculatedDuration):0}get time(){return ir(this.currentTime)}set time(t){t=nr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ir(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=J8,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}get finished(){return this.currentFinishedPromise}}const n7=new Set(["opacity","clipPath","filter","transform"]),i7=Fb(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),gm=10,s7=2e4;function r7(e){return Wb(e.type)||e.type==="spring"||!LM(e.ease)}function a7(e,t){const n=new mw({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const s=[];let a=0;for(;!i.done&&a<s7;)i=n.sample(a),s.push(i.value),a+=gm;return{times:void 0,keyframes:s,duration:a-gm,ease:"linear"}}const OP={anticipate:hP,backInOut:uP,circInOut:dP};function o7(e){return e in OP}class T1 extends DP{constructor(t){super(t);const{name:n,motionValue:i,element:s,keyframes:a}=this.options;this.resolver=new CP(a,(l,c)=>this.onKeyframesResolved(l,c),n,i,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:i=300,times:s,ease:a,type:l,motionValue:c,name:h,startTime:f}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&Yh()&&o7(a)&&(a=OP[a]),r7(this.options)){const{onComplete:y,onUpdate:_,motionValue:b,element:T,...E}=this.options,S=a7(t,E);t=S.keyframes,t.length===1&&(t[1]=t[0]),i=S.duration,s=S.times,a=S.ease,l="keyframes"}const p=Bq(c.owner.current,h,t,{...this.options,duration:i,times:s,ease:a});return p.startTime=f??this.calcStartTime(),this.pendingTimeline?(XR(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:y}=this.options;c.set(ig(t,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:i,times:s,type:l,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return ir(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return ir(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=nr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return os;const{animation:i}=n;XR(i,t)}return os}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:i,duration:s,type:a,ease:l,times:c}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:p,onComplete:y,element:_,...b}=this.options,T=new mw({...b,keyframes:i,duration:s,type:a,ease:l,times:c,isGenerator:!0}),E=nr(this.time);f.setWithVelocity(T.sample(E-gm).value,T.sample(E).value,gm)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:i,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=n.owner.getProps();return i7()&&i&&n7.has(i)&&(i!=="transform"||!f)&&!h&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}}const l7={type:"spring",stiffness:500,damping:25,restSpeed:10},c7=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),u7={type:"keyframes",duration:.8},h7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f7=(e,{keyframes:t})=>t.length>2?u7:fl.has(e)?e.startsWith("scale")?c7(t[1]):l7:h7;function d7({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:h,elapsed:f,...p}){return!!Object.keys(p).length}const gw=(e,t,n,i={},s,a)=>l=>{const c=$b(i,e)||{},h=c.delay||i.delay||0;let{elapsed:f=0}=i;f=f-nr(h);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-f,onUpdate:_=>{t.set(_),c.onUpdate&&c.onUpdate(_)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:a?void 0:s};d7(c)||(p={...p,...f7(e,p)}),p.duration&&(p.duration=nr(p.duration)),p.repeatDelay&&(p.repeatDelay=nr(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(y=!0)),p.allowFlatten=!c.type&&!c.ease,y&&!a&&t.get()!==void 0){const _=ig(p.keyframes,c);if(_!==void 0)return Me.update(()=>{p.onUpdate(_),p.onComplete()}),new Lq([])}return!a&&T1.supports(p)?new T1(p):new mw(p)};function p7({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function NP(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:l,...c}=t;i&&(a=i);const h=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const p in c){const y=e.getValue(p,e.latestValues[p]??null),_=c[p];if(_===void 0||f&&p7(f,p))continue;const b={delay:n,...$b(a||{},p)};let T=!1;if(window.MotionHandoffAnimation){const S=rP(e);if(S){const C=window.MotionHandoffAnimation(S,p,Me);C!==null&&(b.startTime=C,T=!0)}}F_(e,p),y.start(gw(p,y,_,e.shouldReduceMotion&&sP.has(p)?{type:!1}:b,e,T));const E=y.animation;E&&h.push(E)}return l&&Promise.all(h).then(()=>{Me.update(()=>{l&&HW(e,l)})}),h}function Z_(e,t,n={}){var h;const i=tf(e,t,n.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(NP(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=s;return m7(e,t,p+f,y,_,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,p]=c==="beforeChildren"?[a,l]:[l,a];return f().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function m7(e,t,n=0,i=0,s=1,a){const l=[],c=(e.variantChildren.size-1)*i,h=s===1?(f=0)=>f*i:(f=0)=>c-f*i;return Array.from(e.variantChildren).sort(g7).forEach((f,p)=>{f.notify("AnimationStart",t),l.push(Z_(f,t,{...a,delay:n+h(p)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(l)}function g7(e,t){return e.sortNodePosition(t)}function y7(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>Z_(e,a,n));i=Promise.all(s)}else if(typeof t=="string")i=Z_(e,t,n);else{const s=typeof t=="function"?tf(e,t,n.custom):t;i=Promise.all(NP(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function LP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const v7=Qb.length;function VP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?VP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<v7;n++){const i=Qb[n],s=e.props[i];(Qh(s)||s===!1)&&(t[i]=s)}return t}const _7=[...Xb].reverse(),b7=Xb.length;function w7(e){return t=>Promise.all(t.map(({animation:n,options:i})=>y7(e,n,i)))}function T7(e){let t=w7(e),n=S1(),i=!0;const s=h=>(f,p)=>{var _;const y=tf(e,p,h==="exit"?(_=e.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:b,transitionEnd:T,...E}=y;f={...f,...E,...T}}return f};function a(h){t=h(e)}function l(h){const{props:f}=e,p=VP(e.parent)||{},y=[],_=new Set;let b={},T=1/0;for(let S=0;S<b7;S++){const C=_7[S],V=n[C],j=f[C]!==void 0?f[C]:p[C],W=Qh(j),z=C===h?V.isActive:null;z===!1&&(T=S);let $=j===p[C]&&j!==f[C]&&W;if($&&i&&e.manuallyAnimateOnMount&&($=!1),V.protectedKeys={...b},!V.isActive&&z===null||!j&&!V.prevProp||eg(j)||typeof j=="boolean")continue;const M=S7(V.prevProp,j);let D=M||C===h&&V.isActive&&!$&&W||S>T&&W,I=!1;const B=Array.isArray(j)?j:[j];let N=B.reduce(s(C),{});z===!1&&(N={});const{prevResolvedValues:U={}}=V,L={...U,...N},ft=et=>{D=!0,_.has(et)&&(I=!0,_.delete(et)),V.needsAnimating[et]=!0;const dt=e.getValue(et);dt&&(dt.liveStyle=!1)};for(const et in L){const dt=N[et],xt=U[et];if(b.hasOwnProperty(et))continue;let H=!1;z_(dt)&&z_(xt)?H=!LP(dt,xt):H=dt!==xt,H?dt!=null?ft(et):_.add(et):dt!==void 0&&_.has(et)?ft(et):V.protectedKeys[et]=!0}V.prevProp=j,V.prevResolvedValues=N,V.isActive&&(b={...b,...N}),i&&e.blockInitialAnimation&&(D=!1),D&&(!($&&M)||I)&&y.push(...B.map(et=>({animation:et,options:{type:C}})))}if(_.size){const S={};if(typeof f.initial!="boolean"){const C=tf(e,Array.isArray(f.initial)?f.initial[0]:f.initial);C&&C.transition&&(S.transition=C.transition)}_.forEach(C=>{const V=e.getBaseTarget(C),j=e.getValue(C);j&&(j.liveStyle=!0),S[C]=V??null}),y.push({animation:S})}let E=!!y.length;return i&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(E=!1),i=!1,E?t(y):Promise.resolve()}function c(h,f){var y;if(n[h].isActive===f)return Promise.resolve();(y=e.variantChildren)==null||y.forEach(_=>{var b;return(b=_.animationState)==null?void 0:b.setActive(h,f)}),n[h].isActive=f;const p=l(h);for(const _ in n)n[_].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=S1(),i=!0}}}function S7(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!LP(t,e):!1}function Mo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function S1(){return{animate:Mo(!0),whileInView:Mo(),whileHover:Mo(),whileTap:Mo(),whileDrag:Mo(),whileFocus:Mo(),exit:Mo()}}class to{constructor(t){this.isMounted=!1,this.node=t}update(){}}class E7 extends to{constructor(t){super(t),t.animationState||(t.animationState=T7(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();eg(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let x7=0;class A7 extends to{constructor(){super(...arguments),this.id=x7++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const R7={animation:{Feature:E7},exit:{Feature:A7}};function nf(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Tf(e){return{point:{x:e.pageX,y:e.pageY}}}const C7=e=>t=>Yb(t)&&e(t,Tf(t));function Ah(e,t,n,i){return nf(e,t,C7(n),i)}function jP({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function D7({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function k7(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const BP=1e-4,I7=1-BP,M7=1+BP,UP=.01,P7=0-UP,O7=0+UP;function ci(e){return e.max-e.min}function N7(e,t,n){return Math.abs(e-t)<=n}function E1(e,t,n,i=.5){e.origin=i,e.originPoint=ze(t.min,t.max,e.origin),e.scale=ci(n)/ci(t),e.translate=ze(n.min,n.max,e.origin)-e.originPoint,(e.scale>=I7&&e.scale<=M7||isNaN(e.scale))&&(e.scale=1),(e.translate>=P7&&e.translate<=O7||isNaN(e.translate))&&(e.translate=0)}function Rh(e,t,n,i){E1(e.x,t.x,n.x,i?i.originX:void 0),E1(e.y,t.y,n.y,i?i.originY:void 0)}function x1(e,t,n){e.min=n.min+t.min,e.max=e.min+ci(t)}function L7(e,t,n){x1(e.x,t.x,n.x),x1(e.y,t.y,n.y)}function A1(e,t,n){e.min=t.min-n.min,e.max=e.min+ci(t)}function Ch(e,t,n){A1(e.x,t.x,n.x),A1(e.y,t.y,n.y)}const R1=()=>({translate:0,scale:1,origin:0,originPoint:0}),cc=()=>({x:R1(),y:R1()}),C1=()=>({min:0,max:0}),sn=()=>({x:C1(),y:C1()});function ss(e){return[e("x"),e("y")]}function Hv(e){return e===void 0||e===1}function J_({scale:e,scaleX:t,scaleY:n}){return!Hv(e)||!Hv(t)||!Hv(n)}function jo(e){return J_(e)||zP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function zP(e){return D1(e.x)||D1(e.y)}function D1(e){return e&&e!=="0%"}function ym(e,t,n){const i=e-n,s=t*i;return n+s}function k1(e,t,n,i,s){return s!==void 0&&(e=ym(e,s,i)),ym(e,n,i)+t}function t0(e,t=0,n=1,i,s){e.min=k1(e.min,t,n,i,s),e.max=k1(e.max,t,n,i,s)}function FP(e,{x:t,y:n}){t0(e.x,t.translate,t.scale,t.originPoint),t0(e.y,n.translate,n.scale,n.originPoint)}const I1=.999999999999,M1=1.0000000000001;function V7(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&hc(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,FP(e,l)),i&&jo(a.latestValues)&&hc(e,a.latestValues))}t.x<M1&&t.x>I1&&(t.x=1),t.y<M1&&t.y>I1&&(t.y=1)}function uc(e,t){e.min=e.min+t,e.max=e.max+t}function P1(e,t,n,i,s=.5){const a=ze(e.min,e.max,s);t0(e,t,n,a,i)}function hc(e,t){P1(e.x,t.x,t.scaleX,t.scale,t.originX),P1(e.y,t.y,t.scaleY,t.scale,t.originY)}function HP(e,t){return jP(k7(e.getBoundingClientRect(),t))}function j7(e,t,n){const i=HP(e,n),{scroll:s}=t;return s&&(uc(i.x,s.offset.x),uc(i.y,s.offset.y)),i}const qP=({current:e})=>e?e.ownerDocument.defaultView:null,O1=(e,t)=>Math.abs(e-t);function B7(e,t){const n=O1(e.x,t.x),i=O1(e.y,t.y);return Math.sqrt(n**2+i**2)}class WP{constructor(t,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Wv(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,b=B7(y.offset,{x:0,y:0})>=3;if(!_&&!b)return;const{point:T}=y,{timestamp:E}=Vn;this.history.push({...T,timestamp:E});const{onStart:S,onMove:C}=this.handlers;_||(S&&S(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=qv(_,this.transformPagePoint),Me.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:b,onSessionEnd:T,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Wv(y.type==="pointercancel"?this.lastMoveEventInfo:qv(_,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,S),T&&T(y,S)},!Yb(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const l=Tf(t),c=qv(l,this.transformPagePoint),{point:h}=c,{timestamp:f}=Vn;this.history=[{...h,timestamp:f}];const{onSessionStart:p}=n;p&&p(t,Wv(c,this.history)),this.removeListeners=wf(Ah(this.contextWindow,"pointermove",this.handlePointerMove),Ah(this.contextWindow,"pointerup",this.handlePointerUp),Ah(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zr(this.updatePoint)}}function qv(e,t){return t?{point:t(e.point)}:e}function N1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Wv({point:e},t){return{point:e,delta:N1(e,$P(t)),offset:N1(e,U7(t)),velocity:z7(t,.1)}}function U7(e){return e[0]}function $P(e){return e[e.length-1]}function z7(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=$P(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>nr(t)));)n--;if(!i)return{x:0,y:0};const a=ir(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function F7(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?ze(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?ze(n,e,i.max):Math.min(e,n)),e}function L1(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function H7(e,{top:t,left:n,bottom:i,right:s}){return{x:L1(e.x,n,s),y:L1(e.y,t,i)}}function V1(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function q7(e,t){return{x:V1(e.x,t.x),y:V1(e.y,t.y)}}function W7(e,t){let n=.5;const i=ci(e),s=ci(t);return s>i?n=Kh(t.min,t.max-i,e.min):i>s&&(n=Kh(e.min,e.max-s,t.min)),Jr(0,1,n)}function $7(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const e0=.35;function G7(e=e0){return e===!1?e=0:e===!0&&(e=e0),{x:j1(e,"left","right"),y:j1(e,"top","bottom")}}function j1(e,t,n){return{min:B1(e,t),max:B1(e,n)}}function B1(e,t){return typeof e=="number"?e:e[t]||0}const K7=new WeakMap;class Y7{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tf(p).point)},a=(p,y)=>{const{drag:_,dragPropagation:b,onDragStart:T}=this.getProps();if(_&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qq(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ss(S=>{let C=this.getAxisMotionValue(S).get()||0;if(rr.test(C)){const{projection:V}=this.visualElement;if(V&&V.layout){const j=V.layout.layoutBox[S];j&&(C=ci(j)*(parseFloat(C)/100))}}this.originPoint[S]=C}),T&&Me.postRender(()=>T(p,y)),F_(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},l=(p,y)=>{const{dragPropagation:_,dragDirectionLock:b,onDirectionLock:T,onDrag:E}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:S}=y;if(b&&this.currentDirection===null){this.currentDirection=X7(S),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",y.point,S),this.updateAxis("y",y.point,S),this.visualElement.render(),E&&E(p,y)},c=(p,y)=>this.stop(p,y),h=()=>ss(p=>{var y;return this.getAnimationState(p)==="paused"&&((y=this.getAxisMotionValue(p).animation)==null?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new WP(t,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:qP(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Me.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!fp(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=F7(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;t&&oc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=H7(i.layoutBox,t):this.constraints=!1,this.elastic=G7(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ss(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=$7(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!oc(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=j7(i,s.root,this.visualElement.getTransformPagePoint());let l=q7(s.layout.layoutBox,a);if(n){const c=n(D7(l));this.hasMutatedConstraints=!!c,c&&(l=jP(c))}return l}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},f=ss(p=>{if(!fp(p,n,this.currentDirection))return;let y=h&&h[p]||{};l&&(y={min:0,max:0});const _=s?200:1e6,b=s?40:1e7,T={type:"inertia",velocity:i?t[p]:0,bounceStiffness:_,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(p,T)});return Promise.all(f).then(c)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return F_(this.visualElement,t),i.start(gw(t,i,0,n,this.visualElement,!1))}stopAnimation(){ss(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ss(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){ss(n=>{const{drag:i}=this.getProps();if(!fp(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(t[n]-ze(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!oc(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ss(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();s[l]=W7({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ss(l=>{if(!fp(l,t,null))return;const c=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];c.set(ze(h,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;K7.set(this.visualElement,this);const t=this.visualElement.current,n=Ah(t,"pointerdown",h=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();oc(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Me.read(i);const l=nf(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(ss(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=h[p].translate,y.set(y.get()+h[p].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=e0,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function fp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function X7(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Q7 extends to{constructor(t){super(t),this.removeGroupControls=os,this.removeListeners=os,this.controls=new Y7(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||os}unmount(){this.removeGroupControls(),this.removeListeners()}}const U1=e=>(t,n)=>{e&&Me.postRender(()=>e(t,n))};class Z7 extends to{constructor(){super(...arguments),this.removePointerDownListener=os}onPointerDown(t){this.session=new WP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:U1(t),onStart:U1(n),onMove:i,onEnd:(a,l)=>{delete this.session,s&&Me.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Ah(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Op={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function z1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const rh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Pt.test(e))e=parseFloat(e);else return e;const n=z1(e,t.target.x),i=z1(e,t.target.y);return`${n}% ${i}%`}},J7={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=Ya.parse(e);if(s.length>5)return i;const a=Ya.createTransformer(e),l=typeof s[0]!="number"?1:0,c=n.x.scale*t.x,h=n.y.scale*t.y;s[0+l]/=c,s[1+l]/=h;const f=ze(c,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),a(s)}};class t$ extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;yW(e$),a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Op.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,l=i.projection;return l&&(l.isPresent=a,s||t.layoutDependency!==n||n===void 0||t.isPresent!==a?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||Me.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Kb.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function GP(e){const[t,n]=IM(),i=P.useContext(Lb);return R.jsx(t$,{...e,layoutGroup:i,switchLayoutGroup:P.useContext(WM),isPresent:t,safeToRemove:n})}const e$={borderRadius:{...rh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rh,borderTopRightRadius:rh,borderBottomLeftRadius:rh,borderBottomRightRadius:rh,boxShadow:J7};function n$(e,t,n){const i=Qn(e)?e:Xh(e);return i.start(gw("",i,t,n)),i.animation}function i$(e){return e instanceof SVGElement&&e.tagName!=="svg"}const s$=(e,t)=>e.depth-t.depth;class r${constructor(){this.children=[],this.isDirty=!1}add(t){Ub(this.children,t),this.isDirty=!0}remove(t){zb(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(s$),this.isDirty=!1,this.children.forEach(t)}}function a$(e,t){const n=sr.now(),i=({timestamp:s})=>{const a=s-n;a>=t&&(Zr(i),e(a-t))};return Me.read(i,!0),()=>Zr(i)}const KP=["TopLeft","TopRight","BottomLeft","BottomRight"],o$=KP.length,F1=e=>typeof e=="string"?parseFloat(e):e,H1=e=>typeof e=="number"||Pt.test(e);function l$(e,t,n,i,s,a){s?(e.opacity=ze(0,n.opacity!==void 0?n.opacity:1,c$(i)),e.opacityExit=ze(t.opacity!==void 0?t.opacity:1,0,u$(i))):a&&(e.opacity=ze(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let l=0;l<o$;l++){const c=`border${KP[l]}Radius`;let h=q1(t,c),f=q1(n,c);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||H1(h)===H1(f)?(e[c]=Math.max(ze(F1(h),F1(f),i),0),(rr.test(f)||rr.test(h))&&(e[c]+="%")):e[c]=f}(t.rotate||n.rotate)&&(e.rotate=ze(t.rotate||0,n.rotate||0,i))}function q1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const c$=YP(0,.5,fP),u$=YP(.5,.95,os);function YP(e,t,n){return i=>i<e?0:i>t?1:n(Kh(e,t,i))}function W1(e,t){e.min=t.min,e.max=t.max}function ns(e,t){W1(e.x,t.x),W1(e.y,t.y)}function $1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function G1(e,t,n,i,s){return e-=t,e=ym(e,1/n,i),s!==void 0&&(e=ym(e,1/s,i)),e}function h$(e,t=0,n=1,i=.5,s,a=e,l=e){if(rr.test(t)&&(t=parseFloat(t),t=ze(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=ze(a.min,a.max,i);e===a&&(c-=t),e.min=G1(e.min,t,n,c,s),e.max=G1(e.max,t,n,c,s)}function K1(e,t,[n,i,s],a,l){h$(e,t[n],t[i],t[s],t.scale,a,l)}const f$=["x","scaleX","originX"],d$=["y","scaleY","originY"];function Y1(e,t,n,i){K1(e.x,t,f$,n?n.x:void 0,i?i.x:void 0),K1(e.y,t,d$,n?n.y:void 0,i?i.y:void 0)}function X1(e){return e.translate===0&&e.scale===1}function XP(e){return X1(e.x)&&X1(e.y)}function Q1(e,t){return e.min===t.min&&e.max===t.max}function p$(e,t){return Q1(e.x,t.x)&&Q1(e.y,t.y)}function Z1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function QP(e,t){return Z1(e.x,t.x)&&Z1(e.y,t.y)}function J1(e){return ci(e.x)/ci(e.y)}function tC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class m${constructor(){this.members=[]}add(t){Ub(this.members,t),t.scheduleRender()}remove(t){if(zb(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function g$(e,t,n){let i="";const s=e.x.translate/t.x,a=e.y.translate/t.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(i=`translate3d(${s}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:y,rotateY:_,skewX:b,skewY:T}=n;f&&(i=`perspective(${f}px) ${i}`),p&&(i+=`rotate(${p}deg) `),y&&(i+=`rotateX(${y}deg) `),_&&(i+=`rotateY(${_}deg) `),b&&(i+=`skewX(${b}deg) `),T&&(i+=`skewY(${T}deg) `)}const c=e.x.scale*t.x,h=e.y.scale*t.y;return(c!==1||h!==1)&&(i+=`scale(${c}, ${h})`),i||"none"}const $v=["","X","Y","Z"],y$={visibility:"hidden"},eC=1e3;let v$=0;function Gv(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function ZP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=rP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Me,!(s||a))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&ZP(i)}function JP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=t==null?void 0:t()){this.id=v$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(w$),this.nodes.forEach(A$),this.nodes.forEach(R$),this.nodes.forEach(T$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new r$)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Hb),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=i$(l),this.instance=l;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(f||h)&&(this.isLayoutDirty=!0),e){let y;const _=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=a$(_,250),Op.hasAnimatedSinceResize&&(Op.hasAnimatedSinceResize=!1,this.nodes.forEach(iC))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||p.getDefaultTransition()||M$,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=p.getProps(),V=!this.targetLayout||!QP(this.targetLayout,T),j=!_&&b;if(this.options.layoutRoot||this.resumeFrom||j||_&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,j);const W={...$b(E,"layout"),onPlay:S,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W)}else _||iC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(C$),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ZP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nC);return}this.isUpdating||this.nodes.forEach(E$),this.isUpdating=!1,this.nodes.forEach(x$),this.nodes.forEach(_$),this.nodes.forEach(b$),this.clearAllSnapshots();const c=sr.now();Vn.delta=Jr(0,1e3/60,c-Vn.timestamp),Vn.timestamp=c,Vn.isProcessing=!0,jv.update.process(Vn),jv.preRender.process(Vn),jv.render.process(Vn),Vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Kb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(S$),this.sharedNodes.forEach(D$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ci(this.snapshot.measuredBox.x)&&!ci(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!XP(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&(c||jo(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),P$(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:l}=this.options;if(!l)return sn();const c=l.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(O$))){const{scroll:p}=this.root;p&&(uc(c.x,p.offset.x),uc(c.y,p.offset.y))}return c}removeElementScroll(l){var h;const c=sn();if(ns(c,l),(h=this.scroll)!=null&&h.wasRoot)return c;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&ns(c,l),uc(c.x,y.offset.x),uc(c.y,y.offset.y))}return c}applyTransform(l,c=!1){const h=sn();ns(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&hc(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),jo(p.latestValues)&&hc(h,p.latestValues)}return jo(this.latestValues)&&hc(h,this.latestValues),h}removeTransform(l){const c=sn();ns(c,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!jo(f.latestValues))continue;J_(f.latestValues)&&f.updateSnapshot();const p=sn(),y=f.measurePageBox();ns(p,y),Y1(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return jo(this.latestValues)&&Y1(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var _;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Vn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Ch(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),L7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ns(this.target,this.layout.layoutBox),FP(this.target,this.targetDelta)):ns(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Ch(this.relativeTargetOrigin,this.target,b.target),ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||J_(this.parent.latestValues)||zP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Vn.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;ns(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;V7(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=sn());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($1(this.prevProjectionDelta.x,this.projectionDelta.x),$1(this.prevProjectionDelta.y,this.projectionDelta.y)),Rh(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!tC(this.projectionDelta.x,this.prevProjectionDelta.x)||!tC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cc(),this.projectionDelta=cc(),this.projectionDeltaWithTransform=cc()}setAnimationOrigin(l,c=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},y=cc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const _=sn(),b=h?h.source:void 0,T=this.layout?this.layout.source:void 0,E=b!==T,S=this.getStack(),C=!S||S.members.length<=1,V=!!(E&&!C&&this.options.crossfade===!0&&!this.path.some(I$));this.animationProgress=0;let j;this.mixTargetDelta=W=>{const z=W/1e3;sC(y.x,l.x,z),sC(y.y,l.y,z),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ch(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),k$(this.relativeTarget,this.relativeTargetOrigin,_,z),j&&p$(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=sn()),ns(j,this.relativeTarget)),E&&(this.animationValues=p,l$(p,f,this.latestValues,z,V,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Me.update(()=>{Op.hasAnimatedSinceResize=!0,this.currentAnimation=n$(0,eC,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:f,latestValues:p}=l;if(!(!c||!h||!f)){if(this!==l&&this.layout&&f&&tO(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||sn();const y=ci(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const _=ci(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+_}ns(c,h),hc(c,p),Rh(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new m$),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const f={};h.z&&Gv("z",l,f,this.animationValues);for(let p=0;p<$v.length;p++)Gv(`rotate${$v[p]}`,l,f,this.animationValues),Gv(`skew${$v[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return y$;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Pp(l==null?void 0:l.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Pp(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!jo(this.latestValues)&&(b.transform=h?h({},""):"none",this.hasProjected=!1),b}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=g$(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:y,y:_}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,f.animationValues?c.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in Zh){if(p[b]===void 0)continue;const{correct:T,applyTo:E,isCSSVariable:S}=Zh[b],C=c.transform==="none"?p[b]:T(p[b],f);if(E){const V=E.length;for(let j=0;j<V;j++)c[E[j]]=C}else S?this.options.visualElement.renderState.vars[b]=C:c[b]=C}return this.options.layoutId&&(c.pointerEvents=f===this?Pp(l==null?void 0:l.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(nC),this.root.sharedNodes.clear()}}}function _$(e){e.updateLayout()}function b$(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?ss(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=ci(_);_.min=i[y].min,_.max=_.min+b}):tO(a,t.layoutBox,i)&&ss(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=ci(i[y]);_.max=_.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+b)});const c=cc();Rh(c,i,t.layoutBox);const h=cc();l?Rh(h,e.applyTransform(s,!0),t.measuredBox):Rh(h,i,t.layoutBox);const f=!XP(c);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const T=sn();Ch(T,t.layoutBox,_.layoutBox);const E=sn();Ch(E,i,b.layoutBox),QP(T,E)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=E,e.relativeTargetOrigin=T,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function w$(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function T$(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function S$(e){e.clearSnapshot()}function nC(e){e.clearMeasurements()}function E$(e){e.isLayoutDirty=!1}function x$(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function iC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function A$(e){e.resolveTargetDelta()}function R$(e){e.calcProjection()}function C$(e){e.resetSkewAndRotation()}function D$(e){e.removeLeadSnapshot()}function sC(e,t,n){e.translate=ze(t.translate,0,n),e.scale=ze(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function rC(e,t,n,i){e.min=ze(t.min,n.min,i),e.max=ze(t.max,n.max,i)}function k$(e,t,n,i){rC(e.x,t.x,n.x,i),rC(e.y,t.y,n.y,i)}function I$(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const M$={duration:.45,ease:[.4,0,.1,1]},aC=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),oC=aC("applewebkit/")&&!aC("chrome/")?Math.round:os;function lC(e){e.min=oC(e.min),e.max=oC(e.max)}function P$(e){lC(e.x),lC(e.y)}function tO(e,t,n){return e==="position"||e==="preserve-aspect"&&!N7(J1(t),J1(n),.2)}function O$(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const N$=JP({attachResizeListener:(e,t)=>nf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kv={current:void 0},eO=JP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Kv.current){const e=new N$({});e.mount(window),e.setOptions({layoutScroll:!0}),Kv.current=e}return Kv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),L$={pan:{Feature:Z7},drag:{Feature:Q7,ProjectionNode:eO,MeasureLayout:GP}};function cC(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&Me.postRender(()=>a(t,Tf(t)))}class V$ extends to{mount(){const{current:t}=this.node;t&&(this.unmount=$q(t,(n,i)=>(cC(this.node,i,"Start"),s=>cC(this.node,s,"End"))))}unmount(){}}class j$ extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wf(nf(this.node.current,"focus",()=>this.onFocus()),nf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function uC(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&Me.postRender(()=>a(t,Tf(t)))}class B$ extends to{mount(){const{current:t}=this.node;t&&(this.unmount=Xq(t,(n,i)=>(uC(this.node,i,"Start"),(s,{success:a})=>uC(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const n0=new WeakMap,Yv=new WeakMap,U$=e=>{const t=n0.get(e.target);t&&t(e)},z$=e=>{e.forEach(U$)};function F$({root:e,...t}){const n=e||document;Yv.has(n)||Yv.set(n,{});const i=Yv.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(z$,{root:e,...t})),i[s]}function H$(e,t,n){const i=F$(t);return n0.set(e,n),i.observe(e),()=>{n0.delete(e),i.unobserve(e)}}const q$={some:0,all:1};class W$ extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=t,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:q$[s]},c=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),_=f?p:y;_&&_(h)};return H$(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some($$(t,n))&&this.startObserver()}unmount(){}}function $$({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const G$={inView:{Feature:W$},tap:{Feature:B$},focus:{Feature:j$},hover:{Feature:V$}},K$={layout:{ProjectionNode:eO,MeasureLayout:GP}},i0={current:null},nO={current:!1};function Y$(){if(nO.current=!0,!!jb)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>i0.current=e.matches;e.addListener(t),t()}else i0.current=!1}const X$=[...RP,Gn,Ya],Q$=e=>X$.find(AP(e)),Z$=new WeakMap;function J$(e,t,n){for(const i in t){const s=t[i],a=n[i];if(Qn(s))e.addValue(i,s);else if(Qn(a))e.addValue(i,Xh(s,{owner:e}));else if(a!==s)if(e.hasValue(i)){const l=e.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,Xh(l!==void 0?l:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const hC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tG{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=sr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Me.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:p}=l;this.onUpdate=p,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=ng(n),this.isVariantNode=HM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const T=_[b];h[b]!==void 0&&Qn(T)&&T.set(h[b],!1)}}mount(t){this.current=t,Z$.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),nO.current||Y$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:i0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zr(this.notifyUpdate),Zr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=fl.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Me.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Pc){const n=Pc[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<hC.length;i++){const s=hC[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=t[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=J$(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Xh(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(EP(i)||pP(i))?i=parseFloat(i):!Q$(i)&&Ya.test(n)&&(i=wP(t,n)),this.setBaseTarget(t,Qn(i)?i.get():i)),Qn(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=ow(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(i=l[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Qn(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Hb),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class iO extends tG{constructor(){super(...arguments),this.KeyframeResolver=CP}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Qn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function eG(e){return window.getComputedStyle(e)}class nG extends iO{constructor(){super(...arguments),this.type="html",this.renderInstance=tP}readValueFromInstance(t,n){if(fl.has(n))return p8(t,n);{const i=eG(t),s=(Jb(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return HP(t,n)}build(t,n,i){nw(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return lw(t,n,i)}}class iG extends iO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&JM(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(fl.has(n)){const i=bP(n);return i&&i.default||0}return n=eP.has(n)?n:Zb(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return iP(t,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&Me.postRender(this.updateDimensions)}build(t,n,i){rw(t,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,i,s){nP(t,n,i,s)}mount(t){this.isSVGTag=aw(t.tagName),super.mount(t)}}const sG=(e,t)=>sw(e)?new iG(t):new nG(t,{allowProjection:e!==P.Fragment}),rG=zW({...R7,...G$,...L$,...K$},sG),Yo=iW(rG);var sO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fC=Ie.createContext&&Ie.createContext(sO),aG=["attr","size","title"];function oG(e,t){if(e==null)return{};var n=lG(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function lG(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vm.apply(this,arguments)}function dC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function _m(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(n),!0).forEach(function(i){cG(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function cG(e,t,n){return t=uG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uG(e){var t=hG(e,"string");return typeof t=="symbol"?t:t+""}function hG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rO(e){return e&&e.map((t,n)=>Ie.createElement(t.tag,_m({key:n},t.attr),rO(t.child)))}function Sf(e){return t=>Ie.createElement(fG,vm({attr:_m({},e.attr)},t),rO(e.child))}function fG(e){var t=n=>{var{attr:i,size:s,title:a}=e,l=oG(e,aG),c=s||n.size||"1em",h;return n.className&&(h=n.className),e.className&&(h=(h?h+" ":"")+e.className),Ie.createElement("svg",vm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:h,style:_m(_m({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Ie.createElement("title",null,a),e.children)};return fC!==void 0?Ie.createElement(fC.Consumer,null,n=>t(n)):t(sO)}function yw(e){return Sf({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function dG(e){return Sf({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function pG(e){return Sf({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function mG(e){return Sf({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function gG(e){return Sf({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function yG(){const[e,t]=P.useState([{id:1,name:"",sets:[{id:1,reps:"",weight:""}]}]),[n,i]=P.useState(""),[s,a]=P.useState(new Date().toISOString().split("T")[0]),[l,c]=P.useState(null),[h,f]=P.useState([]),[p,y]=P.useState(!1),[_,b]=P.useState(null),[T,E]=P.useState(!1),[S,C]=P.useState("");Ds(),P.useEffect(()=>{console.log("Testing exercise matching:",GR("bench"))},[]),P.useEffect(()=>{let N;return T&&(N&&clearTimeout(N),N=setTimeout(()=>{E(!1)},2500)),()=>{N&&clearTimeout(N)}},[T]);const V=()=>{const N=Date.now(),U={id:N,name:"",sets:[{id:N+1,reps:"",weight:""}]},L=[...e,U];t(L),console.log("Added new exercise, total:",L.length)},j=N=>{t(e.filter(U=>U.id!==N))},W=N=>{t(e.map(U=>U.id===N?{...U,sets:[...U.sets,{id:Date.now(),reps:"",weight:""}]}:U))},z=(N,U)=>{t(e.map(L=>L.id===N?L.sets.length===1?L:{...L,sets:L.sets.filter(ft=>ft.id!==U)}:L))},$=(N,U)=>{if(t(e.map(L=>L.id===N?{...L,name:U}:L)),U.trim()){const L=GR(U);f(L)}else f([])},M=(N,U)=>{t(e.map(L=>L.id===N?{...L,name:U}:L)),f([])},D=(N,U,L,ft)=>{if(L==="reps"){const gt=ft.replace(/\D/g,"");t(e.map(K=>K.id===N?{...K,sets:K.sets.map(et=>et.id===U?{...et,[L]:gt}:et)}:K))}else t(e.map(gt=>gt.id===N?{...gt,sets:gt.sets.map(K=>K.id===U?{...K,[L]:ft}:K)}:gt))},I=N=>{if(N.key==="Enter"){N.preventDefault();const U=N.target.form,L=Array.from(U.elements).indexOf(N.target),ft=U.elements[L+1];ft&&ft.focus()}},B=async N=>{if(N.preventDefault(),!(p||T)){b(null),y(!0);try{const U=ui.currentUser;if(!U){b("You must be logged in to save a workout"),y(!1);return}if(e.some(K=>!K.name.trim())){b("Please provide a name for all exercises"),y(!1);return}if(e.some(K=>K.sets.some(et=>!et.reps))){b("Please provide reps for all sets"),y(!1);return}const L={name:n||`Workout ${new Date().toLocaleDateString()}`,date:s,timestamp:Date.now(),exercises:e.map(K=>({name:K.name,sets:K.sets.map(et=>({reps:et.reps,weight:et.weight||"bodyweight"}))}))},ft=Es(xs,"users",U.uid);await Wm(ft,{workouts:fI(L)}),C("Great job! Workout saved successfully!"),y(!1),E(!0);const gt=setTimeout(()=>{i(""),a(new Date().toISOString().split("T")[0]),t([{id:Date.now(),name:"",sets:[{id:Date.now(),reps:"",weight:""}]}])},2e3);return()=>clearTimeout(gt)}catch(U){console.error("Error saving workout:",U),b("Error saving workout. Please try again."),y(!1)}}};return R.jsxs("div",{className:"log-workout-container",children:[R.jsx("h1",{children:"Log Workout"}),R.jsxs("form",{onSubmit:B,children:[R.jsxs("div",{className:"form-header",children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"workoutName",children:"Workout Name"}),R.jsx("input",{type:"text",id:"workoutName",value:n,onChange:N=>i(N.target.value),placeholder:"Enter workout name"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"workoutDate",children:"Date"}),R.jsx("input",{type:"date",id:"workoutDate",value:s,onChange:N=>a(N.target.value),max:new Date().toISOString().split("T")[0]})]})]}),R.jsx("div",{className:"exercises-container",children:e.map((N,U)=>R.jsxs("div",{className:"exercise-item",children:[R.jsxs("div",{className:"exercise-header",children:[R.jsxs("h3",{children:["Exercise ",U+1]}),R.jsx("button",{type:"button",onClick:()=>j(N.id),className:"remove-btn",children:"Remove"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:`exercise-${N.id}`,children:"Exercise Name"}),R.jsxs("div",{className:"exercise-name-input-container",children:[R.jsx("input",{type:"text",id:`exercise-${N.id}`,value:N.name,onChange:L=>$(N.id,L.target.value),placeholder:"Enter exercise name",onFocus:()=>c(N.id),onBlur:()=>{setTimeout(()=>{c(null),f([])},200)},autoComplete:"off"}),l===N.id&&h.length>0&&R.jsx("div",{className:"suggestions-list",children:h.map((L,ft)=>R.jsx("div",{className:"suggestion-item",onClick:()=>M(N.id,L),children:L},ft))})]})]}),R.jsxs("div",{className:"sets-container",children:[R.jsx("h4",{children:"Sets"}),N.sets.map((L,ft)=>R.jsxs("div",{className:"set-item",children:[R.jsxs("div",{className:"set-header",children:[R.jsxs("span",{children:["Set ",ft+1]}),R.jsx("button",{type:"button",onClick:()=>z(N.id,L.id),className:"remove-btn",disabled:N.sets.length===1,children:"Remove"})]}),R.jsxs("div",{className:"set-inputs",children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:`reps-${N.id}-${L.id}`,children:"Reps"}),R.jsx("input",{type:"number",id:`reps-${N.id}-${L.id}`,value:L.reps,onChange:gt=>D(N.id,L.id,"reps",gt.target.value),onKeyDown:I,placeholder:"e.g., 10",min:"1",step:"1",required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:`weight-${N.id}-${L.id}`,children:"Weight (optional)"}),R.jsx("input",{type:"text",id:`weight-${N.id}-${L.id}`,value:L.weight,onChange:gt=>D(N.id,L.id,"weight",gt.target.value),onKeyDown:I,placeholder:"e.g., 135 or leave empty",required:!1})]})]})]},L.id)),R.jsx("button",{type:"button",onClick:()=>W(N.id),className:"add-set-btn",children:"Add Set"})]})]},N.id))}),R.jsxs("div",{className:"form-actions",children:[R.jsx("button",{type:"button",onClick:V,className:"add-exercise-btn",disabled:p,children:"Add Exercise"}),R.jsx("button",{type:"submit",className:`save-workout-btn ${p?"saving":""}`,disabled:p,children:p?"Saving...":"Save Workout"})]})]}),R.jsx(Pq,{mode:"wait",children:T&&R.jsxs(Yo.div,{className:"success-message",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3,type:"spring",stiffness:200,damping:20},children:[R.jsx(Yo.div,{className:"success-icon",initial:{scale:0,rotate:-45},animate:{scale:1,rotate:0},transition:{duration:.5,type:"spring",stiffness:260,damping:20},children:R.jsx(dG,{size:40,strokeWidth:3})}),R.jsx(Yo.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:S})]},"success-message")}),_&&R.jsx("div",{className:"error-message",children:R.jsx("p",{children:_})})]})}function Xc(){return R.jsx("div",{className:"loading-spinner-container",children:R.jsx("div",{className:"loading-spinner"})})}function vG(){const[e,t]=P.useState([]),[n,i]=P.useState(!0),[s,a]=P.useState(null),[l,c]=P.useState(null),[h,f]=P.useState(!1),p=pr(),y=async()=>{var S;try{i(!0);const C=ui.currentUser;if(!C){a("You must be logged in to view workout history"),i(!1);return}const V=Es(xs,"users",C.uid),j=await hr(V);if(j.exists()){const W=j.data(),z=W.workouts?[...W.workouts]:[];z.sort((M,D)=>{const I=U=>{if(typeof U=="string"&&U.match(/^\d{4}-\d{2}-\d{2}$/)){const[L,ft,gt]=U.split("-").map(Number);return new Date(L,ft-1,gt)}return typeof U=="object"&&U.seconds?new Date(U.seconds*1e3):new Date(U)},B=I(M.date);return I(D.date)-B});const $=z.map((M,D)=>({...M,id:D.toString()}));if(t($),(S=p.state)!=null&&S.selectedWorkout){const M=p.state.selectedWorkout,D=$.find(I=>I.name===M.name&&T(I.date)===T(M.date));D&&(c(D.id),setTimeout(()=>{const I=document.getElementById(`workout-${D.id}`);I&&I.scrollIntoView({behavior:"smooth",block:"center"})},100))}}else t([]);i(!1)}catch(C){console.error("Error fetching workouts:",C),a("Failed to load workout history"),i(!1)}};P.useEffect(()=>{y()},[]);const _=S=>{c(l===S?null:S)},b=async(S,C)=>{if(S.stopPropagation(),!h&&window.confirm("Are you sure you want to delete this workout?"))try{f(!0);const V=ui.currentUser;if(!V)return;const j=e.find(I=>I.id===C);if(!j)return;const W=e.filter(I=>I.id!==C),{id:z,...$}=j,M=Es(xs,"users",V.uid),D=await hr(M);if(D.exists()){const B=D.data().workouts.filter(N=>{var U,L;return!(N.name===$.name&&T(N.date)===T($.date)&&((U=N.exercises)==null?void 0:U.length)===((L=$.exercises)==null?void 0:L.length))});await Wm(M,{workouts:B}),t(W),l===C&&c(null)}f(!1)}catch(V){console.error("Error deleting workout:",V),alert("Failed to delete workout. Please try again."),f(!1)}},T=S=>{if(!S)return"Unknown Date";if(typeof S=="string"&&S.match(/^\d{4}-\d{2}-\d{2}$/)){const[C,V,j]=S.split("-");return`${V}/${j}/${C}`}if(typeof S=="object"&&S.seconds)return new Date(S.seconds*1e3).toLocaleDateString();try{return new Date(S).toLocaleDateString()}catch{return S}},E=S=>!S||!Array.isArray(S)?0:S.reduce((C,V)=>{var j;return C+(((j=V.sets)==null?void 0:j.length)||0)},0);return n?R.jsx(Xc,{}):s?R.jsx("div",{className:"workout-history-container error",children:s}):e.length===0?R.jsxs("div",{className:"workout-history-container empty",children:[R.jsx("h2",{children:"Workout History"}),R.jsx("p",{children:"You haven't logged any workouts yet. Start by logging a workout!"})]}):R.jsxs("div",{className:"workout-history-container",children:[R.jsx("h2",{children:"Workout History"}),R.jsx("div",{className:"workout-cards",children:e.map(S=>{var C;return R.jsxs("div",{id:`workout-${S.id}`,className:`workout-card ${l===S.id?"expanded":""}`,onClick:()=>_(S.id),children:[R.jsxs("div",{className:"workout-card-header",children:[R.jsxs("div",{className:"workout-card-title",children:[R.jsx("h3",{children:S.name||"Untitled Workout"}),R.jsx("span",{className:"workout-date",children:T(S.date)})]}),R.jsxs("div",{className:"workout-card-actions",children:[R.jsxs("div",{className:"workout-card-summary",children:[R.jsxs("span",{children:[((C=S.exercises)==null?void 0:C.length)||0," Exercises"]}),R.jsxs("span",{children:[E(S.exercises)," Sets"]})]}),R.jsx("button",{className:"delete-workout-btn",onClick:V=>b(V,S.id),disabled:h,children:R.jsx("span",{className:"delete-icon",children:""})})]})]}),l===S.id&&R.jsx("div",{className:"workout-details",children:S.exercises&&S.exercises.map((V,j)=>R.jsxs("div",{className:"exercise-details",children:[R.jsx("h4",{children:V.name}),R.jsxs("div",{className:"sets-table",children:[R.jsxs("div",{className:"sets-table-header",children:[R.jsx("div",{className:"set-number",children:"Set"}),R.jsx("div",{className:"set-reps",children:"Reps"}),R.jsx("div",{className:"set-weight",children:"Weight"})]}),V.sets&&V.sets.map((W,z)=>R.jsxs("div",{className:"set-row",children:[R.jsx("div",{className:"set-number",children:z+1}),R.jsx("div",{className:"set-reps",children:W.reps}),R.jsx("div",{className:"set-weight",children:W.weight==="bodyweight"?"BW":W.weight})]},z))]})]},j))})]},S.id)})})]})}function _G(){const[e,t]=P.useState([]),[n,i]=P.useState(!0),[s,a]=P.useState(null),l=Ds();P.useEffect(()=>{(async()=>{try{i(!0);const f=ui.currentUser;if(!f){a("You must be logged in to view progress data"),i(!1);return}const p=Es(xs,"users",f.uid),y=await hr(p);if(y.exists()){const _=y.data();t(_.workouts||[])}else t([]);i(!1)}catch(f){console.error("Error fetching workout data:",f),a("Failed to load progress data"),i(!1)}})()},[]);const c=h=>{l(h)};return n?R.jsx(Xc,{}):s?R.jsx("div",{className:"progress-tracker-container error",children:s}):R.jsxs("div",{className:"progress-tracker-container",children:[R.jsx("h2",{children:"Progress Tracker"}),R.jsxs("div",{className:"progress-cards",children:[R.jsx("div",{className:"progress-card strength",onClick:()=>c("/strength-progress"),children:R.jsx("h3",{children:"Strength Progress"})}),R.jsx("div",{className:"progress-card weight",onClick:()=>c("/weight-progress"),children:R.jsx("h3",{children:"Weight Progress"})})]})]})}function bG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wG(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function TG(e,t,n){return t&&wG(e.prototype,t),e}function SG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s0(){return s0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s0.apply(this,arguments)}function EG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a0(e,t)}function r0(e){return r0=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},r0(e)}function a0(e,t){return a0=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},a0(e,t)}function aO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xG(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:aO(e)}function Xv(e,t){return AG(e)||RG(e,t)||CG()}function AG(e){if(Array.isArray(e))return e}function RG(e,t){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]"){var n=[],i=!0,s=!1,a=void 0;try{for(var l=e[Symbol.iterator](),c;!(i=(c=l.next()).done)&&(n.push(c.value),!(t&&n.length===t));i=!0);}catch(h){s=!0,a=h}finally{try{!i&&l.return!=null&&l.return()}finally{if(s)throw a}}return n}}function CG(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function DG(e,t){return t={exports:{}},e(t,t.exports),t.exports}var kG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",IG=kG;function oO(){}function lO(){}lO.resetWarningCache=oO;var MG=function(){function e(i,s,a,l,c,h){if(h!==IG){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:lO,resetWarningCache:oO};return n.PropTypes=n,n},he=DG(function(e){e.exports=MG()});function PG(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function OG(e,t){t===void 0&&(t=PG);var n,i=[],s,a=!1;function l(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];return a&&n===this&&t(c,i)||(s=e.apply(this,c),a=!0,n=this,i=c),s}return l}var pC=24*60*60*1e3,Po=7,NG=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],LG=["","Mon","","Wed","","Fri",""];function Np(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n}function VG(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function Qv(e){return e instanceof Date?e:new Date(e)}function jG(e){return Np(new Date,-200)}function Zv(e){for(var t=[],n=0;n<e;n+=1)t.push(n);return t}var Ws=10,dp=4,Oo="react-calendar-heatmap-",vw=function(e){EG(t,e);function t(){var n,i;bG(this,t);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return i=xG(this,(n=r0(t)).call.apply(n,[this].concat(a))),SG(aO(i),"getValueCache",OG(function(c){return c.values.reduce(function(h,f){var p=Qv(f.date),y=Math.floor((p-i.getStartDateWithEmptyDays())/pC);return h[y]={value:f,className:i.props.classForValue(f),title:i.props.titleForValue?i.props.titleForValue(f):null,tooltipDataAttrs:i.getTooltipDataAttrsForValue(f)},h},{})})),i}return TG(t,[{key:"getDateDifferenceInDays",value:function(){var i=this.props,s=i.startDate,a=i.numDays;if(a)return console.warn("numDays is a deprecated prop. It will be removed in the next release. Consider using the startDate prop instead."),a;var l=this.getEndDate()-Qv(s);return Math.ceil(l/pC)}},{key:"getSquareSizeWithGutter",value:function(){return Ws+this.props.gutterSize}},{key:"getMonthLabelSize",value:function(){return this.props.showMonthLabels?this.props.horizontal?Ws+dp:2*(Ws+dp):0}},{key:"getWeekdayLabelSize",value:function(){return this.props.showWeekdayLabels?this.props.horizontal?30:Ws*1.5:0}},{key:"getStartDate",value:function(){return Np(this.getEndDate(),-this.getDateDifferenceInDays()+1)}},{key:"getEndDate",value:function(){return VG(Qv(this.props.endDate))}},{key:"getStartDateWithEmptyDays",value:function(){return Np(this.getStartDate(),-this.getNumEmptyDaysAtStart())}},{key:"getNumEmptyDaysAtStart",value:function(){return this.getStartDate().getDay()}},{key:"getNumEmptyDaysAtEnd",value:function(){return Po-1-this.getEndDate().getDay()}},{key:"getWeekCount",value:function(){var i=this.getDateDifferenceInDays()+this.getNumEmptyDaysAtStart()+this.getNumEmptyDaysAtEnd();return Math.ceil(i/Po)}},{key:"getWeekWidth",value:function(){return Po*this.getSquareSizeWithGutter()}},{key:"getWidth",value:function(){return this.getWeekCount()*this.getSquareSizeWithGutter()-(this.props.gutterSize-this.getWeekdayLabelSize())}},{key:"getHeight",value:function(){return this.getWeekWidth()+(this.getMonthLabelSize()-this.props.gutterSize)+this.getWeekdayLabelSize()}},{key:"getValueForIndex",value:function(i){return this.valueCache[i]?this.valueCache[i].value:null}},{key:"getClassNameForIndex",value:function(i){return this.valueCache[i]?this.valueCache[i].className:this.props.classForValue(null)}},{key:"getTitleForIndex",value:function(i){return this.valueCache[i]?this.valueCache[i].title:this.props.titleForValue?this.props.titleForValue(null):null}},{key:"getTooltipDataAttrsForIndex",value:function(i){return this.valueCache[i]?this.valueCache[i].tooltipDataAttrs:this.getTooltipDataAttrsForValue({date:null,count:null})}},{key:"getTooltipDataAttrsForValue",value:function(i){var s=this.props.tooltipDataAttrs;return typeof s=="function"?s(i):s}},{key:"getTransformForWeek",value:function(i){return this.props.horizontal?"translate(".concat(i*this.getSquareSizeWithGutter(),", 0)"):"translate(0, ".concat(i*this.getSquareSizeWithGutter(),")")}},{key:"getTransformForWeekdayLabels",value:function(){return this.props.horizontal?"translate(".concat(Ws,", ").concat(this.getMonthLabelSize(),")"):null}},{key:"getTransformForMonthLabels",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", 0)"):"translate(".concat(this.getWeekWidth()+dp,", ").concat(this.getWeekdayLabelSize(),")")}},{key:"getTransformForAllWeeks",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", ").concat(this.getMonthLabelSize(),")"):"translate(0, ".concat(this.getWeekdayLabelSize(),")")}},{key:"getViewBox",value:function(){return this.props.horizontal?"0 0 ".concat(this.getWidth()," ").concat(this.getHeight()):"0 0 ".concat(this.getHeight()," ").concat(this.getWidth())}},{key:"getSquareCoordinates",value:function(i){return this.props.horizontal?[0,i*this.getSquareSizeWithGutter()]:[i*this.getSquareSizeWithGutter(),0]}},{key:"getWeekdayLabelCoordinates",value:function(i){return this.props.horizontal?[0,(i+1)*Ws+i*this.props.gutterSize]:[i*Ws+i*this.props.gutterSize,Ws]}},{key:"getMonthLabelCoordinates",value:function(i){if(this.props.horizontal)return[i*this.getSquareSizeWithGutter(),this.getMonthLabelSize()-dp];var s=-2;return[0,(i+1)*this.getSquareSizeWithGutter()+s]}},{key:"handleClick",value:function(i){this.props.onClick&&this.props.onClick(i)}},{key:"handleMouseOver",value:function(i,s){this.props.onMouseOver&&this.props.onMouseOver(i,s)}},{key:"handleMouseLeave",value:function(i,s){this.props.onMouseLeave&&this.props.onMouseLeave(i,s)}},{key:"renderSquare",value:function(i,s){var a=this,l=s<this.getNumEmptyDaysAtStart()||s>=this.getNumEmptyDaysAtStart()+this.getDateDifferenceInDays();if(l&&!this.props.showOutOfRangeDays)return null;var c=this.getSquareCoordinates(i),h=Xv(c,2),f=h[0],p=h[1],y=this.getValueForIndex(s),_=Ie.createElement("rect",s0({key:s,width:Ws,height:Ws,x:f,y:p,className:this.getClassNameForIndex(s),onClick:function(){return a.handleClick(y)},onMouseOver:function(E){return a.handleMouseOver(E,y)},onMouseLeave:function(E){return a.handleMouseLeave(E,y)}},this.getTooltipDataAttrsForIndex(s)),Ie.createElement("title",null,this.getTitleForIndex(s))),b=this.props.transformDayElement;return b?b(_,y,s):_}},{key:"renderWeek",value:function(i){var s=this;return Ie.createElement("g",{key:i,transform:this.getTransformForWeek(i),className:"".concat(Oo,"week")},Zv(Po).map(function(a){return s.renderSquare(a,i*Po+a)}))}},{key:"renderAllWeeks",value:function(){var i=this;return Zv(this.getWeekCount()).map(function(s){return i.renderWeek(s)})}},{key:"renderMonthLabels",value:function(){var i=this;if(!this.props.showMonthLabels)return null;var s=Zv(this.getWeekCount()-1);return s.map(function(a){var l=Np(i.getStartDateWithEmptyDays(),(a+1)*Po),c=i.getMonthLabelCoordinates(a),h=Xv(c,2),f=h[0],p=h[1];return l.getDate()>=1&&l.getDate()<=Po?Ie.createElement("text",{key:a,x:f,y:p,className:"".concat(Oo,"month-label")},i.props.monthLabels[l.getMonth()]):null})}},{key:"renderWeekdayLabels",value:function(){var i=this;return this.props.showWeekdayLabels?this.props.weekdayLabels.map(function(s,a){var l=i.getWeekdayLabelCoordinates(a),c=Xv(l,2),h=c[0],f=c[1],p="".concat(i.props.horizontal?"":"".concat(Oo,"small-text")," ").concat(Oo,"weekday-label");return a&1?Ie.createElement("text",{key:"".concat(h).concat(f),x:h,y:f,className:p},s):null}):null}},{key:"render",value:function(){return this.valueCache=this.getValueCache(this.props),Ie.createElement("svg",{className:"react-calendar-heatmap",viewBox:this.getViewBox()},Ie.createElement("g",{transform:this.getTransformForMonthLabels(),className:"".concat(Oo,"month-labels")},this.renderMonthLabels()),Ie.createElement("g",{transform:this.getTransformForAllWeeks(),className:"".concat(Oo,"all-weeks")},this.renderAllWeeks()),Ie.createElement("g",{transform:this.getTransformForWeekdayLabels(),className:"".concat(Oo,"weekday-labels")},this.renderWeekdayLabels()))}}]),t}(Ie.Component);vw.propTypes={values:he.arrayOf(he.shape({date:he.oneOfType([he.string,he.number,he.instanceOf(Date)]).isRequired}).isRequired).isRequired,numDays:he.number,startDate:he.oneOfType([he.string,he.number,he.instanceOf(Date)]),endDate:he.oneOfType([he.string,he.number,he.instanceOf(Date)]),gutterSize:he.number,horizontal:he.bool,showMonthLabels:he.bool,showWeekdayLabels:he.bool,showOutOfRangeDays:he.bool,tooltipDataAttrs:he.oneOfType([he.object,he.func]),titleForValue:he.func,classForValue:he.func,monthLabels:he.arrayOf(he.string),weekdayLabels:he.arrayOf(he.string),onClick:he.func,onMouseOver:he.func,onMouseLeave:he.func,transformDayElement:he.func};vw.defaultProps={numDays:null,startDate:jG(),endDate:new Date,gutterSize:1,horizontal:!0,showMonthLabels:!0,showWeekdayLabels:!1,showOutOfRangeDays:!1,tooltipDataAttrs:null,titleForValue:null,classForValue:function(t){return t?"color-filled":"color-empty"},monthLabels:NG,weekdayLabels:LG,onClick:null,onMouseOver:null,onMouseLeave:null,transformDayElement:null};const Nc=Math.min,Xo=Math.max,bm=Math.round,pp=Math.floor,ar=e=>({x:e,y:e}),BG={left:"right",right:"left",bottom:"top",top:"bottom"},UG={start:"end",end:"start"};function o0(e,t,n){return Xo(e,Nc(t,n))}function Ef(e,t){return typeof e=="function"?e(t):e}function sl(e){return e.split("-")[0]}function xf(e){return e.split("-")[1]}function cO(e){return e==="x"?"y":"x"}function _w(e){return e==="y"?"height":"width"}function Lc(e){return["top","bottom"].includes(sl(e))?"y":"x"}function bw(e){return cO(Lc(e))}function zG(e,t,n){n===void 0&&(n=!1);const i=xf(e),s=bw(e),a=_w(s);let l=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=wm(l)),[l,wm(l)]}function FG(e){const t=wm(e);return[l0(e),t,l0(t)]}function l0(e){return e.replace(/start|end/g,t=>UG[t])}function HG(e,t,n){const i=["left","right"],s=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:i:t?i:s;case"left":case"right":return t?a:l;default:return[]}}function qG(e,t,n,i){const s=xf(e);let a=HG(sl(e),n==="start",i);return s&&(a=a.map(l=>l+"-"+s),t&&(a=a.concat(a.map(l0)))),a}function wm(e){return e.replace(/left|right|bottom|top/g,t=>BG[t])}function WG(e){return{top:0,right:0,bottom:0,left:0,...e}}function uO(e){return typeof e!="number"?WG(e):{top:e,right:e,bottom:e,left:e}}function Tm(e){const{x:t,y:n,width:i,height:s}=e;return{width:i,height:s,top:n,left:t,right:t+i,bottom:n+s,x:t,y:n}}function mC(e,t,n){let{reference:i,floating:s}=e;const a=Lc(t),l=bw(t),c=_w(l),h=sl(t),f=a==="y",p=i.x+i.width/2-s.width/2,y=i.y+i.height/2-s.height/2,_=i[c]/2-s[c]/2;let b;switch(h){case"top":b={x:p,y:i.y-s.height};break;case"bottom":b={x:p,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y};break;case"left":b={x:i.x-s.width,y};break;default:b={x:i.x,y:i.y}}switch(xf(t)){case"start":b[l]-=_*(n&&f?-1:1);break;case"end":b[l]+=_*(n&&f?-1:1);break}return b}const $G=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:a=[],platform:l}=n,c=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y}=mC(f,i,h),_=i,b={},T=0;for(let E=0;E<c.length;E++){const{name:S,fn:C}=c[E],{x:V,y:j,data:W,reset:z}=await C({x:p,y,initialPlacement:i,placement:_,strategy:s,middlewareData:b,rects:f,platform:l,elements:{reference:e,floating:t}});p=V??p,y=j??y,b={...b,[S]:{...b[S],...W}},z&&T<=50&&(T++,typeof z=="object"&&(z.placement&&(_=z.placement),z.rects&&(f=z.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):z.rects),{x:p,y}=mC(f,_,h)),E=-1)}return{x:p,y,placement:_,strategy:s,middlewareData:b}};async function hO(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:a,rects:l,elements:c,strategy:h}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:y="floating",altBoundary:_=!1,padding:b=0}=Ef(t,e),T=uO(b),S=c[_?y==="floating"?"reference":"floating":y],C=Tm(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:h})),V=y==="floating"?{x:i,y:s,width:l.floating.width,height:l.floating.height}:l.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),W=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},z=Tm(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:V,offsetParent:j,strategy:h}):V);return{top:(C.top-z.top+T.top)/W.y,bottom:(z.bottom-C.bottom+T.bottom)/W.y,left:(C.left-z.left+T.left)/W.x,right:(z.right-C.right+T.right)/W.x}}const GG=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:s,rects:a,platform:l,elements:c,middlewareData:h}=t,{element:f,padding:p=0}=Ef(e,t)||{};if(f==null)return{};const y=uO(p),_={x:n,y:i},b=bw(s),T=_w(b),E=await l.getDimensions(f),S=b==="y",C=S?"top":"left",V=S?"bottom":"right",j=S?"clientHeight":"clientWidth",W=a.reference[T]+a.reference[b]-_[b]-a.floating[T],z=_[b]-a.reference[b],$=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let M=$?$[j]:0;(!M||!await(l.isElement==null?void 0:l.isElement($)))&&(M=c.floating[j]||a.floating[T]);const D=W/2-z/2,I=M/2-E[T]/2-1,B=Nc(y[C],I),N=Nc(y[V],I),U=B,L=M-E[T]-N,ft=M/2-E[T]/2+D,gt=o0(U,ft,L),K=!h.arrow&&xf(s)!=null&&ft!==gt&&a.reference[T]/2-(ft<U?B:N)-E[T]/2<0,et=K?ft<U?ft-U:ft-L:0;return{[b]:_[b]+et,data:{[b]:gt,centerOffset:ft-gt-et,...K&&{alignmentOffset:et}},reset:K}}}),KG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:a,rects:l,initialPlacement:c,platform:h,elements:f}=t,{mainAxis:p=!0,crossAxis:y=!0,fallbackPlacements:_,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:E=!0,...S}=Ef(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const C=sl(s),V=Lc(c),j=sl(c)===c,W=await(h.isRTL==null?void 0:h.isRTL(f.floating)),z=_||(j||!E?[wm(c)]:FG(c)),$=T!=="none";!_&&$&&z.push(...qG(c,E,T,W));const M=[c,...z],D=await hO(t,S),I=[];let B=((i=a.flip)==null?void 0:i.overflows)||[];if(p&&I.push(D[C]),y){const ft=zG(s,l,W);I.push(D[ft[0]],D[ft[1]])}if(B=[...B,{placement:s,overflows:I}],!I.every(ft=>ft<=0)){var N,U;const ft=(((N=a.flip)==null?void 0:N.index)||0)+1,gt=M[ft];if(gt)return{data:{index:ft,overflows:B},reset:{placement:gt}};let K=(U=B.filter(et=>et.overflows[0]<=0).sort((et,dt)=>et.overflows[1]-dt.overflows[1])[0])==null?void 0:U.placement;if(!K)switch(b){case"bestFit":{var L;const et=(L=B.filter(dt=>{if($){const xt=Lc(dt.placement);return xt===V||xt==="y"}return!0}).map(dt=>[dt.placement,dt.overflows.filter(xt=>xt>0).reduce((xt,H)=>xt+H,0)]).sort((dt,xt)=>dt[1]-xt[1])[0])==null?void 0:L[0];et&&(K=et);break}case"initialPlacement":K=c;break}if(s!==K)return{reset:{placement:K}}}return{}}}};async function YG(e,t){const{placement:n,platform:i,elements:s}=e,a=await(i.isRTL==null?void 0:i.isRTL(s.floating)),l=sl(n),c=xf(n),h=Lc(n)==="y",f=["left","top"].includes(l)?-1:1,p=a&&h?-1:1,y=Ef(t,e);let{mainAxis:_,crossAxis:b,alignmentAxis:T}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof T=="number"&&(b=c==="end"?T*-1:T),h?{x:b*p,y:_*f}:{x:_*f,y:b*p}}const XG=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:a,placement:l,middlewareData:c}=t,h=await YG(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:s+h.x,y:a+h.y,data:{...h,placement:l}}}}},QG=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:S=>{let{x:C,y:V}=S;return{x:C,y:V}}},...h}=Ef(e,t),f={x:n,y:i},p=await hO(t,h),y=Lc(sl(s)),_=cO(y);let b=f[_],T=f[y];if(a){const S=_==="y"?"top":"left",C=_==="y"?"bottom":"right",V=b+p[S],j=b-p[C];b=o0(V,b,j)}if(l){const S=y==="y"?"top":"left",C=y==="y"?"bottom":"right",V=T+p[S],j=T-p[C];T=o0(V,T,j)}const E=c.fn({...t,[_]:b,[y]:T});return{...E,data:{x:E.x-n,y:E.y-i,enabled:{[_]:a,[y]:l}}}}}};function sg(){return typeof window<"u"}function Qc(e){return fO(e)?(e.nodeName||"").toLowerCase():"#document"}function ji(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function mr(e){var t;return(t=(fO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function fO(e){return sg()?e instanceof Node||e instanceof ji(e).Node:!1}function As(e){return sg()?e instanceof Element||e instanceof ji(e).Element:!1}function fr(e){return sg()?e instanceof HTMLElement||e instanceof ji(e).HTMLElement:!1}function gC(e){return!sg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ji(e).ShadowRoot}function Af(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=Rs(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(s)}function ZG(e){return["table","td","th"].includes(Qc(e))}function rg(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ww(e){const t=Tw(),n=As(e)?Rs(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function JG(e){let t=Xa(e);for(;fr(t)&&!Vc(t);){if(ww(t))return t;if(rg(t))return null;t=Xa(t)}return null}function Tw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vc(e){return["html","body","#document"].includes(Qc(e))}function Rs(e){return ji(e).getComputedStyle(e)}function ag(e){return As(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xa(e){if(Qc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||gC(e)&&e.host||mr(e);return gC(t)?t.host:t}function dO(e){const t=Xa(e);return Vc(t)?e.ownerDocument?e.ownerDocument.body:e.body:fr(t)&&Af(t)?t:dO(t)}function sf(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=dO(e),a=s===((i=e.ownerDocument)==null?void 0:i.body),l=ji(s);if(a){const c=c0(l);return t.concat(l,l.visualViewport||[],Af(s)?s:[],c&&n?sf(c):[])}return t.concat(s,sf(s,[],n))}function c0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pO(e){const t=Rs(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=fr(e),a=s?e.offsetWidth:n,l=s?e.offsetHeight:i,c=bm(n)!==a||bm(i)!==l;return c&&(n=a,i=l),{width:n,height:i,$:c}}function Sw(e){return As(e)?e:e.contextElement}function bc(e){const t=Sw(e);if(!fr(t))return ar(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:a}=pO(t);let l=(a?bm(n.width):n.width)/i,c=(a?bm(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const tK=ar(0);function mO(e){const t=ji(e);return!Tw()||!t.visualViewport?tK:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function eK(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ji(e)?!1:t}function rl(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=Sw(e);let l=ar(1);t&&(i?As(i)&&(l=bc(i)):l=bc(e));const c=eK(a,n,i)?mO(a):ar(0);let h=(s.left+c.x)/l.x,f=(s.top+c.y)/l.y,p=s.width/l.x,y=s.height/l.y;if(a){const _=ji(a),b=i&&As(i)?ji(i):i;let T=_,E=c0(T);for(;E&&i&&b!==T;){const S=bc(E),C=E.getBoundingClientRect(),V=Rs(E),j=C.left+(E.clientLeft+parseFloat(V.paddingLeft))*S.x,W=C.top+(E.clientTop+parseFloat(V.paddingTop))*S.y;h*=S.x,f*=S.y,p*=S.x,y*=S.y,h+=j,f+=W,T=ji(E),E=c0(T)}}return Tm({width:p,height:y,x:h,y:f})}function Ew(e,t){const n=ag(e).scrollLeft;return t?t.left+n:rl(mr(e)).left+n}function gO(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=i.left+t.scrollLeft-(n?0:Ew(e,i)),a=i.top+t.scrollTop;return{x:s,y:a}}function nK(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const a=s==="fixed",l=mr(i),c=t?rg(t.floating):!1;if(i===l||c&&a)return n;let h={scrollLeft:0,scrollTop:0},f=ar(1);const p=ar(0),y=fr(i);if((y||!y&&!a)&&((Qc(i)!=="body"||Af(l))&&(h=ag(i)),fr(i))){const b=rl(i);f=bc(i),p.x=b.x+i.clientLeft,p.y=b.y+i.clientTop}const _=l&&!y&&!a?gO(l,h,!0):ar(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-h.scrollLeft*f.x+p.x+_.x,y:n.y*f.y-h.scrollTop*f.y+p.y+_.y}}function iK(e){return Array.from(e.getClientRects())}function sK(e){const t=mr(e),n=ag(e),i=e.ownerDocument.body,s=Xo(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=Xo(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let l=-n.scrollLeft+Ew(e);const c=-n.scrollTop;return Rs(i).direction==="rtl"&&(l+=Xo(t.clientWidth,i.clientWidth)-s),{width:s,height:a,x:l,y:c}}function rK(e,t){const n=ji(e),i=mr(e),s=n.visualViewport;let a=i.clientWidth,l=i.clientHeight,c=0,h=0;if(s){a=s.width,l=s.height;const f=Tw();(!f||f&&t==="fixed")&&(c=s.offsetLeft,h=s.offsetTop)}return{width:a,height:l,x:c,y:h}}function aK(e,t){const n=rl(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,a=fr(e)?bc(e):ar(1),l=e.clientWidth*a.x,c=e.clientHeight*a.y,h=s*a.x,f=i*a.y;return{width:l,height:c,x:h,y:f}}function yC(e,t,n){let i;if(t==="viewport")i=rK(e,n);else if(t==="document")i=sK(mr(e));else if(As(t))i=aK(t,n);else{const s=mO(e);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Tm(i)}function yO(e,t){const n=Xa(e);return n===t||!As(n)||Vc(n)?!1:Rs(n).position==="fixed"||yO(n,t)}function oK(e,t){const n=t.get(e);if(n)return n;let i=sf(e,[],!1).filter(c=>As(c)&&Qc(c)!=="body"),s=null;const a=Rs(e).position==="fixed";let l=a?Xa(e):e;for(;As(l)&&!Vc(l);){const c=Rs(l),h=ww(l);!h&&c.position==="fixed"&&(s=null),(a?!h&&!s:!h&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Af(l)&&!h&&yO(e,l))?i=i.filter(p=>p!==l):s=c,l=Xa(l)}return t.set(e,i),i}function lK(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const l=[...n==="clippingAncestors"?rg(t)?[]:oK(t,this._c):[].concat(n),i],c=l[0],h=l.reduce((f,p)=>{const y=yC(t,p,s);return f.top=Xo(y.top,f.top),f.right=Nc(y.right,f.right),f.bottom=Nc(y.bottom,f.bottom),f.left=Xo(y.left,f.left),f},yC(t,c,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function cK(e){const{width:t,height:n}=pO(e);return{width:t,height:n}}function uK(e,t,n){const i=fr(t),s=mr(t),a=n==="fixed",l=rl(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const h=ar(0);if(i||!i&&!a)if((Qc(t)!=="body"||Af(s))&&(c=ag(t)),i){const _=rl(t,!0,a,t);h.x=_.x+t.clientLeft,h.y=_.y+t.clientTop}else s&&(h.x=Ew(s));const f=s&&!i&&!a?gO(s,c):ar(0),p=l.left+c.scrollLeft-h.x-f.x,y=l.top+c.scrollTop-h.y-f.y;return{x:p,y,width:l.width,height:l.height}}function Jv(e){return Rs(e).position==="static"}function vC(e,t){if(!fr(e)||Rs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return mr(e)===n&&(n=n.ownerDocument.body),n}function vO(e,t){const n=ji(e);if(rg(e))return n;if(!fr(e)){let s=Xa(e);for(;s&&!Vc(s);){if(As(s)&&!Jv(s))return s;s=Xa(s)}return n}let i=vC(e,t);for(;i&&ZG(i)&&Jv(i);)i=vC(i,t);return i&&Vc(i)&&Jv(i)&&!ww(i)?n:i||JG(e)||n}const hK=async function(e){const t=this.getOffsetParent||vO,n=this.getDimensions,i=await n(e.floating);return{reference:uK(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function fK(e){return Rs(e).direction==="rtl"}const dK={convertOffsetParentRelativeRectToViewportRelativeRect:nK,getDocumentElement:mr,getClippingRect:lK,getOffsetParent:vO,getElementRects:hK,getClientRects:iK,getDimensions:cK,getScale:bc,isElement:As,isRTL:fK};function _O(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function pK(e,t){let n=null,i;const s=mr(e);function a(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function l(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),a();const f=e.getBoundingClientRect(),{left:p,top:y,width:_,height:b}=f;if(c||t(),!_||!b)return;const T=pp(y),E=pp(s.clientWidth-(p+_)),S=pp(s.clientHeight-(y+b)),C=pp(p),j={rootMargin:-T+"px "+-E+"px "+-S+"px "+-C+"px",threshold:Xo(0,Nc(1,h))||1};let W=!0;function z($){const M=$[0].intersectionRatio;if(M!==h){if(!W)return l();M?l(!1,M):i=setTimeout(()=>{l(!1,1e-7)},1e3)}M===1&&!_O(f,e.getBoundingClientRect())&&l(),W=!1}try{n=new IntersectionObserver(z,{...j,root:s.ownerDocument})}catch{n=new IntersectionObserver(z,j)}n.observe(e)}return l(!0),a}function mK(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,f=Sw(e),p=s||a?[...f?sf(f):[],...sf(t)]:[];p.forEach(C=>{s&&C.addEventListener("scroll",n,{passive:!0}),a&&C.addEventListener("resize",n)});const y=f&&c?pK(f,n):null;let _=-1,b=null;l&&(b=new ResizeObserver(C=>{let[V]=C;V&&V.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var j;(j=b)==null||j.observe(t)})),n()}),f&&!h&&b.observe(f),b.observe(t));let T,E=h?rl(e):null;h&&S();function S(){const C=rl(e);E&&!_O(E,C)&&n(),E=C,T=requestAnimationFrame(S)}return n(),()=>{var C;p.forEach(V=>{s&&V.removeEventListener("scroll",n),a&&V.removeEventListener("resize",n)}),y==null||y(),(C=b)==null||C.disconnect(),b=null,h&&cancelAnimationFrame(T)}}const gK=XG,yK=QG,vK=KG,_K=GG,_C=(e,t,n)=>{const i=new Map,s={platform:dK,...n},a={...s.platform,_c:i};return $G(e,t,{...s,platform:a})};var t_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var bC;function bK(){return bC||(bC=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=s(a,i(c)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)t.call(a,c)&&a[c]&&(l=s(l,c));return l}function s(a,l){return l?a?a+" "+l:a+l:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(t_)),t_.exports}var wK=bK();const u0=DC(wK);var wC={};const TK="react-tooltip-core-styles",SK="react-tooltip-base-styles",TC={core:!1,base:!1};function SC({css:e,id:t=SK,type:n="base",ref:i}){var s,a;if(!e||typeof document>"u"||TC[n]||n==="core"&&typeof process<"u"&&(!((s=process==null?void 0:wC)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((a=process==null?void 0:wC)===null||a===void 0)&&a.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=TK),i||(i={});const{insertAt:l}=i;if(document.getElementById(t))return;const c=document.head||document.getElementsByTagName("head")[0],h=document.createElement("style");h.id=t,h.type="text/css",l==="top"&&c.firstChild?c.insertBefore(h,c.firstChild):c.appendChild(h),h.styleSheet?h.styleSheet.cssText=e:h.appendChild(document.createTextNode(e)),TC[n]=!0}const EC=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:i="top",offset:s=10,strategy:a="absolute",middlewares:l=[gK(Number(s)),vK({fallbackAxisSideDirection:"start"}),yK({padding:5})],border:c})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};const h=l;return n?(h.push(_K({element:n,padding:5})),_C(e,t,{placement:i,strategy:a,middleware:h}).then(({x:f,y:p,placement:y,middlewareData:_})=>{var b,T;const E={left:`${f}px`,top:`${p}px`,border:c},{x:S,y:C}=(b=_.arrow)!==null&&b!==void 0?b:{x:0,y:0},V=(T={top:"bottom",right:"left",bottom:"top",left:"right"}[y.split("-")[0]])!==null&&T!==void 0?T:"bottom",j=c&&{borderBottom:c,borderRight:c};let W=0;if(c){const z=`${c}`.match(/(\d+)px/);W=z!=null&&z[1]?Number(z[1]):1}return{tooltipStyles:E,tooltipArrowStyles:{left:S!=null?`${S}px`:"",top:C!=null?`${C}px`:"",right:"",bottom:"",...j,[V]:`-${4+W}px`},place:y}})):_C(e,t,{placement:"bottom",strategy:a,middleware:h}).then(({x:f,y:p,placement:y})=>({tooltipStyles:{left:`${f}px`,top:`${p}px`},tooltipArrowStyles:{},place:y}))},xC=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),AC=(e,t,n)=>{let i=null;const s=function(...a){const l=()=>{i=null};!i&&(e.apply(this,a),i=setTimeout(l,t))};return s.cancel=()=>{i&&(clearTimeout(i),i=null)},s},RC=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",h0=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((s,a)=>h0(s,t[a]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!RC(e)||!RC(t))return e===t;const n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(s=>h0(e[s],t[s]))},EK=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const i=t.getPropertyValue(n);return i==="auto"||i==="scroll"})},CC=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(EK(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},xK=typeof window<"u"?P.useLayoutEffect:P.useEffect,is=e=>{e.current&&(clearTimeout(e.current),e.current=null)},AK="DEFAULT_TOOLTIP_ID",RK={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},CK=P.createContext({getTooltipData:()=>RK});function bO(e=AK){return P.useContext(CK).getTooltipData(e)}var nc={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},e_={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const DK=({forwardRef:e,id:t,className:n,classNameArrow:i,variant:s="dark",anchorId:a,anchorSelect:l,place:c="top",offset:h=10,events:f=["hover"],openOnClick:p=!1,positionStrategy:y="absolute",middlewares:_,wrapper:b,delayShow:T=0,delayHide:E=0,float:S=!1,hidden:C=!1,noArrow:V=!1,clickable:j=!1,closeOnEsc:W=!1,closeOnScroll:z=!1,closeOnResize:$=!1,openEvents:M,closeEvents:D,globalCloseEvents:I,imperativeModeOnly:B,style:N,position:U,afterShow:L,afterHide:ft,disableTooltip:gt,content:K,contentWrapperRef:et,isOpen:dt,defaultIsOpen:xt=!1,setIsOpen:H,activeAnchor:nt,setActiveAnchor:ht,border:lt,opacity:yt,arrowColor:It,role:St="tooltip"})=>{var me;const Ft=P.useRef(null),He=P.useRef(null),Oe=P.useRef(null),tn=P.useRef(null),ei=P.useRef(null),[Sn,ni]=P.useState({tooltipStyles:{},tooltipArrowStyles:{},place:c}),[De,us]=P.useState(!1),[qe,Ei]=P.useState(!1),[fe,ii]=P.useState(null),si=P.useRef(!1),hs=P.useRef(null),{anchorRefs:hi,setActiveAnchor:Bi}=bO(t),zn=P.useRef(!1),[it,pt]=P.useState([]),Ot=P.useRef(!1),Rt=p||f.includes("click"),Tt=Rt||(M==null?void 0:M.click)||(M==null?void 0:M.dblclick)||(M==null?void 0:M.mousedown),Nt=M?{...M}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!M&&Rt&&Object.assign(Nt,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Wt=D?{...D}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!D&&Rt&&Object.assign(Wt,{mouseleave:!1,blur:!1,mouseout:!1});const qt=I?{...I}:{escape:W||!1,scroll:z||!1,resize:$||!1,clickOutsideAnchor:Tt||!1};B&&(Object.assign(Nt,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Wt,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(qt,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),xK(()=>(Ot.current=!0,()=>{Ot.current=!1}),[]);const Lt=ut=>{Ot.current&&(ut&&Ei(!0),setTimeout(()=>{Ot.current&&(H==null||H(ut),dt===void 0&&us(ut))},10))};P.useEffect(()=>{if(dt===void 0)return()=>null;dt&&Ei(!0);const ut=setTimeout(()=>{us(dt)},10);return()=>{clearTimeout(ut)}},[dt]),P.useEffect(()=>{if(De!==si.current)if(is(ei),si.current=De,De)L==null||L();else{const ut=(_t=>{const bt=_t.match(/^([\d.]+)(ms|s)$/);if(!bt)return 0;const[,de,Ye]=bt;return Number(de)*(Ye==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));ei.current=setTimeout(()=>{Ei(!1),ii(null),ft==null||ft()},ut+25)}},[De]);const Kt=ut=>{ni(_t=>h0(_t,ut)?_t:ut)},Be=(ut=T)=>{is(Oe),qe?Lt(!0):Oe.current=setTimeout(()=>{Lt(!0)},ut)},pn=(ut=E)=>{is(tn),tn.current=setTimeout(()=>{zn.current||Lt(!1)},ut)},fi=ut=>{var _t;if(!ut)return;const bt=(_t=ut.currentTarget)!==null&&_t!==void 0?_t:ut.target;if(!(bt!=null&&bt.isConnected))return ht(null),void Bi({current:null});T?Be():Lt(!0),ht(bt),Bi({current:bt}),is(tn)},ri=()=>{j?pn(E||100):E?pn():Lt(!1),is(Oe)},We=({x:ut,y:_t})=>{var bt;const de={getBoundingClientRect:()=>({x:ut,y:_t,width:0,height:0,top:_t,left:ut,right:ut,bottom:_t})};EC({place:(bt=fe==null?void 0:fe.place)!==null&&bt!==void 0?bt:c,offset:h,elementReference:de,tooltipReference:Ft.current,tooltipArrowReference:He.current,strategy:y,middlewares:_,border:lt}).then(Ye=>{Kt(Ye)})},Re=ut=>{if(!ut)return;const _t=ut,bt={x:_t.clientX,y:_t.clientY};We(bt),hs.current=bt},Ne=ut=>{var _t;if(!De)return;const bt=ut.target;bt.isConnected&&(!((_t=Ft.current)===null||_t===void 0)&&_t.contains(bt)||[document.querySelector(`[id='${a}']`),...it].some(de=>de==null?void 0:de.contains(bt))||(Lt(!1),is(Oe)))},$e=AC(fi,50),ce=AC(ri,50),Ge=ut=>{ce.cancel(),$e(ut)},Et=()=>{$e.cancel(),ce()},$t=P.useCallback(()=>{var ut,_t;const bt=(ut=fe==null?void 0:fe.position)!==null&&ut!==void 0?ut:U;bt?We(bt):S?hs.current&&We(hs.current):nt!=null&&nt.isConnected&&EC({place:(_t=fe==null?void 0:fe.place)!==null&&_t!==void 0?_t:c,offset:h,elementReference:nt,tooltipReference:Ft.current,tooltipArrowReference:He.current,strategy:y,middlewares:_,border:lt}).then(de=>{Ot.current&&Kt(de)})},[De,nt,K,N,c,fe==null?void 0:fe.place,h,y,U,fe==null?void 0:fe.position,S]);P.useEffect(()=>{var ut,_t;const bt=new Set(hi);it.forEach(Yt=>{gt!=null&&gt(Yt)||bt.add({current:Yt})});const de=document.querySelector(`[id='${a}']`);de&&!(gt!=null&&gt(de))&&bt.add({current:de});const Ye=()=>{Lt(!1)},di=CC(nt),mn=CC(Ft.current);qt.scroll&&(window.addEventListener("scroll",Ye),di==null||di.addEventListener("scroll",Ye),mn==null||mn.addEventListener("scroll",Ye));let on=null;qt.resize?window.addEventListener("resize",Ye):nt&&Ft.current&&(on=mK(nt,Ft.current,$t,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const ln=Yt=>{Yt.key==="Escape"&&Lt(!1)};qt.escape&&window.addEventListener("keydown",ln),qt.clickOutsideAnchor&&window.addEventListener("click",Ne);const ue=[],Fn=Yt=>!!(Yt!=null&&Yt.target&&(nt!=null&&nt.contains(Yt.target))),zi=Yt=>{De&&Fn(Yt)||fi(Yt)},Fi=Yt=>{De&&Fn(Yt)&&ri()},En=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Le=["click","dblclick","mousedown","mouseup"];Object.entries(Nt).forEach(([Yt,mi])=>{mi&&(En.includes(Yt)?ue.push({event:Yt,listener:Ge}):Le.includes(Yt)&&ue.push({event:Yt,listener:zi}))}),Object.entries(Wt).forEach(([Yt,mi])=>{mi&&(En.includes(Yt)?ue.push({event:Yt,listener:Et}):Le.includes(Yt)&&ue.push({event:Yt,listener:Fi}))}),S&&ue.push({event:"pointermove",listener:Re});const ta=()=>{zn.current=!0},gr=()=>{zn.current=!1,ri()},pi=j&&(Wt.mouseout||Wt.mouseleave);return pi&&((ut=Ft.current)===null||ut===void 0||ut.addEventListener("mouseover",ta),(_t=Ft.current)===null||_t===void 0||_t.addEventListener("mouseout",gr)),ue.forEach(({event:Yt,listener:mi})=>{bt.forEach(ea=>{var xi;(xi=ea.current)===null||xi===void 0||xi.addEventListener(Yt,mi)})}),()=>{var Yt,mi;qt.scroll&&(window.removeEventListener("scroll",Ye),di==null||di.removeEventListener("scroll",Ye),mn==null||mn.removeEventListener("scroll",Ye)),qt.resize?window.removeEventListener("resize",Ye):on==null||on(),qt.clickOutsideAnchor&&window.removeEventListener("click",Ne),qt.escape&&window.removeEventListener("keydown",ln),pi&&((Yt=Ft.current)===null||Yt===void 0||Yt.removeEventListener("mouseover",ta),(mi=Ft.current)===null||mi===void 0||mi.removeEventListener("mouseout",gr)),ue.forEach(({event:ea,listener:xi})=>{bt.forEach(dl=>{var Hi;(Hi=dl.current)===null||Hi===void 0||Hi.removeEventListener(ea,xi)})})}},[nt,$t,qe,hi,it,M,D,I,Rt,T,E]),P.useEffect(()=>{var ut,_t;let bt=(_t=(ut=fe==null?void 0:fe.anchorSelect)!==null&&ut!==void 0?ut:l)!==null&&_t!==void 0?_t:"";!bt&&t&&(bt=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const de=new MutationObserver(Ye=>{const di=[],mn=[];Ye.forEach(on=>{if(on.type==="attributes"&&on.attributeName==="data-tooltip-id"&&(on.target.getAttribute("data-tooltip-id")===t?di.push(on.target):on.oldValue===t&&mn.push(on.target)),on.type==="childList"){if(nt){const ln=[...on.removedNodes].filter(ue=>ue.nodeType===1);if(bt)try{mn.push(...ln.filter(ue=>ue.matches(bt))),mn.push(...ln.flatMap(ue=>[...ue.querySelectorAll(bt)]))}catch{}ln.some(ue=>{var Fn;return!!(!((Fn=ue==null?void 0:ue.contains)===null||Fn===void 0)&&Fn.call(ue,nt))&&(Ei(!1),Lt(!1),ht(null),is(Oe),is(tn),!0)})}if(bt)try{const ln=[...on.addedNodes].filter(ue=>ue.nodeType===1);di.push(...ln.filter(ue=>ue.matches(bt))),di.push(...ln.flatMap(ue=>[...ue.querySelectorAll(bt)]))}catch{}}}),(di.length||mn.length)&&pt(on=>[...on.filter(ln=>!mn.includes(ln)),...di])});return de.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{de.disconnect()}},[t,l,fe==null?void 0:fe.anchorSelect,nt]),P.useEffect(()=>{$t()},[$t]),P.useEffect(()=>{if(!(et!=null&&et.current))return()=>null;const ut=new ResizeObserver(()=>{setTimeout(()=>$t())});return ut.observe(et.current),()=>{ut.disconnect()}},[K,et==null?void 0:et.current]),P.useEffect(()=>{var ut;const _t=document.querySelector(`[id='${a}']`),bt=[...it,_t];nt&&bt.includes(nt)||ht((ut=it[0])!==null&&ut!==void 0?ut:_t)},[a,it,nt]),P.useEffect(()=>(xt&&Lt(!0),()=>{is(Oe),is(tn)}),[]),P.useEffect(()=>{var ut;let _t=(ut=fe==null?void 0:fe.anchorSelect)!==null&&ut!==void 0?ut:l;if(!_t&&t&&(_t=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),_t)try{const bt=Array.from(document.querySelectorAll(_t));pt(bt)}catch{pt([])}},[t,l,fe==null?void 0:fe.anchorSelect]),P.useEffect(()=>{Oe.current&&(is(Oe),Be(T))},[T]);const Ke=(me=fe==null?void 0:fe.content)!==null&&me!==void 0?me:K,Ui=De&&Object.keys(Sn.tooltipStyles).length>0;return P.useImperativeHandle(e,()=>({open:ut=>{if(ut!=null&&ut.anchorSelect)try{document.querySelector(ut.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${ut.anchorSelect}" is not a valid CSS selector`)}ii(ut??null),ut!=null&&ut.delay?Be(ut.delay):Lt(!0)},close:ut=>{ut!=null&&ut.delay?pn(ut.delay):Lt(!1)},activeAnchor:nt,place:Sn.place,isOpen:!!(qe&&!C&&Ke&&Ui)})),qe&&!C&&Ke?Ie.createElement(b,{id:t,role:St,className:u0("react-tooltip",nc.tooltip,e_.tooltip,e_[s],n,`react-tooltip__place-${Sn.place}`,nc[Ui?"show":"closing"],Ui?"react-tooltip__show":"react-tooltip__closing",y==="fixed"&&nc.fixed,j&&nc.clickable),onTransitionEnd:ut=>{is(ei),De||ut.propertyName!=="opacity"||(Ei(!1),ii(null),ft==null||ft())},style:{...N,...Sn.tooltipStyles,opacity:yt!==void 0&&Ui?yt:void 0},ref:Ft},Ke,Ie.createElement(b,{className:u0("react-tooltip-arrow",nc.arrow,e_.arrow,i,V&&nc.noArrow),style:{...Sn.tooltipArrowStyles,background:It?`linear-gradient(to right bottom, transparent 50%, ${It} 50%)`:void 0},ref:He})):null},kK=({content:e})=>Ie.createElement("span",{dangerouslySetInnerHTML:{__html:e}});Ie.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:i,html:s,render:a,className:l,classNameArrow:c,variant:h="dark",place:f="top",offset:p=10,wrapper:y="div",children:_=null,events:b=["hover"],openOnClick:T=!1,positionStrategy:E="absolute",middlewares:S,delayShow:C=0,delayHide:V=0,float:j=!1,hidden:W=!1,noArrow:z=!1,clickable:$=!1,closeOnEsc:M=!1,closeOnScroll:D=!1,closeOnResize:I=!1,openEvents:B,closeEvents:N,globalCloseEvents:U,imperativeModeOnly:L=!1,style:ft,position:gt,isOpen:K,defaultIsOpen:et=!1,disableStyleInjection:dt=!1,border:xt,opacity:H,arrowColor:nt,setIsOpen:ht,afterShow:lt,afterHide:yt,disableTooltip:It,role:St="tooltip"},me)=>{const[Ft,He]=P.useState(i),[Oe,tn]=P.useState(s),[ei,Sn]=P.useState(f),[ni,De]=P.useState(h),[us,qe]=P.useState(p),[Ei,fe]=P.useState(C),[ii,si]=P.useState(V),[hs,hi]=P.useState(j),[Bi,zn]=P.useState(W),[it,pt]=P.useState(y),[Ot,Rt]=P.useState(b),[Tt,Nt]=P.useState(E),[Wt,qt]=P.useState(null),[Lt,Kt]=P.useState(null),Be=P.useRef(dt),{anchorRefs:pn,activeAnchor:fi}=bO(e),ri=ce=>ce==null?void 0:ce.getAttributeNames().reduce((Ge,Et)=>{var $t;return Et.startsWith("data-tooltip-")&&(Ge[Et.replace(/^data-tooltip-/,"")]=($t=ce==null?void 0:ce.getAttribute(Et))!==null&&$t!==void 0?$t:null),Ge},{}),We=ce=>{const Ge={place:Et=>{var $t;Sn(($t=Et)!==null&&$t!==void 0?$t:f)},content:Et=>{He(Et??i)},html:Et=>{tn(Et??s)},variant:Et=>{var $t;De(($t=Et)!==null&&$t!==void 0?$t:h)},offset:Et=>{qe(Et===null?p:Number(Et))},wrapper:Et=>{var $t;pt(($t=Et)!==null&&$t!==void 0?$t:y)},events:Et=>{const $t=Et==null?void 0:Et.split(" ");Rt($t??b)},"position-strategy":Et=>{var $t;Nt(($t=Et)!==null&&$t!==void 0?$t:E)},"delay-show":Et=>{fe(Et===null?C:Number(Et))},"delay-hide":Et=>{si(Et===null?V:Number(Et))},float:Et=>{hi(Et===null?j:Et==="true")},hidden:Et=>{zn(Et===null?W:Et==="true")},"class-name":Et=>{qt(Et)}};Object.values(Ge).forEach(Et=>Et(null)),Object.entries(ce).forEach(([Et,$t])=>{var Ke;(Ke=Ge[Et])===null||Ke===void 0||Ke.call(Ge,$t)})};P.useEffect(()=>{He(i)},[i]),P.useEffect(()=>{tn(s)},[s]),P.useEffect(()=>{Sn(f)},[f]),P.useEffect(()=>{De(h)},[h]),P.useEffect(()=>{qe(p)},[p]),P.useEffect(()=>{fe(C)},[C]),P.useEffect(()=>{si(V)},[V]),P.useEffect(()=>{hi(j)},[j]),P.useEffect(()=>{zn(W)},[W]),P.useEffect(()=>{Nt(E)},[E]),P.useEffect(()=>{Be.current!==dt&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[dt]),P.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:dt==="core",disableBase:dt}}))},[]),P.useEffect(()=>{var ce;const Ge=new Set(pn);let Et=n;if(!Et&&e&&(Et=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Et)try{document.querySelectorAll(Et).forEach(_t=>{Ge.add({current:_t})})}catch{console.warn(`[react-tooltip] "${Et}" is not a valid CSS selector`)}const $t=document.querySelector(`[id='${t}']`);if($t&&Ge.add({current:$t}),!Ge.size)return()=>null;const Ke=(ce=Lt??$t)!==null&&ce!==void 0?ce:fi.current,Ui=new MutationObserver(_t=>{_t.forEach(bt=>{var de;if(!Ke||bt.type!=="attributes"||!(!((de=bt.attributeName)===null||de===void 0)&&de.startsWith("data-tooltip-")))return;const Ye=ri(Ke);We(Ye)})}),ut={attributes:!0,childList:!1,subtree:!1};if(Ke){const _t=ri(Ke);We(_t),Ui.observe(Ke,ut)}return()=>{Ui.disconnect()}},[pn,fi,Lt,t,n]),P.useEffect(()=>{ft!=null&&ft.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),xt&&!xC("border",`${xt}`)&&console.warn(`[react-tooltip] "${xt}" is not a valid \`border\`.`),ft!=null&&ft.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),H&&!xC("opacity",`${H}`)&&console.warn(`[react-tooltip] "${H}" is not a valid \`opacity\`.`)},[]);let Re=_;const Ne=P.useRef(null);if(a){const ce=a({content:(Lt==null?void 0:Lt.getAttribute("data-tooltip-content"))||Ft||null,activeAnchor:Lt});Re=ce?Ie.createElement("div",{ref:Ne,className:"react-tooltip-content-wrapper"},ce):null}else Ft&&(Re=Ft);Oe&&(Re=Ie.createElement(kK,{content:Oe}));const $e={forwardRef:me,id:e,anchorId:t,anchorSelect:n,className:u0(l,Wt),classNameArrow:c,content:Re,contentWrapperRef:Ne,place:ei,variant:ni,offset:us,wrapper:it,events:Ot,openOnClick:T,positionStrategy:Tt,middlewares:S,delayShow:Ei,delayHide:ii,float:hs,hidden:Bi,noArrow:z,clickable:$,closeOnEsc:M,closeOnScroll:D,closeOnResize:I,openEvents:B,closeEvents:N,globalCloseEvents:U,imperativeModeOnly:L,style:ft,position:gt,isOpen:K,defaultIsOpen:et,border:xt,opacity:H,arrowColor:nt,setIsOpen:ht,afterShow:lt,afterHide:yt,disableTooltip:It,activeAnchor:Lt,setActiveAnchor:ce=>Kt(ce),role:St};return Ie.createElement(DK,{...$e})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||SC({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||SC({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});Gc.register($h,Gh,_c,Xs,Ip,Pb,Ob,Mb,tq);const IK=()=>{const e=Ds(),[t,n]=P.useState(!0),[i,s]=P.useState(null),[a,l]=P.useState([]),[c,h]=P.useState({totalWorkouts:0,totalExercises:0,totalSets:0,totalWeight:0}),[f,p]=P.useState([]),[y,_]=P.useState(null),[b,T]=P.useState(null),[E,S]=P.useState(!1),[C,V]=P.useState(""),[j,W]=P.useState("all"),z=P.useRef(null),[$,M]=P.useState(new Date().getFullYear()),[D,I]=P.useState("3months"),[B,N]=P.useState([]),[U,L]=P.useState([]),[ft,gt]=P.useState("range"),[K,et]=P.useState("1-5"),[dt,xt]=P.useState(5),[H,nt]=P.useState(!1),ht=P.useRef(null),[lt,yt]=P.useState([]),[It,St]=P.useState([]),[me,Ft]=P.useState("3m"),[He,Oe]=P.useState([]),[tn,ei]=P.useState([]);P.useEffect(()=>{(async()=>{try{n(!0);const pt=ui.currentUser;if(!pt){s("You must be logged in to view progress data"),n(!1);return}const Ot=Es(xs,"users",pt.uid),Rt=await hr(Ot);if(Rt.exists()){const Nt=Rt.data().workouts||[];l(Nt),Sn(Nt),us(Nt)}else l([]),p([]),h({totalWorkouts:0,totalExercises:0,totalSets:0,totalWeight:0});n(!1)}catch(pt){console.error("Error fetching workout data:",pt),s("Failed to load progress data"),n(!1)}})()},[]);const Sn=it=>{var fi,ri;if(!it.length)return h({totalWorkouts:0,totalExercises:0,totalSets:0,totalWeight:0});const pt=[...it].sort((We,Re)=>{const Ne=$e=>{if(typeof $e=="string"&&$e.match(/^\d{4}-\d{2}-\d{2}$/)){const[ce,Ge,Et]=$e.split("-").map(Number);return new Date(ce,Ge-1,Et)}return typeof $e=="object"&&$e.seconds?new Date($e.seconds*1e3):new Date($e)};return Ne(We.date)-Ne(Re.date)}),Ot=it.length,Rt=new Set;let Tt=0,Nt=0;it.forEach(We=>{We.exercises&&Array.isArray(We.exercises)&&We.exercises.forEach(Re=>{var Ne;(Ne=Re.name)!=null&&Ne.trim()&&Rt.add(Re.name.trim().toLowerCase()),Re.sets&&Array.isArray(Re.sets)&&(Tt+=Re.sets.length,Re.sets.forEach($e=>{const ce=parseInt($e.reps)||0,Ge=$e.weight==="bodyweight"?155:parseInt($e.weight)||0;Nt+=ce*Ge}))})});const Wt=[...pt].reverse();(fi=Wt[0])!=null&&fi.date&&ni(Wt[0].date);const qt=new Date;if(qt.setDate(qt.getDate()-28),pt.length===1){h({totalWorkouts:Ot,totalExercises:Rt.size,totalSets:Tt,totalWeight:Nt});return}const Lt=(ri=pt[0].date)!=null&&ri.seconds?new Date(pt[0].date.seconds*1e3):new Date(pt[0].date),Kt=Math.max(1,Math.ceil((new Date-Lt)/(7*24*60*60*1e3))),Be=Math.min(4,Kt);+(Wt.filter(We=>{var Ne;const Re=(Ne=We.date)!=null&&Ne.seconds?new Date(We.date.seconds*1e3):new Date(We.date);return Kt>=4?Re>=qt:!0}).length/Be).toFixed(1),h({totalWorkouts:Ot,totalExercises:Rt.size,totalSets:Tt,totalWeight:Nt})},ni=it=>{if(!it)return"Unknown Date";if(typeof it=="object"&&it.seconds){const pt=new Date(it.seconds*1e3);return`${pt.getMonth()+1}/${pt.getDate()}/${pt.getFullYear()}`}if(typeof it=="string"&&it.match(/^\d{4}-\d{2}-\d{2}$/)){const[pt,Ot,Rt]=it.split("-");return`${Ot}/${Rt}/${pt}`}try{const pt=new Date(it);return`${pt.getMonth()+1}/${pt.getDate()}/${pt.getFullYear()}`}catch{return it}},De=it=>{if(typeof it=="object"&&it.seconds)return new Date(it.seconds*1e3);if(typeof it=="string"&&it.match(/^\d{4}-\d{2}-\d{2}$/)){const[pt,Ot,Rt]=it.split("-").map(Number);return new Date(pt,Ot-1,Rt)}return new Date(it)},us=it=>{const pt=new Map;it.forEach(Rt=>{Rt.exercises&&Array.isArray(Rt.exercises)&&Rt.exercises.forEach(Tt=>{var Wt,qt;const Nt=(Wt=Tt.name)==null?void 0:Wt.trim();Nt&&(!pt.has(Nt)||Tt.sets.length>pt.get(Nt).setCount)&&pt.set(Nt,{name:Nt,setCount:((qt=Tt.sets)==null?void 0:qt.length)||0,firstDate:pt.has(Nt)?pt.get(Nt).firstDate:new Date(Rt.date)})})});const Ot=Array.from(pt.values()).sort((Rt,Tt)=>Rt.name.localeCompare(Tt.name));p(Ot)},qe=it=>{it==="none"?_(null):(_({...it}),gt("all")),S(!1),V("")};P.useEffect(()=>{const it=pt=>{z.current&&!z.current.contains(pt.target)&&S(!1),ht.current&&!ht.current.contains(pt.target)&&nt(!1)};return document.addEventListener("mousedown",it),()=>{document.removeEventListener("mousedown",it)}},[]);const Ei=()=>{if(!y||!a.length)return;const it=[];[...a].sort((Ot,Rt)=>De(Ot.date)-De(Rt.date)).forEach(Ot=>{if(!Ot.exercises||!Array.isArray(Ot.exercises))return;const Rt=Ot.exercises.find(Wt=>{var qt;return((qt=Wt.name)==null?void 0:qt.trim().toLowerCase())===y.name.toLowerCase()});if(!Rt||!Rt.sets||!Array.isArray(Rt.sets))return;const Tt=Rt.sets.filter(Wt=>{const qt=parseInt(Wt.reps)||0;if(ft==="all")return!0;if(ft==="range"){const[Lt,Kt]=K.split("-").map(Number);return qt>=Lt&&qt<=Kt}else return qt===parseInt(ft)});if(Tt.length===0)return;const Nt=ni(Ot.date);Tt.forEach((Wt,qt)=>{const Lt=Wt.weight==="bodyweight"?155:parseInt(Wt.weight)||0,Kt=parseInt(Wt.reps)||0;Lt>0&&it.push({date:Nt,weight:Lt,reps:Kt,setLabel:`Set ${qt+1}`,rawDate:Ot.date})})}),it.sort((Ot,Rt)=>De(Ot.rawDate)-De(Rt.rawDate)),L(it)},fe=()=>{if(!y||!a.length){yt([]);return}const it=new Set,pt={};a.forEach(Tt=>{if(!Tt.exercises||!Array.isArray(Tt.exercises))return;const Nt=Tt.exercises.find(Kt=>{var Be;return((Be=Kt.name)==null?void 0:Be.trim().toLowerCase())===y.name.toLowerCase()});if(!Nt)return;let Wt;if(typeof Tt.date=="object"&&Tt.date.seconds)Wt=new Date(Tt.date.seconds*1e3);else if(typeof Tt.date=="string"&&Tt.date.match(/^\d{4}-\d{2}-\d{2}$/)){const[Kt,Be,pn]=Tt.date.split("-").map(Number);Wt=new Date(Kt,Be-1,pn)}else Wt=new Date(Tt.date);const qt=Wt.getFullYear();it.add(qt);const Lt=`${qt}-${String(Wt.getMonth()+1).padStart(2,"0")}-${String(Wt.getDate()).padStart(2,"0")}`;pt[Lt]||(pt[Lt]=0),Nt.sets&&Array.isArray(Nt.sets)?pt[Lt]+=Nt.sets.length:pt[Lt]+=1});const Ot=Array.from(it).sort();St(Ot),Ot.length>0&&!Ot.includes($)&&M(Ot[Ot.length-1]);const Rt=Object.entries(pt).filter(([Tt])=>Tt.startsWith($.toString())).map(([Tt,Nt])=>({date:Tt,count:Nt}));yt(Rt)};P.useEffect(()=>{y&&a.length>0?(Ei(),fe(),ii()):(L([]),yt([]),Oe([]))},[y,a,ft,K,dt]),P.useEffect(()=>{y&&a.length>0&&fe()},[$]),P.useEffect(()=>{const it=C?f.filter(pt=>pt.name.toLowerCase().includes(C.toLowerCase())):f;ei(it)},[C,f]);const ii=()=>{if(!y||!a.length){Oe([]);return}const pt=(()=>{const Tt=new Date;switch(me){case"1m":return new Date(Tt.setMonth(Tt.getMonth()-1));case"3m":return new Date(Tt.setMonth(Tt.getMonth()-3));case"6m":return new Date(Tt.setMonth(Tt.getMonth()-6));case"1y":return new Date(Tt.setFullYear(Tt.getFullYear()-1));case"all":return new Date(0);default:return new Date(Tt.setMonth(Tt.getMonth()-3))}})(),Rt=a.filter(Tt=>{var qt;let Nt;if(typeof Tt.date=="object"&&Tt.date.seconds)Nt=new Date(Tt.date.seconds*1e3);else if(typeof Tt.date=="string"&&Tt.date.match(/^\d{4}-\d{2}-\d{2}$/)){const[Lt,Kt,Be]=Tt.date.split("-").map(Number);Nt=new Date(Lt,Kt-1,Be)}else Nt=new Date(Tt.date);return((qt=Tt.exercises)==null?void 0:qt.some(Lt=>{var Kt;return((Kt=Lt.name)==null?void 0:Kt.trim().toLowerCase())===y.name.toLowerCase()}))&&Nt>=pt}).sort((Tt,Nt)=>De(Tt.date)-De(Nt.date)).map(Tt=>{const Nt=Tt.exercises.find(Lt=>{var Kt;return((Kt=Lt.name)==null?void 0:Kt.trim().toLowerCase())===y.name.toLowerCase()});let Wt=0;return Nt!=null&&Nt.sets&&Array.isArray(Nt.sets)&&(Wt=Nt.sets.reduce((Lt,Kt)=>{const Be=Kt.weight==="bodyweight"?155:parseInt(Kt.weight)||0,pn=parseInt(Kt.reps)||0;return Lt+Be*pn},0)),{date:ni(Tt.date),volume:Wt,rawDate:Tt.date}});Oe(Rt)};P.useEffect(()=>{y&&a.length>0&&ii()},[me,D,a,y]);const si=()=>{e("/progress-tracker")},hs=it=>{M(it)},hi=it=>!it||!it.count?"color-empty":it.count===1?"color-scale-1":it.count<=3?"color-scale-2":it.count<=5?"color-scale-3":"color-scale-4",Bi=it=>typeof it=="string"&&it.match(/^\d{4}-\d{2}-\d{2}$/)?new Date(it).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):it,zn=it=>{Ft(it)};return t?R.jsx(Xc,{}):i?R.jsx("div",{className:"progress-page-container error",children:i}):R.jsxs(Yo.div,{className:"progress-page-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[R.jsxs("div",{className:"progress-page-header",children:[R.jsxs("button",{className:"back-button",onClick:si,children:[R.jsx(yw,{size:20,style:{marginRight:"8px"}}),"Back"]}),R.jsx("h2",{children:"Strength Progress"})]}),R.jsxs("div",{className:"summary-metrics",children:[R.jsxs("div",{className:"metric-card",children:[R.jsx("h3",{children:"Total Workouts"}),R.jsx("div",{className:"metric-value",children:c.totalWorkouts}),R.jsx("div",{className:"metric-label",children:"workouts"})]}),R.jsxs("div",{className:"metric-card",children:[R.jsx("h3",{children:"Total Exercises"}),R.jsx("div",{className:"metric-value",children:c.totalExercises}),R.jsx("div",{className:"metric-label",children:"exercises"})]}),R.jsxs("div",{className:"metric-card",children:[R.jsx("h3",{children:"Total Sets"}),R.jsx("div",{className:"metric-value",children:c.totalSets}),R.jsx("div",{className:"metric-label",children:"sets"})]}),R.jsxs("div",{className:"metric-card",children:[R.jsx("h3",{children:"Total Weight"}),R.jsx("div",{className:"metric-value",children:c.totalWeight.toLocaleString()}),R.jsx("div",{className:"metric-label",children:"pounds lifted"})]})]}),R.jsxs("div",{className:"exercise-tracking-section",children:[R.jsx("h3",{className:"section-title",children:"Exercise Progress Tracking"}),R.jsx("p",{className:"selection-help",children:"Select an exercise to view detailed progress over time, including max weights and workout frequency."}),R.jsxs("div",{className:"exercise-dropdown-container",ref:z,children:[R.jsxs("div",{className:"exercise-dropdown-header",onClick:()=>S(!E),children:[R.jsx("span",{className:"selected-exercise-name",children:y?y.name:"Select an exercise"}),R.jsx("span",{className:"dropdown-arrow",style:{transform:E?"rotate(180deg)":"rotate(0deg)"},children:""})]}),E&&R.jsxs("div",{className:"exercise-dropdown-menu",children:[R.jsx("div",{className:"exercise-search-container",children:R.jsx("input",{type:"text",className:"exercise-search-input",placeholder:"Search exercises...",value:C,onChange:it=>V(it.target.value)})}),R.jsx("div",{className:"exercise-dropdown-items",children:tn.length>0?tn.map((it,pt)=>R.jsx("div",{className:`exercise-dropdown-item ${y===it?"selected":""}`,onClick:()=>qe(it),children:it.name},pt)):R.jsx("div",{className:"no-exercise-matches",children:"No matches found"})})]})]}),y?R.jsxs("div",{className:"exercise-details",children:[R.jsx("h3",{className:"exercise-title",children:y.name}),R.jsxs("div",{className:"charts-container",style:{flexDirection:"column"},children:[R.jsxs("div",{className:"exercise-chart-container",style:{width:"100%",marginBottom:"30px"},children:[R.jsxs("div",{className:"filter-controls",children:[R.jsxs("h4",{className:"chart-title",children:["Weight Progression",R.jsx("span",{className:`filter-badge ${ft==="all"?"all-reps":""}`,children:ft==="all"?"All Reps":`${ft} Reps`})]}),R.jsxs("div",{className:"filter-dropdown",children:[R.jsxs("div",{className:"filter-dropdown-header",onClick:()=>nt(!H),children:["Filter by Reps",R.jsx("span",{className:"dropdown-arrow",children:""})]}),H&&R.jsx("div",{className:"filter-dropdown-content",ref:ht,children:R.jsxs("div",{className:"filter-options",children:[R.jsxs("div",{className:"filter-column",children:[R.jsx("h4",{children:"Rep Ranges"}),R.jsxs("ul",{children:[R.jsx("li",{className:ft==="all"?"active":"",onClick:()=>{gt("all"),nt(!1)},children:"All Reps"}),["1-5","5-8","5-10","8-10","8-12","10-12","10-15","15-20"].map(it=>R.jsxs("li",{className:ft==="range"&&K===it?"active":"",onClick:()=>{gt("range"),et(it),nt(!1)},children:[it," Reps"]},it))]})]}),R.jsxs("div",{className:"filter-column",children:[R.jsx("h4",{children:"Specific Reps"}),R.jsx("ul",{className:"specific-reps-list",children:[1,2,3,4,5,6,7,8,9,10,12,15].map(it=>R.jsx("li",{className:ft===it.toString()?"active":"",onClick:()=>{gt(it.toString()),nt(!1)},children:it},it))})]})]})})]})]}),U.length>0?R.jsx("div",{style:{height:"280px"},children:R.jsx(Nb,{data:{labels:U.map(it=>it.date),datasets:[{label:"Weight (lbs)",data:U.map(it=>it.weight),borderColor:"rgba(255, 87, 34, 1)",backgroundColor:"rgba(255, 87, 34, 0.7)",fill:!1,tension:.3}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{boxWidth:15,font:{size:13}}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#333",bodyColor:"#555",bodyFont:{size:14},padding:12,cornerRadius:6,borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,displayColors:!1,callbacks:{title:function(it){return it[0].label},label:function(it){const pt=U[it.dataIndex];return[`Weight: ${pt.weight} lbs`,`Reps: ${pt.reps}`,`Set: ${pt.setLabel}`]}}}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:45}},y:{beginAtZero:!1,title:{display:!0,text:"Weight (lbs)",color:"#666",font:{size:13}},grid:{color:"rgba(0, 0, 0, 0.05)"}}},elements:{line:{tension:.3}}}})}):R.jsxs("div",{className:"no-chart-data",children:[R.jsx("p",{children:"No data available for the selected filters"}),R.jsx("p",{children:"Try selecting a different rep range or exercise"})]})]}),R.jsxs("div",{className:"exercise-volume-container",style:{width:"100%"},children:[R.jsxs("div",{className:"volume-header",children:[R.jsx("h3",{children:"Volume Progress"}),R.jsxs("div",{className:"date-range-selector",children:[R.jsx("button",{className:`range-button ${me==="1m"?"active":""}`,onClick:()=>zn("1m"),children:"1 Month"}),R.jsx("button",{className:`range-button ${me==="3m"?"active":""}`,onClick:()=>zn("3m"),children:"3 Months"}),R.jsx("button",{className:`range-button ${me==="6m"?"active":""}`,onClick:()=>zn("6m"),children:"6 Months"}),R.jsx("button",{className:`range-button ${me==="1y"?"active":""}`,onClick:()=>zn("1y"),children:"1 Year"})]})]}),R.jsx("p",{className:"volume-description",children:"Total workout volume (weight  reps) over time. Higher volume generally indicates increased work capacity and strength endurance."}),He&&He.length>0?R.jsx("div",{className:"volume-chart-wrapper",children:R.jsx(Aq,{data:{labels:He.map(it=>it.date),datasets:[{label:"Volume",data:He.map(it=>it.volume),backgroundColor:"rgba(255, 87, 34, 0.7)",borderColor:"rgba(255, 87, 34, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#333",bodyColor:"#555",bodyFont:{size:14},padding:12,cornerRadius:6,borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,displayColors:!1,callbacks:{label:function(it){return`Volume: ${it.parsed.y.toLocaleString()} lbs`}}}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,title:{display:!0,text:"Volume (lbs)",color:"#666"},grid:{color:"rgba(0, 0, 0, 0.05)"}}}}})}):R.jsxs("div",{className:"no-chart-data",children:[R.jsx("p",{children:"No volume data available for this timeframe"}),R.jsx("p",{children:"Try selecting a different time range"})]})]})]}),R.jsxs("div",{className:"exercise-heatmap-container",children:[R.jsxs("div",{className:"heatmap-header",children:[R.jsxs("div",{children:[R.jsx("h3",{children:"Workout Frequency & Intensity"}),R.jsxs("p",{className:"heatmap-description",children:["This calendar shows when you trained"," ",R.jsx("strong",{children:y.name})," and the intensity (volume) of each workout. Darker colors indicate higher volume."]})]}),R.jsx("div",{className:"year-selector",children:[$-2,$-1,$].map(it=>R.jsx("button",{className:`year-button ${$===it?"active":""}`,onClick:()=>hs(it),children:it},it))})]}),R.jsx("div",{className:"calendar-heatmap-wrapper",children:R.jsx(vw,{startDate:new Date(`${$}-01-01`),endDate:new Date(`${$}-12-31`),values:lt,classForValue:it=>it?hi(it):"color-empty",tooltipDataAttrs:it=>!it||!it.date?{"data-tip":"No workout"}:{"data-tip":`${Bi(it.date)}: ${it.count.toLocaleString()} lbs`},showWeekdayLabels:!0,monthLabels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})}),R.jsxs("div",{className:"heatmap-legend",children:[R.jsx("span",{className:"legend-label",children:"Volume:"}),R.jsxs("div",{className:"legend-scale",children:[R.jsx("div",{className:"legend-item color-empty"}),R.jsx("span",{className:"legend-label",children:"None"})]}),R.jsxs("div",{className:"legend-scale",children:[R.jsx("div",{className:"legend-item color-scale-1"}),R.jsx("span",{className:"legend-label",children:"Low"})]}),R.jsxs("div",{className:"legend-scale",children:[R.jsx("div",{className:"legend-item color-scale-2"}),R.jsx("span",{className:"legend-label",children:"Medium"})]}),R.jsxs("div",{className:"legend-scale",children:[R.jsx("div",{className:"legend-item color-scale-3"}),R.jsx("span",{className:"legend-label",children:"High"})]}),R.jsxs("div",{className:"legend-scale",children:[R.jsx("div",{className:"legend-item color-scale-4"}),R.jsx("span",{className:"legend-label",children:"Max"})]})]})]})]}):R.jsxs("div",{className:"exercise-prompt",children:[R.jsx("p",{children:R.jsx(gG,{size:40,style:{color:"var(--primary-orange)",marginBottom:"15px"}})}),R.jsxs("p",{children:[R.jsx("strong",{children:"Select an exercise"})," from the dropdown above to view your progress."]}),R.jsx("p",{children:"You'll see your weight progression, volume trends, and training frequency."})]})]})]})};Gc.register($h,Gh,_c,Xs,Pb,Ob,Mb);const MK=()=>{const e=Ds(),[t,n]=P.useState(!0),[i,s]=P.useState(null),[a,l]=P.useState([]),[c,h]=P.useState("3m");P.useEffect(()=>{(async()=>{try{const S=ui.currentUser;if(!S)throw new Error("You must be logged in to view weight progress");const C=Es(xs,"users",S.uid),V=await hr(C);if(V.exists()){const z=[...V.data().weightLogs||[]].sort(($,M)=>new Date($.date)-new Date(M.date));l(z)}else l([]);n(!1)}catch(S){console.error("Error fetching weight logs:",S),s(S.message),n(!1)}})()},[]);const f=E=>{const[S,C,V]=E.split("-").map(Number);return new Date(S,C-1,V).toLocaleDateString("en-US",{month:"short",day:"numeric"})},p=E=>{const[S,C,V]=E.split("-").map(Number);return new Date(S,C-1,V)},y=()=>{if(!a.length)return[];const E=new Date;let S;switch(c){case"1m":S=new Date(E.getFullYear(),E.getMonth()-1,E.getDate());break;case"3m":S=new Date(E.getFullYear(),E.getMonth()-3,E.getDate());break;case"6m":S=new Date(E.getFullYear(),E.getMonth()-6,E.getDate());break;case"1y":S=new Date(E.getFullYear()-1,E.getMonth(),E.getDate());break;case"all":default:return a}return a.filter(C=>p(C.date)>=S)},_=()=>{const E=y();return{labels:E.map(S=>f(S.date)),datasets:[{label:"Weight (lbs)",data:E.map(S=>S.weight),borderColor:"rgb(255, 87, 34)",backgroundColor:"rgba(255, 87, 34, 0.5)",tension:.3}]}},b={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#333",bodyColor:"#666",borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,padding:12,displayColors:!1,callbacks:{label:function(E){return`Weight: ${E.parsed.y} lbs`}}}},scales:{y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}};if(t)return R.jsx(Xc,{});if(i)return R.jsx("div",{className:"weight-progress-container error",children:i});const T=()=>{const E=y();if(E.length===0)return null;const S=E[E.length-1].weight,C=p(E[E.length-1].date),V=new Date(C);V.setDate(V.getDate()-7);let j=null;for(let z=E.length-2;z>=0;z--)if(p(E[z].date)<=V){j=E[z].weight;break}if(j===null)return null;const W=S-j;return{value:Math.abs(W).toFixed(1),direction:W>0?"gained":"lost",timeframe:"past week"}};return R.jsxs(Yo.div,{className:"weight-progress-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[R.jsxs("div",{className:"weight-progress-header",children:[R.jsxs("button",{className:"back-button",onClick:()=>e("/progress-tracker"),children:[R.jsx(yw,{size:20,style:{marginRight:"8px"}}),"Back"]}),R.jsx("h2",{children:"Weight Progress"}),R.jsxs("button",{className:"log-weight-button",onClick:()=>e("/log-weight"),children:[R.jsx(pG,{size:20,style:{marginRight:"8px"}}),"Log Weight"]})]}),a.length===0?R.jsxs("div",{className:"no-logs-message",children:[R.jsx("p",{children:"No weight logs found."}),R.jsx("p",{children:'Start tracking your weight by clicking the "Log Weight" button.'})]}):R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"weight-summary",children:[R.jsxs("div",{className:"summary-card",children:[R.jsx("h3",{children:"Current Weight"}),R.jsxs("div",{className:"summary-value",children:[a[a.length-1].weight," lbs"]})]}),T()&&R.jsxs("div",{className:"summary-card",children:[R.jsx("h3",{children:"Weight Change (Past Week)"}),R.jsxs("div",{className:"summary-value",children:[T().value," lbs ",T().direction]})]})]}),R.jsxs("div",{className:"chart-container",children:[R.jsxs("div",{className:"chart-header",children:[R.jsx("h3",{children:"Weight Trend"}),R.jsxs("div",{className:"date-range-selector",children:[R.jsx("button",{className:`range-button ${c==="1m"?"active":""}`,onClick:()=>h("1m"),children:"1 Month"}),R.jsx("button",{className:`range-button ${c==="3m"?"active":""}`,onClick:()=>h("3m"),children:"3 Months"}),R.jsx("button",{className:`range-button ${c==="6m"?"active":""}`,onClick:()=>h("6m"),children:"6 Months"}),R.jsx("button",{className:`range-button ${c==="1y"?"active":""}`,onClick:()=>h("1y"),children:"1 Year"}),R.jsx("button",{className:`range-button ${c==="all"?"active":""}`,onClick:()=>h("all"),children:"All Time"})]})]}),R.jsx("div",{className:"chart-wrapper",children:R.jsx(Nb,{data:_(),options:b,height:300})})]})]})]})},PK=()=>{Ds();const[e,t]=P.useState(!0),[n,i]=P.useState(null),[s,a]=P.useState([]),[l,c]=P.useState(!1),h=async()=>{try{t(!0);const y=ui.currentUser;if(!y)throw new Error("You must be logged in to view weight history");const _=Es(xs,"users",y.uid),b=await hr(_);if(b.exists()){const C=[...b.data().weightLogs||[]].sort((V,j)=>new Date(j.date)-new Date(V.date)).map((V,j)=>({...V,id:`weight-${V.timestamp||Date.now()}-${j}`}));a(C)}else a([]);t(!1)}catch(y){console.error("Error fetching weight logs:",y),i(y.message),t(!1)}};P.useEffect(()=>{h()},[]);const f=y=>{const[_,b,T]=y.split("-").map(Number),E=new Date(_,b-1,T),S={weekday:"long",year:"numeric",month:"long",day:"numeric"};return E.toLocaleDateString("en-US",S)},p=async y=>{if(!l&&window.confirm("Are you sure you want to delete this weight log entry?"))try{c(!0);const _=ui.currentUser;if(!_)throw new Error("You must be logged in to delete weight logs");const b=s.find(S=>S.id===y);if(!b)throw new Error("Weight log not found");const T=Es(xs,"users",_.uid),E=await hr(T);if(E.exists()){const C=E.data().weightLogs.filter(V=>!(V.date===b.date&&V.weight===b.weight&&(V.timestamp===b.timestamp||!V.timestamp&&!b.timestamp)));await Wm(T,{weightLogs:C}),a(s.filter(V=>V.id!==y)),console.log("Weight log deleted successfully")}}catch(_){console.error("Error deleting weight log:",_),alert(`Failed to delete weight log: ${_.message}`)}finally{c(!1)}};return e?R.jsx(Xc,{}):n?R.jsx("div",{className:"weight-history-container error",children:n}):R.jsxs(Yo.div,{className:"weight-history-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[R.jsx("div",{className:"weight-history-header",children:R.jsx("h2",{children:"Weight History"})}),s.length===0?R.jsxs("div",{className:"no-logs-message",children:[R.jsx("p",{children:"No weight logs found."}),R.jsx("p",{children:'Start tracking your weight by clicking "Log Weight" in the menu.'})]}):R.jsx("div",{className:"weight-logs-list",children:s.map(y=>R.jsxs("div",{className:"weight-log-card",children:[R.jsx("div",{className:"weight-log-date",children:f(y.date)}),R.jsxs("div",{className:"weight-log-details",children:[R.jsxs("div",{className:"weight-value",children:[y.weight," lbs"]}),R.jsx("button",{className:"delete-log-btn",onClick:()=>p(y.id),disabled:l,children:R.jsx(mG,{size:18})})]})]},y.id))})]})},OK=()=>{const e=Ds(),[t,n]=P.useState(""),[i,s]=P.useState(new Date().toISOString().split("T")[0]),[a,l]=P.useState(!1),[c,h]=P.useState(""),f=async p=>{p.preventDefault(),l(!0),h("");try{const y=ui.currentUser;if(!y)throw new Error("You must be logged in to log weight");const _=Es(xs,"users",y.uid);if(!(await hr(_)).exists())throw new Error("User document not found");const T={weight:parseFloat(t),date:i,timestamp:new Date().toISOString()};await Wm(_,{weightLogs:fI(T)}),e("/weight-history")}catch(y){console.error("Error logging weight:",y),h(y.message)}finally{l(!1)}};return R.jsxs(Yo.div,{className:"log-weight-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[R.jsxs("div",{className:"log-weight-header",children:[R.jsxs("button",{className:"back-button",onClick:()=>e("/progress-tracker"),children:[R.jsx(yw,{size:20,style:{marginRight:"8px"}}),"Back"]}),R.jsx("h2",{children:"Log Weight"})]}),R.jsxs("form",{onSubmit:f,className:"log-weight-form",children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"weight",children:"Weight (lbs)"}),R.jsx("input",{type:"number",id:"weight",step:"0.1",value:t,onChange:p=>n(p.target.value),required:!0,placeholder:"Enter weight in pounds"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"date",children:"Date"}),R.jsx("input",{type:"date",id:"date",value:i,onChange:p=>s(p.target.value),required:!0})]}),c&&R.jsx("div",{className:"error-message",children:c}),R.jsx("button",{type:"submit",className:"submit-button",disabled:a,children:a?"Logging...":"Log Weight"})]})]})};function Aa({children:e}){const[t,n]=P.useState(!0),[i,s]=P.useState(!1);return P.useEffect(()=>{const a=ui.onAuthStateChanged(l=>{s(!!l),n(!1)});return()=>a()},[]),t?R.jsx(Xc,{}):i?e:R.jsx(BC,{to:"/",replace:!0})}function NK(){const e=pr(),t=Ds(),[n,i]=P.useState(!1);if(e.pathname==="/")return null;const s=()=>{i(!n)},a=async()=>{try{await Kj(ui),i(!1),t("/")}catch(l){console.error("Error signing out:",l)}};return R.jsx("header",{className:"header",children:R.jsxs("div",{className:"header-content",children:[R.jsxs("div",{className:"logo",onClick:()=>t("/dashboard"),role:"button",tabIndex:"0",children:[R.jsx("div",{className:"logo-icon",children:"NR"}),R.jsx("div",{className:"logo-text",children:"NextRep"})]}),R.jsxs("div",{className:"menu-container",children:[R.jsxs("div",{className:`hamburger ${n?"open":""}`,onClick:s,children:[R.jsx("span",{}),R.jsx("span",{}),R.jsx("span",{})]}),n&&R.jsx("div",{className:"dropdown-menu",children:R.jsxs("ul",{children:[R.jsx("li",{children:R.jsx(Da,{to:"/dashboard",onClick:s,children:"Dashboard"})}),R.jsx("li",{children:R.jsx(Da,{to:"/log-workout",onClick:s,children:"Log Workout"})}),R.jsx("li",{children:R.jsx(Da,{to:"/log-weight",onClick:s,children:"Log Weight"})}),R.jsx("li",{className:"menu-divider"}),R.jsx("li",{children:R.jsx(Da,{to:"/workout-history",onClick:s,children:"Workout History"})}),R.jsx("li",{children:R.jsx(Da,{to:"/weight-history",onClick:s,children:"Weight History"})}),R.jsx("li",{className:"menu-divider"}),R.jsx("li",{children:R.jsx(Da,{to:"/progress-tracker",onClick:s,children:"Progress Tracker"})}),R.jsx("li",{className:"menu-divider"}),R.jsx("li",{children:R.jsx("button",{className:"logout-menu-button",onClick:a,children:"Logout"})})]})})]})]})})}function LK(){return R.jsx("div",{className:"App",children:R.jsxs(mL,{children:[R.jsx(NK,{}),R.jsx("div",{className:"content",children:R.jsxs($2,{children:[R.jsx(gs,{path:"/",element:R.jsx(Y3,{})}),R.jsx(gs,{path:"/dashboard",element:R.jsx(Aa,{children:R.jsx(Rq,{})})}),R.jsx(gs,{path:"/log-workout",element:R.jsx(Aa,{children:R.jsx(yG,{})})}),R.jsx(gs,{path:"/workout-history",element:R.jsx(Aa,{children:R.jsx(vG,{})})}),R.jsx(gs,{path:"/progress-tracker",element:R.jsx(Aa,{children:R.jsx(_G,{})})}),R.jsx(gs,{path:"/strength-progress",element:R.jsx(Aa,{children:R.jsx(IK,{})})}),R.jsx(gs,{path:"/weight-progress",element:R.jsx(Aa,{children:R.jsx(MK,{})})}),R.jsx(gs,{path:"/weight-history",element:R.jsx(Aa,{children:R.jsx(PK,{})})}),R.jsx(gs,{path:"/log-weight",element:R.jsx(Aa,{children:R.jsx(OK,{})})}),R.jsx(gs,{path:"*",element:R.jsx(BC,{to:"/",replace:!0})})]})})]})})}n2.createRoot(document.getElementById("root")).render(R.jsx(P.StrictMode,{children:R.jsx(LK,{})}));
