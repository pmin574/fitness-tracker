var KN=Object.defineProperty;var YN=(e,t,n)=>t in e?KN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ft=(e,t,n)=>YN(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function D1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sv={exports:{}},Xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function XN(){if(NE)return Xu;NE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:a}}return Xu.Fragment=t,Xu.jsx=n,Xu.jsxs=n,Xu}var LE;function QN(){return LE||(LE=1,sv.exports=XN()),sv.exports}var C=QN(),rv={exports:{}},$t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function ZN(){if(VE)return $t;VE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function x(j,tt,ct){this.props=j,this.context=tt,this.refs=S,this.updater=ct||b}x.prototype.isReactComponent={},x.prototype.setState=function(j,tt){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,tt,"setState")},x.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function R(){}R.prototype=x.prototype;function V(j,tt,ct){this.props=j,this.context=tt,this.refs=S,this.updater=ct||b}var B=V.prototype=new R;B.constructor=V,T(B,x.prototype),B.isPureReactComponent=!0;var $=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function I(j,tt,ct,rt,mt,Et){return ct=Et.ref,{$$typeof:e,type:j,key:tt,ref:ct!==void 0?ct:null,props:Et}}function D(j,tt){return I(j.type,tt,void 0,void 0,void 0,j.props)}function M(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function U(j){var tt={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ct){return tt[ct]})}var F=/\/+/g;function L(j,tt){return typeof j=="object"&&j!==null&&j.key!=null?U(""+j.key):tt.toString(36)}function N(){}function ot(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(N,N):(j.status="pending",j.then(function(tt){j.status==="pending"&&(j.status="fulfilled",j.value=tt)},function(tt){j.status==="pending"&&(j.status="rejected",j.reason=tt)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function dt(j,tt,ct,rt,mt){var Et=typeof j;(Et==="undefined"||Et==="boolean")&&(j=null);var _t=!1;if(j===null)_t=!0;else switch(Et){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(j.$$typeof){case e:case t:_t=!0;break;case p:return _t=j._init,dt(_t(j._payload),tt,ct,rt,mt)}}if(_t)return mt=mt(j),_t=rt===""?"."+L(j,0):rt,$(mt)?(ct="",_t!=null&&(ct=_t.replace(F,"$&/")+"/"),dt(mt,tt,ct,"",function(Ue){return Ue})):mt!=null&&(M(mt)&&(mt=D(mt,ct+(mt.key==null||j&&j.key===mt.key?"":(""+mt.key).replace(F,"$&/")+"/")+_t)),tt.push(mt)),1;_t=0;var Ht=rt===""?".":rt+":";if($(j))for(var Ot=0;Ot<j.length;Ot++)rt=j[Ot],Et=Ht+L(rt,Ot),_t+=dt(rt,tt,ct,Et,mt);else if(Ot=_(j),typeof Ot=="function")for(j=Ot.call(j),Ot=0;!(rt=j.next()).done;)rt=rt.value,Et=Ht+L(rt,Ot++),_t+=dt(rt,tt,ct,Et,mt);else if(Et==="object"){if(typeof j.then=="function")return dt(ot(j),tt,ct,rt,mt);throw tt=String(j),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return _t}function q(j,tt,ct){if(j==null)return j;var rt=[],mt=0;return dt(j,rt,"","",function(Et){return tt.call(ct,Et,mt++)}),rt}function Y(j){if(j._status===-1){var tt=j._result;tt=tt(),tt.then(function(ct){(j._status===0||j._status===-1)&&(j._status=1,j._result=ct)},function(ct){(j._status===0||j._status===-1)&&(j._status=2,j._result=ct)}),j._status===-1&&(j._status=0,j._result=tt)}if(j._status===1)return j._result.default;throw j._result}var G=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function ft(){}return $t.Children={map:q,forEach:function(j,tt,ct){q(j,function(){tt.apply(this,arguments)},ct)},count:function(j){var tt=0;return q(j,function(){tt++}),tt},toArray:function(j){return q(j,function(tt){return tt})||[]},only:function(j){if(!M(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},$t.Component=x,$t.Fragment=n,$t.Profiler=s,$t.PureComponent=V,$t.StrictMode=i,$t.Suspense=h,$t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,$t.__COMPILER_RUNTIME={__proto__:null,c:function(j){return z.H.useMemoCache(j)}},$t.cache=function(j){return function(){return j.apply(null,arguments)}},$t.cloneElement=function(j,tt,ct){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var rt=T({},j.props),mt=j.key,Et=void 0;if(tt!=null)for(_t in tt.ref!==void 0&&(Et=void 0),tt.key!==void 0&&(mt=""+tt.key),tt)!X.call(tt,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&tt.ref===void 0||(rt[_t]=tt[_t]);var _t=arguments.length-2;if(_t===1)rt.children=ct;else if(1<_t){for(var Ht=Array(_t),Ot=0;Ot<_t;Ot++)Ht[Ot]=arguments[Ot+2];rt.children=Ht}return I(j.type,mt,void 0,void 0,Et,rt)},$t.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:a,_context:j},j},$t.createElement=function(j,tt,ct){var rt,mt={},Et=null;if(tt!=null)for(rt in tt.key!==void 0&&(Et=""+tt.key),tt)X.call(tt,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(mt[rt]=tt[rt]);var _t=arguments.length-2;if(_t===1)mt.children=ct;else if(1<_t){for(var Ht=Array(_t),Ot=0;Ot<_t;Ot++)Ht[Ot]=arguments[Ot+2];mt.children=Ht}if(j&&j.defaultProps)for(rt in _t=j.defaultProps,_t)mt[rt]===void 0&&(mt[rt]=_t[rt]);return I(j,Et,void 0,void 0,null,mt)},$t.createRef=function(){return{current:null}},$t.forwardRef=function(j){return{$$typeof:c,render:j}},$t.isValidElement=M,$t.lazy=function(j){return{$$typeof:p,_payload:{_status:-1,_result:j},_init:Y}},$t.memo=function(j,tt){return{$$typeof:f,type:j,compare:tt===void 0?null:tt}},$t.startTransition=function(j){var tt=z.T,ct={};z.T=ct;try{var rt=j(),mt=z.S;mt!==null&&mt(ct,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(ft,G)}catch(Et){G(Et)}finally{z.T=tt}},$t.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},$t.use=function(j){return z.H.use(j)},$t.useActionState=function(j,tt,ct){return z.H.useActionState(j,tt,ct)},$t.useCallback=function(j,tt){return z.H.useCallback(j,tt)},$t.useContext=function(j){return z.H.useContext(j)},$t.useDebugValue=function(){},$t.useDeferredValue=function(j,tt){return z.H.useDeferredValue(j,tt)},$t.useEffect=function(j,tt,ct){var rt=z.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(j,tt)},$t.useId=function(){return z.H.useId()},$t.useImperativeHandle=function(j,tt,ct){return z.H.useImperativeHandle(j,tt,ct)},$t.useInsertionEffect=function(j,tt){return z.H.useInsertionEffect(j,tt)},$t.useLayoutEffect=function(j,tt){return z.H.useLayoutEffect(j,tt)},$t.useMemo=function(j,tt){return z.H.useMemo(j,tt)},$t.useOptimistic=function(j,tt){return z.H.useOptimistic(j,tt)},$t.useReducer=function(j,tt,ct){return z.H.useReducer(j,tt,ct)},$t.useRef=function(j){return z.H.useRef(j)},$t.useState=function(j){return z.H.useState(j)},$t.useSyncExternalStore=function(j,tt,ct){return z.H.useSyncExternalStore(j,tt,ct)},$t.useTransition=function(){return z.H.useTransition()},$t.version="19.1.0",$t}var BE;function d0(){return BE||(BE=1,rv.exports=ZN()),rv.exports}var P=d0();const Oe=D1(P);var av={exports:{}},Qu={},ov={exports:{}},lv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function JN(){return jE||(jE=1,function(e){function t(q,Y){var G=q.length;q.push(Y);t:for(;0<G;){var ft=G-1>>>1,j=q[ft];if(0<s(j,Y))q[ft]=Y,q[G]=j,G=ft;else break t}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var Y=q[0],G=q.pop();if(G!==Y){q[0]=G;t:for(var ft=0,j=q.length,tt=j>>>1;ft<tt;){var ct=2*(ft+1)-1,rt=q[ct],mt=ct+1,Et=q[mt];if(0>s(rt,G))mt<j&&0>s(Et,rt)?(q[ft]=Et,q[mt]=G,ft=mt):(q[ft]=rt,q[ct]=G,ft=ct);else if(mt<j&&0>s(Et,G))q[ft]=Et,q[mt]=G,ft=mt;else break t}}return Y}function s(q,Y){var G=q.sortIndex-Y.sortIndex;return G!==0?G:q.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],f=[],p=1,y=null,_=3,b=!1,T=!1,S=!1,x=!1,R=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function $(q){for(var Y=n(f);Y!==null;){if(Y.callback===null)i(f);else if(Y.startTime<=q)i(f),Y.sortIndex=Y.expirationTime,t(h,Y);else break;Y=n(f)}}function z(q){if(S=!1,$(q),!T)if(n(h)!==null)T=!0,X||(X=!0,L());else{var Y=n(f);Y!==null&&dt(z,Y.startTime-q)}}var X=!1,I=-1,D=5,M=-1;function U(){return x?!0:!(e.unstable_now()-M<D)}function F(){if(x=!1,X){var q=e.unstable_now();M=q;var Y=!0;try{t:{T=!1,S&&(S=!1,V(I),I=-1),b=!0;var G=_;try{e:{for($(q),y=n(h);y!==null&&!(y.expirationTime>q&&U());){var ft=y.callback;if(typeof ft=="function"){y.callback=null,_=y.priorityLevel;var j=ft(y.expirationTime<=q);if(q=e.unstable_now(),typeof j=="function"){y.callback=j,$(q),Y=!0;break e}y===n(h)&&i(h),$(q)}else i(h);y=n(h)}if(y!==null)Y=!0;else{var tt=n(f);tt!==null&&dt(z,tt.startTime-q),Y=!1}}break t}finally{y=null,_=G,b=!1}Y=void 0}}finally{Y?L():X=!1}}}var L;if(typeof B=="function")L=function(){B(F)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ot=N.port2;N.port1.onmessage=F,L=function(){ot.postMessage(null)}}else L=function(){R(F,0)};function dt(q,Y){I=R(function(){q(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(q){switch(_){case 1:case 2:case 3:var Y=3;break;default:Y=_}var G=_;_=Y;try{return q()}finally{_=G}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(q,Y){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var G=_;_=q;try{return Y()}finally{_=G}},e.unstable_scheduleCallback=function(q,Y,G){var ft=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ft+G:ft):G=ft,q){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=G+j,q={id:p++,callback:Y,priorityLevel:q,startTime:G,expirationTime:j,sortIndex:-1},G>ft?(q.sortIndex=G,t(f,q),n(h)===null&&q===n(f)&&(S?(V(I),I=-1):S=!0,dt(z,G-ft))):(q.sortIndex=j,t(h,q),T||b||(T=!0,X||(X=!0,L()))),q},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(q){var Y=_;return function(){var G=_;_=Y;try{return q.apply(this,arguments)}finally{_=G}}}}(lv)),lv}var UE;function t2(){return UE||(UE=1,ov.exports=JN()),ov.exports}var cv={exports:{}},Gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function e2(){if(FE)return Gn;FE=1;var e=d0();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Gn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(h,f,null,p)},Gn.flushSync=function(h){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=p,i.d.f()}},Gn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},Gn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Gn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):p==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Gn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},Gn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Gn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=c(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},Gn.requestFormReset=function(h){i.d.r(h)},Gn.unstable_batchedUpdates=function(h,f){return h(f)},Gn.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},Gn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Gn.version="19.1.0",Gn}var zE;function n2(){if(zE)return cv.exports;zE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cv.exports=e2(),cv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function i2(){if(HE)return Qu;HE=1;var e=t2(),t=d0(),n=n2();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(a(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var u=r,d=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return c(m),r;if(v===d)return c(m),o;v=v.sibling}throw Error(i(188))}if(u.return!==d.return)u=m,d=v;else{for(var A=!1,k=m.child;k;){if(k===u){A=!0,u=m,d=v;break}if(k===d){A=!0,d=m,u=v;break}k=k.sibling}if(!A){for(k=v.child;k;){if(k===u){A=!0,u=v,d=m;break}if(k===d){A=!0,d=v,u=m;break}k=k.sibling}if(!A)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:o}function f(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=f(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),B=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=F&&r[F]||r["@@iterator"],typeof r=="function"?r:null)}var N=Symbol.for("react.client.reference");function ot(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===N?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case x:return"Profiler";case S:return"StrictMode";case z:return"Suspense";case X:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case B:return(r.displayName||"Context")+".Provider";case V:return(r._context.displayName||"Context")+".Consumer";case $:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return o=r.displayName||null,o!==null?o:ot(r.type)||"Memo";case D:o=r._payload,r=r._init;try{return ot(r(o))}catch{}}return null}var dt=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},ft=[],j=-1;function tt(r){return{current:r}}function ct(r){0>j||(r.current=ft[j],ft[j]=null,j--)}function rt(r,o){j++,ft[j]=r.current,r.current=o}var mt=tt(null),Et=tt(null),_t=tt(null),Ht=tt(null);function Ot(r,o){switch(rt(_t,o),rt(Et,r),rt(mt,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?cE(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=cE(o),r=uE(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ct(mt),rt(mt,r)}function Ue(){ct(mt),ct(Et),ct(_t)}function re(r){r.memoizedState!==null&&rt(Ht,r);var o=mt.current,u=uE(o,r.type);o!==u&&(rt(Et,r),rt(mt,u))}function Fe(r){Et.current===r&&(ct(mt),ct(Et)),Ht.current===r&&(ct(Ht),Wu._currentValue=G)}var In=Object.prototype.hasOwnProperty,Le=e.unstable_scheduleCallback,Si=e.unstable_cancelCallback,ze=e.unstable_shouldYield,Ei=e.unstable_requestPaint,$e=e.unstable_now,xi=e.unstable_getCurrentPriorityLevel,ve=e.unstable_ImmediatePriority,Hn=e.unstable_UserBlockingPriority,Ge=e.unstable_NormalPriority,fs=e.unstable_LowPriority,ui=e.unstable_IdlePriority,Ui=e.log,hi=e.unstable_setDisableYieldValue,le=null,Jt=null;function Ke(r){if(typeof Ui=="function"&&hi(r),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(le,r)}catch{}}var Ve=Math.clz32?Math.clz32:st,Ps=Math.log,ri=Math.LN2;function st(r){return r>>>=0,r===0?32:31-(Ps(r)/ri|0)|0}var vt=256,Ct=4194304;function Nt(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function wt(r,o,u){var d=r.pendingLanes;if(d===0)return 0;var m=0,v=r.suspendedLanes,A=r.pingedLanes;r=r.warmLanes;var k=d&134217727;return k!==0?(d=k&~v,d!==0?m=Nt(d):(A&=k,A!==0?m=Nt(A):u||(u=k&~r,u!==0&&(m=Nt(u))))):(k=d&~v,k!==0?m=Nt(k):A!==0?m=Nt(A):u||(u=d&~r,u!==0&&(m=Nt(u)))),m===0?0:o!==0&&o!==m&&(o&v)===0&&(v=m&-m,u=o&-o,v>=u||v===32&&(u&4194048)!==0)?o:m}function Dt(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Gt(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kt(){var r=vt;return vt<<=1,(vt&4194048)===0&&(vt=256),r}function ae(){var r=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),r}function Wt(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function we(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function qn(r,o,u,d,m,v){var A=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var k=r.entanglements,H=r.expirationTimes,J=r.hiddenUpdates;for(u=A&~u;0<u;){var at=31-Ve(u),ut=1<<at;k[at]=0,H[at]=-1;var et=J[at];if(et!==null)for(J[at]=null,at=0;at<et.length;at++){var nt=et[at];nt!==null&&(nt.lane&=-536870913)}u&=~ut}d!==0&&ge(r,d,0),v!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=v&~(A&~o))}function ge(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-Ve(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|u&4194090}function sn(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var d=31-Ve(u),m=1<<d;m&o|r[d]&o&&(r[d]|=o),u&=~m}}function Tt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function kt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function _e(){var r=Y.p;return r!==0?r:(r=window.event,r===void 0?32:DE(r.type))}function Be(r,o){var u=Y.p;try{return Y.p=r,o()}finally{Y.p=u}}var pt=Math.random().toString(36).slice(2),bt="__reactFiber$"+pt,xt="__reactProps$"+pt,me="__reactContainer$"+pt,Ze="__reactEvents$"+pt,fi="__reactListeners$"+pt,yn="__reactHandles$"+pt,un="__reactResources$"+pt,hn="__reactMarker$"+pt;function de(r){delete r[bt],delete r[xt],delete r[Ze],delete r[fi],delete r[yn]}function Wn(r){var o=r[bt];if(o)return o;for(var u=r.parentNode;u;){if(o=u[me]||u[bt]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=pE(r);r!==null;){if(u=r[bt])return u;r=pE(r)}return o}r=u,u=r.parentNode}return null}function Fi(r){if(r=r[bt]||r[me]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function zi(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function xn(r){var o=r[un];return o||(o=r[un]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function He(r){r[hn]=!0}var ta=new Set,gr={};function di(r,o){Yt(r,o),Yt(r+"Capture",o)}function Yt(r,o){for(gr[r]=o,r=0;r<o.length;r++)ta.add(o[r])}var pi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ea={},Ai={};function dl(r){return In.call(Ai,r)?!0:In.call(ea,r)?!1:pi.test(r)?Ai[r]=!0:(ea[r]=!0,!1)}function Hi(r,o,u){if(dl(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function Ms(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function On(r,o,u,d){if(d===null)r.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+d)}}var eo,Rf;function mr(r){if(eo===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);eo=o&&o[1]||"",Rf=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+eo+r+Rf}var pl=!1;function gl(r,o){if(!r||pl)return"";pl=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(nt){var et=nt}Reflect.construct(r,[],ut)}else{try{ut.call()}catch(nt){et=nt}r.call(ut.prototype)}}else{try{throw Error()}catch(nt){et=nt}(ut=r())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(nt){if(nt&&et&&typeof nt.stack=="string")return[nt.stack,et.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),A=v[0],k=v[1];if(A&&k){var H=A.split(`
`),J=k.split(`
`);for(m=d=0;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;for(;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;if(d===H.length||m===J.length)for(d=H.length-1,m=J.length-1;1<=d&&0<=m&&H[d]!==J[m];)m--;for(;1<=d&&0<=m;d--,m--)if(H[d]!==J[m]){if(d!==1||m!==1)do if(d--,m--,0>m||H[d]!==J[m]){var at=`
`+H[d].replace(" at new "," at ");return r.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",r.displayName)),at}while(1<=d&&0<=m);break}}}finally{pl=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?mr(u):""}function Zc(r){switch(r.tag){case 26:case 27:case 5:return mr(r.type);case 16:return mr("Lazy");case 13:return mr("Suspense");case 19:return mr("SuspenseList");case 0:case 15:return gl(r.type,!1);case 11:return gl(r.type.render,!1);case 1:return gl(r.type,!0);case 31:return mr("Activity");default:return""}}function ml(r){try{var o="";do o+=Zc(r),r=r.return;while(r);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ai(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Jc(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function lm(r){var o=Jc(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return m.call(this)},set:function(A){d=""+A,v.call(this,A)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function yl(r){r._valueTracker||(r._valueTracker=lm(r))}function tu(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return r&&(d=Jc(r)?r.checked?"true":"false":r.value),r=d,r!==u?(o.setValue(r),!0):!1}function no(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var cm=/[\n"\\]/g;function fn(r){return r.replace(cm,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ci(r,o,u,d,m,v,A,k){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),o!=null?A==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+ai(o)):r.value!==""+ai(o)&&(r.value=""+ai(o)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),o!=null?na(r,A,ai(o)):u!=null?na(r,A,ai(u)):d!=null&&r.removeAttribute("value"),m==null&&v!=null&&(r.defaultChecked=!!v),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+ai(k):r.removeAttribute("name")}function io(r,o,u,d,m,v,A,k){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),o!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;u=u!=null?""+ai(u):"",o=o!=null?""+ai(o):u,k||o===r.value||(r.value=o),r.defaultValue=o}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=k?r.checked:!!d,r.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A)}function na(r,o,u){o==="number"&&no(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function yr(r,o,u,d){if(r=r.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<r.length;u++)m=o.hasOwnProperty("$"+r[u].value),r[u].selected!==m&&(r[u].selected=m),m&&d&&(r[u].defaultSelected=!0)}else{for(u=""+ai(u),o=null,m=0;m<r.length;m++){if(r[m].value===u){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}o!==null||r[m].disabled||(o=r[m])}o!==null&&(o.selected=!0)}}function Re(r,o,u){if(o!=null&&(o=""+ai(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+ai(u):""}function so(r,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(i(92));if(dt(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=ai(o),r.defaultValue=u,d=r.textContent,d===u&&d!==""&&d!==null&&(r.value=d)}function qi(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Df(r,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,u):typeof u!="number"||u===0||ro.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function eu(r,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var m in o)d=o[m],o.hasOwnProperty(m)&&u[m]!==d&&Df(r,m,d)}else for(var v in o)o.hasOwnProperty(v)&&Df(r,v,o[v])}function nu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var um=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vl(r){return hm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var vr=null;function Wi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _r=null,br=null;function iu(r){var o=Fi(r);if(o&&(r=o.stateNode)){var u=r[xt]||null;t:switch(r=o.stateNode,o.type){case"input":if(Ci(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+fn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==r&&d.form===r.form){var m=d[xt]||null;if(!m)throw Error(i(90));Ci(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===r.form&&tu(d)}break t;case"textarea":Re(r,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&yr(r,!!u.multiple,o,!1)}}}var Is=!1;function kf(r,o,u){if(Is)return r(o,u);Is=!0;try{var d=r(o);return d}finally{if(Is=!1,(_r!==null||br!==null)&&(Sd(),_r&&(o=_r,r=br,br=_r=null,iu(o),r)))for(o=0;o<r.length;o++)iu(r[o])}}function ao(r,o){var u=r.stateNode;if(u===null)return null;var d=u[xt]||null;if(d===null)return null;u=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$i=!1;if(ds)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){$i=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{$i=!1}var Os=null,ia=null,wr=null;function su(){if(wr)return wr;var r,o=ia,u=o.length,d,m="value"in Os?Os.value:Os.textContent,v=m.length;for(r=0;r<u&&o[r]===m[r];r++);var A=u-r;for(d=1;d<=A&&o[u-d]===m[v-d];d++);return wr=m.slice(r,1<d?1-d:void 0)}function Ns(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Ls(){return!0}function ru(){return!1}function An(r){function o(u,d,m,v,A){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(u=r[k],this[k]=u?u(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ls:ru,this.isPropagationStopped=ru,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),o}var Te={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=An(Te),lo=p({},Te,{view:0,detail:0}),Pf=An(lo),bl,wl,Vs,co=p({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Vs&&(Vs&&r.type==="mousemove"?(bl=r.screenX-Vs.screenX,wl=r.screenY-Vs.screenY):wl=bl=0,Vs=r),bl)},movementY:function(r){return"movementY"in r?r.movementY:wl}}),Gi=An(co),Mf=p({},co,{dataTransfer:0}),fm=An(Mf),uo=p({},lo,{relatedTarget:0}),Tl=An(uo),au=p({},Te,{animationName:0,elapsedTime:0,pseudoElement:0}),Sl=An(au),If=p({},Te,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),El=An(If),dm=p({},Te,{data:0}),ou=An(dm),ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Of={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Nf[r])?!!o[r]:!1}function fo(){return lu}var Lf=p({},lo,{key:function(r){if(r.key){var o=ho[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Ns(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Of[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fo,charCode:function(r){return r.type==="keypress"?Ns(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ns(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),xl=An(Lf),Vf=p({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=An(Vf),Tr=p({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fo}),Bf=An(Tr),jf=p({},Te,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uf=An(jf),Ff=p({},co,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Al=An(Ff),oi=p({},Te,{newState:0,oldState:0}),zf=An(oi),Hf=[9,13,27,32],Bs=ds&&"CompositionEvent"in window,g=null;ds&&"documentMode"in document&&(g=document.documentMode);var w=ds&&"TextEvent"in window&&!g,E=ds&&(!Bs||g&&8<g&&11>=g),O=" ",Q=!1;function it(r,o){switch(r){case"keyup":return Hf.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ce=!1;function vn(r,o){switch(r){case"compositionend":return yt(o);case"keypress":return o.which!==32?null:(Q=!0,O);case"textInput":return r=o.data,r===O&&Q?null:r;default:return null}}function ue(r,o){if(ce)return r==="compositionend"||!Bs&&it(r,o)?(r=su(),wr=ia=Os=null,ce=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return E&&o.locale!=="ko"?null:o.data;default:return null}}var Cn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _n(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Cn[r.type]:o==="textarea"}function Sr(r,o,u,d){_r?br?br.push(d):br=[d]:_r=d,o=Dd(o,"onChange"),0<o.length&&(u=new _l("onChange","change",null,u,d),r.push({event:u,listeners:o}))}var Nn=null,js=null;function uu(r){sE(r,0)}function qf(r){var o=zi(r);if(tu(o))return r}function xw(r,o){if(r==="change")return o}var Aw=!1;if(ds){var pm;if(ds){var gm="oninput"in document;if(!gm){var Cw=document.createElement("div");Cw.setAttribute("oninput","return;"),gm=typeof Cw.oninput=="function"}pm=gm}else pm=!1;Aw=pm&&(!document.documentMode||9<document.documentMode)}function Rw(){Nn&&(Nn.detachEvent("onpropertychange",Dw),js=Nn=null)}function Dw(r){if(r.propertyName==="value"&&qf(js)){var o=[];Sr(o,js,r,Wi(r)),kf(uu,o)}}function EO(r,o,u){r==="focusin"?(Rw(),Nn=o,js=u,Nn.attachEvent("onpropertychange",Dw)):r==="focusout"&&Rw()}function xO(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return qf(js)}function AO(r,o){if(r==="click")return qf(o)}function CO(r,o){if(r==="input"||r==="change")return qf(o)}function RO(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Ri=typeof Object.is=="function"?Object.is:RO;function hu(r,o){if(Ri(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!In.call(o,m)||!Ri(r[m],o[m]))return!1}return!0}function kw(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Pw(r,o){var u=kw(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=o&&d>=o)return{node:u,offset:o-r};r=d}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=kw(u)}}function Mw(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Mw(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Iw(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=no(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=no(r.document)}return o}function mm(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var DO=ds&&"documentMode"in document&&11>=document.documentMode,Cl=null,ym=null,fu=null,vm=!1;function Ow(r,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;vm||Cl==null||Cl!==no(d)||(d=Cl,"selectionStart"in d&&mm(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),fu&&hu(fu,d)||(fu=d,d=Dd(ym,"onSelect"),0<d.length&&(o=new _l("onSelect","select",null,o,u),r.push({event:o,listeners:d}),o.target=Cl)))}function po(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var Rl={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionrun:po("Transition","TransitionRun"),transitionstart:po("Transition","TransitionStart"),transitioncancel:po("Transition","TransitionCancel"),transitionend:po("Transition","TransitionEnd")},_m={},Nw={};ds&&(Nw=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function go(r){if(_m[r])return _m[r];if(!Rl[r])return r;var o=Rl[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in Nw)return _m[r]=o[u];return r}var Lw=go("animationend"),Vw=go("animationiteration"),Bw=go("animationstart"),kO=go("transitionrun"),PO=go("transitionstart"),MO=go("transitioncancel"),jw=go("transitionend"),Uw=new Map,bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bm.push("scrollEnd");function ps(r,o){Uw.set(r,o),di(o,[r])}var Fw=new WeakMap;function Ki(r,o){if(typeof r=="object"&&r!==null){var u=Fw.get(r);return u!==void 0?u:(o={value:r,source:o,stack:ml(o)},Fw.set(r,o),o)}return{value:r,source:o,stack:ml(o)}}var Yi=[],Dl=0,wm=0;function Wf(){for(var r=Dl,o=wm=Dl=0;o<r;){var u=Yi[o];Yi[o++]=null;var d=Yi[o];Yi[o++]=null;var m=Yi[o];Yi[o++]=null;var v=Yi[o];if(Yi[o++]=null,d!==null&&m!==null){var A=d.pending;A===null?m.next=m:(m.next=A.next,A.next=m),d.pending=m}v!==0&&zw(u,m,v)}}function $f(r,o,u,d){Yi[Dl++]=r,Yi[Dl++]=o,Yi[Dl++]=u,Yi[Dl++]=d,wm|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Tm(r,o,u,d){return $f(r,o,u,d),Gf(r)}function kl(r,o){return $f(r,null,null,o),Gf(r)}function zw(r,o,u){r.lanes|=u;var d=r.alternate;d!==null&&(d.lanes|=u);for(var m=!1,v=r.return;v!==null;)v.childLanes|=u,d=v.alternate,d!==null&&(d.childLanes|=u),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(m=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,m&&o!==null&&(m=31-Ve(u),r=v.hiddenUpdates,d=r[m],d===null?r[m]=[o]:d.push(o),o.lane=u|536870912),v):null}function Gf(r){if(50<Vu)throw Vu=0,Ry=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Pl={};function IO(r,o,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(r,o,u,d){return new IO(r,o,u,d)}function Sm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Er(r,o){var u=r.alternate;return u===null?(u=Di(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Hw(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Kf(r,o,u,d,m,v){var A=0;if(d=r,typeof r=="function")Sm(r)&&(A=1);else if(typeof r=="string")A=NN(r,u,mt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case M:return r=Di(31,u,o,m),r.elementType=M,r.lanes=v,r;case T:return mo(u.children,m,v,o);case S:A=8,m|=24;break;case x:return r=Di(12,u,o,m|2),r.elementType=x,r.lanes=v,r;case z:return r=Di(13,u,o,m),r.elementType=z,r.lanes=v,r;case X:return r=Di(19,u,o,m),r.elementType=X,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case R:case B:A=10;break t;case V:A=9;break t;case $:A=11;break t;case I:A=14;break t;case D:A=16,d=null;break t}A=29,u=Error(i(130,r===null?"null":typeof r,"")),d=null}return o=Di(A,u,o,m),o.elementType=r,o.type=d,o.lanes=v,o}function mo(r,o,u,d){return r=Di(7,r,d,o),r.lanes=u,r}function Em(r,o,u){return r=Di(6,r,null,o),r.lanes=u,r}function xm(r,o,u){return o=Di(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Ml=[],Il=0,Yf=null,Xf=0,Xi=[],Qi=0,yo=null,xr=1,Ar="";function vo(r,o){Ml[Il++]=Xf,Ml[Il++]=Yf,Yf=r,Xf=o}function qw(r,o,u){Xi[Qi++]=xr,Xi[Qi++]=Ar,Xi[Qi++]=yo,yo=r;var d=xr;r=Ar;var m=32-Ve(d)-1;d&=~(1<<m),u+=1;var v=32-Ve(o)+m;if(30<v){var A=m-m%5;v=(d&(1<<A)-1).toString(32),d>>=A,m-=A,xr=1<<32-Ve(o)+m|u<<m|d,Ar=v+r}else xr=1<<v|u<<m|d,Ar=r}function Am(r){r.return!==null&&(vo(r,1),qw(r,1,0))}function Cm(r){for(;r===Yf;)Yf=Ml[--Il],Ml[Il]=null,Xf=Ml[--Il],Ml[Il]=null;for(;r===yo;)yo=Xi[--Qi],Xi[Qi]=null,Ar=Xi[--Qi],Xi[Qi]=null,xr=Xi[--Qi],Xi[Qi]=null}var li=null,Je=null,be=!1,_o=null,Us=!1,Rm=Error(i(519));function bo(r){var o=Error(i(418,""));throw gu(Ki(o,r)),Rm}function Ww(r){var o=r.stateNode,u=r.type,d=r.memoizedProps;switch(o[bt]=r,o[xt]=d,u){case"dialog":ee("cancel",o),ee("close",o);break;case"iframe":case"object":case"embed":ee("load",o);break;case"video":case"audio":for(u=0;u<ju.length;u++)ee(ju[u],o);break;case"source":ee("error",o);break;case"img":case"image":case"link":ee("error",o),ee("load",o);break;case"details":ee("toggle",o);break;case"input":ee("invalid",o),io(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),yl(o);break;case"select":ee("invalid",o);break;case"textarea":ee("invalid",o),so(o,d.value,d.defaultValue,d.children),yl(o)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||lE(o.textContent,u)?(d.popover!=null&&(ee("beforetoggle",o),ee("toggle",o)),d.onScroll!=null&&ee("scroll",o),d.onScrollEnd!=null&&ee("scrollend",o),d.onClick!=null&&(o.onclick=kd),o=!0):o=!1,o||bo(r)}function $w(r){for(li=r.return;li;)switch(li.tag){case 5:case 13:Us=!1;return;case 27:case 3:Us=!0;return;default:li=li.return}}function du(r){if(r!==li)return!1;if(!be)return $w(r),be=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||qy(r.type,r.memoizedProps)),u=!u),u&&Je&&bo(r),$w(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(o===0){Je=ms(r.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;r=r.nextSibling}Je=null}}else o===27?(o=Je,_a(r.type)?(r=Ky,Ky=null,Je=r):Je=o):Je=li?ms(r.stateNode.nextSibling):null;return!0}function pu(){Je=li=null,be=!1}function Gw(){var r=_o;return r!==null&&(yi===null?yi=r:yi.push.apply(yi,r),_o=null),r}function gu(r){_o===null?_o=[r]:_o.push(r)}var Dm=tt(null),wo=null,Cr=null;function sa(r,o,u){rt(Dm,o._currentValue),o._currentValue=u}function Rr(r){r._currentValue=Dm.current,ct(Dm)}function km(r,o,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===u)break;r=r.return}}function Pm(r,o,u,d){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var v=m.dependencies;if(v!==null){var A=m.child;v=v.firstContext;t:for(;v!==null;){var k=v;v=m;for(var H=0;H<o.length;H++)if(k.context===o[H]){v.lanes|=u,k=v.alternate,k!==null&&(k.lanes|=u),km(v.return,u,r),d||(A=null);break t}v=k.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(i(341));A.lanes|=u,v=A.alternate,v!==null&&(v.lanes|=u),km(A,u,r),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===r){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function mu(r,o,u,d){r=null;for(var m=o,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var k=m.type;Ri(m.pendingProps.value,A.value)||(r!==null?r.push(k):r=[k])}}else if(m===Ht.current){if(A=m.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Wu):r=[Wu])}m=m.return}r!==null&&Pm(o,r,u,d),o.flags|=262144}function Qf(r){for(r=r.firstContext;r!==null;){if(!Ri(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function To(r){wo=r,Cr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function $n(r){return Kw(wo,r)}function Zf(r,o){return wo===null&&To(r),Kw(r,o)}function Kw(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Cr===null){if(r===null)throw Error(i(308));Cr=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Cr=Cr.next=o;return u}var OO=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},NO=e.unstable_scheduleCallback,LO=e.unstable_NormalPriority,bn={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mm(){return{controller:new OO,data:new Map,refCount:0}}function yu(r){r.refCount--,r.refCount===0&&NO(LO,function(){r.controller.abort()})}var vu=null,Im=0,Ol=0,Nl=null;function VO(r,o){if(vu===null){var u=vu=[];Im=0,Ol=Ny(),Nl={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Im++,o.then(Yw,Yw),o}function Yw(){if(--Im===0&&vu!==null){Nl!==null&&(Nl.status="fulfilled");var r=vu;vu=null,Ol=0,Nl=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function BO(r,o){var u=[],d={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var m=0;m<u.length;m++)(0,u[m])(o)},function(m){for(d.status="rejected",d.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),d}var Xw=q.S;q.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&VO(r,o),Xw!==null&&Xw(r,o)};var So=tt(null);function Om(){var r=So.current;return r!==null?r:Ie.pooledCache}function Jf(r,o){o===null?rt(So,So.current):rt(So,o.pool)}function Qw(){var r=Om();return r===null?null:{parent:bn._currentValue,pool:r}}var _u=Error(i(460)),Zw=Error(i(474)),td=Error(i(542)),Nm={then:function(){}};function Jw(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ed(){}function tT(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(ed,ed),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,nT(r),r;default:if(typeof o.status=="string")o.then(ed,ed);else{if(r=Ie,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=d}},function(d){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,nT(r),r}throw bu=o,_u}}var bu=null;function eT(){if(bu===null)throw Error(i(459));var r=bu;return bu=null,r}function nT(r){if(r===_u||r===td)throw Error(i(483))}var ra=!1;function Lm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vm(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function aa(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function oa(r,o,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(xe&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,o=Gf(r),zw(r,null,u),o}return $f(r,d,o,u),Gf(r)}function wu(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,sn(r,u)}}function Bm(r,o){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?m=v=A:v=v.next=A,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var jm=!1;function Tu(){if(jm){var r=Nl;if(r!==null)throw r}}function Su(r,o,u,d){jm=!1;var m=r.updateQueue;ra=!1;var v=m.firstBaseUpdate,A=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var H=k,J=H.next;H.next=null,A===null?v=J:A.next=J,A=H;var at=r.alternate;at!==null&&(at=at.updateQueue,k=at.lastBaseUpdate,k!==A&&(k===null?at.firstBaseUpdate=J:k.next=J,at.lastBaseUpdate=H))}if(v!==null){var ut=m.baseState;A=0,at=J=H=null,k=v;do{var et=k.lane&-536870913,nt=et!==k.lane;if(nt?(he&et)===et:(d&et)===et){et!==0&&et===Ol&&(jm=!0),at!==null&&(at=at.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});t:{var Bt=r,Mt=k;et=o;var Pe=u;switch(Mt.tag){case 1:if(Bt=Mt.payload,typeof Bt=="function"){ut=Bt.call(Pe,ut,et);break t}ut=Bt;break t;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=Mt.payload,et=typeof Bt=="function"?Bt.call(Pe,ut,et):Bt,et==null)break t;ut=p({},ut,et);break t;case 2:ra=!0}}et=k.callback,et!==null&&(r.flags|=64,nt&&(r.flags|=8192),nt=m.callbacks,nt===null?m.callbacks=[et]:nt.push(et))}else nt={lane:et,tag:k.tag,payload:k.payload,callback:k.callback,next:null},at===null?(J=at=nt,H=ut):at=at.next=nt,A|=et;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;nt=k,k=nt.next,nt.next=null,m.lastBaseUpdate=nt,m.shared.pending=null}}while(!0);at===null&&(H=ut),m.baseState=H,m.firstBaseUpdate=J,m.lastBaseUpdate=at,v===null&&(m.shared.lanes=0),ga|=A,r.lanes=A,r.memoizedState=ut}}function iT(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function sT(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)iT(u[r],o)}var Ll=tt(null),nd=tt(0);function rT(r,o){r=Nr,rt(nd,r),rt(Ll,o),Nr=r|o.baseLanes}function Um(){rt(nd,Nr),rt(Ll,Ll.current)}function Fm(){Nr=nd.current,ct(Ll),ct(nd)}var la=0,Xt=null,De=null,dn=null,id=!1,Vl=!1,Eo=!1,sd=0,Eu=0,Bl=null,jO=0;function rn(){throw Error(i(321))}function zm(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Ri(r[u],o[u]))return!1;return!0}function Hm(r,o,u,d,m,v){return la=v,Xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,q.H=r===null||r.memoizedState===null?zT:HT,Eo=!1,v=u(d,m),Eo=!1,Vl&&(v=oT(o,u,d,m)),aT(r),v}function aT(r){q.H=ud;var o=De!==null&&De.next!==null;if(la=0,dn=De=Xt=null,id=!1,Eu=0,Bl=null,o)throw Error(i(300));r===null||Rn||(r=r.dependencies,r!==null&&Qf(r)&&(Rn=!0))}function oT(r,o,u,d){Xt=r;var m=0;do{if(Vl&&(Bl=null),Eu=0,Vl=!1,25<=m)throw Error(i(301));if(m+=1,dn=De=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}q.H=$O,v=o(u,d)}while(Vl);return v}function UO(){var r=q.H,o=r.useState()[0];return o=typeof o.then=="function"?xu(o):o,r=r.useState()[0],(De!==null?De.memoizedState:null)!==r&&(Xt.flags|=1024),o}function qm(){var r=sd!==0;return sd=0,r}function Wm(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function $m(r){if(id){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}id=!1}la=0,dn=De=Xt=null,Vl=!1,Eu=sd=0,Bl=null}function gi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Xt.memoizedState=dn=r:dn=dn.next=r,dn}function pn(){if(De===null){var r=Xt.alternate;r=r!==null?r.memoizedState:null}else r=De.next;var o=dn===null?Xt.memoizedState:dn.next;if(o!==null)dn=o,De=r;else{if(r===null)throw Xt.alternate===null?Error(i(467)):Error(i(310));De=r,r={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},dn===null?Xt.memoizedState=dn=r:dn=dn.next=r}return dn}function Gm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xu(r){var o=Eu;return Eu+=1,Bl===null&&(Bl=[]),r=tT(Bl,r,o),o=Xt,(dn===null?o.memoizedState:dn.next)===null&&(o=o.alternate,q.H=o===null||o.memoizedState===null?zT:HT),r}function rd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return xu(r);if(r.$$typeof===B)return $n(r)}throw Error(i(438,String(r)))}function Km(r){var o=null,u=Xt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=Xt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Gm(),Xt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),d=0;d<r;d++)u[d]=U;return o.index++,u}function Dr(r,o){return typeof o=="function"?o(r):o}function ad(r){var o=pn();return Ym(o,De,r)}function Ym(r,o,u){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var m=r.baseQueue,v=d.pending;if(v!==null){if(m!==null){var A=m.next;m.next=v.next,v.next=A}o.baseQueue=m=v,d.pending=null}if(v=r.baseState,m===null)r.memoizedState=v;else{o=m.next;var k=A=null,H=null,J=o,at=!1;do{var ut=J.lane&-536870913;if(ut!==J.lane?(he&ut)===ut:(la&ut)===ut){var et=J.revertLane;if(et===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ut===Ol&&(at=!0);else if((la&et)===et){J=J.next,et===Ol&&(at=!0);continue}else ut={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?(k=H=ut,A=v):H=H.next=ut,Xt.lanes|=et,ga|=et;ut=J.action,Eo&&u(v,ut),v=J.hasEagerState?J.eagerState:u(v,ut)}else et={lane:ut,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?(k=H=et,A=v):H=H.next=et,Xt.lanes|=ut,ga|=ut;J=J.next}while(J!==null&&J!==o);if(H===null?A=v:H.next=k,!Ri(v,r.memoizedState)&&(Rn=!0,at&&(u=Nl,u!==null)))throw u;r.memoizedState=v,r.baseState=A,r.baseQueue=H,d.lastRenderedState=v}return m===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Xm(r){var o=pn(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var d=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var A=m=m.next;do v=r(v,A.action),A=A.next;while(A!==m);Ri(v,o.memoizedState)||(Rn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function lT(r,o,u){var d=Xt,m=pn(),v=be;if(v){if(u===void 0)throw Error(i(407));u=u()}else u=o();var A=!Ri((De||m).memoizedState,u);A&&(m.memoizedState=u,Rn=!0),m=m.queue;var k=hT.bind(null,d,m,r);if(Au(2048,8,k,[r]),m.getSnapshot!==o||A||dn!==null&&dn.memoizedState.tag&1){if(d.flags|=2048,jl(9,od(),uT.bind(null,d,m,u,o),null),Ie===null)throw Error(i(349));v||(la&124)!==0||cT(d,o,u)}return u}function cT(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=Xt.updateQueue,o===null?(o=Gm(),Xt.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function uT(r,o,u,d){o.value=u,o.getSnapshot=d,fT(o)&&dT(r)}function hT(r,o,u){return u(function(){fT(o)&&dT(r)})}function fT(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Ri(r,u)}catch{return!0}}function dT(r){var o=kl(r,2);o!==null&&Oi(o,r,2)}function Qm(r){var o=gi();if(typeof r=="function"){var u=r;if(r=u(),Eo){Ke(!0);try{u()}finally{Ke(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:r},o}function pT(r,o,u,d){return r.baseState=u,Ym(r,De,typeof d=="function"?d:Dr)}function FO(r,o,u,d,m){if(cd(r))throw Error(i(485));if(r=o.action,r!==null){var v={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};q.T!==null?u(!0):v.isTransition=!1,d(v),u=o.pending,u===null?(v.next=o.pending=v,gT(o,v)):(v.next=u.next,o.pending=u.next=v)}}function gT(r,o){var u=o.action,d=o.payload,m=r.state;if(o.isTransition){var v=q.T,A={};q.T=A;try{var k=u(m,d),H=q.S;H!==null&&H(A,k),mT(r,o,k)}catch(J){Zm(r,o,J)}finally{q.T=v}}else try{v=u(m,d),mT(r,o,v)}catch(J){Zm(r,o,J)}}function mT(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){yT(r,o,d)},function(d){return Zm(r,o,d)}):yT(r,o,u)}function yT(r,o,u){o.status="fulfilled",o.value=u,vT(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,gT(r,u)))}function Zm(r,o,u){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,vT(o),o=o.next;while(o!==d)}r.action=null}function vT(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function _T(r,o){return o}function bT(r,o){if(be){var u=Ie.formState;if(u!==null){t:{var d=Xt;if(be){if(Je){e:{for(var m=Je,v=Us;m.nodeType!==8;){if(!v){m=null;break e}if(m=ms(m.nextSibling),m===null){m=null;break e}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){Je=ms(m.nextSibling),d=m.data==="F!";break t}}bo(d)}d=!1}d&&(o=u[0])}}return u=gi(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_T,lastRenderedState:o},u.queue=d,u=jT.bind(null,Xt,d),d.dispatch=u,d=Qm(!1),v=iy.bind(null,Xt,!1,d.queue),d=gi(),m={state:o,dispatch:null,action:r,pending:null},d.queue=m,u=FO.bind(null,Xt,m,v,u),m.dispatch=u,d.memoizedState=r,[o,u,!1]}function wT(r){var o=pn();return TT(o,De,r)}function TT(r,o,u){if(o=Ym(r,o,_T)[0],r=ad(Dr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=xu(o)}catch(A){throw A===_u?td:A}else d=o;o=pn();var m=o.queue,v=m.dispatch;return u!==o.memoizedState&&(Xt.flags|=2048,jl(9,od(),zO.bind(null,m,u),null)),[d,v,r]}function zO(r,o){r.action=o}function ST(r){var o=pn(),u=De;if(u!==null)return TT(o,u,r);pn(),o=o.memoizedState,u=pn();var d=u.queue.dispatch;return u.memoizedState=r,[o,d,!1]}function jl(r,o,u,d){return r={tag:r,create:u,deps:d,inst:o,next:null},o=Xt.updateQueue,o===null&&(o=Gm(),Xt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,o.lastEffect=r),r}function od(){return{destroy:void 0,resource:void 0}}function ET(){return pn().memoizedState}function ld(r,o,u,d){var m=gi();d=d===void 0?null:d,Xt.flags|=r,m.memoizedState=jl(1|o,od(),u,d)}function Au(r,o,u,d){var m=pn();d=d===void 0?null:d;var v=m.memoizedState.inst;De!==null&&d!==null&&zm(d,De.memoizedState.deps)?m.memoizedState=jl(o,v,u,d):(Xt.flags|=r,m.memoizedState=jl(1|o,v,u,d))}function xT(r,o){ld(8390656,8,r,o)}function AT(r,o){Au(2048,8,r,o)}function CT(r,o){return Au(4,2,r,o)}function RT(r,o){return Au(4,4,r,o)}function DT(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function kT(r,o,u){u=u!=null?u.concat([r]):null,Au(4,4,DT.bind(null,o,r),u)}function Jm(){}function PT(r,o){var u=pn();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&zm(o,d[1])?d[0]:(u.memoizedState=[r,o],r)}function MT(r,o){var u=pn();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&zm(o,d[1]))return d[0];if(d=r(),Eo){Ke(!0);try{r()}finally{Ke(!1)}}return u.memoizedState=[d,o],d}function ty(r,o,u){return u===void 0||(la&1073741824)!==0?r.memoizedState=o:(r.memoizedState=u,r=NS(),Xt.lanes|=r,ga|=r,u)}function IT(r,o,u,d){return Ri(u,o)?u:Ll.current!==null?(r=ty(r,u,d),Ri(r,o)||(Rn=!0),r):(la&42)===0?(Rn=!0,r.memoizedState=u):(r=NS(),Xt.lanes|=r,ga|=r,o)}function OT(r,o,u,d,m){var v=Y.p;Y.p=v!==0&&8>v?v:8;var A=q.T,k={};q.T=k,iy(r,!1,o,u);try{var H=m(),J=q.S;if(J!==null&&J(k,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var at=BO(H,d);Cu(r,o,at,Ii(r))}else Cu(r,o,d,Ii(r))}catch(ut){Cu(r,o,{then:function(){},status:"rejected",reason:ut},Ii())}finally{Y.p=v,q.T=A}}function HO(){}function ey(r,o,u,d){if(r.tag!==5)throw Error(i(476));var m=NT(r).queue;OT(r,m,o,G,u===null?HO:function(){return LT(r),u(d)})}function NT(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:G},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function LT(r){var o=NT(r).next.queue;Cu(r,o,{},Ii())}function ny(){return $n(Wu)}function VT(){return pn().memoizedState}function BT(){return pn().memoizedState}function qO(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=Ii();r=aa(u);var d=oa(o,r,u);d!==null&&(Oi(d,o,u),wu(d,o,u)),o={cache:Mm()},r.payload=o;return}o=o.return}}function WO(r,o,u){var d=Ii();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},cd(r)?UT(o,u):(u=Tm(r,o,u,d),u!==null&&(Oi(u,r,d),FT(u,o,d)))}function jT(r,o,u){var d=Ii();Cu(r,o,u,d)}function Cu(r,o,u,d){var m={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(cd(r))UT(o,m);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var A=o.lastRenderedState,k=v(A,u);if(m.hasEagerState=!0,m.eagerState=k,Ri(k,A))return $f(r,o,m,0),Ie===null&&Wf(),!1}catch{}finally{}if(u=Tm(r,o,m,d),u!==null)return Oi(u,r,d),FT(u,o,d),!0}return!1}function iy(r,o,u,d){if(d={lane:2,revertLane:Ny(),action:d,hasEagerState:!1,eagerState:null,next:null},cd(r)){if(o)throw Error(i(479))}else o=Tm(r,u,d,2),o!==null&&Oi(o,r,2)}function cd(r){var o=r.alternate;return r===Xt||o!==null&&o===Xt}function UT(r,o){Vl=id=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function FT(r,o,u){if((u&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,sn(r,u)}}var ud={readContext:$n,use:rd,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn},zT={readContext:$n,use:rd,useCallback:function(r,o){return gi().memoizedState=[r,o===void 0?null:o],r},useContext:$n,useEffect:xT,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,ld(4194308,4,DT.bind(null,o,r),u)},useLayoutEffect:function(r,o){return ld(4194308,4,r,o)},useInsertionEffect:function(r,o){ld(4,2,r,o)},useMemo:function(r,o){var u=gi();o=o===void 0?null:o;var d=r();if(Eo){Ke(!0);try{r()}finally{Ke(!1)}}return u.memoizedState=[d,o],d},useReducer:function(r,o,u){var d=gi();if(u!==void 0){var m=u(o);if(Eo){Ke(!0);try{u(o)}finally{Ke(!1)}}}else m=o;return d.memoizedState=d.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},d.queue=r,r=r.dispatch=WO.bind(null,Xt,r),[d.memoizedState,r]},useRef:function(r){var o=gi();return r={current:r},o.memoizedState=r},useState:function(r){r=Qm(r);var o=r.queue,u=jT.bind(null,Xt,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:Jm,useDeferredValue:function(r,o){var u=gi();return ty(u,r,o)},useTransition:function(){var r=Qm(!1);return r=OT.bind(null,Xt,r.queue,!0,!1),gi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var d=Xt,m=gi();if(be){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),Ie===null)throw Error(i(349));(he&124)!==0||cT(d,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,xT(hT.bind(null,d,v,r),[r]),d.flags|=2048,jl(9,od(),uT.bind(null,d,v,u,o),null),u},useId:function(){var r=gi(),o=Ie.identifierPrefix;if(be){var u=Ar,d=xr;u=(d&~(1<<32-Ve(d)-1)).toString(32)+u,o=""+o+"R"+u,u=sd++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=jO++,o=""+o+"r"+u.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:ny,useFormState:bT,useActionState:bT,useOptimistic:function(r){var o=gi();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=iy.bind(null,Xt,!0,u),u.dispatch=o,[r,o]},useMemoCache:Km,useCacheRefresh:function(){return gi().memoizedState=qO.bind(null,Xt)}},HT={readContext:$n,use:rd,useCallback:PT,useContext:$n,useEffect:AT,useImperativeHandle:kT,useInsertionEffect:CT,useLayoutEffect:RT,useMemo:MT,useReducer:ad,useRef:ET,useState:function(){return ad(Dr)},useDebugValue:Jm,useDeferredValue:function(r,o){var u=pn();return IT(u,De.memoizedState,r,o)},useTransition:function(){var r=ad(Dr)[0],o=pn().memoizedState;return[typeof r=="boolean"?r:xu(r),o]},useSyncExternalStore:lT,useId:VT,useHostTransitionStatus:ny,useFormState:wT,useActionState:wT,useOptimistic:function(r,o){var u=pn();return pT(u,De,r,o)},useMemoCache:Km,useCacheRefresh:BT},$O={readContext:$n,use:rd,useCallback:PT,useContext:$n,useEffect:AT,useImperativeHandle:kT,useInsertionEffect:CT,useLayoutEffect:RT,useMemo:MT,useReducer:Xm,useRef:ET,useState:function(){return Xm(Dr)},useDebugValue:Jm,useDeferredValue:function(r,o){var u=pn();return De===null?ty(u,r,o):IT(u,De.memoizedState,r,o)},useTransition:function(){var r=Xm(Dr)[0],o=pn().memoizedState;return[typeof r=="boolean"?r:xu(r),o]},useSyncExternalStore:lT,useId:VT,useHostTransitionStatus:ny,useFormState:ST,useActionState:ST,useOptimistic:function(r,o){var u=pn();return De!==null?pT(u,De,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Km,useCacheRefresh:BT},Ul=null,Ru=0;function hd(r){var o=Ru;return Ru+=1,Ul===null&&(Ul=[]),tT(Ul,r,o)}function Du(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function fd(r,o){throw o.$$typeof===y?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function qT(r){var o=r._init;return o(r._payload)}function WT(r){function o(K,W){if(r){var Z=K.deletions;Z===null?(K.deletions=[W],K.flags|=16):Z.push(W)}}function u(K,W){if(!r)return null;for(;W!==null;)o(K,W),W=W.sibling;return null}function d(K){for(var W=new Map;K!==null;)K.key!==null?W.set(K.key,K):W.set(K.index,K),K=K.sibling;return W}function m(K,W){return K=Er(K,W),K.index=0,K.sibling=null,K}function v(K,W,Z){return K.index=Z,r?(Z=K.alternate,Z!==null?(Z=Z.index,Z<W?(K.flags|=67108866,W):Z):(K.flags|=67108866,W)):(K.flags|=1048576,W)}function A(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function k(K,W,Z,lt){return W===null||W.tag!==6?(W=Em(Z,K.mode,lt),W.return=K,W):(W=m(W,Z),W.return=K,W)}function H(K,W,Z,lt){var At=Z.type;return At===T?at(K,W,Z.props.children,lt,Z.key):W!==null&&(W.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===D&&qT(At)===W.type)?(W=m(W,Z.props),Du(W,Z),W.return=K,W):(W=Kf(Z.type,Z.key,Z.props,null,K.mode,lt),Du(W,Z),W.return=K,W)}function J(K,W,Z,lt){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=xm(Z,K.mode,lt),W.return=K,W):(W=m(W,Z.children||[]),W.return=K,W)}function at(K,W,Z,lt,At){return W===null||W.tag!==7?(W=mo(Z,K.mode,lt,At),W.return=K,W):(W=m(W,Z),W.return=K,W)}function ut(K,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Em(""+W,K.mode,Z),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case _:return Z=Kf(W.type,W.key,W.props,null,K.mode,Z),Du(Z,W),Z.return=K,Z;case b:return W=xm(W,K.mode,Z),W.return=K,W;case D:var lt=W._init;return W=lt(W._payload),ut(K,W,Z)}if(dt(W)||L(W))return W=mo(W,K.mode,Z,null),W.return=K,W;if(typeof W.then=="function")return ut(K,hd(W),Z);if(W.$$typeof===B)return ut(K,Zf(K,W),Z);fd(K,W)}return null}function et(K,W,Z,lt){var At=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return At!==null?null:k(K,W,""+Z,lt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:return Z.key===At?H(K,W,Z,lt):null;case b:return Z.key===At?J(K,W,Z,lt):null;case D:return At=Z._init,Z=At(Z._payload),et(K,W,Z,lt)}if(dt(Z)||L(Z))return At!==null?null:at(K,W,Z,lt,null);if(typeof Z.then=="function")return et(K,W,hd(Z),lt);if(Z.$$typeof===B)return et(K,W,Zf(K,Z),lt);fd(K,Z)}return null}function nt(K,W,Z,lt,At){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return K=K.get(Z)||null,k(W,K,""+lt,At);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case _:return K=K.get(lt.key===null?Z:lt.key)||null,H(W,K,lt,At);case b:return K=K.get(lt.key===null?Z:lt.key)||null,J(W,K,lt,At);case D:var Zt=lt._init;return lt=Zt(lt._payload),nt(K,W,Z,lt,At)}if(dt(lt)||L(lt))return K=K.get(Z)||null,at(W,K,lt,At,null);if(typeof lt.then=="function")return nt(K,W,Z,hd(lt),At);if(lt.$$typeof===B)return nt(K,W,Z,Zf(W,lt),At);fd(W,lt)}return null}function Bt(K,W,Z,lt){for(var At=null,Zt=null,Rt=W,Lt=W=0,kn=null;Rt!==null&&Lt<Z.length;Lt++){Rt.index>Lt?(kn=Rt,Rt=null):kn=Rt.sibling;var ye=et(K,Rt,Z[Lt],lt);if(ye===null){Rt===null&&(Rt=kn);break}r&&Rt&&ye.alternate===null&&o(K,Rt),W=v(ye,W,Lt),Zt===null?At=ye:Zt.sibling=ye,Zt=ye,Rt=kn}if(Lt===Z.length)return u(K,Rt),be&&vo(K,Lt),At;if(Rt===null){for(;Lt<Z.length;Lt++)Rt=ut(K,Z[Lt],lt),Rt!==null&&(W=v(Rt,W,Lt),Zt===null?At=Rt:Zt.sibling=Rt,Zt=Rt);return be&&vo(K,Lt),At}for(Rt=d(Rt);Lt<Z.length;Lt++)kn=nt(Rt,K,Lt,Z[Lt],lt),kn!==null&&(r&&kn.alternate!==null&&Rt.delete(kn.key===null?Lt:kn.key),W=v(kn,W,Lt),Zt===null?At=kn:Zt.sibling=kn,Zt=kn);return r&&Rt.forEach(function(Ea){return o(K,Ea)}),be&&vo(K,Lt),At}function Mt(K,W,Z,lt){if(Z==null)throw Error(i(151));for(var At=null,Zt=null,Rt=W,Lt=W=0,kn=null,ye=Z.next();Rt!==null&&!ye.done;Lt++,ye=Z.next()){Rt.index>Lt?(kn=Rt,Rt=null):kn=Rt.sibling;var Ea=et(K,Rt,ye.value,lt);if(Ea===null){Rt===null&&(Rt=kn);break}r&&Rt&&Ea.alternate===null&&o(K,Rt),W=v(Ea,W,Lt),Zt===null?At=Ea:Zt.sibling=Ea,Zt=Ea,Rt=kn}if(ye.done)return u(K,Rt),be&&vo(K,Lt),At;if(Rt===null){for(;!ye.done;Lt++,ye=Z.next())ye=ut(K,ye.value,lt),ye!==null&&(W=v(ye,W,Lt),Zt===null?At=ye:Zt.sibling=ye,Zt=ye);return be&&vo(K,Lt),At}for(Rt=d(Rt);!ye.done;Lt++,ye=Z.next())ye=nt(Rt,K,Lt,ye.value,lt),ye!==null&&(r&&ye.alternate!==null&&Rt.delete(ye.key===null?Lt:ye.key),W=v(ye,W,Lt),Zt===null?At=ye:Zt.sibling=ye,Zt=ye);return r&&Rt.forEach(function(GN){return o(K,GN)}),be&&vo(K,Lt),At}function Pe(K,W,Z,lt){if(typeof Z=="object"&&Z!==null&&Z.type===T&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:t:{for(var At=Z.key;W!==null;){if(W.key===At){if(At=Z.type,At===T){if(W.tag===7){u(K,W.sibling),lt=m(W,Z.props.children),lt.return=K,K=lt;break t}}else if(W.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===D&&qT(At)===W.type){u(K,W.sibling),lt=m(W,Z.props),Du(lt,Z),lt.return=K,K=lt;break t}u(K,W);break}else o(K,W);W=W.sibling}Z.type===T?(lt=mo(Z.props.children,K.mode,lt,Z.key),lt.return=K,K=lt):(lt=Kf(Z.type,Z.key,Z.props,null,K.mode,lt),Du(lt,Z),lt.return=K,K=lt)}return A(K);case b:t:{for(At=Z.key;W!==null;){if(W.key===At)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){u(K,W.sibling),lt=m(W,Z.children||[]),lt.return=K,K=lt;break t}else{u(K,W);break}else o(K,W);W=W.sibling}lt=xm(Z,K.mode,lt),lt.return=K,K=lt}return A(K);case D:return At=Z._init,Z=At(Z._payload),Pe(K,W,Z,lt)}if(dt(Z))return Bt(K,W,Z,lt);if(L(Z)){if(At=L(Z),typeof At!="function")throw Error(i(150));return Z=At.call(Z),Mt(K,W,Z,lt)}if(typeof Z.then=="function")return Pe(K,W,hd(Z),lt);if(Z.$$typeof===B)return Pe(K,W,Zf(K,Z),lt);fd(K,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,W!==null&&W.tag===6?(u(K,W.sibling),lt=m(W,Z),lt.return=K,K=lt):(u(K,W),lt=Em(Z,K.mode,lt),lt.return=K,K=lt),A(K)):u(K,W)}return function(K,W,Z,lt){try{Ru=0;var At=Pe(K,W,Z,lt);return Ul=null,At}catch(Rt){if(Rt===_u||Rt===td)throw Rt;var Zt=Di(29,Rt,null,K.mode);return Zt.lanes=lt,Zt.return=K,Zt}finally{}}}var Fl=WT(!0),$T=WT(!1),Zi=tt(null),Fs=null;function ca(r){var o=r.alternate;rt(wn,wn.current&1),rt(Zi,r),Fs===null&&(o===null||Ll.current!==null||o.memoizedState!==null)&&(Fs=r)}function GT(r){if(r.tag===22){if(rt(wn,wn.current),rt(Zi,r),Fs===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Fs=r)}}else ua()}function ua(){rt(wn,wn.current),rt(Zi,Zi.current)}function kr(r){ct(Zi),Fs===r&&(Fs=null),ct(wn)}var wn=tt(0);function dd(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Gy(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function sy(r,o,u,d){o=r.memoizedState,u=u(d,o),u=u==null?o:p({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var ry={enqueueSetState:function(r,o,u){r=r._reactInternals;var d=Ii(),m=aa(d);m.payload=o,u!=null&&(m.callback=u),o=oa(r,m,d),o!==null&&(Oi(o,r,d),wu(o,r,d))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var d=Ii(),m=aa(d);m.tag=1,m.payload=o,u!=null&&(m.callback=u),o=oa(r,m,d),o!==null&&(Oi(o,r,d),wu(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=Ii(),d=aa(u);d.tag=2,o!=null&&(d.callback=o),o=oa(r,d,u),o!==null&&(Oi(o,r,u),wu(o,r,u))}};function KT(r,o,u,d,m,v,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,A):o.prototype&&o.prototype.isPureReactComponent?!hu(u,d)||!hu(m,v):!0}function YT(r,o,u,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==r&&ry.enqueueReplaceState(o,o.state,null)}function xo(r,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(r=r.defaultProps){u===o&&(u=p({},u));for(var m in r)u[m]===void 0&&(u[m]=r[m])}return u}var pd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function XT(r){pd(r)}function QT(r){console.error(r)}function ZT(r){pd(r)}function gd(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function JT(r,o,u){try{var d=r.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function ay(r,o,u){return u=aa(u),u.tag=3,u.payload={element:null},u.callback=function(){gd(r,o)},u}function tS(r){return r=aa(r),r.tag=3,r}function eS(r,o,u,d){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var v=d.value;r.payload=function(){return m(v)},r.callback=function(){JT(o,u,d)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){JT(o,u,d),typeof m!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var k=d.stack;this.componentDidCatch(d.value,{componentStack:k!==null?k:""})})}function GO(r,o,u,d,m){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&mu(o,u,m,!0),u=Zi.current,u!==null){switch(u.tag){case 13:return Fs===null?ky():u.alternate===null&&tn===0&&(tn=3),u.flags&=-257,u.flags|=65536,u.lanes=m,d===Nm?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),My(r,d,m)),!1;case 22:return u.flags|=65536,d===Nm?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),My(r,d,m)),!1}throw Error(i(435,u.tag))}return My(r,d,m),ky(),!1}if(be)return o=Zi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,d!==Rm&&(r=Error(i(422),{cause:d}),gu(Ki(r,u)))):(d!==Rm&&(o=Error(i(423),{cause:d}),gu(Ki(o,u))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,d=Ki(d,u),m=ay(r.stateNode,d,m),Bm(r,m),tn!==4&&(tn=2)),!1;var v=Error(i(520),{cause:d});if(v=Ki(v,u),Lu===null?Lu=[v]:Lu.push(v),tn!==4&&(tn=2),o===null)return!0;d=Ki(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=m&-m,u.lanes|=r,r=ay(u.stateNode,d,r),Bm(u,r),!1;case 1:if(o=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ma===null||!ma.has(v))))return u.flags|=65536,m&=-m,u.lanes|=m,m=tS(m),eS(m,r,u,d),Bm(u,m),!1}u=u.return}while(u!==null);return!1}var nS=Error(i(461)),Rn=!1;function Ln(r,o,u,d){o.child=r===null?$T(o,null,u,d):Fl(o,r.child,u,d)}function iS(r,o,u,d,m){u=u.render;var v=o.ref;if("ref"in d){var A={};for(var k in d)k!=="ref"&&(A[k]=d[k])}else A=d;return To(o),d=Hm(r,o,u,A,v,m),k=qm(),r!==null&&!Rn?(Wm(r,o,m),Pr(r,o,m)):(be&&k&&Am(o),o.flags|=1,Ln(r,o,d,m),o.child)}function sS(r,o,u,d,m){if(r===null){var v=u.type;return typeof v=="function"&&!Sm(v)&&v.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=v,rS(r,o,v,d,m)):(r=Kf(u.type,null,d,o,o.mode,m),r.ref=o.ref,r.return=o,o.child=r)}if(v=r.child,!py(r,m)){var A=v.memoizedProps;if(u=u.compare,u=u!==null?u:hu,u(A,d)&&r.ref===o.ref)return Pr(r,o,m)}return o.flags|=1,r=Er(v,d),r.ref=o.ref,r.return=o,o.child=r}function rS(r,o,u,d,m){if(r!==null){var v=r.memoizedProps;if(hu(v,d)&&r.ref===o.ref)if(Rn=!1,o.pendingProps=d=v,py(r,m))(r.flags&131072)!==0&&(Rn=!0);else return o.lanes=r.lanes,Pr(r,o,m)}return oy(r,o,u,d,m)}function aS(r,o,u){var d=o.pendingProps,m=d.children,v=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=v!==null?v.baseLanes|u:u,r!==null){for(m=o.child=r.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;o.childLanes=v&~d}else o.childLanes=0,o.child=null;return oS(r,o,d,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Jf(o,v!==null?v.cachePool:null),v!==null?rT(o,v):Um(),GT(o);else return o.lanes=o.childLanes=536870912,oS(r,o,v!==null?v.baseLanes|u:u,u)}else v!==null?(Jf(o,v.cachePool),rT(o,v),ua(),o.memoizedState=null):(r!==null&&Jf(o,null),Um(),ua());return Ln(r,o,m,u),o.child}function oS(r,o,u,d){var m=Om();return m=m===null?null:{parent:bn._currentValue,pool:m},o.memoizedState={baseLanes:u,cachePool:m},r!==null&&Jf(o,null),Um(),GT(o),r!==null&&mu(r,o,d,!0),null}function md(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function oy(r,o,u,d,m){return To(o),u=Hm(r,o,u,d,void 0,m),d=qm(),r!==null&&!Rn?(Wm(r,o,m),Pr(r,o,m)):(be&&d&&Am(o),o.flags|=1,Ln(r,o,u,m),o.child)}function lS(r,o,u,d,m,v){return To(o),o.updateQueue=null,u=oT(o,d,u,m),aT(r),d=qm(),r!==null&&!Rn?(Wm(r,o,v),Pr(r,o,v)):(be&&d&&Am(o),o.flags|=1,Ln(r,o,u,v),o.child)}function cS(r,o,u,d,m){if(To(o),o.stateNode===null){var v=Pl,A=u.contextType;typeof A=="object"&&A!==null&&(v=$n(A)),v=new u(d,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=ry,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=d,v.state=o.memoizedState,v.refs={},Lm(o),A=u.contextType,v.context=typeof A=="object"&&A!==null?$n(A):Pl,v.state=o.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(sy(o,u,A,d),v.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&ry.enqueueReplaceState(v,v.state,null),Su(o,d,v,m),Tu(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){v=o.stateNode;var k=o.memoizedProps,H=xo(u,k);v.props=H;var J=v.context,at=u.contextType;A=Pl,typeof at=="object"&&at!==null&&(A=$n(at));var ut=u.getDerivedStateFromProps;at=typeof ut=="function"||typeof v.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,at||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k||J!==A)&&YT(o,v,d,A),ra=!1;var et=o.memoizedState;v.state=et,Su(o,d,v,m),Tu(),J=o.memoizedState,k||et!==J||ra?(typeof ut=="function"&&(sy(o,u,ut,d),J=o.memoizedState),(H=ra||KT(o,u,H,d,et,J,A))?(at||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=J),v.props=d,v.state=J,v.context=A,d=H):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{v=o.stateNode,Vm(r,o),A=o.memoizedProps,at=xo(u,A),v.props=at,ut=o.pendingProps,et=v.context,J=u.contextType,H=Pl,typeof J=="object"&&J!==null&&(H=$n(J)),k=u.getDerivedStateFromProps,(J=typeof k=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==ut||et!==H)&&YT(o,v,d,H),ra=!1,et=o.memoizedState,v.state=et,Su(o,d,v,m),Tu();var nt=o.memoizedState;A!==ut||et!==nt||ra||r!==null&&r.dependencies!==null&&Qf(r.dependencies)?(typeof k=="function"&&(sy(o,u,k,d),nt=o.memoizedState),(at=ra||KT(o,u,at,d,et,nt,H)||r!==null&&r.dependencies!==null&&Qf(r.dependencies))?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,nt,H),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,nt,H)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===r.memoizedProps&&et===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&et===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=nt),v.props=d,v.state=nt,v.context=H,d=at):(typeof v.componentDidUpdate!="function"||A===r.memoizedProps&&et===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&et===r.memoizedState||(o.flags|=1024),d=!1)}return v=d,md(r,o),d=(o.flags&128)!==0,v||d?(v=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,r!==null&&d?(o.child=Fl(o,r.child,null,m),o.child=Fl(o,null,u,m)):Ln(r,o,u,m),o.memoizedState=v.state,r=o.child):r=Pr(r,o,m),r}function uS(r,o,u,d){return pu(),o.flags|=256,Ln(r,o,u,d),o.child}var ly={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cy(r){return{baseLanes:r,cachePool:Qw()}}function uy(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=Ji),r}function hS(r,o,u){var d=o.pendingProps,m=!1,v=(o.flags&128)!==0,A;if((A=v)||(A=r!==null&&r.memoizedState===null?!1:(wn.current&2)!==0),A&&(m=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,r===null){if(be){if(m?ca(o):ua(),be){var k=Je,H;if(H=k){t:{for(H=k,k=Us;H.nodeType!==8;){if(!k){k=null;break t}if(H=ms(H.nextSibling),H===null){k=null;break t}}k=H}k!==null?(o.memoizedState={dehydrated:k,treeContext:yo!==null?{id:xr,overflow:Ar}:null,retryLane:536870912,hydrationErrors:null},H=Di(18,null,null,0),H.stateNode=k,H.return=o,o.child=H,li=o,Je=null,H=!0):H=!1}H||bo(o)}if(k=o.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return Gy(k)?o.lanes=32:o.lanes=536870912,null;kr(o)}return k=d.children,d=d.fallback,m?(ua(),m=o.mode,k=yd({mode:"hidden",children:k},m),d=mo(d,m,u,null),k.return=o,d.return=o,k.sibling=d,o.child=k,m=o.child,m.memoizedState=cy(u),m.childLanes=uy(r,A,u),o.memoizedState=ly,d):(ca(o),hy(o,k))}if(H=r.memoizedState,H!==null&&(k=H.dehydrated,k!==null)){if(v)o.flags&256?(ca(o),o.flags&=-257,o=fy(r,o,u)):o.memoizedState!==null?(ua(),o.child=r.child,o.flags|=128,o=null):(ua(),m=d.fallback,k=o.mode,d=yd({mode:"visible",children:d.children},k),m=mo(m,k,u,null),m.flags|=2,d.return=o,m.return=o,d.sibling=m,o.child=d,Fl(o,r.child,null,u),d=o.child,d.memoizedState=cy(u),d.childLanes=uy(r,A,u),o.memoizedState=ly,o=m);else if(ca(o),Gy(k)){if(A=k.nextSibling&&k.nextSibling.dataset,A)var J=A.dgst;A=J,d=Error(i(419)),d.stack="",d.digest=A,gu({value:d,source:null,stack:null}),o=fy(r,o,u)}else if(Rn||mu(r,o,u,!1),A=(u&r.childLanes)!==0,Rn||A){if(A=Ie,A!==null&&(d=u&-u,d=(d&42)!==0?1:Tt(d),d=(d&(A.suspendedLanes|u))!==0?0:d,d!==0&&d!==H.retryLane))throw H.retryLane=d,kl(r,d),Oi(A,r,d),nS;k.data==="$?"||ky(),o=fy(r,o,u)}else k.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=H.treeContext,Je=ms(k.nextSibling),li=o,be=!0,_o=null,Us=!1,r!==null&&(Xi[Qi++]=xr,Xi[Qi++]=Ar,Xi[Qi++]=yo,xr=r.id,Ar=r.overflow,yo=o),o=hy(o,d.children),o.flags|=4096);return o}return m?(ua(),m=d.fallback,k=o.mode,H=r.child,J=H.sibling,d=Er(H,{mode:"hidden",children:d.children}),d.subtreeFlags=H.subtreeFlags&65011712,J!==null?m=Er(J,m):(m=mo(m,k,u,null),m.flags|=2),m.return=o,d.return=o,d.sibling=m,o.child=d,d=m,m=o.child,k=r.child.memoizedState,k===null?k=cy(u):(H=k.cachePool,H!==null?(J=bn._currentValue,H=H.parent!==J?{parent:J,pool:J}:H):H=Qw(),k={baseLanes:k.baseLanes|u,cachePool:H}),m.memoizedState=k,m.childLanes=uy(r,A,u),o.memoizedState=ly,d):(ca(o),u=r.child,r=u.sibling,u=Er(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,r!==null&&(A=o.deletions,A===null?(o.deletions=[r],o.flags|=16):A.push(r)),o.child=u,o.memoizedState=null,u)}function hy(r,o){return o=yd({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function yd(r,o){return r=Di(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function fy(r,o,u){return Fl(o,r.child,null,u),r=hy(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function fS(r,o,u){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),km(r.return,o,u)}function dy(r,o,u,d,m){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=m)}function dS(r,o,u){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(Ln(r,o,d.children,u),d=wn.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&fS(r,u,o);else if(r.tag===19)fS(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(rt(wn,d),m){case"forwards":for(u=o.child,m=null;u!==null;)r=u.alternate,r!==null&&dd(r)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),dy(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(r=m.alternate,r!==null&&dd(r)===null){o.child=m;break}r=m.sibling,m.sibling=u,u=m,m=r}dy(o,!0,u,null,v);break;case"together":dy(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Pr(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),ga|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(mu(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,u=Er(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=Er(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function py(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Qf(r)))}function KO(r,o,u){switch(o.tag){case 3:Ot(o,o.stateNode.containerInfo),sa(o,bn,r.memoizedState.cache),pu();break;case 27:case 5:re(o);break;case 4:Ot(o,o.stateNode.containerInfo);break;case 10:sa(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(ca(o),o.flags|=128,null):(u&o.child.childLanes)!==0?hS(r,o,u):(ca(o),r=Pr(r,o,u),r!==null?r.sibling:null);ca(o);break;case 19:var m=(r.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(mu(r,o,u,!1),d=(u&o.childLanes)!==0),m){if(d)return dS(r,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),rt(wn,wn.current),d)break;return null;case 22:case 23:return o.lanes=0,aS(r,o,u);case 24:sa(o,bn,r.memoizedState.cache)}return Pr(r,o,u)}function pS(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)Rn=!0;else{if(!py(r,u)&&(o.flags&128)===0)return Rn=!1,KO(r,o,u);Rn=(r.flags&131072)!==0}else Rn=!1,be&&(o.flags&1048576)!==0&&qw(o,Xf,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var d=o.elementType,m=d._init;if(d=m(d._payload),o.type=d,typeof d=="function")Sm(d)?(r=xo(d,r),o.tag=1,o=cS(null,o,d,r,u)):(o.tag=0,o=oy(null,o,d,r,u));else{if(d!=null){if(m=d.$$typeof,m===$){o.tag=11,o=iS(null,o,d,r,u);break t}else if(m===I){o.tag=14,o=sS(null,o,d,r,u);break t}}throw o=ot(d)||d,Error(i(306,o,""))}}return o;case 0:return oy(r,o,o.type,o.pendingProps,u);case 1:return d=o.type,m=xo(d,o.pendingProps),cS(r,o,d,m,u);case 3:t:{if(Ot(o,o.stateNode.containerInfo),r===null)throw Error(i(387));d=o.pendingProps;var v=o.memoizedState;m=v.element,Vm(r,o),Su(o,d,null,u);var A=o.memoizedState;if(d=A.cache,sa(o,bn,d),d!==v.cache&&Pm(o,[bn],u,!0),Tu(),d=A.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=uS(r,o,d,u);break t}else if(d!==m){m=Ki(Error(i(424)),o),gu(m),o=uS(r,o,d,u);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Je=ms(r.firstChild),li=o,be=!0,_o=null,Us=!0,u=$T(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(pu(),d===m){o=Pr(r,o,u);break t}Ln(r,o,d,u)}o=o.child}return o;case 26:return md(r,o),r===null?(u=vE(o.type,null,o.pendingProps,null))?o.memoizedState=u:be||(u=o.type,r=o.pendingProps,d=Pd(_t.current).createElement(u),d[bt]=o,d[xt]=r,Bn(d,u,r),He(d),o.stateNode=d):o.memoizedState=vE(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return re(o),r===null&&be&&(d=o.stateNode=gE(o.type,o.pendingProps,_t.current),li=o,Us=!0,m=Je,_a(o.type)?(Ky=m,Je=ms(d.firstChild)):Je=m),Ln(r,o,o.pendingProps.children,u),md(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&be&&((m=d=Je)&&(d=TN(d,o.type,o.pendingProps,Us),d!==null?(o.stateNode=d,li=o,Je=ms(d.firstChild),Us=!1,m=!0):m=!1),m||bo(o)),re(o),m=o.type,v=o.pendingProps,A=r!==null?r.memoizedProps:null,d=v.children,qy(m,v)?d=null:A!==null&&qy(m,A)&&(o.flags|=32),o.memoizedState!==null&&(m=Hm(r,o,UO,null,null,u),Wu._currentValue=m),md(r,o),Ln(r,o,d,u),o.child;case 6:return r===null&&be&&((r=u=Je)&&(u=SN(u,o.pendingProps,Us),u!==null?(o.stateNode=u,li=o,Je=null,r=!0):r=!1),r||bo(o)),null;case 13:return hS(r,o,u);case 4:return Ot(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=Fl(o,null,d,u):Ln(r,o,d,u),o.child;case 11:return iS(r,o,o.type,o.pendingProps,u);case 7:return Ln(r,o,o.pendingProps,u),o.child;case 8:return Ln(r,o,o.pendingProps.children,u),o.child;case 12:return Ln(r,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,sa(o,o.type,d.value),Ln(r,o,d.children,u),o.child;case 9:return m=o.type._context,d=o.pendingProps.children,To(o),m=$n(m),d=d(m),o.flags|=1,Ln(r,o,d,u),o.child;case 14:return sS(r,o,o.type,o.pendingProps,u);case 15:return rS(r,o,o.type,o.pendingProps,u);case 19:return dS(r,o,u);case 31:return d=o.pendingProps,u=o.mode,d={mode:d.mode,children:d.children},r===null?(u=yd(d,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Er(r.child,d),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return aS(r,o,u);case 24:return To(o),d=$n(bn),r===null?(m=Om(),m===null&&(m=Ie,v=Mm(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=u),m=v),o.memoizedState={parent:d,cache:m},Lm(o),sa(o,bn,m)):((r.lanes&u)!==0&&(Vm(r,o),Su(o,null,null,u),Tu()),m=r.memoizedState,v=o.memoizedState,m.parent!==d?(m={parent:d,cache:d},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),sa(o,bn,d)):(d=v.cache,sa(o,bn,d),d!==m.cache&&Pm(o,[bn],u,!0))),Ln(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Mr(r){r.flags|=4}function gS(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!SE(o)){if(o=Zi.current,o!==null&&((he&4194048)===he?Fs!==null:(he&62914560)!==he&&(he&536870912)===0||o!==Fs))throw bu=Nm,Zw;r.flags|=8192}}function vd(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?ae():536870912,r.lanes|=o,Wl|=o)}function ku(r,o){if(!be)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Ye(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(o)for(var m=r.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=u,o}function YO(r,o,u){var d=o.pendingProps;switch(Cm(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(o),null;case 1:return Ye(o),null;case 3:return u=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Rr(bn),Ue(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(du(o)?Mr(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Gw())),Ye(o),null;case 26:return u=o.memoizedState,r===null?(Mr(o),u!==null?(Ye(o),gS(o,u)):(Ye(o),o.flags&=-16777217)):u?u!==r.memoizedState?(Mr(o),Ye(o),gS(o,u)):(Ye(o),o.flags&=-16777217):(r.memoizedProps!==d&&Mr(o),Ye(o),o.flags&=-16777217),null;case 27:Fe(o),u=_t.current;var m=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Mr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Ye(o),null}r=mt.current,du(o)?Ww(o):(r=gE(m,d,u),o.stateNode=r,Mr(o))}return Ye(o),null;case 5:if(Fe(o),u=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Mr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Ye(o),null}if(r=mt.current,du(o))Ww(o);else{switch(m=Pd(_t.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?m.createElement(u,{is:d.is}):m.createElement(u)}}r[bt]=o,r[xt]=d;t:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break t;for(;m.sibling===null;){if(m.return===null||m.return===o)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=r;t:switch(Bn(r,u,d),u){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Mr(o)}}return Ye(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&Mr(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(r=_t.current,du(o)){if(r=o.stateNode,u=o.memoizedProps,d=null,m=li,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}r[bt]=o,r=!!(r.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||lE(r.nodeValue,u)),r||bo(o)}else r=Pd(r).createTextNode(d),r[bt]=o,o.stateNode=r}return Ye(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=du(o),d!==null&&d.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[bt]=o}else pu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ye(o),m=!1}else m=Gw(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(kr(o),o):(kr(o),null)}if(kr(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=d!==null,r=r!==null&&r.memoizedState!==null,u){d=o.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==m&&(d.flags|=2048)}return u!==r&&u&&(o.child.flags|=8192),vd(o,o.updateQueue),Ye(o),null;case 4:return Ue(),r===null&&jy(o.stateNode.containerInfo),Ye(o),null;case 10:return Rr(o.type),Ye(o),null;case 19:if(ct(wn),m=o.memoizedState,m===null)return Ye(o),null;if(d=(o.flags&128)!==0,v=m.rendering,v===null)if(d)ku(m,!1);else{if(tn!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(v=dd(r),v!==null){for(o.flags|=128,ku(m,!1),r=v.updateQueue,o.updateQueue=r,vd(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)Hw(u,r),u=u.sibling;return rt(wn,wn.current&1|2),o.child}r=r.sibling}m.tail!==null&&$e()>wd&&(o.flags|=128,d=!0,ku(m,!1),o.lanes=4194304)}else{if(!d)if(r=dd(v),r!==null){if(o.flags|=128,d=!0,r=r.updateQueue,o.updateQueue=r,vd(o,r),ku(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!be)return Ye(o),null}else 2*$e()-m.renderingStartTime>wd&&u!==536870912&&(o.flags|=128,d=!0,ku(m,!1),o.lanes=4194304);m.isBackwards?(v.sibling=o.child,o.child=v):(r=m.last,r!==null?r.sibling=v:o.child=v,m.last=v)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=$e(),o.sibling=null,r=wn.current,rt(wn,d?r&1|2:r&1),o):(Ye(o),null);case 22:case 23:return kr(o),Fm(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(Ye(o),o.subtreeFlags&6&&(o.flags|=8192)):Ye(o),u=o.updateQueue,u!==null&&vd(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),r!==null&&ct(So),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Rr(bn),Ye(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function XO(r,o){switch(Cm(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Rr(bn),Ue(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Fe(o),null;case 13:if(kr(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));pu()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return ct(wn),null;case 4:return Ue(),null;case 10:return Rr(o.type),null;case 22:case 23:return kr(o),Fm(),r!==null&&ct(So),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Rr(bn),null;case 25:return null;default:return null}}function mS(r,o){switch(Cm(o),o.tag){case 3:Rr(bn),Ue();break;case 26:case 27:case 5:Fe(o);break;case 4:Ue();break;case 13:kr(o);break;case 19:ct(wn);break;case 10:Rr(o.type);break;case 22:case 23:kr(o),Fm(),r!==null&&ct(So);break;case 24:Rr(bn)}}function Pu(r,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&r)===r){d=void 0;var v=u.create,A=u.inst;d=v(),A.destroy=d}u=u.next}while(u!==m)}}catch(k){Me(o,o.return,k)}}function ha(r,o,u){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var v=m.next;d=v;do{if((d.tag&r)===r){var A=d.inst,k=A.destroy;if(k!==void 0){A.destroy=void 0,m=o;var H=u,J=k;try{J()}catch(at){Me(m,H,at)}}}d=d.next}while(d!==v)}}catch(at){Me(o,o.return,at)}}function yS(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{sT(o,u)}catch(d){Me(r,r.return,d)}}}function vS(r,o,u){u.props=xo(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(d){Me(r,o,d)}}function Mu(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof u=="function"?r.refCleanup=u(d):u.current=d}}catch(m){Me(r,o,m)}}function zs(r,o){var u=r.ref,d=r.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(m){Me(r,o,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){Me(r,o,m)}else u.current=null}function _S(r){var o=r.type,u=r.memoizedProps,d=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break t;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(m){Me(r,r.return,m)}}function gy(r,o,u){try{var d=r.stateNode;yN(d,r.type,u,o),d[xt]=o}catch(m){Me(r,r.return,m)}}function bS(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&_a(r.type)||r.tag===4}function my(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||bS(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&_a(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function yy(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=kd));else if(d!==4&&(d===27&&_a(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(yy(r,o,u),r=r.sibling;r!==null;)yy(r,o,u),r=r.sibling}function _d(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(d!==4&&(d===27&&_a(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(_d(r,o,u),r=r.sibling;r!==null;)_d(r,o,u),r=r.sibling}function wS(r){var o=r.stateNode,u=r.memoizedProps;try{for(var d=r.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);Bn(o,d,u),o[bt]=r,o[xt]=u}catch(v){Me(r,r.return,v)}}var Ir=!1,an=!1,vy=!1,TS=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function QO(r,o){if(r=r.containerInfo,zy=Vd,r=Iw(r),mm(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break t}var A=0,k=-1,H=-1,J=0,at=0,ut=r,et=null;e:for(;;){for(var nt;ut!==u||m!==0&&ut.nodeType!==3||(k=A+m),ut!==v||d!==0&&ut.nodeType!==3||(H=A+d),ut.nodeType===3&&(A+=ut.nodeValue.length),(nt=ut.firstChild)!==null;)et=ut,ut=nt;for(;;){if(ut===r)break e;if(et===u&&++J===m&&(k=A),et===v&&++at===d&&(H=A),(nt=ut.nextSibling)!==null)break;ut=et,et=ut.parentNode}ut=nt}u=k===-1||H===-1?null:{start:k,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(Hy={focusedElem:r,selectionRange:u},Vd=!1,Dn=o;Dn!==null;)if(o=Dn,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,Dn=r;else for(;Dn!==null;){switch(o=Dn,v=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,u=o,m=v.memoizedProps,v=v.memoizedState,d=u.stateNode;try{var Bt=xo(u.type,m,u.elementType===u.type);r=d.getSnapshotBeforeUpdate(Bt,v),d.__reactInternalSnapshotBeforeUpdate=r}catch(Mt){Me(u,u.return,Mt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)$y(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":$y(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,Dn=r;break}Dn=o.return}}function SS(r,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:fa(r,u),d&4&&Pu(5,u);break;case 1:if(fa(r,u),d&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(A){Me(u,u.return,A)}else{var m=xo(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(m,o,r.__reactInternalSnapshotBeforeUpdate)}catch(A){Me(u,u.return,A)}}d&64&&yS(u),d&512&&Mu(u,u.return);break;case 3:if(fa(r,u),d&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{sT(r,o)}catch(A){Me(u,u.return,A)}}break;case 27:o===null&&d&4&&wS(u);case 26:case 5:fa(r,u),o===null&&d&4&&_S(u),d&512&&Mu(u,u.return);break;case 12:fa(r,u);break;case 13:fa(r,u),d&4&&AS(r,u),d&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=aN.bind(null,u),EN(r,u))));break;case 22:if(d=u.memoizedState!==null||Ir,!d){o=o!==null&&o.memoizedState!==null||an,m=Ir;var v=an;Ir=d,(an=o)&&!v?da(r,u,(u.subtreeFlags&8772)!==0):fa(r,u),Ir=m,an=v}break;case 30:break;default:fa(r,u)}}function ES(r){var o=r.alternate;o!==null&&(r.alternate=null,ES(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&de(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var qe=null,mi=!1;function Or(r,o,u){for(u=u.child;u!==null;)xS(r,o,u),u=u.sibling}function xS(r,o,u){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(le,u)}catch{}switch(u.tag){case 26:an||zs(u,o),Or(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:an||zs(u,o);var d=qe,m=mi;_a(u.type)&&(qe=u.stateNode,mi=!1),Or(r,o,u),Fu(u.stateNode),qe=d,mi=m;break;case 5:an||zs(u,o);case 6:if(d=qe,m=mi,qe=null,Or(r,o,u),qe=d,mi=m,qe!==null)if(mi)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(u.stateNode)}catch(v){Me(u,o,v)}else try{qe.removeChild(u.stateNode)}catch(v){Me(u,o,v)}break;case 18:qe!==null&&(mi?(r=qe,dE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),Yu(r)):dE(qe,u.stateNode));break;case 4:d=qe,m=mi,qe=u.stateNode.containerInfo,mi=!0,Or(r,o,u),qe=d,mi=m;break;case 0:case 11:case 14:case 15:an||ha(2,u,o),an||ha(4,u,o),Or(r,o,u);break;case 1:an||(zs(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&vS(u,o,d)),Or(r,o,u);break;case 21:Or(r,o,u);break;case 22:an=(d=an)||u.memoizedState!==null,Or(r,o,u),an=d;break;default:Or(r,o,u)}}function AS(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Yu(r)}catch(u){Me(o,o.return,u)}}function ZO(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new TS),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new TS),o;default:throw Error(i(435,r.tag))}}function _y(r,o){var u=ZO(r);o.forEach(function(d){var m=oN.bind(null,r,d);u.has(d)||(u.add(d),d.then(m,m))})}function ki(r,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d],v=r,A=o,k=A;t:for(;k!==null;){switch(k.tag){case 27:if(_a(k.type)){qe=k.stateNode,mi=!1;break t}break;case 5:qe=k.stateNode,mi=!1;break t;case 3:case 4:qe=k.stateNode.containerInfo,mi=!0;break t}k=k.return}if(qe===null)throw Error(i(160));xS(v,A,m),qe=null,mi=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)CS(o,r),o=o.sibling}var gs=null;function CS(r,o){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ki(o,r),Pi(r),d&4&&(ha(3,r,r.return),Pu(3,r),ha(5,r,r.return));break;case 1:ki(o,r),Pi(r),d&512&&(an||u===null||zs(u,u.return)),d&64&&Ir&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var m=gs;if(ki(o,r),Pi(r),d&512&&(an||u===null||zs(u,u.return)),d&4){var v=u!==null?u.memoizedState:null;if(d=r.memoizedState,u===null)if(d===null)if(r.stateNode===null){t:{d=r.type,u=r.memoizedProps,m=m.ownerDocument||m;e:switch(d){case"title":v=m.getElementsByTagName("title")[0],(!v||v[hn]||v[bt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(d),m.head.insertBefore(v,m.querySelector("head > title"))),Bn(v,d,u),v[bt]=r,He(v),d=v;break t;case"link":var A=wE("link","href",m).get(d+(u.href||""));if(A){for(var k=0;k<A.length;k++)if(v=A[k],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(k,1);break e}}v=m.createElement(d),Bn(v,d,u),m.head.appendChild(v);break;case"meta":if(A=wE("meta","content",m).get(d+(u.content||""))){for(k=0;k<A.length;k++)if(v=A[k],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(k,1);break e}}v=m.createElement(d),Bn(v,d,u),m.head.appendChild(v);break;default:throw Error(i(468,d))}v[bt]=r,He(v),d=v}r.stateNode=d}else TE(m,r.type,r.stateNode);else r.stateNode=bE(m,d,r.memoizedProps);else v!==d?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,d===null?TE(m,r.type,r.stateNode):bE(m,d,r.memoizedProps)):d===null&&r.stateNode!==null&&gy(r,r.memoizedProps,u.memoizedProps)}break;case 27:ki(o,r),Pi(r),d&512&&(an||u===null||zs(u,u.return)),u!==null&&d&4&&gy(r,r.memoizedProps,u.memoizedProps);break;case 5:if(ki(o,r),Pi(r),d&512&&(an||u===null||zs(u,u.return)),r.flags&32){m=r.stateNode;try{qi(m,"")}catch(nt){Me(r,r.return,nt)}}d&4&&r.stateNode!=null&&(m=r.memoizedProps,gy(r,m,u!==null?u.memoizedProps:m)),d&1024&&(vy=!0);break;case 6:if(ki(o,r),Pi(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,u=r.stateNode;try{u.nodeValue=d}catch(nt){Me(r,r.return,nt)}}break;case 3:if(Od=null,m=gs,gs=Md(o.containerInfo),ki(o,r),gs=m,Pi(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Yu(o.containerInfo)}catch(nt){Me(r,r.return,nt)}vy&&(vy=!1,RS(r));break;case 4:d=gs,gs=Md(r.stateNode.containerInfo),ki(o,r),Pi(r),gs=d;break;case 12:ki(o,r),Pi(r);break;case 13:ki(o,r),Pi(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(xy=$e()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,_y(r,d)));break;case 22:m=r.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,J=Ir,at=an;if(Ir=J||m,an=at||H,ki(o,r),an=at,Ir=J,Pi(r),d&8192)t:for(o=r.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(u===null||H||Ir||an||Ao(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){H=u=o;try{if(v=H.stateNode,m)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{k=H.stateNode;var ut=H.memoizedProps.style,et=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;k.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(nt){Me(H,H.return,nt)}}}else if(o.tag===6){if(u===null){H=o;try{H.stateNode.nodeValue=m?"":H.memoizedProps}catch(nt){Me(H,H.return,nt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,_y(r,u))));break;case 19:ki(o,r),Pi(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,_y(r,d)));break;case 30:break;case 21:break;default:ki(o,r),Pi(r)}}function Pi(r){var o=r.flags;if(o&2){try{for(var u,d=r.return;d!==null;){if(bS(d)){u=d;break}d=d.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var m=u.stateNode,v=my(r);_d(r,v,m);break;case 5:var A=u.stateNode;u.flags&32&&(qi(A,""),u.flags&=-33);var k=my(r);_d(r,k,A);break;case 3:case 4:var H=u.stateNode.containerInfo,J=my(r);yy(r,J,H);break;default:throw Error(i(161))}}catch(at){Me(r,r.return,at)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function RS(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;RS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function fa(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)SS(r,o.alternate,o),o=o.sibling}function Ao(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:ha(4,o,o.return),Ao(o);break;case 1:zs(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&vS(o,o.return,u),Ao(o);break;case 27:Fu(o.stateNode);case 26:case 5:zs(o,o.return),Ao(o);break;case 22:o.memoizedState===null&&Ao(o);break;case 30:Ao(o);break;default:Ao(o)}r=r.sibling}}function da(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,m=r,v=o,A=v.flags;switch(v.tag){case 0:case 11:case 15:da(m,v,u),Pu(4,v);break;case 1:if(da(m,v,u),d=v,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(J){Me(d,d.return,J)}if(d=v,m=d.updateQueue,m!==null){var k=d.stateNode;try{var H=m.shared.hiddenCallbacks;if(H!==null)for(m.shared.hiddenCallbacks=null,m=0;m<H.length;m++)iT(H[m],k)}catch(J){Me(d,d.return,J)}}u&&A&64&&yS(v),Mu(v,v.return);break;case 27:wS(v);case 26:case 5:da(m,v,u),u&&d===null&&A&4&&_S(v),Mu(v,v.return);break;case 12:da(m,v,u);break;case 13:da(m,v,u),u&&A&4&&AS(m,v);break;case 22:v.memoizedState===null&&da(m,v,u),Mu(v,v.return);break;case 30:break;default:da(m,v,u)}o=o.sibling}}function by(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&yu(u))}function wy(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&yu(r))}function Hs(r,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)DS(r,o,u,d),o=o.sibling}function DS(r,o,u,d){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Hs(r,o,u,d),m&2048&&Pu(9,o);break;case 1:Hs(r,o,u,d);break;case 3:Hs(r,o,u,d),m&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&yu(r)));break;case 12:if(m&2048){Hs(r,o,u,d),r=o.stateNode;try{var v=o.memoizedProps,A=v.id,k=v.onPostCommit;typeof k=="function"&&k(A,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){Me(o,o.return,H)}}else Hs(r,o,u,d);break;case 13:Hs(r,o,u,d);break;case 23:break;case 22:v=o.stateNode,A=o.alternate,o.memoizedState!==null?v._visibility&2?Hs(r,o,u,d):Iu(r,o):v._visibility&2?Hs(r,o,u,d):(v._visibility|=2,zl(r,o,u,d,(o.subtreeFlags&10256)!==0)),m&2048&&by(A,o);break;case 24:Hs(r,o,u,d),m&2048&&wy(o.alternate,o);break;default:Hs(r,o,u,d)}}function zl(r,o,u,d,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=r,A=o,k=u,H=d,J=A.flags;switch(A.tag){case 0:case 11:case 15:zl(v,A,k,H,m),Pu(8,A);break;case 23:break;case 22:var at=A.stateNode;A.memoizedState!==null?at._visibility&2?zl(v,A,k,H,m):Iu(v,A):(at._visibility|=2,zl(v,A,k,H,m)),m&&J&2048&&by(A.alternate,A);break;case 24:zl(v,A,k,H,m),m&&J&2048&&wy(A.alternate,A);break;default:zl(v,A,k,H,m)}o=o.sibling}}function Iu(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,d=o,m=d.flags;switch(d.tag){case 22:Iu(u,d),m&2048&&by(d.alternate,d);break;case 24:Iu(u,d),m&2048&&wy(d.alternate,d);break;default:Iu(u,d)}o=o.sibling}}var Ou=8192;function Hl(r){if(r.subtreeFlags&Ou)for(r=r.child;r!==null;)kS(r),r=r.sibling}function kS(r){switch(r.tag){case 26:Hl(r),r.flags&Ou&&r.memoizedState!==null&&VN(gs,r.memoizedState,r.memoizedProps);break;case 5:Hl(r);break;case 3:case 4:var o=gs;gs=Md(r.stateNode.containerInfo),Hl(r),gs=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=Ou,Ou=16777216,Hl(r),Ou=o):Hl(r));break;default:Hl(r)}}function PS(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Nu(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];Dn=d,IS(d,r)}PS(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)MS(r),r=r.sibling}function MS(r){switch(r.tag){case 0:case 11:case 15:Nu(r),r.flags&2048&&ha(9,r,r.return);break;case 3:Nu(r);break;case 12:Nu(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,bd(r)):Nu(r);break;default:Nu(r)}}function bd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];Dn=d,IS(d,r)}PS(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:ha(8,o,o.return),bd(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,bd(o));break;default:bd(o)}r=r.sibling}}function IS(r,o){for(;Dn!==null;){var u=Dn;switch(u.tag){case 0:case 11:case 15:ha(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:yu(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,Dn=d;else t:for(u=r;Dn!==null;){d=Dn;var m=d.sibling,v=d.return;if(ES(d),d===u){Dn=null;break t}if(m!==null){m.return=v,Dn=m;break t}Dn=v}}}var JO={getCacheForType:function(r){var o=$n(bn),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u}},tN=typeof WeakMap=="function"?WeakMap:Map,xe=0,Ie=null,te=null,he=0,Ae=0,Mi=null,pa=!1,ql=!1,Ty=!1,Nr=0,tn=0,ga=0,Co=0,Sy=0,Ji=0,Wl=0,Lu=null,yi=null,Ey=!1,xy=0,wd=1/0,Td=null,ma=null,Vn=0,ya=null,$l=null,Gl=0,Ay=0,Cy=null,OS=null,Vu=0,Ry=null;function Ii(){if((xe&2)!==0&&he!==0)return he&-he;if(q.T!==null){var r=Ol;return r!==0?r:Ny()}return _e()}function NS(){Ji===0&&(Ji=(he&536870912)===0||be?Kt():536870912);var r=Zi.current;return r!==null&&(r.flags|=32),Ji}function Oi(r,o,u){(r===Ie&&(Ae===2||Ae===9)||r.cancelPendingCommit!==null)&&(Kl(r,0),va(r,he,Ji,!1)),we(r,u),((xe&2)===0||r!==Ie)&&(r===Ie&&((xe&2)===0&&(Co|=u),tn===4&&va(r,he,Ji,!1)),qs(r))}function LS(r,o,u){if((xe&6)!==0)throw Error(i(327));var d=!u&&(o&124)===0&&(o&r.expiredLanes)===0||Dt(r,o),m=d?iN(r,o):Py(r,o,!0),v=d;do{if(m===0){ql&&!d&&va(r,o,0,!1);break}else{if(u=r.current.alternate,v&&!eN(u)){m=Py(r,o,!1),v=!1;continue}if(m===2){if(v=o,r.errorRecoveryDisabledLanes&v)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;t:{var k=r;m=Lu;var H=k.current.memoizedState.isDehydrated;if(H&&(Kl(k,A).flags|=256),A=Py(k,A,!1),A!==2){if(Ty&&!H){k.errorRecoveryDisabledLanes|=v,Co|=v,m=4;break t}v=yi,yi=m,v!==null&&(yi===null?yi=v:yi.push.apply(yi,v))}m=A}if(v=!1,m!==2)continue}}if(m===1){Kl(r,0),va(r,o,0,!0);break}t:{switch(d=r,v=m,v){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:va(d,o,Ji,!pa);break t;case 2:yi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(m=xy+300-$e(),10<m)){if(va(d,o,Ji,!pa),wt(d,0,!0)!==0)break t;d.timeoutHandle=hE(VS.bind(null,d,u,yi,Td,Ey,o,Ji,Co,Wl,pa,v,2,-0,0),m);break t}VS(d,u,yi,Td,Ey,o,Ji,Co,Wl,pa,v,0,-0,0)}}break}while(!0);qs(r)}function VS(r,o,u,d,m,v,A,k,H,J,at,ut,et,nt){if(r.timeoutHandle=-1,ut=o.subtreeFlags,(ut&8192||(ut&16785408)===16785408)&&(qu={stylesheets:null,count:0,unsuspend:LN},kS(o),ut=BN(),ut!==null)){r.cancelPendingCommit=ut(qS.bind(null,r,o,v,u,d,m,A,k,H,at,1,et,nt)),va(r,v,A,!J);return}qS(r,o,v,u,d,m,A,k,H)}function eN(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var m=u[d],v=m.getSnapshot;m=m.value;try{if(!Ri(v(),m))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function va(r,o,u,d){o&=~Sy,o&=~Co,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var m=o;0<m;){var v=31-Ve(m),A=1<<v;d[v]=-1,m&=~A}u!==0&&ge(r,u,o)}function Sd(){return(xe&6)===0?(Bu(0),!1):!0}function Dy(){if(te!==null){if(Ae===0)var r=te.return;else r=te,Cr=wo=null,$m(r),Ul=null,Ru=0,r=te;for(;r!==null;)mS(r.alternate,r),r=r.return;te=null}}function Kl(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,_N(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Dy(),Ie=r,te=u=Er(r.current,null),he=o,Ae=0,Mi=null,pa=!1,ql=Dt(r,o),Ty=!1,Wl=Ji=Sy=Co=ga=tn=0,yi=Lu=null,Ey=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var m=31-Ve(d),v=1<<m;o|=r[m],d&=~v}return Nr=o,Wf(),u}function BS(r,o){Xt=null,q.H=ud,o===_u||o===td?(o=eT(),Ae=3):o===Zw?(o=eT(),Ae=4):Ae=o===nS?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Mi=o,te===null&&(tn=1,gd(r,Ki(o,r.current)))}function jS(){var r=q.H;return q.H=ud,r===null?ud:r}function US(){var r=q.A;return q.A=JO,r}function ky(){tn=4,pa||(he&4194048)!==he&&Zi.current!==null||(ql=!0),(ga&134217727)===0&&(Co&134217727)===0||Ie===null||va(Ie,he,Ji,!1)}function Py(r,o,u){var d=xe;xe|=2;var m=jS(),v=US();(Ie!==r||he!==o)&&(Td=null,Kl(r,o)),o=!1;var A=tn;t:do try{if(Ae!==0&&te!==null){var k=te,H=Mi;switch(Ae){case 8:Dy(),A=6;break t;case 3:case 2:case 9:case 6:Zi.current===null&&(o=!0);var J=Ae;if(Ae=0,Mi=null,Yl(r,k,H,J),u&&ql){A=0;break t}break;default:J=Ae,Ae=0,Mi=null,Yl(r,k,H,J)}}nN(),A=tn;break}catch(at){BS(r,at)}while(!0);return o&&r.shellSuspendCounter++,Cr=wo=null,xe=d,q.H=m,q.A=v,te===null&&(Ie=null,he=0,Wf()),A}function nN(){for(;te!==null;)FS(te)}function iN(r,o){var u=xe;xe|=2;var d=jS(),m=US();Ie!==r||he!==o?(Td=null,wd=$e()+500,Kl(r,o)):ql=Dt(r,o);t:do try{if(Ae!==0&&te!==null){o=te;var v=Mi;e:switch(Ae){case 1:Ae=0,Mi=null,Yl(r,o,v,1);break;case 2:case 9:if(Jw(v)){Ae=0,Mi=null,zS(o);break}o=function(){Ae!==2&&Ae!==9||Ie!==r||(Ae=7),qs(r)},v.then(o,o);break t;case 3:Ae=7;break t;case 4:Ae=5;break t;case 7:Jw(v)?(Ae=0,Mi=null,zS(o)):(Ae=0,Mi=null,Yl(r,o,v,7));break;case 5:var A=null;switch(te.tag){case 26:A=te.memoizedState;case 5:case 27:var k=te;if(!A||SE(A)){Ae=0,Mi=null;var H=k.sibling;if(H!==null)te=H;else{var J=k.return;J!==null?(te=J,Ed(J)):te=null}break e}}Ae=0,Mi=null,Yl(r,o,v,5);break;case 6:Ae=0,Mi=null,Yl(r,o,v,6);break;case 8:Dy(),tn=6;break t;default:throw Error(i(462))}}sN();break}catch(at){BS(r,at)}while(!0);return Cr=wo=null,q.H=d,q.A=m,xe=u,te!==null?0:(Ie=null,he=0,Wf(),tn)}function sN(){for(;te!==null&&!ze();)FS(te)}function FS(r){var o=pS(r.alternate,r,Nr);r.memoizedProps=r.pendingProps,o===null?Ed(r):te=o}function zS(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=lS(u,o,o.pendingProps,o.type,void 0,he);break;case 11:o=lS(u,o,o.pendingProps,o.type.render,o.ref,he);break;case 5:$m(o);default:mS(u,o),o=te=Hw(o,Nr),o=pS(u,o,Nr)}r.memoizedProps=r.pendingProps,o===null?Ed(r):te=o}function Yl(r,o,u,d){Cr=wo=null,$m(o),Ul=null,Ru=0;var m=o.return;try{if(GO(r,m,o,u,he)){tn=1,gd(r,Ki(u,r.current)),te=null;return}}catch(v){if(m!==null)throw te=m,v;tn=1,gd(r,Ki(u,r.current)),te=null;return}o.flags&32768?(be||d===1?r=!0:ql||(he&536870912)!==0?r=!1:(pa=r=!0,(d===2||d===9||d===3||d===6)&&(d=Zi.current,d!==null&&d.tag===13&&(d.flags|=16384))),HS(o,r)):Ed(o)}function Ed(r){var o=r;do{if((o.flags&32768)!==0){HS(o,pa);return}r=o.return;var u=YO(o.alternate,o,Nr);if(u!==null){te=u;return}if(o=o.sibling,o!==null){te=o;return}te=o=r}while(o!==null);tn===0&&(tn=5)}function HS(r,o){do{var u=XO(r.alternate,r);if(u!==null){u.flags&=32767,te=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){te=r;return}te=r=u}while(r!==null);tn=6,te=null}function qS(r,o,u,d,m,v,A,k,H){r.cancelPendingCommit=null;do xd();while(Vn!==0);if((xe&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(v=o.lanes|o.childLanes,v|=wm,qn(r,u,v,A,k,H),r===Ie&&(te=Ie=null,he=0),$l=o,ya=r,Gl=u,Ay=v,Cy=m,OS=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,lN(Ge,function(){return YS(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=q.T,q.T=null,m=Y.p,Y.p=2,A=xe,xe|=4;try{QO(r,o,u)}finally{xe=A,Y.p=m,q.T=d}}Vn=1,WS(),$S(),GS()}}function WS(){if(Vn===1){Vn=0;var r=ya,o=$l,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=q.T,q.T=null;var d=Y.p;Y.p=2;var m=xe;xe|=4;try{CS(o,r);var v=Hy,A=Iw(r.containerInfo),k=v.focusedElem,H=v.selectionRange;if(A!==k&&k&&k.ownerDocument&&Mw(k.ownerDocument.documentElement,k)){if(H!==null&&mm(k)){var J=H.start,at=H.end;if(at===void 0&&(at=J),"selectionStart"in k)k.selectionStart=J,k.selectionEnd=Math.min(at,k.value.length);else{var ut=k.ownerDocument||document,et=ut&&ut.defaultView||window;if(et.getSelection){var nt=et.getSelection(),Bt=k.textContent.length,Mt=Math.min(H.start,Bt),Pe=H.end===void 0?Mt:Math.min(H.end,Bt);!nt.extend&&Mt>Pe&&(A=Pe,Pe=Mt,Mt=A);var K=Pw(k,Mt),W=Pw(k,Pe);if(K&&W&&(nt.rangeCount!==1||nt.anchorNode!==K.node||nt.anchorOffset!==K.offset||nt.focusNode!==W.node||nt.focusOffset!==W.offset)){var Z=ut.createRange();Z.setStart(K.node,K.offset),nt.removeAllRanges(),Mt>Pe?(nt.addRange(Z),nt.extend(W.node,W.offset)):(Z.setEnd(W.node,W.offset),nt.addRange(Z))}}}}for(ut=[],nt=k;nt=nt.parentNode;)nt.nodeType===1&&ut.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ut.length;k++){var lt=ut[k];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}Vd=!!zy,Hy=zy=null}finally{xe=m,Y.p=d,q.T=u}}r.current=o,Vn=2}}function $S(){if(Vn===2){Vn=0;var r=ya,o=$l,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=q.T,q.T=null;var d=Y.p;Y.p=2;var m=xe;xe|=4;try{SS(r,o.alternate,o)}finally{xe=m,Y.p=d,q.T=u}}Vn=3}}function GS(){if(Vn===4||Vn===3){Vn=0,Ei();var r=ya,o=$l,u=Gl,d=OS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Vn=5:(Vn=0,$l=ya=null,KS(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(ma=null),kt(u),o=o.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(le,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=q.T,m=Y.p,Y.p=2,q.T=null;try{for(var v=r.onRecoverableError,A=0;A<d.length;A++){var k=d[A];v(k.value,{componentStack:k.stack})}}finally{q.T=o,Y.p=m}}(Gl&3)!==0&&xd(),qs(r),m=r.pendingLanes,(u&4194090)!==0&&(m&42)!==0?r===Ry?Vu++:(Vu=0,Ry=r):Vu=0,Bu(0)}}function KS(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,yu(o)))}function xd(r){return WS(),$S(),GS(),YS()}function YS(){if(Vn!==5)return!1;var r=ya,o=Ay;Ay=0;var u=kt(Gl),d=q.T,m=Y.p;try{Y.p=32>u?32:u,q.T=null,u=Cy,Cy=null;var v=ya,A=Gl;if(Vn=0,$l=ya=null,Gl=0,(xe&6)!==0)throw Error(i(331));var k=xe;if(xe|=4,MS(v.current),DS(v,v.current,A,u),xe=k,Bu(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(le,v)}catch{}return!0}finally{Y.p=m,q.T=d,KS(r,o)}}function XS(r,o,u){o=Ki(u,o),o=ay(r.stateNode,o,2),r=oa(r,o,2),r!==null&&(we(r,2),qs(r))}function Me(r,o,u){if(r.tag===3)XS(r,r,u);else for(;o!==null;){if(o.tag===3){XS(o,r,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ma===null||!ma.has(d))){r=Ki(u,r),u=tS(2),d=oa(o,u,2),d!==null&&(eS(u,d,o,r),we(d,2),qs(d));break}}o=o.return}}function My(r,o,u){var d=r.pingCache;if(d===null){d=r.pingCache=new tN;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(Ty=!0,m.add(u),r=rN.bind(null,r,o,u),o.then(r,r))}function rN(r,o,u){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,Ie===r&&(he&u)===u&&(tn===4||tn===3&&(he&62914560)===he&&300>$e()-xy?(xe&2)===0&&Kl(r,0):Sy|=u,Wl===he&&(Wl=0)),qs(r)}function QS(r,o){o===0&&(o=ae()),r=kl(r,o),r!==null&&(we(r,o),qs(r))}function aN(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),QS(r,u)}function oN(r,o){var u=0;switch(r.tag){case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),QS(r,u)}function lN(r,o){return Le(r,o)}var Ad=null,Xl=null,Iy=!1,Cd=!1,Oy=!1,Ro=0;function qs(r){r!==Xl&&r.next===null&&(Xl===null?Ad=Xl=r:Xl=Xl.next=r),Cd=!0,Iy||(Iy=!0,uN())}function Bu(r,o){if(!Oy&&Cd){Oy=!0;do for(var u=!1,d=Ad;d!==null;){if(r!==0){var m=d.pendingLanes;if(m===0)var v=0;else{var A=d.suspendedLanes,k=d.pingedLanes;v=(1<<31-Ve(42|r)+1)-1,v&=m&~(A&~k),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,eE(d,v))}else v=he,v=wt(d,d===Ie?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||Dt(d,v)||(u=!0,eE(d,v));d=d.next}while(u);Oy=!1}}function cN(){ZS()}function ZS(){Cd=Iy=!1;var r=0;Ro!==0&&(vN()&&(r=Ro),Ro=0);for(var o=$e(),u=null,d=Ad;d!==null;){var m=d.next,v=JS(d,o);v===0?(d.next=null,u===null?Ad=m:u.next=m,m===null&&(Xl=u)):(u=d,(r!==0||(v&3)!==0)&&(Cd=!0)),d=m}Bu(r)}function JS(r,o){for(var u=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var A=31-Ve(v),k=1<<A,H=m[A];H===-1?((k&u)===0||(k&d)!==0)&&(m[A]=Gt(k,o)):H<=o&&(r.expiredLanes|=k),v&=~k}if(o=Ie,u=he,u=wt(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,u===0||r===o&&(Ae===2||Ae===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Si(d),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Dt(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(d!==null&&Si(d),kt(u)){case 2:case 8:u=Hn;break;case 32:u=Ge;break;case 268435456:u=ui;break;default:u=Ge}return d=tE.bind(null,r),u=Le(u,d),r.callbackPriority=o,r.callbackNode=u,o}return d!==null&&d!==null&&Si(d),r.callbackPriority=2,r.callbackNode=null,2}function tE(r,o){if(Vn!==0&&Vn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(xd()&&r.callbackNode!==u)return null;var d=he;return d=wt(r,r===Ie?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(LS(r,d,o),JS(r,$e()),r.callbackNode!=null&&r.callbackNode===u?tE.bind(null,r):null)}function eE(r,o){if(xd())return null;LS(r,o,!0)}function uN(){bN(function(){(xe&6)!==0?Le(ve,cN):ZS()})}function Ny(){return Ro===0&&(Ro=Kt()),Ro}function nE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:vl(""+r)}function iE(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function hN(r,o,u,d,m){if(o==="submit"&&u&&u.stateNode===m){var v=nE((m[xt]||null).action),A=d.submitter;A&&(o=(o=A[xt]||null)?nE(o.formAction):A.getAttribute("formAction"),o!==null&&(v=o,A=null));var k=new _l("action","action",null,d,m);r.push({event:k,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ro!==0){var H=A?iE(m,A):new FormData(m);ey(u,{pending:!0,data:H,method:m.method,action:v},null,H)}}else typeof v=="function"&&(k.preventDefault(),H=A?iE(m,A):new FormData(m),ey(u,{pending:!0,data:H,method:m.method,action:v},v,H))},currentTarget:m}]})}}for(var Ly=0;Ly<bm.length;Ly++){var Vy=bm[Ly],fN=Vy.toLowerCase(),dN=Vy[0].toUpperCase()+Vy.slice(1);ps(fN,"on"+dN)}ps(Lw,"onAnimationEnd"),ps(Vw,"onAnimationIteration"),ps(Bw,"onAnimationStart"),ps("dblclick","onDoubleClick"),ps("focusin","onFocus"),ps("focusout","onBlur"),ps(kO,"onTransitionRun"),ps(PO,"onTransitionStart"),ps(MO,"onTransitionCancel"),ps(jw,"onTransitionEnd"),Yt("onMouseEnter",["mouseout","mouseover"]),Yt("onMouseLeave",["mouseout","mouseover"]),Yt("onPointerEnter",["pointerout","pointerover"]),Yt("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ju));function sE(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],m=d.event;d=d.listeners;t:{var v=void 0;if(o)for(var A=d.length-1;0<=A;A--){var k=d[A],H=k.instance,J=k.currentTarget;if(k=k.listener,H!==v&&m.isPropagationStopped())break t;v=k,m.currentTarget=J;try{v(m)}catch(at){pd(at)}m.currentTarget=null,v=H}else for(A=0;A<d.length;A++){if(k=d[A],H=k.instance,J=k.currentTarget,k=k.listener,H!==v&&m.isPropagationStopped())break t;v=k,m.currentTarget=J;try{v(m)}catch(at){pd(at)}m.currentTarget=null,v=H}}}}function ee(r,o){var u=o[Ze];u===void 0&&(u=o[Ze]=new Set);var d=r+"__bubble";u.has(d)||(rE(o,r,2,!1),u.add(d))}function By(r,o,u){var d=0;o&&(d|=4),rE(u,r,d,o)}var Rd="_reactListening"+Math.random().toString(36).slice(2);function jy(r){if(!r[Rd]){r[Rd]=!0,ta.forEach(function(u){u!=="selectionchange"&&(pN.has(u)||By(u,!1,r),By(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Rd]||(o[Rd]=!0,By("selectionchange",!1,o))}}function rE(r,o,u,d){switch(DE(o)){case 2:var m=FN;break;case 8:m=zN;break;default:m=Jy}u=m.bind(null,o,u,r),m=void 0,!$i||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(o,u,{capture:!0,passive:m}):r.addEventListener(o,u,!0):m!==void 0?r.addEventListener(o,u,{passive:m}):r.addEventListener(o,u,!1)}function Uy(r,o,u,d,m){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)t:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var k=d.stateNode.containerInfo;if(k===m)break;if(A===4)for(A=d.return;A!==null;){var H=A.tag;if((H===3||H===4)&&A.stateNode.containerInfo===m)return;A=A.return}for(;k!==null;){if(A=Wn(k),A===null)return;if(H=A.tag,H===5||H===6||H===26||H===27){d=v=A;continue t}k=k.parentNode}}d=d.return}kf(function(){var J=v,at=Wi(u),ut=[];t:{var et=Uw.get(r);if(et!==void 0){var nt=_l,Bt=r;switch(r){case"keypress":if(Ns(u)===0)break t;case"keydown":case"keyup":nt=xl;break;case"focusin":Bt="focus",nt=Tl;break;case"focusout":Bt="blur",nt=Tl;break;case"beforeblur":case"afterblur":nt=Tl;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=fm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Bf;break;case Lw:case Vw:case Bw:nt=Sl;break;case jw:nt=Uf;break;case"scroll":case"scrollend":nt=Pf;break;case"wheel":nt=Al;break;case"copy":case"cut":case"paste":nt=El;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=cu;break;case"toggle":case"beforetoggle":nt=zf}var Mt=(o&4)!==0,Pe=!Mt&&(r==="scroll"||r==="scrollend"),K=Mt?et!==null?et+"Capture":null:et;Mt=[];for(var W=J,Z;W!==null;){var lt=W;if(Z=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||Z===null||K===null||(lt=ao(W,K),lt!=null&&Mt.push(Uu(W,lt,Z))),Pe)break;W=W.return}0<Mt.length&&(et=new nt(et,Bt,null,u,at),ut.push({event:et,listeners:Mt}))}}if((o&7)===0){t:{if(et=r==="mouseover"||r==="pointerover",nt=r==="mouseout"||r==="pointerout",et&&u!==vr&&(Bt=u.relatedTarget||u.fromElement)&&(Wn(Bt)||Bt[me]))break t;if((nt||et)&&(et=at.window===at?at:(et=at.ownerDocument)?et.defaultView||et.parentWindow:window,nt?(Bt=u.relatedTarget||u.toElement,nt=J,Bt=Bt?Wn(Bt):null,Bt!==null&&(Pe=a(Bt),Mt=Bt.tag,Bt!==Pe||Mt!==5&&Mt!==27&&Mt!==6)&&(Bt=null)):(nt=null,Bt=J),nt!==Bt)){if(Mt=Gi,lt="onMouseLeave",K="onMouseEnter",W="mouse",(r==="pointerout"||r==="pointerover")&&(Mt=cu,lt="onPointerLeave",K="onPointerEnter",W="pointer"),Pe=nt==null?et:zi(nt),Z=Bt==null?et:zi(Bt),et=new Mt(lt,W+"leave",nt,u,at),et.target=Pe,et.relatedTarget=Z,lt=null,Wn(at)===J&&(Mt=new Mt(K,W+"enter",Bt,u,at),Mt.target=Z,Mt.relatedTarget=Pe,lt=Mt),Pe=lt,nt&&Bt)e:{for(Mt=nt,K=Bt,W=0,Z=Mt;Z;Z=Ql(Z))W++;for(Z=0,lt=K;lt;lt=Ql(lt))Z++;for(;0<W-Z;)Mt=Ql(Mt),W--;for(;0<Z-W;)K=Ql(K),Z--;for(;W--;){if(Mt===K||K!==null&&Mt===K.alternate)break e;Mt=Ql(Mt),K=Ql(K)}Mt=null}else Mt=null;nt!==null&&aE(ut,et,nt,Mt,!1),Bt!==null&&Pe!==null&&aE(ut,Pe,Bt,Mt,!0)}}t:{if(et=J?zi(J):window,nt=et.nodeName&&et.nodeName.toLowerCase(),nt==="select"||nt==="input"&&et.type==="file")var At=xw;else if(_n(et))if(Aw)At=CO;else{At=xO;var Zt=EO}else nt=et.nodeName,!nt||nt.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?J&&nu(J.elementType)&&(At=xw):At=AO;if(At&&(At=At(r,J))){Sr(ut,At,u,at);break t}Zt&&Zt(r,et,J),r==="focusout"&&J&&et.type==="number"&&J.memoizedProps.value!=null&&na(et,"number",et.value)}switch(Zt=J?zi(J):window,r){case"focusin":(_n(Zt)||Zt.contentEditable==="true")&&(Cl=Zt,ym=J,fu=null);break;case"focusout":fu=ym=Cl=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,Ow(ut,u,at);break;case"selectionchange":if(DO)break;case"keydown":case"keyup":Ow(ut,u,at)}var Rt;if(Bs)t:{switch(r){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else ce?it(r,u)&&(Lt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Lt="onCompositionStart");Lt&&(E&&u.locale!=="ko"&&(ce||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&ce&&(Rt=su()):(Os=at,ia="value"in Os?Os.value:Os.textContent,ce=!0)),Zt=Dd(J,Lt),0<Zt.length&&(Lt=new ou(Lt,r,null,u,at),ut.push({event:Lt,listeners:Zt}),Rt?Lt.data=Rt:(Rt=yt(u),Rt!==null&&(Lt.data=Rt)))),(Rt=w?vn(r,u):ue(r,u))&&(Lt=Dd(J,"onBeforeInput"),0<Lt.length&&(Zt=new ou("onBeforeInput","beforeinput",null,u,at),ut.push({event:Zt,listeners:Lt}),Zt.data=Rt)),hN(ut,r,J,u,at)}sE(ut,o)})}function Uu(r,o,u){return{instance:r,listener:o,currentTarget:u}}function Dd(r,o){for(var u=o+"Capture",d=[];r!==null;){var m=r,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=ao(r,u),m!=null&&d.unshift(Uu(r,m,v)),m=ao(r,o),m!=null&&d.push(Uu(r,m,v))),r.tag===3)return d;r=r.return}return[]}function Ql(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function aE(r,o,u,d,m){for(var v=o._reactName,A=[];u!==null&&u!==d;){var k=u,H=k.alternate,J=k.stateNode;if(k=k.tag,H!==null&&H===d)break;k!==5&&k!==26&&k!==27||J===null||(H=J,m?(J=ao(u,v),J!=null&&A.unshift(Uu(u,J,H))):m||(J=ao(u,v),J!=null&&A.push(Uu(u,J,H)))),u=u.return}A.length!==0&&r.push({event:o,listeners:A})}var gN=/\r\n?/g,mN=/\u0000|\uFFFD/g;function oE(r){return(typeof r=="string"?r:""+r).replace(gN,`
`).replace(mN,"")}function lE(r,o){return o=oE(o),oE(r)===o}function kd(){}function ke(r,o,u,d,m,v){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||qi(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&qi(r,""+d);break;case"className":Ms(r,"class",d);break;case"tabIndex":Ms(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ms(r,u,d);break;case"style":eu(r,d,v);break;case"data":if(o!=="object"){Ms(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=vl(""+d),r.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(o!=="input"&&ke(r,o,"name",m.name,m,null),ke(r,o,"formEncType",m.formEncType,m,null),ke(r,o,"formMethod",m.formMethod,m,null),ke(r,o,"formTarget",m.formTarget,m,null)):(ke(r,o,"encType",m.encType,m,null),ke(r,o,"method",m.method,m,null),ke(r,o,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=vl(""+d),r.setAttribute(u,d);break;case"onClick":d!=null&&(r.onclick=kd);break;case"onScroll":d!=null&&ee("scroll",r);break;case"onScrollEnd":d!=null&&ee("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}u=vl(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""+d):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":d===!0?r.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,d):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(u,d):r.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(u):r.setAttribute(u,d);break;case"popover":ee("beforetoggle",r),ee("toggle",r),Hi(r,"popover",d);break;case"xlinkActuate":On(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":On(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":On(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":On(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":On(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":On(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":On(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":On(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":On(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Hi(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=um.get(u)||u,Hi(r,u,d))}}function Fy(r,o,u,d,m,v){switch(u){case"style":eu(r,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof d=="string"?qi(r,d):(typeof d=="number"||typeof d=="bigint")&&qi(r,""+d);break;case"onScroll":d!=null&&ee("scroll",r);break;case"onScrollEnd":d!=null&&ee("scrollend",r);break;case"onClick":d!=null&&(r.onclick=kd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gr.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),o=u.slice(2,m?u.length-7:void 0),v=r[xt]||null,v=v!=null?v[u]:null,typeof v=="function"&&r.removeEventListener(o,v,m),typeof d=="function")){typeof v!="function"&&v!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,d,m);break t}u in r?r[u]=d:d===!0?r.setAttribute(u,""):Hi(r,u,d)}}}function Bn(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ee("error",r),ee("load",r);var d=!1,m=!1,v;for(v in u)if(u.hasOwnProperty(v)){var A=u[v];if(A!=null)switch(v){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ke(r,o,v,A,u,null)}}m&&ke(r,o,"srcSet",u.srcSet,u,null),d&&ke(r,o,"src",u.src,u,null);return;case"input":ee("invalid",r);var k=v=A=m=null,H=null,J=null;for(d in u)if(u.hasOwnProperty(d)){var at=u[d];if(at!=null)switch(d){case"name":m=at;break;case"type":A=at;break;case"checked":H=at;break;case"defaultChecked":J=at;break;case"value":v=at;break;case"defaultValue":k=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(i(137,o));break;default:ke(r,o,d,at,u,null)}}io(r,v,k,H,J,A,m,!1),yl(r);return;case"select":ee("invalid",r),d=A=v=null;for(m in u)if(u.hasOwnProperty(m)&&(k=u[m],k!=null))switch(m){case"value":v=k;break;case"defaultValue":A=k;break;case"multiple":d=k;default:ke(r,o,m,k,u,null)}o=v,u=A,r.multiple=!!d,o!=null?yr(r,!!d,o,!1):u!=null&&yr(r,!!d,u,!0);return;case"textarea":ee("invalid",r),v=m=d=null;for(A in u)if(u.hasOwnProperty(A)&&(k=u[A],k!=null))switch(A){case"value":d=k;break;case"defaultValue":m=k;break;case"children":v=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:ke(r,o,A,k,u,null)}so(r,d,m,v),yl(r);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(d=u[H],d!=null))switch(H){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ke(r,o,H,d,u,null)}return;case"dialog":ee("beforetoggle",r),ee("toggle",r),ee("cancel",r),ee("close",r);break;case"iframe":case"object":ee("load",r);break;case"video":case"audio":for(d=0;d<ju.length;d++)ee(ju[d],r);break;case"image":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"embed":case"source":case"link":ee("error",r),ee("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in u)if(u.hasOwnProperty(J)&&(d=u[J],d!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ke(r,o,J,d,u,null)}return;default:if(nu(o)){for(at in u)u.hasOwnProperty(at)&&(d=u[at],d!==void 0&&Fy(r,o,at,d,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(d=u[k],d!=null&&ke(r,o,k,d,u,null))}function yN(r,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,A=null,k=null,H=null,J=null,at=null;for(nt in u){var ut=u[nt];if(u.hasOwnProperty(nt)&&ut!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":H=ut;default:d.hasOwnProperty(nt)||ke(r,o,nt,null,d,ut)}}for(var et in d){var nt=d[et];if(ut=u[et],d.hasOwnProperty(et)&&(nt!=null||ut!=null))switch(et){case"type":v=nt;break;case"name":m=nt;break;case"checked":J=nt;break;case"defaultChecked":at=nt;break;case"value":A=nt;break;case"defaultValue":k=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,o));break;default:nt!==ut&&ke(r,o,et,nt,d,ut)}}Ci(r,A,k,H,J,at,v,m);return;case"select":nt=A=k=et=null;for(v in u)if(H=u[v],u.hasOwnProperty(v)&&H!=null)switch(v){case"value":break;case"multiple":nt=H;default:d.hasOwnProperty(v)||ke(r,o,v,null,d,H)}for(m in d)if(v=d[m],H=u[m],d.hasOwnProperty(m)&&(v!=null||H!=null))switch(m){case"value":et=v;break;case"defaultValue":k=v;break;case"multiple":A=v;default:v!==H&&ke(r,o,m,v,d,H)}o=k,u=A,d=nt,et!=null?yr(r,!!u,et,!1):!!d!=!!u&&(o!=null?yr(r,!!u,o,!0):yr(r,!!u,u?[]:"",!1));return;case"textarea":nt=et=null;for(k in u)if(m=u[k],u.hasOwnProperty(k)&&m!=null&&!d.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:ke(r,o,k,null,d,m)}for(A in d)if(m=d[A],v=u[A],d.hasOwnProperty(A)&&(m!=null||v!=null))switch(A){case"value":et=m;break;case"defaultValue":nt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==v&&ke(r,o,A,m,d,v)}Re(r,et,nt);return;case"option":for(var Bt in u)if(et=u[Bt],u.hasOwnProperty(Bt)&&et!=null&&!d.hasOwnProperty(Bt))switch(Bt){case"selected":r.selected=!1;break;default:ke(r,o,Bt,null,d,et)}for(H in d)if(et=d[H],nt=u[H],d.hasOwnProperty(H)&&et!==nt&&(et!=null||nt!=null))switch(H){case"selected":r.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:ke(r,o,H,et,d,nt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in u)et=u[Mt],u.hasOwnProperty(Mt)&&et!=null&&!d.hasOwnProperty(Mt)&&ke(r,o,Mt,null,d,et);for(J in d)if(et=d[J],nt=u[J],d.hasOwnProperty(J)&&et!==nt&&(et!=null||nt!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,o));break;default:ke(r,o,J,et,d,nt)}return;default:if(nu(o)){for(var Pe in u)et=u[Pe],u.hasOwnProperty(Pe)&&et!==void 0&&!d.hasOwnProperty(Pe)&&Fy(r,o,Pe,void 0,d,et);for(at in d)et=d[at],nt=u[at],!d.hasOwnProperty(at)||et===nt||et===void 0&&nt===void 0||Fy(r,o,at,et,d,nt);return}}for(var K in u)et=u[K],u.hasOwnProperty(K)&&et!=null&&!d.hasOwnProperty(K)&&ke(r,o,K,null,d,et);for(ut in d)et=d[ut],nt=u[ut],!d.hasOwnProperty(ut)||et===nt||et==null&&nt==null||ke(r,o,ut,et,d,nt)}var zy=null,Hy=null;function Pd(r){return r.nodeType===9?r:r.ownerDocument}function cE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uE(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function qy(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Wy=null;function vN(){var r=window.event;return r&&r.type==="popstate"?r===Wy?!1:(Wy=r,!0):(Wy=null,!1)}var hE=typeof setTimeout=="function"?setTimeout:void 0,_N=typeof clearTimeout=="function"?clearTimeout:void 0,fE=typeof Promise=="function"?Promise:void 0,bN=typeof queueMicrotask=="function"?queueMicrotask:typeof fE<"u"?function(r){return fE.resolve(null).then(r).catch(wN)}:hE;function wN(r){setTimeout(function(){throw r})}function _a(r){return r==="head"}function dE(r,o){var u=o,d=0,m=0;do{var v=u.nextSibling;if(r.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<d&&8>d){u=d;var A=r.ownerDocument;if(u&1&&Fu(A.documentElement),u&2&&Fu(A.body),u&4)for(u=A.head,Fu(u),A=u.firstChild;A;){var k=A.nextSibling,H=A.nodeName;A[hn]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&A.rel.toLowerCase()==="stylesheet"||u.removeChild(A),A=k}}if(m===0){r.removeChild(v),Yu(o);return}m--}else u==="$"||u==="$?"||u==="$!"?m++:d=u.charCodeAt(0)-48;else d=0;u=v}while(u);Yu(o)}function $y(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":$y(u),de(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function TN(r,o,u,d){for(;r.nodeType===1;){var m=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[hn])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=ms(r.nextSibling),r===null)break}return null}function SN(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=ms(r.nextSibling),r===null))return null;return r}function Gy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function EN(r,o){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function ms(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var Ky=null;function pE(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}function gE(r,o,u){switch(o=Pd(u),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Fu(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);de(r)}var ts=new Map,mE=new Set;function Md(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Lr=Y.d;Y.d={f:xN,r:AN,D:CN,C:RN,L:DN,m:kN,X:MN,S:PN,M:IN};function xN(){var r=Lr.f(),o=Sd();return r||o}function AN(r){var o=Fi(r);o!==null&&o.tag===5&&o.type==="form"?LT(o):Lr.r(r)}var Zl=typeof document>"u"?null:document;function yE(r,o,u){var d=Zl;if(d&&typeof o=="string"&&o){var m=fn(o);m='link[rel="'+r+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),mE.has(m)||(mE.add(m),r={rel:r,crossOrigin:u,href:o},d.querySelector(m)===null&&(o=d.createElement("link"),Bn(o,"link",r),He(o),d.head.appendChild(o)))}}function CN(r){Lr.D(r),yE("dns-prefetch",r,null)}function RN(r,o){Lr.C(r,o),yE("preconnect",r,o)}function DN(r,o,u){Lr.L(r,o,u);var d=Zl;if(d&&r&&o){var m='link[rel="preload"][as="'+fn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+fn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+fn(u.imageSizes)+'"]')):m+='[href="'+fn(r)+'"]';var v=m;switch(o){case"style":v=Jl(r);break;case"script":v=tc(r)}ts.has(v)||(r=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),ts.set(v,r),d.querySelector(m)!==null||o==="style"&&d.querySelector(zu(v))||o==="script"&&d.querySelector(Hu(v))||(o=d.createElement("link"),Bn(o,"link",r),He(o),d.head.appendChild(o)))}}function kN(r,o){Lr.m(r,o);var u=Zl;if(u&&r){var d=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+fn(d)+'"][href="'+fn(r)+'"]',v=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=tc(r)}if(!ts.has(v)&&(r=p({rel:"modulepreload",href:r},o),ts.set(v,r),u.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Hu(v)))return}d=u.createElement("link"),Bn(d,"link",r),He(d),u.head.appendChild(d)}}}function PN(r,o,u){Lr.S(r,o,u);var d=Zl;if(d&&r){var m=xn(d).hoistableStyles,v=Jl(r);o=o||"default";var A=m.get(v);if(!A){var k={loading:0,preload:null};if(A=d.querySelector(zu(v)))k.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},u),(u=ts.get(v))&&Yy(r,u);var H=A=d.createElement("link");He(H),Bn(H,"link",r),H._p=new Promise(function(J,at){H.onload=J,H.onerror=at}),H.addEventListener("load",function(){k.loading|=1}),H.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Id(A,o,d)}A={type:"stylesheet",instance:A,count:1,state:k},m.set(v,A)}}}function MN(r,o){Lr.X(r,o);var u=Zl;if(u&&r){var d=xn(u).hoistableScripts,m=tc(r),v=d.get(m);v||(v=u.querySelector(Hu(m)),v||(r=p({src:r,async:!0},o),(o=ts.get(m))&&Xy(r,o),v=u.createElement("script"),He(v),Bn(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(m,v))}}function IN(r,o){Lr.M(r,o);var u=Zl;if(u&&r){var d=xn(u).hoistableScripts,m=tc(r),v=d.get(m);v||(v=u.querySelector(Hu(m)),v||(r=p({src:r,async:!0,type:"module"},o),(o=ts.get(m))&&Xy(r,o),v=u.createElement("script"),He(v),Bn(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(m,v))}}function vE(r,o,u,d){var m=(m=_t.current)?Md(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Jl(u.href),u=xn(m).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Jl(u.href);var v=xn(m).hoistableStyles,A=v.get(r);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,A),(v=m.querySelector(zu(r)))&&!v._p&&(A.instance=v,A.state.loading=5),ts.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ts.set(r,u),v||ON(m,r,u,A.state))),o&&d===null)throw Error(i(528,""));return A}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=tc(u),u=xn(m).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Jl(r){return'href="'+fn(r)+'"'}function zu(r){return'link[rel="stylesheet"]['+r+"]"}function _E(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function ON(r,o,u,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Bn(o,"link",u),He(o),r.head.appendChild(o))}function tc(r){return'[src="'+fn(r)+'"]'}function Hu(r){return"script[async]"+r}function bE(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+fn(u.href)+'"]');if(d)return o.instance=d,He(d),d;var m=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),He(d),Bn(d,"style",m),Id(d,u.precedence,r),o.instance=d;case"stylesheet":m=Jl(u.href);var v=r.querySelector(zu(m));if(v)return o.state.loading|=4,o.instance=v,He(v),v;d=_E(u),(m=ts.get(m))&&Yy(d,m),v=(r.ownerDocument||r).createElement("link"),He(v);var A=v;return A._p=new Promise(function(k,H){A.onload=k,A.onerror=H}),Bn(v,"link",d),o.state.loading|=4,Id(v,u.precedence,r),o.instance=v;case"script":return v=tc(u.src),(m=r.querySelector(Hu(v)))?(o.instance=m,He(m),m):(d=u,(m=ts.get(v))&&(d=p({},u),Xy(d,m)),r=r.ownerDocument||r,m=r.createElement("script"),He(m),Bn(m,"link",d),r.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Id(d,u.precedence,r));return o.instance}function Id(r,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,v=m,A=0;A<d.length;A++){var k=d[A];if(k.dataset.precedence===o)v=k;else if(v!==m)break}v?v.parentNode.insertBefore(r,v.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function Yy(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Xy(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Od=null;function wE(r,o,u){if(Od===null){var d=new Map,m=Od=new Map;m.set(u,d)}else m=Od,d=m.get(u),d||(d=new Map,m.set(u,d));if(d.has(r))return d;for(d.set(r,null),u=u.getElementsByTagName(r),m=0;m<u.length;m++){var v=u[m];if(!(v[hn]||v[bt]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(o)||"";A=r+A;var k=d.get(A);k?k.push(v):d.set(A,[v])}}return d}function TE(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function NN(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function SE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var qu=null;function LN(){}function VN(r,o,u){if(qu===null)throw Error(i(475));var d=qu;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Jl(u.href),v=r.querySelector(zu(m));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=Nd.bind(d),r.then(d,d)),o.state.loading|=4,o.instance=v,He(v);return}v=r.ownerDocument||r,u=_E(u),(m=ts.get(m))&&Yy(u,m),v=v.createElement("link"),He(v);var A=v;A._p=new Promise(function(k,H){A.onload=k,A.onerror=H}),Bn(v,"link",u),o.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=Nd.bind(d),r.addEventListener("load",o),r.addEventListener("error",o))}}function BN(){if(qu===null)throw Error(i(475));var r=qu;return r.stylesheets&&r.count===0&&Qy(r,r.stylesheets),0<r.count?function(o){var u=setTimeout(function(){if(r.stylesheets&&Qy(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u)}}:null}function Nd(){if(this.count--,this.count===0){if(this.stylesheets)Qy(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ld=null;function Qy(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ld=new Map,o.forEach(jN,r),Ld=null,Nd.call(r))}function jN(r,o){if(!(o.state.loading&4)){var u=Ld.get(r);if(u)var d=u.get(null);else{u=new Map,Ld.set(r,u);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var A=m[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),d=A)}d&&u.set(null,d)}m=o.instance,A=m.getAttribute("data-precedence"),v=u.get(A)||d,v===d&&u.set(null,m),u.set(A,m),this.count++,d=Nd.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),v?v.parentNode.insertBefore(m,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),o.state.loading|=4}}var Wu={$$typeof:B,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function UN(r,o,u,d,m,v,A,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wt(0),this.hiddenUpdates=Wt(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function EE(r,o,u,d,m,v,A,k,H,J,at,ut){return r=new UN(r,o,u,A,k,H,J,ut),o=1,v===!0&&(o|=24),v=Di(3,null,null,o),r.current=v,v.stateNode=r,o=Mm(),o.refCount++,r.pooledCache=o,o.refCount++,v.memoizedState={element:d,isDehydrated:u,cache:o},Lm(v),r}function xE(r){return r?(r=Pl,r):Pl}function AE(r,o,u,d,m,v){m=xE(m),d.context===null?d.context=m:d.pendingContext=m,d=aa(o),d.payload={element:u},v=v===void 0?null:v,v!==null&&(d.callback=v),u=oa(r,d,o),u!==null&&(Oi(u,r,o),wu(u,r,o))}function CE(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function Zy(r,o){CE(r,o),(r=r.alternate)&&CE(r,o)}function RE(r){if(r.tag===13){var o=kl(r,67108864);o!==null&&Oi(o,r,67108864),Zy(r,67108864)}}var Vd=!0;function FN(r,o,u,d){var m=q.T;q.T=null;var v=Y.p;try{Y.p=2,Jy(r,o,u,d)}finally{Y.p=v,q.T=m}}function zN(r,o,u,d){var m=q.T;q.T=null;var v=Y.p;try{Y.p=8,Jy(r,o,u,d)}finally{Y.p=v,q.T=m}}function Jy(r,o,u,d){if(Vd){var m=tv(d);if(m===null)Uy(r,o,d,Bd,u),kE(r,d);else if(qN(m,r,o,u,d))d.stopPropagation();else if(kE(r,d),o&4&&-1<HN.indexOf(r)){for(;m!==null;){var v=Fi(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=Nt(v.pendingLanes);if(A!==0){var k=v;for(k.pendingLanes|=2,k.entangledLanes|=2;A;){var H=1<<31-Ve(A);k.entanglements[1]|=H,A&=~H}qs(v),(xe&6)===0&&(wd=$e()+500,Bu(0))}}break;case 13:k=kl(v,2),k!==null&&Oi(k,v,2),Sd(),Zy(v,2)}if(v=tv(d),v===null&&Uy(r,o,d,Bd,u),v===m)break;m=v}m!==null&&d.stopPropagation()}else Uy(r,o,d,null,u)}}function tv(r){return r=Wi(r),ev(r)}var Bd=null;function ev(r){if(Bd=null,r=Wn(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Bd=r,null}function DE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xi()){case ve:return 2;case Hn:return 8;case Ge:case fs:return 32;case ui:return 268435456;default:return 32}default:return 32}}var nv=!1,ba=null,wa=null,Ta=null,$u=new Map,Gu=new Map,Sa=[],HN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kE(r,o){switch(r){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":$u.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gu.delete(o.pointerId)}}function Ku(r,o,u,d,m,v){return r===null||r.nativeEvent!==v?(r={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Fi(o),o!==null&&RE(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),r)}function qN(r,o,u,d,m){switch(o){case"focusin":return ba=Ku(ba,r,o,u,d,m),!0;case"dragenter":return wa=Ku(wa,r,o,u,d,m),!0;case"mouseover":return Ta=Ku(Ta,r,o,u,d,m),!0;case"pointerover":var v=m.pointerId;return $u.set(v,Ku($u.get(v)||null,r,o,u,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Gu.set(v,Ku(Gu.get(v)||null,r,o,u,d,m)),!0}return!1}function PE(r){var o=Wn(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,Be(r.priority,function(){if(u.tag===13){var d=Ii();d=Tt(d);var m=kl(u,d);m!==null&&Oi(m,u,d),Zy(u,d)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function jd(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=tv(r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);vr=d,u.target.dispatchEvent(d),vr=null}else return o=Fi(u),o!==null&&RE(o),r.blockedOn=u,!1;o.shift()}return!0}function ME(r,o,u){jd(r)&&u.delete(o)}function WN(){nv=!1,ba!==null&&jd(ba)&&(ba=null),wa!==null&&jd(wa)&&(wa=null),Ta!==null&&jd(Ta)&&(Ta=null),$u.forEach(ME),Gu.forEach(ME)}function Ud(r,o){r.blockedOn===o&&(r.blockedOn=null,nv||(nv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,WN)))}var Fd=null;function IE(r){Fd!==r&&(Fd=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Fd===r&&(Fd=null);for(var o=0;o<r.length;o+=3){var u=r[o],d=r[o+1],m=r[o+2];if(typeof d!="function"){if(ev(d||u)===null)continue;break}var v=Fi(u);v!==null&&(r.splice(o,3),o-=3,ey(v,{pending:!0,data:m,method:u.method,action:d},d,m))}}))}function Yu(r){function o(H){return Ud(H,r)}ba!==null&&Ud(ba,r),wa!==null&&Ud(wa,r),Ta!==null&&Ud(Ta,r),$u.forEach(o),Gu.forEach(o);for(var u=0;u<Sa.length;u++){var d=Sa[u];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Sa.length&&(u=Sa[0],u.blockedOn===null);)PE(u),u.blockedOn===null&&Sa.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var m=u[d],v=u[d+1],A=m[xt]||null;if(typeof v=="function")A||IE(u);else if(A){var k=null;if(v&&v.hasAttribute("formAction")){if(m=v,A=v[xt]||null)k=A.formAction;else if(ev(m)!==null)continue}else k=A.action;typeof k=="function"?u[d+1]=k:(u.splice(d,3),d-=3),IE(u)}}}function iv(r){this._internalRoot=r}zd.prototype.render=iv.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,d=Ii();AE(u,d,r,o,null,null)},zd.prototype.unmount=iv.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;AE(r.current,2,null,r,null,null),Sd(),o[me]=null}};function zd(r){this._internalRoot=r}zd.prototype.unstable_scheduleHydration=function(r){if(r){var o=_e();r={blockedOn:null,target:r,priority:o};for(var u=0;u<Sa.length&&o!==0&&o<Sa[u].priority;u++);Sa.splice(u,0,r),u===0&&PE(r)}};var OE=t.version;if(OE!=="19.1.0")throw Error(i(527,OE,"19.1.0"));Y.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var $N={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hd.isDisabled&&Hd.supportsFiber)try{le=Hd.inject($N),Jt=Hd}catch{}}return Qu.createRoot=function(r,o){if(!s(r))throw Error(i(299));var u=!1,d="",m=XT,v=QT,A=ZT,k=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks)),o=EE(r,1,!1,null,null,u,d,m,v,A,k,null),r[me]=o.current,jy(r),new iv(o)},Qu.hydrateRoot=function(r,o,u){if(!s(r))throw Error(i(299));var d=!1,m="",v=XT,A=QT,k=ZT,H=null,J=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(H=u.unstable_transitionCallbacks),u.formState!==void 0&&(J=u.formState)),o=EE(r,1,!0,o,u??null,d,m,v,A,k,H,J),o.context=xE(null),u=o.current,d=Ii(),d=Tt(d),m=aa(d),m.callback=null,oa(u,m,d),u=d,o.current.lanes=u,we(o,u),qs(o),r[me]=o.current,jy(r),new zd(o)},Qu.version="19.1.0",Qu}var qE;function s2(){if(qE)return av.exports;qE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),av.exports=i2(),av.exports}var r2=s2(),Zu={},WE;function a2(){if(WE)return Zu;WE=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.parse=l,Zu.serialize=f;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,b){const T=new a,S=_.length;if(S<2)return T;const x=(b==null?void 0:b.decode)||p;let R=0;do{const V=_.indexOf("=",R);if(V===-1)break;const B=_.indexOf(";",R),$=B===-1?S:B;if(V>$){R=_.lastIndexOf(";",V-1)+1;continue}const z=c(_,R,V),X=h(_,V,z),I=_.slice(z,X);if(T[I]===void 0){let D=c(_,V+1,$),M=h(_,$,D);const U=x(_.slice(D,M));T[I]=U}R=$+1}while(R<S);return T}function c(_,b,T){do{const S=_.charCodeAt(b);if(S!==32&&S!==9)return b}while(++b<T);return T}function h(_,b,T){for(;b>T;){const S=_.charCodeAt(--b);if(S!==32&&S!==9)return b+1}return T}function f(_,b,T){const S=(T==null?void 0:T.encode)||encodeURIComponent;if(!e.test(_))throw new TypeError(`argument name is invalid: ${_}`);const x=S(b);if(!t.test(x))throw new TypeError(`argument val is invalid: ${b}`);let R=_+"="+x;if(!T)return R;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);R+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);R+="; Domain="+T.domain}if(T.path){if(!i.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);R+="; Path="+T.path}if(T.expires){if(!y(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);R+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(R+="; HttpOnly"),T.secure&&(R+="; Secure"),T.partitioned&&(R+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return R}function p(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return s.call(_)==="[object Date]"}return Zu}a2();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $E="popstate";function o2(e={}){function t(s,a){let{pathname:l="/",search:c="",hash:h=""}=al(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),i_("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=s.location.href,f=h.indexOf("#");c=f===-1?h:h.slice(0,f)}return c+"#"+(typeof a=="string"?a:Dh(a))}function i(s,a){us(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return c2(t,n,i,e)}function We(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function us(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function l2(){return Math.random().toString(36).substring(2,10)}function GE(e,t){return{usr:e.state,key:e.key,idx:t}}function i_(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?al(t):t,state:n,key:t&&t.key||i||l2()}}function Dh({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function al(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function c2(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,c="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function y(){c="POP";let x=p(),R=x==null?null:x-f;f=x,h&&h({action:c,location:S.location,delta:R})}function _(x,R){c="PUSH";let V=i_(S.location,x,R);n&&n(V,x),f=p()+1;let B=GE(V,f),$=S.createHref(V);try{l.pushState(B,"",$)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign($)}a&&h&&h({action:c,location:S.location,delta:1})}function b(x,R){c="REPLACE";let V=i_(S.location,x,R);n&&n(V,x),f=p();let B=GE(V,f),$=S.createHref(V);l.replaceState(B,"",$),a&&h&&h({action:c,location:S.location,delta:0})}function T(x){let R=s.location.origin!=="null"?s.location.origin:s.location.href,V=typeof x=="string"?x:Dh(x);return V=V.replace(/ $/,"%20"),We(R,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,R)}let S={get action(){return c},get location(){return e(s,l)},listen(x){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener($E,y),h=x,()=>{s.removeEventListener($E,y),h=null}},createHref(x){return t(s,x)},createURL:T,encodeLocation(x){let R=T(x);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:_,replace:b,go(x){return l.go(x)}};return S}function k1(e,t,n="/"){return u2(e,t,n,!1)}function u2(e,t,n,i){let s=typeof t=="string"?al(t):t,a=Wr(s.pathname||"/",n);if(a==null)return null;let l=P1(e);h2(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=T2(a);c=b2(l[h],f,i)}return c}function P1(e,t=[],n=[],i=""){let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(We(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=qr([i,h.relativePath]),p=n.concat(h);a.children&&a.children.length>0&&(We(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),P1(a.children,t,p,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:v2(f,a.index),routesMeta:p})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of M1(a.path))s(a,l,h)}),t}function M1(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=M1(i.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function h2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_2(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var f2=/^:[\w-]+$/,d2=3,p2=2,g2=1,m2=10,y2=-2,KE=e=>e==="*";function v2(e,t){let n=e.split("/"),i=n.length;return n.some(KE)&&(i+=y2),t&&(i+=p2),n.filter(s=>!KE(s)).reduce((s,a)=>s+(f2.test(a)?d2:a===""?g2:m2),i)}function _2(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function b2(e,t,n=!1){let{routesMeta:i}=e,s={},a="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],f=c===i.length-1,p=a==="/"?t:t.slice(a.length)||"/",y=Vp({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),_=h.route;if(!y&&f&&n&&!i[i.length-1].route.index&&(y=Vp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:qr([a,y.pathname]),pathnameBase:A2(qr([a,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(a=qr([a,y.pathnameBase]))}return l}function Vp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=w2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:y},_)=>{if(p==="*"){let T=c[_]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const b=c[_];return y&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:e}}function w2(e,t=!1,n=!0){us(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function T2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return us(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Wr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function S2(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?al(e):e;return{pathname:n?n.startsWith("/")?n:E2(n,t):t,search:C2(i),hash:R2(s)}}function E2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function uv(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function p0(e){let t=x2(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function g0(e,t,n,i=!1){let s;typeof e=="string"?s=al(e):(s={...e},We(!s.pathname||!s.pathname.includes("?"),uv("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),uv("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),uv("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let y=t.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;s.pathname=_.join("/")}c=y>=0?t[y]:"/"}let h=S2(s,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var qr=e=>e.join("/").replace(/\/\/+/g,"/"),A2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),C2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,R2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function D2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var I1=["POST","PUT","PATCH","DELETE"];new Set(I1);var k2=["GET",...I1];new Set(k2);var Bc=P.createContext(null);Bc.displayName="DataRouter";var xg=P.createContext(null);xg.displayName="DataRouterState";var O1=P.createContext({isTransitioning:!1});O1.displayName="ViewTransition";var P2=P.createContext(new Map);P2.displayName="Fetchers";var M2=P.createContext(null);M2.displayName="Await";var Rs=P.createContext(null);Rs.displayName="Navigation";var af=P.createContext(null);af.displayName="Location";var dr=P.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var m0=P.createContext(null);m0.displayName="RouteError";function I2(e,{relative:t}={}){We(jc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(Rs),{hash:s,pathname:a,search:l}=of(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:qr([n,a])),i.createHref({pathname:c,search:l,hash:s})}function jc(){return P.useContext(af)!=null}function Jr(){return We(jc(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(af).location}var N1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L1(e){P.useContext(Rs).static||P.useLayoutEffect(e)}function Ds(){let{isDataRoute:e}=P.useContext(dr);return e?$2():O2()}function O2(){We(jc(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(Bc),{basename:t,navigator:n}=P.useContext(Rs),{matches:i}=P.useContext(dr),{pathname:s}=Jr(),a=JSON.stringify(p0(i)),l=P.useRef(!1);return L1(()=>{l.current=!0}),P.useCallback((h,f={})=>{if(us(l.current,N1),!l.current)return;if(typeof h=="number"){n.go(h);return}let p=g0(h,JSON.parse(a),s,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:qr([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,a,s,e])}P.createContext(null);function of(e,{relative:t}={}){let{matches:n}=P.useContext(dr),{pathname:i}=Jr(),s=JSON.stringify(p0(n));return P.useMemo(()=>g0(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function N2(e,t){return V1(e,t)}function V1(e,t,n,i){var V;We(jc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=P.useContext(Rs),{matches:l}=P.useContext(dr),c=l[l.length-1],h=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let B=y&&y.path||"";B1(f,!y||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let _=Jr(),b;if(t){let B=typeof t=="string"?al(t):t;We(p==="/"||((V=B.pathname)==null?void 0:V.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${B.pathname}" was given in the \`location\` prop.`),b=B}else b=_;let T=b.pathname||"/",S=T;if(p!=="/"){let B=p.replace(/^\//,"").split("/");S="/"+T.replace(/^\//,"").split("/").slice(B.length).join("/")}let x=!a&&n&&n.matches&&n.matches.length>0?n.matches:k1(e,{pathname:S});us(y||x!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),us(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=U2(x&&x.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:qr([p,s.encodeLocation?s.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?p:qr([p,s.encodeLocation?s.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,n,i);return t&&R?P.createElement(af.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},R):R}function L2(){let e=W2(),t=D2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:a},"ErrorBoundary")," or"," ",P.createElement("code",{style:a},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:s},n):null,l)}var V2=P.createElement(L2,null),B2=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(dr.Provider,{value:this.props.routeContext},P.createElement(m0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function j2({routeContext:e,match:t,children:n}){let i=P.useContext(Bc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(dr.Provider,{value:e},n)}function U2(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);We(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:y}=n,_=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,f,p)=>{let y,_=!1,b=null,T=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||V2,l&&(c<0&&p===0?(B1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):c===p&&(_=!0,T=f.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,p+1)),x=()=>{let R;return y?R=b:_?R=T:f.route.Component?R=P.createElement(f.route.Component,null):f.route.element?R=f.route.element:R=h,P.createElement(j2,{match:f,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:R})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?P.createElement(B2,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:x(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):x()},null)}function y0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F2(e){let t=P.useContext(Bc);return We(t,y0(e)),t}function z2(e){let t=P.useContext(xg);return We(t,y0(e)),t}function H2(e){let t=P.useContext(dr);return We(t,y0(e)),t}function v0(e){let t=H2(e),n=t.matches[t.matches.length-1];return We(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function q2(){return v0("useRouteId")}function W2(){var i;let e=P.useContext(m0),t=z2("useRouteError"),n=v0("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function $2(){let{router:e}=F2("useNavigate"),t=v0("useNavigate"),n=P.useRef(!1);return L1(()=>{n.current=!0}),P.useCallback(async(s,a={})=>{us(n.current,N1),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var YE={};function B1(e,t,n){!t&&!YE[e]&&(YE[e]=!0,us(!1,n))}P.memo(G2);function G2({routes:e,future:t,state:n}){return V1(e,void 0,n,t)}function j1({to:e,replace:t,state:n,relative:i}){We(jc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=P.useContext(Rs);us(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=P.useContext(dr),{pathname:l}=Jr(),c=Ds(),h=g0(e,p0(a),l,i==="path"),f=JSON.stringify(h);return P.useEffect(()=>{c(JSON.parse(f),{replace:t,state:n,relative:i})},[c,f,i,t,n]),null}function ys(e){We(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K2({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){We(!jc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=P.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=al(n));let{pathname:h="/",search:f="",hash:p="",state:y=null,key:_="default"}=n,b=P.useMemo(()=>{let T=Wr(h,l);return T==null?null:{location:{pathname:T,search:f,hash:p,state:y,key:_},navigationType:i}},[l,h,f,p,y,_,i]);return us(b!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:P.createElement(Rs.Provider,{value:c},P.createElement(af.Provider,{children:t,value:b}))}function Y2({children:e,location:t}){return N2(s_(e),t)}function s_(e,t=[]){let n=[];return P.Children.forEach(e,(i,s)=>{if(!P.isValidElement(i))return;let a=[...t,s];if(i.type===P.Fragment){n.push.apply(n,s_(i.props.children,a));return}We(i.type===ys,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),We(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=s_(i.props.children,a)),n.push(l)}),n}var yp="get",vp="application/x-www-form-urlencoded";function Ag(e){return e!=null&&typeof e.tagName=="string"}function X2(e){return Ag(e)&&e.tagName.toLowerCase()==="button"}function Q2(e){return Ag(e)&&e.tagName.toLowerCase()==="form"}function Z2(e){return Ag(e)&&e.tagName.toLowerCase()==="input"}function J2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tL(e,t){return e.button===0&&(!t||t==="_self")&&!J2(e)}var qd=null;function eL(){if(qd===null)try{new FormData(document.createElement("form"),0),qd=!1}catch{qd=!0}return qd}var nL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hv(e){return e!=null&&!nL.has(e)?(us(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vp}"`),null):e}function iL(e,t){let n,i,s,a,l;if(Q2(e)){let c=e.getAttribute("action");i=c?Wr(c,t):null,n=e.getAttribute("method")||yp,s=hv(e.getAttribute("enctype"))||vp,a=new FormData(e)}else if(X2(e)||Z2(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||c.getAttribute("action");if(i=h?Wr(h,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||yp,s=hv(e.getAttribute("formenctype"))||hv(c.getAttribute("enctype"))||vp,a=new FormData(c,e),!eL()){let{name:f,type:p,value:y}=e;if(p==="image"){let _=f?`${f}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else f&&a.append(f,y)}}else{if(Ag(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yp,i=null,s=vp,l=e}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:l}}function _0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function sL(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rL(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function aL(e,t,n){let i=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await sL(a,n);return l.links?l.links():[]}return[]}));return uL(i.flat(1).filter(rL).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function XE(e,t,n,i,s,a){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,c=(h,f)=>{var p;return n[f].pathname!==h.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==h.params["*"]};return a==="assets"?t.filter((h,f)=>l(h,f)||c(h,f)):a==="data"?t.filter((h,f)=>{var y;let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function oL(e,t,{includeHydrateFallback:n}={}){return lL(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function lL(e){return[...new Set(e)]}function cL(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function uL(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let a=JSON.stringify(cL(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function hL(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Wr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function U1(){let e=P.useContext(Bc);return _0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function fL(){let e=P.useContext(xg);return _0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var b0=P.createContext(void 0);b0.displayName="FrameworkContext";function F1(){let e=P.useContext(b0);return _0(e,"You must render this element inside a <HydratedRouter> element"),e}function dL(e,t){let n=P.useContext(b0),[i,s]=P.useState(!1),[a,l]=P.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:y}=t,_=P.useRef(null);P.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let S=R=>{R.forEach(V=>{l(V.isIntersecting)})},x=new IntersectionObserver(S,{threshold:.5});return _.current&&x.observe(_.current),()=>{x.disconnect()}}},[e]),P.useEffect(()=>{if(i){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[i]);let b=()=>{s(!0)},T=()=>{s(!1),l(!1)};return n?e!=="intent"?[a,_,{}]:[a,_,{onFocus:Ju(c,b),onBlur:Ju(h,T),onMouseEnter:Ju(f,b),onMouseLeave:Ju(p,T),onTouchStart:Ju(y,b)}]:[!1,_,{}]}function Ju(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function pL({page:e,...t}){let{router:n}=U1(),i=P.useMemo(()=>k1(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?P.createElement(mL,{page:e,matches:i,...t}):null}function gL(e){let{manifest:t,routeModules:n}=F1(),[i,s]=P.useState([]);return P.useEffect(()=>{let a=!1;return aL(e,t,n).then(l=>{a||s(l)}),()=>{a=!0}},[e,t,n]),i}function mL({page:e,matches:t,...n}){let i=Jr(),{manifest:s,routeModules:a}=F1(),{basename:l}=U1(),{loaderData:c,matches:h}=fL(),f=P.useMemo(()=>XE(e,t,h,s,i,"data"),[e,t,h,s,i]),p=P.useMemo(()=>XE(e,t,h,s,i,"assets"),[e,t,h,s,i]),y=P.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let T=new Set,S=!1;if(t.forEach(R=>{var B;let V=s.routes[R.route.id];!V||!V.hasLoader||(!f.some($=>$.route.id===R.route.id)&&R.route.id in c&&((B=a[R.route.id])!=null&&B.shouldRevalidate)||V.hasClientLoader?S=!0:T.add(R.route.id))}),T.size===0)return[];let x=hL(e,l);return S&&T.size>0&&x.searchParams.set("_routes",t.filter(R=>T.has(R.route.id)).map(R=>R.route.id).join(",")),[x.pathname+x.search]},[l,c,i,s,f,t,e,a]),_=P.useMemo(()=>oL(p,s),[p,s]),b=gL(p);return P.createElement(P.Fragment,null,y.map(T=>P.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),_.map(T=>P.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),b.map(({key:T,link:S})=>P.createElement("link",{key:T,...S})))}function yL(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var z1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z1&&(window.__reactRouterVersion="7.5.0")}catch{}function vL({basename:e,children:t,window:n}){let i=P.useRef();i.current==null&&(i.current=o2({window:n,v5Compat:!0}));let s=i.current,[a,l]=P.useState({action:s.action,location:s.location}),c=P.useCallback(h=>{P.startTransition(()=>l(h))},[l]);return P.useLayoutEffect(()=>s.listen(c),[s,c]),P.createElement(K2,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var H1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Da=P.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:f,preventScrollReset:p,viewTransition:y,..._},b){let{basename:T}=P.useContext(Rs),S=typeof f=="string"&&H1.test(f),x,R=!1;if(typeof f=="string"&&S&&(x=f,z1))try{let M=new URL(window.location.href),U=f.startsWith("//")?new URL(M.protocol+f):new URL(f),F=Wr(U.pathname,T);U.origin===M.origin&&F!=null?f=F+U.search+U.hash:R=!0}catch{us(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=I2(f,{relative:s}),[B,$,z]=dL(i,_),X=TL(f,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:y});function I(M){t&&t(M),M.defaultPrevented||X(M)}let D=P.createElement("a",{..._,...z,href:x||V,onClick:R||a?t:I,ref:yL(b,$),target:h,"data-discover":!S&&n==="render"?"true":void 0});return B&&!S?P.createElement(P.Fragment,null,D,P.createElement(pL,{page:V})):D});Da.displayName="Link";var _L=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...f},p){let y=of(l,{relative:f.relative}),_=Jr(),b=P.useContext(xg),{navigator:T,basename:S}=P.useContext(Rs),x=b!=null&&CL(y)&&c===!0,R=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,V=_.pathname,B=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(V=V.toLowerCase(),B=B?B.toLowerCase():null,R=R.toLowerCase()),B&&S&&(B=Wr(B,S)||B);const $=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let z=V===R||!s&&V.startsWith(R)&&V.charAt($)==="/",X=B!=null&&(B===R||!s&&B.startsWith(R)&&B.charAt(R.length)==="/"),I={isActive:z,isPending:X,isTransitioning:x},D=z?t:void 0,M;typeof i=="function"?M=i(I):M=[i,z?"active":null,X?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(I):a;return P.createElement(Da,{...f,"aria-current":D,className:M,ref:p,style:U,to:l,viewTransition:c},typeof h=="function"?h(I):h)});_L.displayName="NavLink";var bL=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:a,method:l=yp,action:c,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:y,..._},b)=>{let T=xL(),S=AL(c,{relative:f}),x=l.toLowerCase()==="get"?"get":"post",R=typeof c=="string"&&H1.test(c),V=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let $=B.nativeEvent.submitter,z=($==null?void 0:$.getAttribute("formmethod"))||l;T($||B.currentTarget,{fetcherKey:t,method:z,navigate:n,replace:s,state:a,relative:f,preventScrollReset:p,viewTransition:y})};return P.createElement("form",{ref:b,method:x,action:S,onSubmit:i?h:V,..._,"data-discover":!R&&e==="render"?"true":void 0})});bL.displayName="Form";function wL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q1(e){let t=P.useContext(Bc);return We(t,wL(e)),t}function TL(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Ds(),h=Jr(),f=of(e,{relative:a});return P.useCallback(p=>{if(tL(p,t)){p.preventDefault();let y=n!==void 0?n:Dh(h)===Dh(f);c(e,{replace:y,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,f,n,i,t,e,s,a,l])}var SL=0,EL=()=>`__${String(++SL)}__`;function xL(){let{router:e}=q1("useSubmit"),{basename:t}=P.useContext(Rs),n=q2();return P.useCallback(async(i,s={})=>{let{action:a,method:l,encType:c,formData:h,body:f}=iL(i,t);if(s.navigate===!1){let p=s.fetcherKey||EL();await e.fetch(p,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function AL(e,{relative:t}={}){let{basename:n}=P.useContext(Rs),i=P.useContext(dr);We(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...of(e||".",{relative:t})},l=Jr();if(e==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:qr([n,a.pathname])),Dh(a)}function CL(e,t={}){let n=P.useContext(O1);We(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=q1("useViewTransitionState"),s=of(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Wr(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=Wr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Vp(s.pathname,l)!=null||Vp(s.pathname,a)!=null}new TextEncoder;const RL=()=>{};var QE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},DL=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=e[n++];t[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=e[n++],l=e[n++],c=e[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const a=e[n++],l=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return t.join("")},$1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const a=e[s],l=s+1<e.length,c=l?e[s+1]:0,h=s+2<e.length,f=h?e[s+2]:0,p=a>>2,y=(a&3)<<4|c>>4;let _=(c&15)<<2|f>>6,b=f&63;h||(b=64,l||(_=64)),i.push(n[p],n[y],n[_],n[b])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(W1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):DL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const a=n[e.charAt(s++)],c=s<e.length?n[e.charAt(s)]:0;++s;const f=s<e.length?n[e.charAt(s)]:64;++s;const y=s<e.length?n[e.charAt(s)]:64;if(++s,a==null||c==null||f==null||y==null)throw new kL;const _=a<<2|c>>4;if(i.push(_),f!==64){const b=c<<4&240|f>>2;if(i.push(b),y!==64){const T=f<<6&192|y;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class kL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PL=function(e){const t=W1(e);return $1.encodeByteArray(t,!0)},Bp=function(e){return PL(e).replace(/\./g,"")},G1=function(e){try{return $1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=()=>ML().__FIREBASE_DEFAULTS__,OL=()=>{if(typeof process>"u"||typeof QE>"u")return;const e=QE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},NL=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&G1(e[1]);return t&&JSON.parse(t)},Cg=()=>{try{return RL()||IL()||OL()||NL()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},K1=e=>{var t,n;return(n=(t=Cg())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},LL=e=>{const t=K1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Y1=()=>{var e;return(e=Cg())===null||e===void 0?void 0:e.config},X1=e=>{var t;return(t=Cg())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Bp(JSON.stringify(n)),Bp(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ni())}function UL(){var e;const t=(e=Cg())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q1(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function zL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HL(){const e=ni();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function qL(){return!UL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z1(){try{return typeof indexedDB=="object"}catch{return!1}}function J1(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;t(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}function WL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="FirebaseError";class ks extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=$L,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ol.prototype.create)}}class ol{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,a=this.errors[t],l=a?GL(a,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new ks(s,c,i)}}function GL(e,t){return e.replace(KL,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const KL=/\{\$([^}]+)}/g;function YL(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function $r(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const a=e[s],l=t[s];if(ZE(a)&&ZE(l)){if(!$r(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function ZE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function XL(e,t){const n=new QL(e,t);return n.subscribe.bind(n)}class QL{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");ZL(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=fv),s.error===void 0&&(s.error=fv),s.complete===void 0&&(s.complete=fv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZL(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function fv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=1e3,tV=2,eV=4*60*60*1e3,nV=.5;function JE(e,t=JL,n=tV){const i=t*Math.pow(n,e),s=Math.round(nV*i*(Math.random()-.5)*2);return Math.min(eV,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(e){return e&&e._delegate?e._delegate:e}class xs{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new VL;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(rV(t))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(t=No){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=No){return this.instances.has(t)}getOptions(t=No){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);i===c&&l.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sV(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=No){return this.component?this.component.multipleInstances?t:No:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sV(e){return e===No?void 0:e}function rV(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new iV(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ne||(ne={}));const oV={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},lV=ne.INFO,cV={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},uV=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=cV[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rg{constructor(t){this.name=t,this._logLevel=lV,this._logHandler=uV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?oV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}}const hV=(e,t)=>t.some(n=>e instanceof n);let tx,ex;function fV(){return tx||(tx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dV(){return ex||(ex=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tD=new WeakMap,r_=new WeakMap,eD=new WeakMap,dv=new WeakMap,w0=new WeakMap;function pV(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{n(Va(e.result)),s()},l=()=>{i(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&tD.set(n,e)}).catch(()=>{}),w0.set(t,e),t}function gV(e){if(r_.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});r_.set(e,t)}let a_={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return r_.get(e);if(t==="objectStoreNames")return e.objectStoreNames||eD.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Va(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function mV(e){a_=e(a_)}function yV(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(pv(this),t,...n);return eD.set(i,t.sort?t.sort():[t]),Va(i)}:dV().includes(e)?function(...t){return e.apply(pv(this),t),Va(tD.get(this))}:function(...t){return Va(e.apply(pv(this),t))}}function vV(e){return typeof e=="function"?yV(e):(e instanceof IDBTransaction&&gV(e),hV(e,fV())?new Proxy(e,a_):e)}function Va(e){if(e instanceof IDBRequest)return pV(e);if(dv.has(e))return dv.get(e);const t=vV(e);return t!==e&&(dv.set(e,t),w0.set(t,e)),t}const pv=e=>w0.get(e);function nD(e,t,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(e,t),c=Va(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Va(l.result),h.oldVersion,h.newVersion,Va(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const _V=["get","getKey","getAll","getAllKeys","count"],bV=["put","add","delete","clear"],gv=new Map;function nx(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gv.get(t))return gv.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=bV.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||_V.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&h.done]))[0]};return gv.set(t,a),a}mV(e=>({...e,get:(t,n,i)=>nx(t,n)||e.get(t,n,i),has:(t,n)=>!!nx(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TV(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function TV(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const o_="@firebase/app",ix="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Rg("@firebase/app"),SV="@firebase/app-compat",EV="@firebase/analytics-compat",xV="@firebase/analytics",AV="@firebase/app-check-compat",CV="@firebase/app-check",RV="@firebase/auth",DV="@firebase/auth-compat",kV="@firebase/database",PV="@firebase/data-connect",MV="@firebase/database-compat",IV="@firebase/functions",OV="@firebase/functions-compat",NV="@firebase/installations",LV="@firebase/installations-compat",VV="@firebase/messaging",BV="@firebase/messaging-compat",jV="@firebase/performance",UV="@firebase/performance-compat",FV="@firebase/remote-config",zV="@firebase/remote-config-compat",HV="@firebase/storage",qV="@firebase/storage-compat",WV="@firebase/firestore",$V="@firebase/vertexai",GV="@firebase/firestore-compat",KV="firebase",YV="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="[DEFAULT]",XV={[o_]:"fire-core",[SV]:"fire-core-compat",[xV]:"fire-analytics",[EV]:"fire-analytics-compat",[CV]:"fire-app-check",[AV]:"fire-app-check-compat",[RV]:"fire-auth",[DV]:"fire-auth-compat",[kV]:"fire-rtdb",[PV]:"fire-data-connect",[MV]:"fire-rtdb-compat",[IV]:"fire-fn",[OV]:"fire-fn-compat",[NV]:"fire-iid",[LV]:"fire-iid-compat",[VV]:"fire-fcm",[BV]:"fire-fcm-compat",[jV]:"fire-perf",[UV]:"fire-perf-compat",[FV]:"fire-rc",[zV]:"fire-rc-compat",[HV]:"fire-gcs",[qV]:"fire-gcs-compat",[WV]:"fire-fst",[GV]:"fire-fst-compat",[$V]:"fire-vertex","fire-js":"fire-js",[KV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=new Map,QV=new Map,c_=new Map;function sx(e,t){try{e.container.addComponent(t)}catch(n){Gr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function lr(e){const t=e.name;if(c_.has(t))return Gr.debug(`There were multiple attempts to register component ${t}.`),!1;c_.set(t,e);for(const n of jp.values())sx(n,e);for(const n of QV.values())sx(n,e);return!0}function ll(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function _s(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ba=new ol("app","Firebase",ZV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ba.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=YV;function iD(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:l_,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw Ba.create("bad-app-name",{appName:String(s)});if(n||(n=Y1()),!n)throw Ba.create("no-options");const a=jp.get(s);if(a){if($r(n,a.options)&&$r(i,a.config))return a;throw Ba.create("duplicate-app",{appName:s})}const l=new aV(s);for(const h of c_.values())l.addComponent(h);const c=new JV(n,i,l);return jp.set(s,c),c}function T0(e=l_){const t=jp.get(e);if(!t&&e===l_&&Y1())return iD();if(!t)throw Ba.create("no-app",{appName:e});return t}function as(e,t,n){var i;let s=(i=XV[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gr.warn(c.join(" "));return}lr(new xs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB="firebase-heartbeat-database",eB=1,kh="firebase-heartbeat-store";let mv=null;function sD(){return mv||(mv=nD(tB,eB,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(kh)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ba.create("idb-open",{originalErrorMessage:e.message})})),mv}async function nB(e){try{const n=(await sD()).transaction(kh),i=await n.objectStore(kh).get(rD(e));return await n.done,i}catch(t){if(t instanceof ks)Gr.warn(t.message);else{const n=Ba.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gr.warn(n.message)}}}async function rx(e,t){try{const i=(await sD()).transaction(kh,"readwrite");await i.objectStore(kh).put(t,rD(e)),await i.done}catch(n){if(n instanceof ks)Gr.warn(n.message);else{const i=Ba.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gr.warn(i.message)}}}function rD(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=1024,sB=30;class rB{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oB(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ax();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>sB){const l=lB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Gr.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ax(),{heartbeatsToSend:i,unsentEntries:s}=aB(this._heartbeatsCache.heartbeats),a=Bp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Gr.warn(n),""}}}function ax(){return new Date().toISOString().substring(0,10)}function aB(e,t=iB){const n=[];let i=e.slice();for(const s of e){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),ox(n)>t){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ox(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class oB{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z1()?J1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return rx(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return rx(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function ox(e){return Bp(JSON.stringify({version:2,heartbeats:e})).length}function lB(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(e){lr(new xs("platform-logger",t=>new wV(t),"PRIVATE")),lr(new xs("heartbeat",t=>new rB(t),"PRIVATE")),as(o_,ix,e),as(o_,ix,"esm2017"),as("fire-js","")}cB("");function S0(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function aD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uB=aD,oD=new ol("auth","Firebase",aD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=new Rg("@firebase/auth");function hB(e,...t){Up.logLevel<=ne.WARN&&Up.warn(`Auth (${Uc}): ${e}`,...t)}function _p(e,...t){Up.logLevel<=ne.ERROR&&Up.error(`Auth (${Uc}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(e,...t){throw x0(e,...t)}function Ts(e,...t){return x0(e,...t)}function E0(e,t,n){const i=Object.assign(Object.assign({},uB()),{[t]:n});return new ol("auth","Firebase",i).create(t,{appName:e.name})}function $o(e){return E0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fB(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&cr(e,"argument-error"),E0(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function x0(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return oD.create(e,...t)}function jt(e,t,...n){if(!e)throw x0(t,...n)}function zr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw _p(t),new Error(t)}function Kr(e,t){e||zr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function dB(){return lx()==="http:"||lx()==="https:"}function lx(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dB()||Q1()||"connection"in navigator)?navigator.onLine:!0}function gB(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,n){this.shortDelay=t,this.longDelay=n,Kr(n>t,"Short delay should be less than long delay!"),this.isMobile=jL()||zL()}get(){return pB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(e,t){Kr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vB=new cf(3e4,6e4);function C0(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Fc(e,t,n,i,s={}){return cD(e,s,async()=>{let a={},l={};i&&(t==="GET"?l=i:a={body:JSON.stringify(i)});const c=lf(Object.assign({key:e.config.apiKey},l)).slice(1),h=await e._getAdditionalHeaders();h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode);const f=Object.assign({method:t,headers:h},a);return FL()||(f.referrerPolicy="no-referrer"),lD.fetch()(await uD(e,e.config.apiHost,n,c),f)})}async function cD(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},mB),t);try{const s=new bB(e),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Wd(e,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wd(e,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Wd(e,"email-already-in-use",l);if(h==="USER_DISABLED")throw Wd(e,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw E0(e,p,f);cr(e,p)}}catch(s){if(s instanceof ks)throw s;cr(e,"network-request-failed",{message:String(s)})}}async function _B(e,t,n,i,s={}){const a=await Fc(e,t,n,i,s);return"mfaPendingCredential"in a&&cr(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function uD(e,t,n,i){const s=`${t}${n}?${i}`,a=e,l=a.config.emulator?A0(e.config,s):`${e.config.apiScheme}://${s}`;return yB.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class bB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ts(this.auth,"network-request-failed")),vB.get())})}}function Wd(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Ts(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wB(e,t){return Fc(e,"POST","/v1/accounts:delete",t)}async function Fp(e,t){return Fc(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function TB(e,t=!1){const n=ii(e),i=await n.getIdToken(t),s=R0(i);jt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:gh(yv(s.auth_time)),issuedAtTime:gh(yv(s.iat)),expirationTime:gh(yv(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function yv(e){return Number(e)*1e3}function R0(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return _p("JWT malformed, contained fewer than 3 sections"),null;try{const s=G1(n);return s?JSON.parse(s):(_p("Failed to decode base64 JWT payload"),null)}catch(s){return _p("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function cx(e){const t=R0(e);return jt(t,"internal-error"),jt(typeof t.exp<"u","internal-error"),jt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ks&&SB(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function SB({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gh(this.lastLoginAt),this.creationTime=gh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(e){var t;const n=e.auth,i=await e.getIdToken(),s=await Ph(e,Fp(n,{idToken:i}));jt(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?hD(a.providerUserInfo):[],c=AB(e.providerData,l),h=e.isAnonymous,f=!(e.email&&a.passwordHash)&&!(c!=null&&c.length),p=h?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new h_(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function xB(e){const t=ii(e);await zp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function AB(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function hD(e){return e.map(t=>{var{providerId:n}=t,i=S0(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CB(e,t){const n=await cD(e,{},async()=>{const i=lf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=e.config,l=await uD(e,s,"/v1/token",`key=${a}`),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",lD.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RB(e,t){return Fc(e,"POST","/v2/accounts:revokeToken",C0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){jt(t.idToken,"internal-error"),jt(typeof t.idToken<"u","internal-error"),jt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):cx(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){jt(t.length!==0,"internal-error");const n=cx(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(jt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await CB(t,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,l=new fc;return i&&(jt(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(jt(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),a&&(jt(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new fc,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(e,t){jt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class bs{constructor(t){var{uid:n,auth:i,stsTokenManager:s}=t,a=S0(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new h_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await Ph(this,this.stsTokenManager.getToken(this.auth,t));return jt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return TB(this,t)}reload(){return xB(this)}_assign(t){this!==t&&(jt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new bs(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await zp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_s(this.auth.app))return Promise.reject($o(this.auth));const t=await this.getIdToken();return await Ph(this,wB(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,s,a,l,c,h,f,p;const y=(i=n.displayName)!==null&&i!==void 0?i:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,b=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,T=(l=n.photoURL)!==null&&l!==void 0?l:void 0,S=(c=n.tenantId)!==null&&c!==void 0?c:void 0,x=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,R=(f=n.createdAt)!==null&&f!==void 0?f:void 0,V=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:B,emailVerified:$,isAnonymous:z,providerData:X,stsTokenManager:I}=n;jt(B&&I,t,"internal-error");const D=fc.fromJSON(this.name,I);jt(typeof B=="string",t,"internal-error"),xa(y,t.name),xa(_,t.name),jt(typeof $=="boolean",t,"internal-error"),jt(typeof z=="boolean",t,"internal-error"),xa(b,t.name),xa(T,t.name),xa(S,t.name),xa(x,t.name),xa(R,t.name),xa(V,t.name);const M=new bs({uid:B,auth:t,email:_,emailVerified:$,displayName:y,isAnonymous:z,photoURL:T,phoneNumber:b,tenantId:S,stsTokenManager:D,createdAt:R,lastLoginAt:V});return X&&Array.isArray(X)&&(M.providerData=X.map(U=>Object.assign({},U))),x&&(M._redirectEventId=x),M}static async _fromIdTokenResponse(t,n,i=!1){const s=new fc;s.updateFromServerResponse(n);const a=new bs({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await zp(a),a}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];jt(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?hD(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new fc;c.updateFromIdToken(i);const h=new bs({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new h_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=new Map;function Hr(e){Kr(e instanceof Function,"Expected a class definition");let t=ux.get(e);return t?(Kr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ux.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}fD.type="NONE";const hx=fD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(e,t,n){return`firebase:${e}:${t}:${n}`}class dc{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=bp(this.userKey,s.apiKey,a),this.fullPersistenceKey=bp("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Fp(this.auth,{idToken:t}).catch(()=>{});return n?bs._fromGetAccountInfoResponse(this.auth,n,t):null}return bs._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new dc(Hr(hx),t,i);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=s[0]||Hr(hx);const l=bp(i,t.config.apiKey,t.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){let y;if(typeof p=="string"){const _=await Fp(t,{idToken:p}).catch(()=>{});if(!_)break;y=await bs._fromGetAccountInfoResponse(t,_,p)}else y=bs._fromJSON(t,p);f!==a&&(c=y),a=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new dc(a,t,i):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new dc(a,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mD(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dD(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vD(t))return"Blackberry";if(_D(t))return"Webos";if(pD(t))return"Safari";if((t.includes("chrome/")||gD(t))&&!t.includes("edge/"))return"Chrome";if(yD(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function dD(e=ni()){return/firefox\//i.test(e)}function pD(e=ni()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gD(e=ni()){return/crios\//i.test(e)}function mD(e=ni()){return/iemobile/i.test(e)}function yD(e=ni()){return/android/i.test(e)}function vD(e=ni()){return/blackberry/i.test(e)}function _D(e=ni()){return/webos/i.test(e)}function D0(e=ni()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function DB(e=ni()){var t;return D0(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function kB(){return HL()&&document.documentMode===10}function bD(e=ni()){return D0(e)||yD(e)||_D(e)||vD(e)||/windows phone/i.test(e)||mD(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(e,t=[]){let n;switch(e){case"Browser":n=fx(ni());break;case"Worker":n=`${fx(ni())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=a=>new Promise((l,c)=>{try{const h=t(a);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MB(e,t={}){return Fc(e,"GET","/v2/passwordPolicy",C0(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=6;class OB{constructor(t){var n,i,s,a;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:IB,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=t.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,s,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,h),this.validatePasswordCharacterOptions(t,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dx(this),this.idTokenSubscription=new dx(this),this.beforeStateQueue=new PB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await dc.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Fp(this,{idToken:t}),i=await bs._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(_s(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await zp(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=gB()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_s(this.app))return Promise.reject($o(this));const n=t?ii(t):null;return n&&jt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&jt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _s(this.app)?Promise.reject($o(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _s(this.app)?Promise.reject($o(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await MB(this),n=new OB(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ol("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await RB(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hr(t)||this._popupRedirectResolver;jt(n,this,"argument-error"),this.redirectPersistenceManager=await dc.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(jt(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=t.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=t.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;if(_s(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&hB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function uf(e){return ii(e)}class dx{constructor(t){this.auth=t,this.observer=null,this.addObserver=XL(n=>this.observer=n)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LB(e){k0=e}function VB(e){return k0.loadJS(e)}function BB(){return k0.gapiScript}function jB(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(e,t){const n=ll(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if($r(a,t??{}))return s;cr(s,"already-initialized")}return n.initialize({options:t})}function FB(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Hr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function zB(e,t,n){const i=uf(e);jt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,a=TD(t),{host:l,port:c}=HB(t),h=c===null?"":`:${c}`,f={url:`${a}//${l}${h}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){jt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),jt($r(f,i.config.emulator)&&$r(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,qB()}function TD(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function HB(e){const t=TD(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:px(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:px(l)}}}function px(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function qB(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(t){return zr("not implemented")}_linkToIdToken(t,n){return zr("not implemented")}_getReauthenticationResolver(t){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(e,t){return _B(e,"POST","/v1/accounts:signInWithIdp",C0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB="http://localhost";class Qo extends SD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Qo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=n,a=S0(n,["providerId","signInMethod"]);if(!i||!s)return null;const l=new Qo(i,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const n=this.buildRequest();return pc(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,pc(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,pc(t,n)}buildRequest(){const t={requestUri:WB,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=lf(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends P0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends hf{constructor(){super("facebook.com")}static credential(t){return Qo._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ka.credentialFromTaggedObject(t)}static credentialFromError(t){return ka.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ka.credential(t.oauthAccessToken)}catch{return null}}}ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";ka.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends hf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Qo._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Fr.credential(n,i)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends hf{constructor(){super("github.com")}static credential(t){return Qo._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pa.credentialFromTaggedObject(t)}static credentialFromError(t){return Pa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pa.credential(t.oauthAccessToken)}catch{return null}}}Pa.GITHUB_SIGN_IN_METHOD="github.com";Pa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends hf{constructor(){super("twitter.com")}static credential(t,n){return Qo._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ma.credentialFromTaggedObject(t)}static credentialFromError(t){return Ma.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ma.credential(n,i)}catch{return null}}}Ma.TWITTER_SIGN_IN_METHOD="twitter.com";Ma.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const a=await bs._fromIdTokenResponse(t,i,s),l=gx(i);return new wc({user:a,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=gx(i);return new wc({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function gx(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp extends ks{constructor(t,n,i,s){var a;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Hp.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Hp(t,n,i,s)}}function ED(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Hp._fromErrorAndOperation(e,a,t,i):a})}async function $B(e,t,n=!1){const i=await Ph(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return wc._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GB(e,t,n=!1){const{auth:i}=e;if(_s(i.app))return Promise.reject($o(i));const s="reauthenticate";try{const a=await Ph(e,ED(i,s,t,e),n);jt(a.idToken,i,"internal-error");const l=R0(a.idToken);jt(l,i,"internal-error");const{sub:c}=l;return jt(e.uid===c,i,"user-mismatch"),wc._forOperation(e,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&cr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KB(e,t,n=!1){if(_s(e.app))return Promise.reject($o(e));const i="signIn",s=await ED(e,i,t),a=await wc._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(a.user),a}function YB(e,t,n,i){return ii(e).onIdTokenChanged(t,n,i)}function XB(e,t,n){return ii(e).beforeAuthStateChanged(t,n)}function QB(e){return ii(e).signOut()}const qp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qp,"1"),this.storage.removeItem(qp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=1e3,JB=10;class AD extends xD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bD(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);kB()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,JB):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},ZB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}AD.type="LOCAL";const tj=AD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD extends xD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}CD.type="SESSION";const RD=CD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new Dg(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(n.origin,a)),h=await ej(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const f=M0("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(_.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(){return window}function ij(e){Zs().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){return typeof Zs().WorkerGlobalScope<"u"&&typeof Zs().importScripts=="function"}async function sj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rj(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function aj(){return DD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="firebaseLocalStorageDb",oj=1,Wp="firebaseLocalStorage",PD="fbase_key";class ff{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kg(e,t){return e.transaction([Wp],t?"readwrite":"readonly").objectStore(Wp)}function lj(){const e=indexedDB.deleteDatabase(kD);return new ff(e).toPromise()}function f_(){const e=indexedDB.open(kD,oj);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Wp,{keyPath:PD})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Wp)?t(i):(i.close(),await lj(),t(await f_()))})})}async function mx(e,t,n){const i=kg(e,!0).put({[PD]:t,value:n});return new ff(i).toPromise()}async function cj(e,t){const n=kg(e,!1).get(t),i=await new ff(n).toPromise();return i===void 0?null:i.value}function yx(e,t){const n=kg(e,!0).delete(t);return new ff(n).toPromise()}const uj=800,hj=3;class MD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await f_(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>hj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dg._getInstance(aj()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await sj(),!this.activeServiceWorker)return;this.sender=new nj(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await f_();return await mx(t,qp,"1"),await yx(t,qp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>mx(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>cj(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>yx(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const a=kg(s,!1).getAll();return new ff(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MD.type="LOCAL";const fj=MD;new cf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(e,t){return t?Hr(t):(jt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0 extends SD{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return pc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return pc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return pc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function dj(e){return KB(e.auth,new I0(e),e.bypassAuthState)}function pj(e){const{auth:t,user:n}=e;return jt(n,t,"internal-error"),GB(n,new I0(e),e.bypassAuthState)}async function gj(e){const{auth:t,user:n}=e;return jt(n,t,"internal-error"),$B(n,new I0(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t,n,i,s,a=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:l,type:c}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return dj;case"linkViaPopup":case"linkViaRedirect":return gj;case"reauthViaPopup":case"reauthViaRedirect":return pj;default:cr(this.auth,"internal-error")}}resolve(t){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=new cf(2e3,1e4);async function yj(e,t,n){if(_s(e.app))return Promise.reject(Ts(e,"operation-not-supported-in-this-environment"));const i=uf(e);fB(e,t,P0);const s=ID(i,n);return new jo(i,"signInViaPopup",t,s).executeNotNull()}class jo extends OD{constructor(t,n,i,s,a){super(t,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return jt(t,this.auth,"internal-error"),t}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const t=M0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,mj.get())};t()}}jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj="pendingRedirect",wp=new Map;class _j extends OD{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=wp.get(this.auth._key());if(!t){try{const i=await bj(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}wp.set(this.auth._key(),t)}return this.bypassAuthState||wp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bj(e,t){const n=Sj(t),i=Tj(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function wj(e,t){wp.set(e._key(),t)}function Tj(e){return Hr(e._redirectPersistence)}function Sj(e){return bp(vj,e.config.apiKey,e.name)}async function Ej(e,t){return await uf(e)._initializationPromise,ND(e,t,!1)}async function ND(e,t,n=!1){if(_s(e.app))return Promise.reject($o(e));const i=uf(e),s=ID(i,t),l=await new _j(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=10*60*1e3;class Aj{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Cj(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!LD(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Ts(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xj&&this.cachedEventUids.clear(),this.cachedEventUids.has(vx(t))}saveEventToCache(t){this.cachedEventUids.add(vx(t)),this.lastProcessedEventTime=Date.now()}}function vx(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function LD({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Cj(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LD(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(e,t={}){return Fc(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kj=/^https?/;async function Pj(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Rj(e);for(const n of t)try{if(Mj(n))return}catch{}cr(e,"unauthorized-domain")}function Mj(e){const t=u_(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const l=new URL(e);return l.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!kj.test(n))return!1;if(Dj.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=new cf(3e4,6e4);function _x(){const e=Zs().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Oj(e){return new Promise((t,n)=>{var i,s,a;function l(){_x(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_x(),n(Ts(e,"network-request-failed"))},timeout:Ij.get()})}if(!((s=(i=Zs().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((a=Zs().gapi)===null||a===void 0)&&a.load)l();else{const c=jB("iframefcb");return Zs()[c]=()=>{gapi.load?l():n(Ts(e,"network-request-failed"))},VB(`${BB()}?onload=${c}`).catch(h=>n(h))}}).catch(t=>{throw Tp=null,t})}let Tp=null;function Nj(e){return Tp=Tp||Oj(e),Tp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=new cf(5e3,15e3),Vj="__/auth/iframe",Bj="emulator/auth/iframe",jj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fj(e){const t=e.config;jt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?A0(t,Bj):`https://${e.config.authDomain}/${Vj}`,i={apiKey:t.apiKey,appName:e.name,v:Uc},s=Uj.get(e.config.apiHost);s&&(i.eid=s);const a=e._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${lf(i).slice(1)}`}async function zj(e){const t=await Nj(e),n=Zs().gapi;return jt(n,e,"internal-error"),t.open({where:document.body,url:Fj(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jj,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const l=Ts(e,"network-request-failed"),c=Zs().setTimeout(()=>{a(l)},Lj.get());function h(){Zs().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qj=500,Wj=600,$j="_blank",Gj="http://localhost";class bx{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Kj(e,t,n,i=qj,s=Wj){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},Hj),{width:i.toString(),height:s.toString(),top:a,left:l}),f=ni().toLowerCase();n&&(c=gD(f)?$j:n),dD(f)&&(t=t||Gj,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[b,T])=>`${_}${b}=${T},`,"");if(DB(f)&&c!=="_self")return Yj(t||"",c),new bx(null);const y=window.open(t||"",c,p);jt(y,e,"popup-blocked");try{y.focus()}catch{}return new bx(y)}function Yj(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="__/auth/handler",Qj="emulator/auth/handler",Zj=encodeURIComponent("fac");async function wx(e,t,n,i,s,a){jt(e.config.authDomain,e,"auth-domain-config-required"),jt(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Uc,eventId:s};if(t instanceof P0){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",YL(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof hf){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await e._getAppCheckToken(),f=h?`#${Zj}=${encodeURIComponent(h)}`:"";return`${Jj(e)}?${lf(c).slice(1)}${f}`}function Jj({config:e}){return e.emulator?A0(e,Qj):`https://${e.authDomain}/${Xj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="webStorageSupport";class tU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RD,this._completeRedirectFn=ND,this._overrideRedirectResult=wj}async _openPopup(t,n,i,s){var a;Kr((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await wx(t,n,i,u_(),s);return Kj(t,l,M0())}async _openRedirect(t,n,i,s){await this._originValidation(t);const a=await wx(t,n,i,u_(),s);return ij(a),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Kr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await zj(t),i=new Aj(t);return n.register("authEvent",s=>(jt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(vv,{type:vv},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[vv];l!==void 0&&n(!!l),cr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Pj(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return bD()||pD()||D0()}}const eU=tU;var Tx="@firebase/auth",Sx="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sU(e){lr(new xs("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;jt(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wD(e)},f=new NB(i,s,a,h);return FB(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),lr(new xs("auth-internal",t=>{const n=uf(t.getProvider("auth").getImmediate());return(i=>new nU(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(Tx,Sx,iU(e)),as(Tx,Sx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=5*60,aU=X1("authIdTokenMaxAge")||rU;let Ex=null;const oU=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>aU)return;const s=n==null?void 0:n.token;Ex!==s&&(Ex=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function lU(e=T0()){const t=ll(e,"auth");if(t.isInitialized())return t.getImmediate();const n=UB(e,{popupRedirectResolver:eU,persistence:[fj,tj,RD]}),i=X1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=oU(a.toString());XB(n,l,()=>l(n.currentUser)),YB(n,c=>l(c))}}const s=K1("auth");return s&&zB(n,`http://${s}`),n}function cU(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}LB({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const a=Ts("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",cU().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sU("Browser");var xx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ja,VD;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,D){function M(){}M.prototype=D.prototype,I.D=D.prototype,I.prototype=new M,I.prototype.constructor=I,I.C=function(U,F,L){for(var N=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)N[ot-2]=arguments[ot];return D.prototype[F].apply(U,N)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,D,M){M||(M=0);var U=Array(16);if(typeof D=="string")for(var F=0;16>F;++F)U[F]=D.charCodeAt(M++)|D.charCodeAt(M++)<<8|D.charCodeAt(M++)<<16|D.charCodeAt(M++)<<24;else for(F=0;16>F;++F)U[F]=D[M++]|D[M++]<<8|D[M++]<<16|D[M++]<<24;D=I.g[0],M=I.g[1],F=I.g[2];var L=I.g[3],N=D+(L^M&(F^L))+U[0]+3614090360&4294967295;D=M+(N<<7&4294967295|N>>>25),N=L+(F^D&(M^F))+U[1]+3905402710&4294967295,L=D+(N<<12&4294967295|N>>>20),N=F+(M^L&(D^M))+U[2]+606105819&4294967295,F=L+(N<<17&4294967295|N>>>15),N=M+(D^F&(L^D))+U[3]+3250441966&4294967295,M=F+(N<<22&4294967295|N>>>10),N=D+(L^M&(F^L))+U[4]+4118548399&4294967295,D=M+(N<<7&4294967295|N>>>25),N=L+(F^D&(M^F))+U[5]+1200080426&4294967295,L=D+(N<<12&4294967295|N>>>20),N=F+(M^L&(D^M))+U[6]+2821735955&4294967295,F=L+(N<<17&4294967295|N>>>15),N=M+(D^F&(L^D))+U[7]+4249261313&4294967295,M=F+(N<<22&4294967295|N>>>10),N=D+(L^M&(F^L))+U[8]+1770035416&4294967295,D=M+(N<<7&4294967295|N>>>25),N=L+(F^D&(M^F))+U[9]+2336552879&4294967295,L=D+(N<<12&4294967295|N>>>20),N=F+(M^L&(D^M))+U[10]+4294925233&4294967295,F=L+(N<<17&4294967295|N>>>15),N=M+(D^F&(L^D))+U[11]+2304563134&4294967295,M=F+(N<<22&4294967295|N>>>10),N=D+(L^M&(F^L))+U[12]+1804603682&4294967295,D=M+(N<<7&4294967295|N>>>25),N=L+(F^D&(M^F))+U[13]+4254626195&4294967295,L=D+(N<<12&4294967295|N>>>20),N=F+(M^L&(D^M))+U[14]+2792965006&4294967295,F=L+(N<<17&4294967295|N>>>15),N=M+(D^F&(L^D))+U[15]+1236535329&4294967295,M=F+(N<<22&4294967295|N>>>10),N=D+(F^L&(M^F))+U[1]+4129170786&4294967295,D=M+(N<<5&4294967295|N>>>27),N=L+(M^F&(D^M))+U[6]+3225465664&4294967295,L=D+(N<<9&4294967295|N>>>23),N=F+(D^M&(L^D))+U[11]+643717713&4294967295,F=L+(N<<14&4294967295|N>>>18),N=M+(L^D&(F^L))+U[0]+3921069994&4294967295,M=F+(N<<20&4294967295|N>>>12),N=D+(F^L&(M^F))+U[5]+3593408605&4294967295,D=M+(N<<5&4294967295|N>>>27),N=L+(M^F&(D^M))+U[10]+38016083&4294967295,L=D+(N<<9&4294967295|N>>>23),N=F+(D^M&(L^D))+U[15]+3634488961&4294967295,F=L+(N<<14&4294967295|N>>>18),N=M+(L^D&(F^L))+U[4]+3889429448&4294967295,M=F+(N<<20&4294967295|N>>>12),N=D+(F^L&(M^F))+U[9]+568446438&4294967295,D=M+(N<<5&4294967295|N>>>27),N=L+(M^F&(D^M))+U[14]+3275163606&4294967295,L=D+(N<<9&4294967295|N>>>23),N=F+(D^M&(L^D))+U[3]+4107603335&4294967295,F=L+(N<<14&4294967295|N>>>18),N=M+(L^D&(F^L))+U[8]+1163531501&4294967295,M=F+(N<<20&4294967295|N>>>12),N=D+(F^L&(M^F))+U[13]+2850285829&4294967295,D=M+(N<<5&4294967295|N>>>27),N=L+(M^F&(D^M))+U[2]+4243563512&4294967295,L=D+(N<<9&4294967295|N>>>23),N=F+(D^M&(L^D))+U[7]+1735328473&4294967295,F=L+(N<<14&4294967295|N>>>18),N=M+(L^D&(F^L))+U[12]+2368359562&4294967295,M=F+(N<<20&4294967295|N>>>12),N=D+(M^F^L)+U[5]+4294588738&4294967295,D=M+(N<<4&4294967295|N>>>28),N=L+(D^M^F)+U[8]+2272392833&4294967295,L=D+(N<<11&4294967295|N>>>21),N=F+(L^D^M)+U[11]+1839030562&4294967295,F=L+(N<<16&4294967295|N>>>16),N=M+(F^L^D)+U[14]+4259657740&4294967295,M=F+(N<<23&4294967295|N>>>9),N=D+(M^F^L)+U[1]+2763975236&4294967295,D=M+(N<<4&4294967295|N>>>28),N=L+(D^M^F)+U[4]+1272893353&4294967295,L=D+(N<<11&4294967295|N>>>21),N=F+(L^D^M)+U[7]+4139469664&4294967295,F=L+(N<<16&4294967295|N>>>16),N=M+(F^L^D)+U[10]+3200236656&4294967295,M=F+(N<<23&4294967295|N>>>9),N=D+(M^F^L)+U[13]+681279174&4294967295,D=M+(N<<4&4294967295|N>>>28),N=L+(D^M^F)+U[0]+3936430074&4294967295,L=D+(N<<11&4294967295|N>>>21),N=F+(L^D^M)+U[3]+3572445317&4294967295,F=L+(N<<16&4294967295|N>>>16),N=M+(F^L^D)+U[6]+76029189&4294967295,M=F+(N<<23&4294967295|N>>>9),N=D+(M^F^L)+U[9]+3654602809&4294967295,D=M+(N<<4&4294967295|N>>>28),N=L+(D^M^F)+U[12]+3873151461&4294967295,L=D+(N<<11&4294967295|N>>>21),N=F+(L^D^M)+U[15]+530742520&4294967295,F=L+(N<<16&4294967295|N>>>16),N=M+(F^L^D)+U[2]+3299628645&4294967295,M=F+(N<<23&4294967295|N>>>9),N=D+(F^(M|~L))+U[0]+4096336452&4294967295,D=M+(N<<6&4294967295|N>>>26),N=L+(M^(D|~F))+U[7]+1126891415&4294967295,L=D+(N<<10&4294967295|N>>>22),N=F+(D^(L|~M))+U[14]+2878612391&4294967295,F=L+(N<<15&4294967295|N>>>17),N=M+(L^(F|~D))+U[5]+4237533241&4294967295,M=F+(N<<21&4294967295|N>>>11),N=D+(F^(M|~L))+U[12]+1700485571&4294967295,D=M+(N<<6&4294967295|N>>>26),N=L+(M^(D|~F))+U[3]+2399980690&4294967295,L=D+(N<<10&4294967295|N>>>22),N=F+(D^(L|~M))+U[10]+4293915773&4294967295,F=L+(N<<15&4294967295|N>>>17),N=M+(L^(F|~D))+U[1]+2240044497&4294967295,M=F+(N<<21&4294967295|N>>>11),N=D+(F^(M|~L))+U[8]+1873313359&4294967295,D=M+(N<<6&4294967295|N>>>26),N=L+(M^(D|~F))+U[15]+4264355552&4294967295,L=D+(N<<10&4294967295|N>>>22),N=F+(D^(L|~M))+U[6]+2734768916&4294967295,F=L+(N<<15&4294967295|N>>>17),N=M+(L^(F|~D))+U[13]+1309151649&4294967295,M=F+(N<<21&4294967295|N>>>11),N=D+(F^(M|~L))+U[4]+4149444226&4294967295,D=M+(N<<6&4294967295|N>>>26),N=L+(M^(D|~F))+U[11]+3174756917&4294967295,L=D+(N<<10&4294967295|N>>>22),N=F+(D^(L|~M))+U[2]+718787259&4294967295,F=L+(N<<15&4294967295|N>>>17),N=M+(L^(F|~D))+U[9]+3951481745&4294967295,I.g[0]=I.g[0]+D&4294967295,I.g[1]=I.g[1]+(F+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+F&4294967295,I.g[3]=I.g[3]+L&4294967295}i.prototype.u=function(I,D){D===void 0&&(D=I.length);for(var M=D-this.blockSize,U=this.B,F=this.h,L=0;L<D;){if(F==0)for(;L<=M;)s(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<D;)if(U[F++]=I.charCodeAt(L++),F==this.blockSize){s(this,U),F=0;break}}else for(;L<D;)if(U[F++]=I[L++],F==this.blockSize){s(this,U),F=0;break}}this.h=F,this.o+=D},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var D=1;D<I.length-8;++D)I[D]=0;var M=8*this.o;for(D=I.length-8;D<I.length;++D)I[D]=M&255,M/=256;for(this.u(I),I=Array(16),D=M=0;4>D;++D)for(var U=0;32>U;U+=8)I[M++]=this.g[D]>>>U&255;return I};function a(I,D){var M=c;return Object.prototype.hasOwnProperty.call(M,I)?M[I]:M[I]=D(I)}function l(I,D){this.h=D;for(var M=[],U=!0,F=I.length-1;0<=F;F--){var L=I[F]|0;U&&L==D||(M[F]=L,U=!1)}this.g=M}var c={};function h(I){return-128<=I&&128>I?a(I,function(D){return new l([D|0],0>D?-1:0)}):new l([I|0],0>I?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return y;if(0>I)return x(f(-I));for(var D=[],M=1,U=0;I>=M;U++)D[U]=I/M|0,M*=4294967296;return new l(D,0)}function p(I,D){if(I.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I.charAt(0)=="-")return x(p(I.substring(1),D));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=f(Math.pow(D,8)),U=y,F=0;F<I.length;F+=8){var L=Math.min(8,I.length-F),N=parseInt(I.substring(F,F+L),D);8>L?(L=f(Math.pow(D,L)),U=U.j(L).add(f(N))):(U=U.j(M),U=U.add(f(N)))}return U}var y=h(0),_=h(1),b=h(16777216);e=l.prototype,e.m=function(){if(S(this))return-x(this).m();for(var I=0,D=1,M=0;M<this.g.length;M++){var U=this.i(M);I+=(0<=U?U:4294967296+U)*D,D*=4294967296}return I},e.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(S(this))return"-"+x(this).toString(I);for(var D=f(Math.pow(I,6)),M=this,U="";;){var F=$(M,D).g;M=R(M,F.j(D));var L=((0<M.g.length?M.g[0]:M.h)>>>0).toString(I);if(M=F,T(M))return L+U;for(;6>L.length;)L="0"+L;U=L+U}},e.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var D=0;D<I.g.length;D++)if(I.g[D]!=0)return!1;return!0}function S(I){return I.h==-1}e.l=function(I){return I=R(this,I),S(I)?-1:T(I)?0:1};function x(I){for(var D=I.g.length,M=[],U=0;U<D;U++)M[U]=~I.g[U];return new l(M,~I.h).add(_)}e.abs=function(){return S(this)?x(this):this},e.add=function(I){for(var D=Math.max(this.g.length,I.g.length),M=[],U=0,F=0;F<=D;F++){var L=U+(this.i(F)&65535)+(I.i(F)&65535),N=(L>>>16)+(this.i(F)>>>16)+(I.i(F)>>>16);U=N>>>16,L&=65535,N&=65535,M[F]=N<<16|L}return new l(M,M[M.length-1]&-2147483648?-1:0)};function R(I,D){return I.add(x(D))}e.j=function(I){if(T(this)||T(I))return y;if(S(this))return S(I)?x(this).j(x(I)):x(x(this).j(I));if(S(I))return x(this.j(x(I)));if(0>this.l(b)&&0>I.l(b))return f(this.m()*I.m());for(var D=this.g.length+I.g.length,M=[],U=0;U<2*D;U++)M[U]=0;for(U=0;U<this.g.length;U++)for(var F=0;F<I.g.length;F++){var L=this.i(U)>>>16,N=this.i(U)&65535,ot=I.i(F)>>>16,dt=I.i(F)&65535;M[2*U+2*F]+=N*dt,V(M,2*U+2*F),M[2*U+2*F+1]+=L*dt,V(M,2*U+2*F+1),M[2*U+2*F+1]+=N*ot,V(M,2*U+2*F+1),M[2*U+2*F+2]+=L*ot,V(M,2*U+2*F+2)}for(U=0;U<D;U++)M[U]=M[2*U+1]<<16|M[2*U];for(U=D;U<2*D;U++)M[U]=0;return new l(M,0)};function V(I,D){for(;(I[D]&65535)!=I[D];)I[D+1]+=I[D]>>>16,I[D]&=65535,D++}function B(I,D){this.g=I,this.h=D}function $(I,D){if(T(D))throw Error("division by zero");if(T(I))return new B(y,y);if(S(I))return D=$(x(I),D),new B(x(D.g),x(D.h));if(S(D))return D=$(I,x(D)),new B(x(D.g),D.h);if(30<I.g.length){if(S(I)||S(D))throw Error("slowDivide_ only works with positive integers.");for(var M=_,U=D;0>=U.l(I);)M=z(M),U=z(U);var F=X(M,1),L=X(U,1);for(U=X(U,2),M=X(M,2);!T(U);){var N=L.add(U);0>=N.l(I)&&(F=F.add(M),L=N),U=X(U,1),M=X(M,1)}return D=R(I,F.j(D)),new B(F,D)}for(F=y;0<=I.l(D);){for(M=Math.max(1,Math.floor(I.m()/D.m())),U=Math.ceil(Math.log(M)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),L=f(M),N=L.j(D);S(N)||0<N.l(I);)M-=U,L=f(M),N=L.j(D);T(L)&&(L=_),F=F.add(L),I=R(I,N)}return new B(F,I)}e.A=function(I){return $(this,I).h},e.and=function(I){for(var D=Math.max(this.g.length,I.g.length),M=[],U=0;U<D;U++)M[U]=this.i(U)&I.i(U);return new l(M,this.h&I.h)},e.or=function(I){for(var D=Math.max(this.g.length,I.g.length),M=[],U=0;U<D;U++)M[U]=this.i(U)|I.i(U);return new l(M,this.h|I.h)},e.xor=function(I){for(var D=Math.max(this.g.length,I.g.length),M=[],U=0;U<D;U++)M[U]=this.i(U)^I.i(U);return new l(M,this.h^I.h)};function z(I){for(var D=I.g.length+1,M=[],U=0;U<D;U++)M[U]=I.i(U)<<1|I.i(U-1)>>>31;return new l(M,I.h)}function X(I,D){var M=D>>5;D%=32;for(var U=I.g.length-M,F=[],L=0;L<U;L++)F[L]=0<D?I.i(L+M)>>>D|I.i(L+M+1)<<32-D:I.i(L+M);return new l(F,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,VD=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,ja=l}).apply(typeof xx<"u"?xx:typeof self<"u"?self:typeof window<"u"?window:{});var $d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BD,ah,jD,Sp,d_,UD,FD,zD;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,w,E){return g==Array.prototype||g==Object.prototype||(g[w]=E.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof $d=="object"&&$d];for(var w=0;w<g.length;++w){var E=g[w];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function s(g,w){if(w)t:{var E=i;g=g.split(".");for(var O=0;O<g.length-1;O++){var Q=g[O];if(!(Q in E))break t;E=E[Q]}g=g[g.length-1],O=E[g],w=w(O),w!=O&&w!=null&&t(E,g,{configurable:!0,writable:!0,value:w})}}function a(g,w){g instanceof String&&(g+="");var E=0,O=!1,Q={next:function(){if(!O&&E<g.length){var it=E++;return{value:w(it,g[it]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}s("Array.prototype.values",function(g){return g||function(){return a(this,function(w,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(g){var w=typeof g;return w=w!="object"?w:g?Array.isArray(g)?"array":w:"null",w=="array"||w=="object"&&typeof g.length=="number"}function f(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function p(g,w,E){return g.call.apply(g.bind,arguments)}function y(g,w,E){if(!g)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,O),g.apply(w,Q)}}return function(){return g.apply(w,arguments)}}function _(g,w,E){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,_.apply(null,arguments)}function b(g,w){var E=Array.prototype.slice.call(arguments,1);return function(){var O=E.slice();return O.push.apply(O,arguments),g.apply(this,O)}}function T(g,w){function E(){}E.prototype=w.prototype,g.aa=w.prototype,g.prototype=new E,g.prototype.constructor=g,g.Qb=function(O,Q,it){for(var yt=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)yt[ce-2]=arguments[ce];return w.prototype[Q].apply(O,yt)}}function S(g){const w=g.length;if(0<w){const E=Array(w);for(let O=0;O<w;O++)E[O]=g[O];return E}return[]}function x(g,w){for(let E=1;E<arguments.length;E++){const O=arguments[E];if(h(O)){const Q=g.length||0,it=O.length||0;g.length=Q+it;for(let yt=0;yt<it;yt++)g[Q+yt]=O[yt]}else g.push(O)}}class R{constructor(w,E){this.i=w,this.j=E,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function V(g){return/^[\s\xa0]*$/.test(g)}function B(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function $(g){return $[" "](g),g}$[" "]=function(){};var z=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function X(g,w,E){for(const O in g)w.call(E,g[O],O,g)}function I(g,w){for(const E in g)w.call(void 0,g[E],E,g)}function D(g){const w={};for(const E in g)w[E]=g[E];return w}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(g,w){let E,O;for(let Q=1;Q<arguments.length;Q++){O=arguments[Q];for(E in O)g[E]=O[E];for(let it=0;it<M.length;it++)E=M[it],Object.prototype.hasOwnProperty.call(O,E)&&(g[E]=O[E])}}function F(g){var w=1;g=g.split(":");const E=[];for(;0<w&&g.length;)E.push(g.shift()),w--;return g.length&&E.push(g.join(":")),E}function L(g){c.setTimeout(()=>{throw g},0)}function N(){var g=ft;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class ot{constructor(){this.h=this.g=null}add(w,E){const O=dt.get();O.set(w,E),this.h?this.h.next=O:this.g=O,this.h=O}}var dt=new R(()=>new q,g=>g.reset());class q{constructor(){this.next=this.g=this.h=null}set(w,E){this.h=w,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,G=!1,ft=new ot,j=()=>{const g=c.Promise.resolve(void 0);Y=()=>{g.then(tt)}};var tt=()=>{for(var g;g=N();){try{g.h.call(g.g)}catch(E){L(E)}var w=dt;w.j(g),100>w.h&&(w.h++,g.next=w.g,w.g=g)}G=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const E=()=>{};c.addEventListener("test",E,w),c.removeEventListener("test",E,w)}catch{}return g}();function Et(g,w){if(rt.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var E=this.type=g.type,O=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget){if(z){t:{try{$(w.nodeName);var Q=!0;break t}catch{}Q=!1}Q||(w=null)}}else E=="mouseover"?w=g.fromElement:E=="mouseout"&&(w=g.toElement);this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:_t[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Et.aa.h.call(this)}}T(Et,rt);var _t={2:"touch",3:"pen",4:"mouse"};Et.prototype.h=function(){Et.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ht="closure_listenable_"+(1e6*Math.random()|0),Ot=0;function Ue(g,w,E,O,Q){this.listener=g,this.proxy=null,this.src=w,this.type=E,this.capture=!!O,this.ha=Q,this.key=++Ot,this.da=this.fa=!1}function re(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Fe(g){this.src=g,this.g={},this.h=0}Fe.prototype.add=function(g,w,E,O,Q){var it=g.toString();g=this.g[it],g||(g=this.g[it]=[],this.h++);var yt=Le(g,w,O,Q);return-1<yt?(w=g[yt],E||(w.fa=!1)):(w=new Ue(w,this.src,it,!!O,Q),w.fa=E,g.push(w)),w};function In(g,w){var E=w.type;if(E in g.g){var O=g.g[E],Q=Array.prototype.indexOf.call(O,w,void 0),it;(it=0<=Q)&&Array.prototype.splice.call(O,Q,1),it&&(re(w),g.g[E].length==0&&(delete g.g[E],g.h--))}}function Le(g,w,E,O){for(var Q=0;Q<g.length;++Q){var it=g[Q];if(!it.da&&it.listener==w&&it.capture==!!E&&it.ha==O)return Q}return-1}var Si="closure_lm_"+(1e6*Math.random()|0),ze={};function Ei(g,w,E,O,Q){if(Array.isArray(w)){for(var it=0;it<w.length;it++)Ei(g,w[it],E,O,Q);return null}return E=hi(E),g&&g[Ht]?g.K(w,E,f(O)?!!O.capture:!1,Q):$e(g,w,E,!1,O,Q)}function $e(g,w,E,O,Q,it){if(!w)throw Error("Invalid event type");var yt=f(Q)?!!Q.capture:!!Q,ce=ui(g);if(ce||(g[Si]=ce=new Fe(g)),E=ce.add(w,E,O,yt,it),E.proxy)return E;if(O=xi(),E.proxy=O,O.src=g,O.listener=E,g.addEventListener)mt||(Q=yt),Q===void 0&&(Q=!1),g.addEventListener(w.toString(),O,Q);else if(g.attachEvent)g.attachEvent(Ge(w.toString()),O);else if(g.addListener&&g.removeListener)g.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return E}function xi(){function g(E){return w.call(g.src,g.listener,E)}const w=fs;return g}function ve(g,w,E,O,Q){if(Array.isArray(w))for(var it=0;it<w.length;it++)ve(g,w[it],E,O,Q);else O=f(O)?!!O.capture:!!O,E=hi(E),g&&g[Ht]?(g=g.i,w=String(w).toString(),w in g.g&&(it=g.g[w],E=Le(it,E,O,Q),-1<E&&(re(it[E]),Array.prototype.splice.call(it,E,1),it.length==0&&(delete g.g[w],g.h--)))):g&&(g=ui(g))&&(w=g.g[w.toString()],g=-1,w&&(g=Le(w,E,O,Q)),(E=-1<g?w[g]:null)&&Hn(E))}function Hn(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[Ht])In(w.i,g);else{var E=g.type,O=g.proxy;w.removeEventListener?w.removeEventListener(E,O,g.capture):w.detachEvent?w.detachEvent(Ge(E),O):w.addListener&&w.removeListener&&w.removeListener(O),(E=ui(w))?(In(E,g),E.h==0&&(E.src=null,w[Si]=null)):re(g)}}}function Ge(g){return g in ze?ze[g]:ze[g]="on"+g}function fs(g,w){if(g.da)g=!0;else{w=new Et(w,this);var E=g.listener,O=g.ha||g.src;g.fa&&Hn(g),g=E.call(O,w)}return g}function ui(g){return g=g[Si],g instanceof Fe?g:null}var Ui="__closure_events_fn_"+(1e9*Math.random()>>>0);function hi(g){return typeof g=="function"?g:(g[Ui]||(g[Ui]=function(w){return g.handleEvent(w)}),g[Ui])}function le(){ct.call(this),this.i=new Fe(this),this.M=this,this.F=null}T(le,ct),le.prototype[Ht]=!0,le.prototype.removeEventListener=function(g,w,E,O){ve(this,g,w,E,O)};function Jt(g,w){var E,O=g.F;if(O)for(E=[];O;O=O.F)E.push(O);if(g=g.M,O=w.type||w,typeof w=="string")w=new rt(w,g);else if(w instanceof rt)w.target=w.target||g;else{var Q=w;w=new rt(O,g),U(w,Q)}if(Q=!0,E)for(var it=E.length-1;0<=it;it--){var yt=w.g=E[it];Q=Ke(yt,O,!0,w)&&Q}if(yt=w.g=g,Q=Ke(yt,O,!0,w)&&Q,Q=Ke(yt,O,!1,w)&&Q,E)for(it=0;it<E.length;it++)yt=w.g=E[it],Q=Ke(yt,O,!1,w)&&Q}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var g=this.i,w;for(w in g.g){for(var E=g.g[w],O=0;O<E.length;O++)re(E[O]);delete g.g[w],g.h--}}this.F=null},le.prototype.K=function(g,w,E,O){return this.i.add(String(g),w,!1,E,O)},le.prototype.L=function(g,w,E,O){return this.i.add(String(g),w,!0,E,O)};function Ke(g,w,E,O){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();for(var Q=!0,it=0;it<w.length;++it){var yt=w[it];if(yt&&!yt.da&&yt.capture==E){var ce=yt.listener,vn=yt.ha||yt.src;yt.fa&&In(g.i,yt),Q=ce.call(vn,O)!==!1&&Q}}return Q&&!O.defaultPrevented}function Ve(g,w,E){if(typeof g=="function")E&&(g=_(g,E));else if(g&&typeof g.handleEvent=="function")g=_(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(g,w||0)}function Ps(g){g.g=Ve(()=>{g.g=null,g.i&&(g.i=!1,Ps(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class ri extends ct{constructor(w,E){super(),this.m=w,this.l=E,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ps(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function st(g){ct.call(this),this.h=g,this.g={}}T(st,ct);var vt=[];function Ct(g){X(g.g,function(w,E){this.g.hasOwnProperty(E)&&Hn(w)},g),g.g={}}st.prototype.N=function(){st.aa.N.call(this),Ct(this)},st.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nt=c.JSON.stringify,wt=c.JSON.parse,Dt=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function Gt(){}Gt.prototype.h=null;function Kt(g){return g.h||(g.h=g.i())}function ae(){}var Wt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function we(){rt.call(this,"d")}T(we,rt);function qn(){rt.call(this,"c")}T(qn,rt);var ge={},sn=null;function Tt(){return sn=sn||new le}ge.La="serverreachability";function kt(g){rt.call(this,ge.La,g)}T(kt,rt);function _e(g){const w=Tt();Jt(w,new kt(w))}ge.STAT_EVENT="statevent";function Be(g,w){rt.call(this,ge.STAT_EVENT,g),this.stat=w}T(Be,rt);function pt(g){const w=Tt();Jt(w,new Be(w,g))}ge.Ma="timingevent";function bt(g,w){rt.call(this,ge.Ma,g),this.size=w}T(bt,rt);function xt(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},w)}function me(){this.g=!0}me.prototype.xa=function(){this.g=!1};function Ze(g,w,E,O,Q,it){g.info(function(){if(g.g)if(it)for(var yt="",ce=it.split("&"),vn=0;vn<ce.length;vn++){var ue=ce[vn].split("=");if(1<ue.length){var Cn=ue[0];ue=ue[1];var _n=Cn.split("_");yt=2<=_n.length&&_n[1]=="type"?yt+(Cn+"="+ue+"&"):yt+(Cn+"=redacted&")}}else yt=null;else yt=it;return"XMLHTTP REQ ("+O+") [attempt "+Q+"]: "+w+`
`+E+`
`+yt})}function fi(g,w,E,O,Q,it,yt){g.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Q+"]: "+w+`
`+E+`
`+it+" "+yt})}function yn(g,w,E,O){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+hn(g,E)+(O?" "+O:"")})}function un(g,w){g.info(function(){return"TIMEOUT: "+w})}me.prototype.info=function(){};function hn(g,w){if(!g.g)return w;if(!w)return null;try{var E=JSON.parse(w);if(E){for(g=0;g<E.length;g++)if(Array.isArray(E[g])){var O=E[g];if(!(2>O.length)){var Q=O[1];if(Array.isArray(Q)&&!(1>Q.length)){var it=Q[0];if(it!="noop"&&it!="stop"&&it!="close")for(var yt=1;yt<Q.length;yt++)Q[yt]=""}}}}return Nt(E)}catch{return w}}var de={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fi;function zi(){}T(zi,Gt),zi.prototype.g=function(){return new XMLHttpRequest},zi.prototype.i=function(){return{}},Fi=new zi;function xn(g,w,E,O){this.j=g,this.i=w,this.l=E,this.R=O||1,this.U=new st(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new He}function He(){this.i=null,this.g="",this.h=!1}var ta={},gr={};function di(g,w,E){g.L=1,g.v=so(Ci(w)),g.m=E,g.P=!0,Yt(g,null)}function Yt(g,w){g.F=Date.now(),Ai(g),g.A=Ci(g.v);var E=g.A,O=g.R;Array.isArray(O)||(O=[String(O)]),iu(E.i,"t",O),g.C=0,E=g.j.J,g.h=new He,g.g=Uf(g.j,E?w:null,!g.m),0<g.O&&(g.M=new ri(_(g.Y,g,g.g),g.O)),w=g.U,E=g.g,O=g.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(vt[0]=Q.toString()),Q=vt);for(var it=0;it<Q.length;it++){var yt=Ei(E,Q[it],O||w.handleEvent,!1,w.h||w);if(!yt)break;w.g[yt.key]=yt}w=g.H?D(g.H):{},g.m?(g.u||(g.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,w)):(g.u="GET",g.g.ea(g.A,g.u,null,w)),_e(),Ze(g.i,g.u,g.A,g.l,g.R,g.m)}xn.prototype.ca=function(g){g=g.target;const w=this.M;w&&Gi(g)==3?w.j():this.Y(g)},xn.prototype.Y=function(g){try{if(g==this.g)t:{const _n=Gi(this.g);var w=this.g.Ba();const Sr=this.g.Z();if(!(3>_n)&&(_n!=3||this.g&&(this.h.h||this.g.oa()||Mf(this.g)))){this.J||_n!=4||w==7||(w==8||0>=Sr?_e(3):_e(2)),Hi(this);var E=this.g.Z();this.X=E;e:if(pi(this)){var O=Mf(this.g);g="";var Q=O.length,it=Gi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){On(this),Ms(this);var yt="";break e}this.h.i=new c.TextDecoder}for(w=0;w<Q;w++)this.h.h=!0,g+=this.h.i.decode(O[w],{stream:!(it&&w==Q-1)});O.length=0,this.h.g+=g,this.C=0,yt=this.h.g}else yt=this.g.oa();if(this.o=E==200,fi(this.i,this.u,this.A,this.l,this.R,_n,E),this.o){if(this.T&&!this.K){e:{if(this.g){var ce,vn=this.g;if((ce=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(ce)){var ue=ce;break e}}ue=null}if(E=ue)yn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eo(this,E);else{this.o=!1,this.s=3,pt(12),On(this),Ms(this);break t}}if(this.P){E=!0;let Nn;for(;!this.J&&this.C<yt.length;)if(Nn=ea(this,yt),Nn==gr){_n==4&&(this.s=4,pt(14),E=!1),yn(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==ta){this.s=4,pt(15),yn(this.i,this.l,yt,"[Invalid Chunk]"),E=!1;break}else yn(this.i,this.l,Nn,null),eo(this,Nn);if(pi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_n!=4||yt.length!=0||this.h.h||(this.s=1,pt(16),E=!1),this.o=this.o&&E,!E)yn(this.i,this.l,yt,"[Invalid Chunked Response]"),On(this),Ms(this);else if(0<yt.length&&!this.W){this.W=!0;var Cn=this.j;Cn.g==this&&Cn.ba&&!Cn.M&&(Cn.j.info("Great, no buffering proxy detected. Bytes received: "+yt.length),fo(Cn),Cn.M=!0,pt(11))}}else yn(this.i,this.l,yt,null),eo(this,yt);_n==4&&On(this),this.o&&!this.J&&(_n==4?Vf(this.j,this):(this.o=!1,Ai(this)))}else fm(this.g),E==400&&0<yt.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),On(this),Ms(this)}}}catch{}finally{}};function pi(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function ea(g,w){var E=g.C,O=w.indexOf(`
`,E);return O==-1?gr:(E=Number(w.substring(E,O)),isNaN(E)?ta:(O+=1,O+E>w.length?gr:(w=w.slice(O,O+E),g.C=O+E,w)))}xn.prototype.cancel=function(){this.J=!0,On(this)};function Ai(g){g.S=Date.now()+g.I,dl(g,g.I)}function dl(g,w){if(g.B!=null)throw Error("WatchDog timer not null");g.B=xt(_(g.ba,g),w)}function Hi(g){g.B&&(c.clearTimeout(g.B),g.B=null)}xn.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(un(this.i,this.A),this.L!=2&&(_e(),pt(17)),On(this),this.s=2,Ms(this)):dl(this,this.S-g)};function Ms(g){g.j.G==0||g.J||Vf(g.j,g)}function On(g){Hi(g);var w=g.M;w&&typeof w.ma=="function"&&w.ma(),g.M=null,Ct(g.U),g.g&&(w=g.g,g.g=null,w.abort(),w.ma())}function eo(g,w){try{var E=g.j;if(E.G!=0&&(E.g==g||Zc(E.h,g))){if(!g.K&&Zc(E.h,g)&&E.G==3){try{var O=E.Da.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Q=O;if(Q[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<g.F)xl(E),Sl(E);else break t;lu(E),pt(18)}}else E.za=Q[1],0<E.za-E.T&&37500>Q[2]&&E.F&&E.v==0&&!E.C&&(E.C=xt(_(E.Za,E),6e3));if(1>=gl(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Tr(E,11)}else if((g.K||E.g==g)&&xl(E),!V(w))for(Q=E.Da.g.parse(w),w=0;w<Q.length;w++){let ue=Q[w];if(E.T=ue[0],ue=ue[1],E.G==2)if(ue[0]=="c"){E.K=ue[1],E.ia=ue[2];const Cn=ue[3];Cn!=null&&(E.la=Cn,E.j.info("VER="+E.la));const _n=ue[4];_n!=null&&(E.Aa=_n,E.j.info("SVER="+E.Aa));const Sr=ue[5];Sr!=null&&typeof Sr=="number"&&0<Sr&&(O=1.5*Sr,E.L=O,E.j.info("backChannelRequestTimeoutMs_="+O)),O=E;const Nn=g.g;if(Nn){const js=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var it=O.h;it.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(ml(it,it.h),it.h=null))}if(O.D){const uu=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;uu&&(O.ya=uu,Re(O.I,O.D,uu))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-g.F,E.j.info("Handshake RTT: "+E.R+"ms")),O=E;var yt=g;if(O.qa=jf(O,O.J?O.ia:null,O.W),yt.K){ai(O.h,yt);var ce=yt,vn=O.L;vn&&(ce.I=vn),ce.B&&(Hi(ce),Ai(ce)),O.g=yt}else Nf(O);0<E.i.length&&El(E)}else ue[0]!="stop"&&ue[0]!="close"||Tr(E,7);else E.G==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?Tr(E,7):au(E):ue[0]!="noop"&&E.l&&E.l.ta(ue),E.v=0)}}_e(4)}catch{}}var Rf=class{constructor(g,w){this.g=g,this.map=w}};function mr(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pl(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function gl(g){return g.h?1:g.g?g.g.size:0}function Zc(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function ml(g,w){g.g?g.g.add(w):g.h=w}function ai(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}mr.prototype.cancel=function(){if(this.i=Jc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Jc(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const E of g.g.values())w=w.concat(E.D);return w}return S(g.i)}function lm(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var w=[],E=g.length,O=0;O<E;O++)w.push(g[O]);return w}w=[],E=0;for(O in g)w[E++]=g[O];return w}function yl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var w=[];g=g.length;for(var E=0;E<g;E++)w.push(E);return w}w=[],E=0;for(const O in g)w[E++]=O;return w}}}function tu(g,w){if(g.forEach&&typeof g.forEach=="function")g.forEach(w,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,w,void 0);else for(var E=yl(g),O=lm(g),Q=O.length,it=0;it<Q;it++)w.call(void 0,O[it],E&&E[it],g)}var no=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cm(g,w){if(g){g=g.split("&");for(var E=0;E<g.length;E++){var O=g[E].indexOf("="),Q=null;if(0<=O){var it=g[E].substring(0,O);Q=g[E].substring(O+1)}else it=g[E];w(it,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function fn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof fn){this.h=g.h,io(this,g.j),this.o=g.o,this.g=g.g,na(this,g.s),this.l=g.l;var w=g.i,E=new vr;E.i=w.i,w.g&&(E.g=new Map(w.g),E.h=w.h),yr(this,E),this.m=g.m}else g&&(w=String(g).match(no))?(this.h=!1,io(this,w[1]||"",!0),this.o=qi(w[2]||""),this.g=qi(w[3]||"",!0),na(this,w[4]),this.l=qi(w[5]||"",!0),yr(this,w[6]||"",!0),this.m=qi(w[7]||"")):(this.h=!1,this.i=new vr(null,this.h))}fn.prototype.toString=function(){var g=[],w=this.j;w&&g.push(ro(w,eu,!0),":");var E=this.g;return(E||w=="file")&&(g.push("//"),(w=this.o)&&g.push(ro(w,eu,!0),"@"),g.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&g.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&g.push("/"),g.push(ro(E,E.charAt(0)=="/"?um:nu,!0))),(E=this.i.toString())&&g.push("?",E),(E=this.m)&&g.push("#",ro(E,vl)),g.join("")};function Ci(g){return new fn(g)}function io(g,w,E){g.j=E?qi(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function na(g,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);g.s=w}else g.s=null}function yr(g,w,E){w instanceof vr?(g.i=w,kf(g.i,g.h)):(E||(w=ro(w,hm)),g.i=new vr(w,g.h))}function Re(g,w,E){g.i.set(w,E)}function so(g){return Re(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function qi(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ro(g,w,E){return typeof g=="string"?(g=encodeURI(g).replace(w,Df),E&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Df(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var eu=/[#\/\?@]/g,nu=/[#\?:]/g,um=/[#\?]/g,hm=/[#\?@]/g,vl=/#/g;function vr(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function Wi(g){g.g||(g.g=new Map,g.h=0,g.i&&cm(g.i,function(w,E){g.add(decodeURIComponent(w.replace(/\+/g," ")),E)}))}e=vr.prototype,e.add=function(g,w){Wi(this),this.i=null,g=Is(this,g);var E=this.g.get(g);return E||this.g.set(g,E=[]),E.push(w),this.h+=1,this};function _r(g,w){Wi(g),w=Is(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function br(g,w){return Wi(g),w=Is(g,w),g.g.has(w)}e.forEach=function(g,w){Wi(this),this.g.forEach(function(E,O){E.forEach(function(Q){g.call(w,Q,O,this)},this)},this)},e.na=function(){Wi(this);const g=Array.from(this.g.values()),w=Array.from(this.g.keys()),E=[];for(let O=0;O<w.length;O++){const Q=g[O];for(let it=0;it<Q.length;it++)E.push(w[O])}return E},e.V=function(g){Wi(this);let w=[];if(typeof g=="string")br(this,g)&&(w=w.concat(this.g.get(Is(this,g))));else{g=Array.from(this.g.values());for(let E=0;E<g.length;E++)w=w.concat(g[E])}return w},e.set=function(g,w){return Wi(this),this.i=null,g=Is(this,g),br(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},e.get=function(g,w){return g?(g=this.V(g),0<g.length?String(g[0]):w):w};function iu(g,w,E){_r(g,w),0<E.length&&(g.i=null,g.g.set(Is(g,w),S(E)),g.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(var E=0;E<w.length;E++){var O=w[E];const it=encodeURIComponent(String(O)),yt=this.V(O);for(O=0;O<yt.length;O++){var Q=it;yt[O]!==""&&(Q+="="+encodeURIComponent(String(yt[O]))),g.push(Q)}}return this.i=g.join("&")};function Is(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function kf(g,w){w&&!g.j&&(Wi(g),g.i=null,g.g.forEach(function(E,O){var Q=O.toLowerCase();O!=Q&&(_r(this,O),iu(this,Q,E))},g)),g.j=w}function ao(g,w){const E=new me;if(c.Image){const O=new Image;O.onload=b($i,E,"TestLoadImage: loaded",!0,w,O),O.onerror=b($i,E,"TestLoadImage: error",!1,w,O),O.onabort=b($i,E,"TestLoadImage: abort",!1,w,O),O.ontimeout=b($i,E,"TestLoadImage: timeout",!1,w,O),c.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=g}else w(!1)}function ds(g,w){const E=new me,O=new AbortController,Q=setTimeout(()=>{O.abort(),$i(E,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:O.signal}).then(it=>{clearTimeout(Q),it.ok?$i(E,"TestPingServer: ok",!0,w):$i(E,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Q),$i(E,"TestPingServer: error",!1,w)})}function $i(g,w,E,O,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),O(E)}catch{}}function oo(){this.g=new Dt}function Os(g,w,E){const O=E||"";try{tu(g,function(Q,it){let yt=Q;f(Q)&&(yt=Nt(Q)),w.push(O+it+"="+encodeURIComponent(yt))})}catch(Q){throw w.push(O+"type="+encodeURIComponent("_badmap")),Q}}function ia(g){this.l=g.Ub||null,this.j=g.eb||!1}T(ia,Gt),ia.prototype.g=function(){return new wr(this.l,this.j)},ia.prototype.i=function(g){return function(){return g}}({});function wr(g,w){le.call(this),this.D=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(wr,le),e=wr.prototype,e.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=w,this.readyState=1,Ls(this)},e.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(w.body=g),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},e.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ls(this)),this.g&&(this.readyState=3,Ls(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;su(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function su(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}e.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?Ns(this):Ls(this),this.readyState==3&&su(this)}},e.Ra=function(g){this.g&&(this.response=this.responseText=g,Ns(this))},e.Qa=function(g){this.g&&(this.response=g,Ns(this))},e.ga=function(){this.g&&Ns(this)};function Ns(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ls(g)}e.setRequestHeader=function(g,w){this.u.append(g,w)},e.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var E=w.next();!E.done;)E=E.value,g.push(E[0]+": "+E[1]),E=w.next();return g.join(`\r
`)};function Ls(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ru(g){let w="";return X(g,function(E,O){w+=O,w+=":",w+=E,w+=`\r
`}),w}function An(g,w,E){t:{for(O in E){var O=!1;break t}O=!0}O||(E=ru(E),typeof g=="string"?E!=null&&encodeURIComponent(String(E)):Re(g,w,E))}function Te(g){le.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Te,le);var _l=/^https?$/i,lo=["POST","PUT"];e=Te.prototype,e.Ha=function(g){this.J=g},e.ea=function(g,w,E,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fi.g(),this.v=this.o?Kt(this.o):Kt(Fi),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(it){Pf(this,it);return}if(g=E||"",E=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Q in O)E.set(Q,O[Q]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const it of O.keys())E.set(it,O.get(it));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(E.keys()).find(it=>it.toLowerCase()=="content-type"),Q=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(lo,w,void 0))||O||Q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,yt]of E)this.g.setRequestHeader(it,yt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{co(this),this.u=!0,this.g.send(g),this.u=!1}catch(it){Pf(this,it)}};function Pf(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.m=5,bl(g),Vs(g)}function bl(g){g.A||(g.A=!0,Jt(g,"complete"),Jt(g,"error"))}e.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Jt(this,"complete"),Jt(this,"abort"),Vs(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vs(this,!0)),Te.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?wl(this):this.bb())},e.bb=function(){wl(this)};function wl(g){if(g.h&&typeof l<"u"&&(!g.v[1]||Gi(g)!=4||g.Z()!=2)){if(g.u&&Gi(g)==4)Ve(g.Ea,0,g);else if(Jt(g,"readystatechange"),Gi(g)==4){g.h=!1;try{const yt=g.Z();t:switch(yt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var E;if(!(E=w)){var O;if(O=yt===0){var Q=String(g.D).match(no)[1]||null;!Q&&c.self&&c.self.location&&(Q=c.self.location.protocol.slice(0,-1)),O=!_l.test(Q?Q.toLowerCase():"")}E=O}if(E)Jt(g,"complete"),Jt(g,"success");else{g.m=6;try{var it=2<Gi(g)?g.g.statusText:""}catch{it=""}g.l=it+" ["+g.Z()+"]",bl(g)}}finally{Vs(g)}}}}function Vs(g,w){if(g.g){co(g);const E=g.g,O=g.v[0]?()=>{}:null;g.g=null,g.v=null,w||Jt(g,"ready");try{E.onreadystatechange=O}catch{}}}function co(g){g.I&&(c.clearTimeout(g.I),g.I=null)}e.isActive=function(){return!!this.g};function Gi(g){return g.g?g.g.readyState:0}e.Z=function(){try{return 2<Gi(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),wt(w)}};function Mf(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function fm(g){const w={};g=(g.g&&2<=Gi(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<g.length;O++){if(V(g[O]))continue;var E=F(g[O]);const Q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const it=w[Q]||[];w[Q]=it,it.push(E)}I(w,function(O){return O.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function uo(g,w,E){return E&&E.internalChannelParams&&E.internalChannelParams[g]||w}function Tl(g){this.Aa=0,this.i=[],this.j=new me,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=uo("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=uo("baseRetryDelayMs",5e3,g),this.cb=uo("retryDelaySeedMs",1e4,g),this.Wa=uo("forwardChannelMaxRetries",2,g),this.wa=uo("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new mr(g&&g.concurrentRequestLimit),this.Da=new oo,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Tl.prototype,e.la=8,e.G=1,e.connect=function(g,w,E,O){pt(0),this.W=g,this.H=w||{},E&&O!==void 0&&(this.H.OSID=E,this.H.OAID=O),this.F=this.X,this.I=jf(this,null,this.W),El(this)};function au(g){if(If(g),g.G==3){var w=g.U++,E=Ci(g.I);if(Re(E,"SID",g.K),Re(E,"RID",w),Re(E,"TYPE","terminate"),ho(g,E),w=new xn(g,g.j,w),w.L=2,w.v=so(Ci(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=w.v,E=!0),E||(w.g=Uf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Ai(w)}Bf(g)}function Sl(g){g.g&&(fo(g),g.g.cancel(),g.g=null)}function If(g){Sl(g),g.u&&(c.clearTimeout(g.u),g.u=null),xl(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function El(g){if(!pl(g.h)&&!g.s){g.s=!0;var w=g.Ga;Y||j(),G||(Y(),G=!0),ft.add(w,g),g.B=0}}function dm(g,w){return gl(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=w.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=xt(_(g.Ga,g,w),cu(g,g.B)),g.B++,!0)}e.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Q=new xn(this,this.j,g);let it=this.o;if(this.S&&(it?(it=D(it),U(it,this.S)):it=this.S),this.m!==null||this.O||(Q.H=it,it=null),this.P)t:{for(var w=0,E=0;E<this.i.length;E++){e:{var O=this.i[E];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break e}O=void 0}if(O===void 0)break;if(w+=O,4096<w){w=E;break t}if(w===4096||E===this.i.length-1){w=E+1;break t}}w=1e3}else w=1e3;w=Of(this,Q,w),E=Ci(this.I),Re(E,"RID",g),Re(E,"CVER",22),this.D&&Re(E,"X-HTTP-Session-Id",this.D),ho(this,E),it&&(this.O?w="headers="+encodeURIComponent(String(ru(it)))+"&"+w:this.m&&An(E,this.m,it)),ml(this.h,Q),this.Ua&&Re(E,"TYPE","init"),this.P?(Re(E,"$req",w),Re(E,"SID","null"),Q.T=!0,di(Q,E,null)):di(Q,E,w),this.G=2}}else this.G==3&&(g?ou(this,g):this.i.length==0||pl(this.h)||ou(this))};function ou(g,w){var E;w?E=w.l:E=g.U++;const O=Ci(g.I);Re(O,"SID",g.K),Re(O,"RID",E),Re(O,"AID",g.T),ho(g,O),g.m&&g.o&&An(O,g.m,g.o),E=new xn(g,g.j,E,g.B+1),g.m===null&&(E.H=g.o),w&&(g.i=w.D.concat(g.i)),w=Of(g,E,1e3),E.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),ml(g.h,E),di(E,O,w)}function ho(g,w){g.H&&X(g.H,function(E,O){Re(w,O,E)}),g.l&&tu({},function(E,O){Re(w,O,E)})}function Of(g,w,E){E=Math.min(g.i.length,E);var O=g.l?_(g.l.Na,g.l,g):null;t:{var Q=g.i;let it=-1;for(;;){const yt=["count="+E];it==-1?0<E?(it=Q[0].g,yt.push("ofs="+it)):it=0:yt.push("ofs="+it);let ce=!0;for(let vn=0;vn<E;vn++){let ue=Q[vn].g;const Cn=Q[vn].map;if(ue-=it,0>ue)it=Math.max(0,Q[vn].g-100),ce=!1;else try{Os(Cn,yt,"req"+ue+"_")}catch{O&&O(Cn)}}if(ce){O=yt.join("&");break t}}}return g=g.i.splice(0,E),w.D=g,O}function Nf(g){if(!g.g&&!g.u){g.Y=1;var w=g.Fa;Y||j(),G||(Y(),G=!0),ft.add(w,g),g.v=0}}function lu(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=xt(_(g.Fa,g),cu(g,g.v)),g.v++,!0)}e.Fa=function(){if(this.u=null,Lf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=xt(_(this.ab,this),g)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Sl(this),Lf(this))};function fo(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function Lf(g){g.g=new xn(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var w=Ci(g.qa);Re(w,"RID","rpc"),Re(w,"SID",g.K),Re(w,"AID",g.T),Re(w,"CI",g.F?"0":"1"),!g.F&&g.ja&&Re(w,"TO",g.ja),Re(w,"TYPE","xmlhttp"),ho(g,w),g.m&&g.o&&An(w,g.m,g.o),g.L&&(g.g.I=g.L);var E=g.g;g=g.ia,E.L=1,E.v=so(Ci(w)),E.m=null,E.P=!0,Yt(E,g)}e.Za=function(){this.C!=null&&(this.C=null,Sl(this),lu(this),pt(19))};function xl(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function Vf(g,w){var E=null;if(g.g==w){xl(g),fo(g),g.g=null;var O=2}else if(Zc(g.h,w))E=w.D,ai(g.h,w),O=1;else return;if(g.G!=0){if(w.o)if(O==1){E=w.m?w.m.length:0,w=Date.now()-w.F;var Q=g.B;O=Tt(),Jt(O,new bt(O,E)),El(g)}else Nf(g);else if(Q=w.s,Q==3||Q==0&&0<w.X||!(O==1&&dm(g,w)||O==2&&lu(g)))switch(E&&0<E.length&&(w=g.h,w.i=w.i.concat(E)),Q){case 1:Tr(g,5);break;case 4:Tr(g,10);break;case 3:Tr(g,6);break;default:Tr(g,2)}}}function cu(g,w){let E=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(E*=2),E*w}function Tr(g,w){if(g.j.info("Error code "+w),w==2){var E=_(g.fb,g),O=g.Xa;const Q=!O;O=new fn(O||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||io(O,"https"),so(O),Q?ao(O.toString(),E):ds(O.toString(),E)}else pt(2);g.G=0,g.l&&g.l.sa(w),Bf(g),If(g)}e.fb=function(g){g?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Bf(g){if(g.G=0,g.ka=[],g.l){const w=Jc(g.h);(w.length!=0||g.i.length!=0)&&(x(g.ka,w),x(g.ka,g.i),g.h.i.length=0,S(g.i),g.i.length=0),g.l.ra()}}function jf(g,w,E){var O=E instanceof fn?Ci(E):new fn(E);if(O.g!="")w&&(O.g=w+"."+O.g),na(O,O.s);else{var Q=c.location;O=Q.protocol,w=w?w+"."+Q.hostname:Q.hostname,Q=+Q.port;var it=new fn(null);O&&io(it,O),w&&(it.g=w),Q&&na(it,Q),E&&(it.l=E),O=it}return E=g.D,w=g.ya,E&&w&&Re(O,E,w),Re(O,"VER",g.la),ho(g,O),O}function Uf(g,w,E){if(w&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Ca&&!g.pa?new Te(new ia({eb:E})):new Te(g.pa),w.Ha(g.J),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ff(){}e=Ff.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Al(){}Al.prototype.g=function(g,w){return new oi(g,w)};function oi(g,w){le.call(this),this.g=new Tl(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(g?g["X-WebChannel-Client-Profile"]=w.va:g={"X-WebChannel-Client-Profile":w.va}),this.g.S=g,(g=w&&w.Sb)&&!V(g)&&(this.g.m=g),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.g.D=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new Bs(this)}T(oi,le),oi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},oi.prototype.close=function(){au(this.g)},oi.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var E={};E.__data__=g,g=E}else this.u&&(E={},E.__data__=Nt(g),g=E);w.i.push(new Rf(w.Ya++,g)),w.G==3&&El(w)},oi.prototype.N=function(){this.g.l=null,delete this.j,au(this.g),delete this.g,oi.aa.N.call(this)};function zf(g){we.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){t:{for(const E in w){g=E;break t}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}T(zf,we);function Hf(){qn.call(this),this.status=1}T(Hf,qn);function Bs(g){this.g=g}T(Bs,Ff),Bs.prototype.ua=function(){Jt(this.g,"a")},Bs.prototype.ta=function(g){Jt(this.g,new zf(g))},Bs.prototype.sa=function(g){Jt(this.g,new Hf)},Bs.prototype.ra=function(){Jt(this.g,"b")},Al.prototype.createWebChannel=Al.prototype.g,oi.prototype.send=oi.prototype.o,oi.prototype.open=oi.prototype.m,oi.prototype.close=oi.prototype.close,zD=function(){return new Al},FD=function(){return Tt()},UD=ge,d_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},de.NO_ERROR=0,de.TIMEOUT=8,de.HTTP_ERROR=6,Sp=de,Wn.COMPLETE="complete",jD=Wn,ae.EventType=Wt,Wt.OPEN="a",Wt.CLOSE="b",Wt.ERROR="c",Wt.MESSAGE="d",le.prototype.listen=le.prototype.K,ah=ae,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,BD=Te}).apply(typeof $d<"u"?$d:typeof self<"u"?self:typeof window<"u"?window:{});const Ax="@firebase/firestore",Cx="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new Rg("@firebase/firestore");function ic(){return Zo.logLevel}function St(e,...t){if(Zo.logLevel<=ne.DEBUG){const n=t.map(O0);Zo.debug(`Firestore (${zc}): ${e}`,...n)}}function Yr(e,...t){if(Zo.logLevel<=ne.ERROR){const n=t.map(O0);Zo.error(`Firestore (${zc}): ${e}`,...n)}}function Tc(e,...t){if(Zo.logLevel<=ne.WARN){const n=t.map(O0);Zo.warn(`Firestore (${zc}): ${e}`,...n)}}function O0(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(e="Unexpected state"){const t=`FIRESTORE (${zc}) INTERNAL ASSERTION FAILED: `+e;throw Yr(t),new Error(t)}function Ee(e,t){e||Ut()}function qt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pt extends ks{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Qn.UNAUTHENTICATED))}shutdown(){}}class hU{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fU{constructor(t){this.t=t,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ee(this.o===void 0);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let a=new Ua;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ua,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ua)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ee(typeof i.accessToken=="string"),new HD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ee(t===null||typeof t=="string"),new Qn(t)}}class dU{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class pU{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new dU(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gU{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_s(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Ee(this.o===void 0);const i=a=>{a.error!=null&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,St("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const s=a=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Rx(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ee(typeof n.token=="string"),this.R=n.token,new Rx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=mU(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<n&&(i+=t.charAt(s[a]%62))}return i}}function Qt(e,t){return e<t?-1:e>t?1:0}function p_(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),s=t.codePointAt(n);if(i!==s){if(i<128&&s<128)return Qt(i,s);{const a=qD(),l=yU(a.encode(Dx(e,n)),a.encode(Dx(t,n)));return l!==0?l:Qt(i,s)}}n+=i>65535?2:1}return Qt(e.length,t.length)}function Dx(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function yU(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Qt(e[n],t[n]);return Qt(e.length,t.length)}function Sc(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=-62135596800,Px=1e6;class Sn{static now(){return Sn.fromMillis(Date.now())}static fromDate(t){return Sn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Px);return new Sn(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Pt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<kx)throw new Pt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Pt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Px}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-kx;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{static fromTimestamp(t){return new zt(t)}static min(){return new zt(new Sn(0,0))}static max(){return new zt(new Sn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="__name__";class Ys{constructor(t,n,i){n===void 0?n=0:n>t.length&&Ut(),i===void 0?i=t.length-n:i>t.length-n&&Ut(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Ys.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ys?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const a=Ys.compareSegments(t.get(s),n.get(s));if(a!==0)return a}return Qt(t.length,n.length)}static compareSegments(t,n){const i=Ys.isNumericId(t),s=Ys.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Ys.extractNumericId(t).compare(Ys.extractNumericId(n)):p_(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ja.fromString(t.substring(4,t.length-2))}}class nn extends Ys{construct(t,n,i){return new nn(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Pt(gt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new nn(n)}static emptyPath(){return new nn([])}}const vU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Ys{construct(t,n,i){return new Fn(t,n,i)}static isValidIdentifier(t){return vU.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mx}static keyField(){return new Fn([Mx])}static fromServerFormat(t){const n=[];let i="",s=0;const a=()=>{if(i.length===0)throw new Pt(gt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new Pt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Pt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new Pt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fn(n)}static emptyPath(){return new Fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.path=t}static fromPath(t){return new It(nn.fromString(t))}static fromName(t){return new It(nn.fromString(t).popFirst(5))}static empty(){return new It(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&nn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return nn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new It(new nn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=-1;function _U(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=zt.fromTimestamp(i===1e9?new Sn(n+1,0):new Sn(n,i));return new za(s,It.empty(),t)}function bU(e){return new za(e.readTime,e.key,Mh)}class za{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new za(zt.min(),It.empty(),Mh)}static max(){return new za(zt.max(),It.empty(),Mh)}}function wU(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=It.comparator(e.documentKey,t.documentKey),n!==0?n:Qt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(e){if(e.code!==gt.FAILED_PRECONDITION||e.message!==TU)throw e;St("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ht((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ht?n:ht.resolve(n)}catch(n){return ht.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ht.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ht.reject(n)}static resolve(t){return new ht((n,i)=>{n(t)})}static reject(t){return new ht((n,i)=>{i(t)})}static waitFor(t){return new ht((n,i)=>{let s=0,a=0,l=!1;t.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&n()},h=>i(h))}),l=!0,a===s&&n()})}static or(t){let n=ht.resolve(!1);for(const i of t)n=n.next(s=>s?ht.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,a)=>{i.push(n.call(this,s,a))}),this.waitFor(i)}static mapArray(t,n){return new ht((i,s)=>{const a=t.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const f=h;n(t[f]).next(p=>{l[f]=p,++c,c===a&&i(l)},p=>s(p))}})}static doWhile(t,n){return new ht((i,s)=>{const a=()=>{t()===!0?n().next(()=>{a()},s):i()};a()})}}function EU(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Pg.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=-1;function Mg(e){return e==null}function $p(e){return e===0&&1/e==-1/0}function xU(e){return typeof e=="number"&&Number.isInteger(e)&&!$p(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="";function AU(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ix(t)),t=CU(e.get(n),t);return Ix(t)}function CU(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const a=e.charAt(s);switch(a){case"\0":n+="";break;case $D:n+="";break;default:n+=a}}return n}function Ix(e){return e+$D+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function GD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,n){this.comparator=t,this.root=n||Un.EMPTY}insert(t,n){return new Qe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(t){return new Qe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Un.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gd(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gd(this.root,t,this.comparator,!0)}}class Gd{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?i(t.key,n):1,n&&s&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Un{constructor(t,n,i,s,a){this.key=t,this.value=n,this.color=i??Un.RED,this.left=s??Un.EMPTY,this.right=a??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,a){return new Un(t??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const a=i(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,n,i),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Un.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ut();const t=this.left.check();if(t!==this.right.check())throw Ut();return t+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut()}get value(){throw Ut()}get color(){throw Ut()}get left(){throw Ut()}get right(){throw Ut()}copy(t,n,i,s,a){return this}insert(t,n,i){return new Un(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.comparator=t,this.data=new Qe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nx(this.data.getIterator())}getIteratorFrom(t){return new Nx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof En)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new En(this.comparator);return n.data=t,n}}class Nx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t){this.fields=t,t.sort(Fn.comparator)}static empty(){return new Ni([])}unionWith(t){let n=new En(Fn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Ni(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Sc(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new KD("Invalid base64 string: "+a):a}}(t);return new zn(n)}static fromUint8Array(t){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(t);return new zn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}zn.EMPTY_BYTE_STRING=new zn("");const RU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(e){if(Ee(!!e),typeof e=="string"){let t=0;const n=RU.exec(e);if(Ee(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ln(e.seconds),nanos:ln(e.nanos)}}function ln(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function qa(e){return typeof e=="string"?zn.fromBase64String(e):zn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="server_timestamp",XD="__type__",QD="__previous_value__",ZD="__local_write_time__";function L0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[XD])===null||n===void 0?void 0:n.stringValue)===YD}function Ig(e){const t=e.mapValue.fields[QD];return L0(t)?Ig(t):t}function Ih(e){const t=Ha(e.mapValue.fields[ZD].timestampValue);return new Sn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(t,n,i,s,a,l,c,h,f){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}const Gp="(default)";class Oh{constructor(t,n){this.projectId=t,this.database=n||Gp}static empty(){return new Oh("","")}get isDefaultDatabase(){return this.database===Gp}isEqual(t){return t instanceof Oh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="__type__",kU="__max__",Kd={mapValue:{}},tk="__vector__",Kp="value";function Wa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?L0(e)?4:MU(e)?9007199254740991:PU(e)?10:11:Ut()}function ur(e,t){if(e===t)return!0;const n=Wa(e);if(n!==Wa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ih(e).isEqual(Ih(t));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ha(s.timestampValue),c=Ha(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,a){return qa(s.bytesValue).isEqual(qa(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,a){return ln(s.geoPointValue.latitude)===ln(a.geoPointValue.latitude)&&ln(s.geoPointValue.longitude)===ln(a.geoPointValue.longitude)}(e,t);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ln(s.integerValue)===ln(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=ln(s.doubleValue),c=ln(a.doubleValue);return l===c?$p(l)===$p(c):isNaN(l)&&isNaN(c)}return!1}(e,t);case 9:return Sc(e.arrayValue.values||[],t.arrayValue.values||[],ur);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(Ox(l)!==Ox(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!ur(l[h],c[h])))return!1;return!0}(e,t);default:return Ut()}}function Nh(e,t){return(e.values||[]).find(n=>ur(n,t))!==void 0}function Ec(e,t){if(e===t)return 0;const n=Wa(e),i=Wa(t);if(n!==i)return Qt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(e.booleanValue,t.booleanValue);case 2:return function(a,l){const c=ln(a.integerValue||a.doubleValue),h=ln(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(e,t);case 3:return Lx(e.timestampValue,t.timestampValue);case 4:return Lx(Ih(e),Ih(t));case 5:return p_(e.stringValue,t.stringValue);case 6:return function(a,l){const c=qa(a),h=qa(l);return c.compareTo(h)}(e.bytesValue,t.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const p=Qt(c[f],h[f]);if(p!==0)return p}return Qt(c.length,h.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,l){const c=Qt(ln(a.latitude),ln(l.latitude));return c!==0?c:Qt(ln(a.longitude),ln(l.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Vx(e.arrayValue,t.arrayValue);case 10:return function(a,l){var c,h,f,p;const y=a.fields||{},_=l.fields||{},b=(c=y[Kp])===null||c===void 0?void 0:c.arrayValue,T=(h=_[Kp])===null||h===void 0?void 0:h.arrayValue,S=Qt(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0);return S!==0?S:Vx(b,T)}(e.mapValue,t.mapValue);case 11:return function(a,l){if(a===Kd.mapValue&&l===Kd.mapValue)return 0;if(a===Kd.mapValue)return 1;if(l===Kd.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const _=p_(h[y],p[y]);if(_!==0)return _;const b=Ec(c[h[y]],f[p[y]]);if(b!==0)return b}return Qt(h.length,p.length)}(e.mapValue,t.mapValue);default:throw Ut()}}function Lx(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Qt(e,t);const n=Ha(e),i=Ha(t),s=Qt(n.seconds,i.seconds);return s!==0?s:Qt(n.nanos,i.nanos)}function Vx(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const a=Ec(n[s],i[s]);if(a)return a}return Qt(n.length,i.length)}function xc(e){return g_(e)}function g_(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ha(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return qa(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return It.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const a of n.values||[])s?s=!1:i+=",",i+=g_(a);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of i)a?a=!1:s+=",",s+=`${l}:${g_(n.fields[l])}`;return s+"}"}(e.mapValue):Ut()}function Ep(e){switch(Wa(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ig(e);return t?16+Ep(t):16;case 5:return 2*e.stringValue.length;case 6:return qa(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+Ep(a),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return Qa(i.fields,(a,l)=>{s+=a.length+Ep(l)}),s}(e.mapValue);default:throw Ut()}}function m_(e){return!!e&&"integerValue"in e}function V0(e){return!!e&&"arrayValue"in e}function Bx(e){return!!e&&"nullValue"in e}function jx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xp(e){return!!e&&"mapValue"in e}function PU(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[JD])===null||n===void 0?void 0:n.stringValue)===tk}function mh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Qa(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=mh(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=mh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function MU(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===kU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t){this.value=t}static empty(){return new bi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!xp(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=mh(n)}setAll(t){let n=Fn.emptyPath(),i={},s=[];t.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=mh(l):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,s)}delete(t){const n=this.field(t.popLast());xp(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ur(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];xp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){Qa(n,(s,a)=>t[s]=a);for(const s of i)delete t[s]}clone(){return new bi(mh(this.value))}}function ek(e){const t=[];return Qa(e.fields,(n,i)=>{const s=new Fn([n]);if(xp(i)){const a=ek(i.mapValue).fields;if(a.length===0)t.push(s);else for(const l of a)t.push(s.child(l))}else t.push(s)}),new Ni(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t,n,i,s,a,l,c){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(t){return new Zn(t,0,zt.min(),zt.min(),zt.min(),bi.empty(),0)}static newFoundDocument(t,n,i,s){return new Zn(t,1,n,zt.min(),i,s,0)}static newNoDocument(t,n){return new Zn(t,2,n,zt.min(),zt.min(),bi.empty(),0)}static newUnknownDocument(t,n){return new Zn(t,3,n,zt.min(),zt.min(),bi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=bi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Zn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(t,n){this.position=t,this.inclusive=n}}function Ux(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const a=t[s],l=e.position[s];if(a.field.isKeyField()?i=It.comparator(It.fromName(l.referenceValue),n.key):i=Ec(l,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Fx(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ur(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t,n="asc"){this.field=t,this.dir=n}}function IU(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{}class Tn extends nk{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new NU(t,n,i):n==="array-contains"?new BU(t,i):n==="in"?new jU(t,i):n==="not-in"?new UU(t,i):n==="array-contains-any"?new FU(t,i):new Tn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new LU(t,i):new VU(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ec(n,this.value)):n!==null&&Wa(this.value)===Wa(n)&&this.matchesComparison(Ec(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends nk{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new hr(t,n)}matches(t){return ik(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ik(e){return e.op==="and"}function sk(e){return OU(e)&&ik(e)}function OU(e){for(const t of e.filters)if(t instanceof hr)return!1;return!0}function y_(e){if(e instanceof Tn)return e.field.canonicalString()+e.op.toString()+xc(e.value);if(sk(e))return e.filters.map(t=>y_(t)).join(",");{const t=e.filters.map(n=>y_(n)).join(",");return`${e.op}(${t})`}}function rk(e,t){return e instanceof Tn?function(i,s){return s instanceof Tn&&i.op===s.op&&i.field.isEqual(s.field)&&ur(i.value,s.value)}(e,t):e instanceof hr?function(i,s){return s instanceof hr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,l,c)=>a&&rk(l,s.filters[c]),!0):!1}(e,t):void Ut()}function ak(e){return e instanceof Tn?function(n){return`${n.field.canonicalString()} ${n.op} ${xc(n.value)}`}(e):e instanceof hr?function(n){return n.op.toString()+" {"+n.getFilters().map(ak).join(" ,")+"}"}(e):"Filter"}class NU extends Tn{constructor(t,n,i){super(t,n,i),this.key=It.fromName(i.referenceValue)}matches(t){const n=It.comparator(t.key,this.key);return this.matchesComparison(n)}}class LU extends Tn{constructor(t,n){super(t,"in",n),this.keys=ok("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class VU extends Tn{constructor(t,n){super(t,"not-in",n),this.keys=ok("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function ok(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>It.fromName(i.referenceValue))}class BU extends Tn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return V0(n)&&Nh(n.arrayValue,this.value)}}class jU extends Tn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Nh(this.value.arrayValue,n)}}class UU extends Tn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Nh(this.value.arrayValue,n)}}class FU extends Tn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!V0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Nh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(t,n=null,i=[],s=[],a=null,l=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function zx(e,t=null,n=[],i=[],s=null,a=null,l=null){return new zU(e,t,n,i,s,a,l)}function B0(e){const t=qt(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>y_(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Mg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>xc(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>xc(i)).join(",")),t.le=n}return t.le}function j0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!IU(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!rk(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fx(e.startAt,t.startAt)&&Fx(e.endAt,t.endAt)}function v_(e){return It.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(t,n=null,i=[],s=[],a=null,l="F",c=null,h=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function HU(e,t,n,i,s,a,l,c){return new Og(e,t,n,i,s,a,l,c)}function U0(e){return new Og(e)}function Hx(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function qU(e){return e.collectionGroup!==null}function yh(e){const t=qt(e);if(t.he===null){t.he=[];const n=new Set;for(const a of t.explicitOrderBy)t.he.push(a),n.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new En(Fn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.he.push(new Xp(a,i))}),n.has(Fn.keyField().canonicalString())||t.he.push(new Xp(Fn.keyField(),i))}return t.he}function Js(e){const t=qt(e);return t.Pe||(t.Pe=WU(t,yh(e))),t.Pe}function WU(e,t){if(e.limitType==="F")return zx(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Xp(s.field,a)});const n=e.endAt?new Yp(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Yp(e.startAt.position,e.startAt.inclusive):null;return zx(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function __(e,t,n){return new Og(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ng(e,t){return j0(Js(e),Js(t))&&e.limitType===t.limitType}function lk(e){return`${B0(Js(e))}|lt:${e.limitType}`}function sc(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>ak(s)).join(", ")}]`),Mg(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>xc(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>xc(s)).join(",")),`Target(${i})`}(Js(e))}; limitType=${e.limitType})`}function Lg(e,t){return t.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):It.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(e,t)&&function(i,s){for(const a of yh(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(l,c,h){const f=Ux(l,c,h);return l.inclusive?f<=0:f<0}(i.startAt,yh(i),s)||i.endAt&&!function(l,c,h){const f=Ux(l,c,h);return l.inclusive?f>=0:f>0}(i.endAt,yh(i),s))}(e,t)}function $U(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ck(e){return(t,n)=>{let i=!1;for(const s of yh(e)){const a=GU(s,t,n);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function GU(e,t,n){const i=e.field.isKeyField()?It.comparator(t.key,n.key):function(a,l,c){const h=l.data.field(a),f=c.data.field(a);return h!==null&&f!==null?Ec(h,f):Ut()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Ut()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return void(s[a]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Qa(this.inner,(n,i)=>{for(const[s,a]of i)t(s,a)})}isEmpty(){return GD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=new Qe(It.comparator);function Xr(){return KU}const uk=new Qe(It.comparator);function oh(...e){let t=uk;for(const n of e)t=t.insert(n.key,n);return t}function hk(e){let t=uk;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Uo(){return vh()}function fk(){return vh()}function vh(){return new cl(e=>e.toString(),(e,t)=>e.isEqual(t))}const YU=new Qe(It.comparator),XU=new En(It.comparator);function se(...e){let t=XU;for(const n of e)t=t.add(n);return t}const QU=new En(Qt);function ZU(){return QU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$p(t)?"-0":t}}function dk(e){return{integerValue:""+e}}function JU(e,t){return xU(t)?dk(t):F0(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(){this._=void 0}}function t4(e,t,n){return e instanceof Lh?function(s,a){const l={fields:{[XD]:{stringValue:YD},[ZD]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&L0(a)&&(a=Ig(a)),a&&(l.fields[QD]=a),{mapValue:l}}(n,t):e instanceof Ac?gk(e,t):e instanceof Vh?mk(e,t):function(s,a){const l=pk(s,a),c=qx(l)+qx(s.Ie);return m_(l)&&m_(s.Ie)?dk(c):F0(s.serializer,c)}(e,t)}function e4(e,t,n){return e instanceof Ac?gk(e,t):e instanceof Vh?mk(e,t):n}function pk(e,t){return e instanceof Qp?function(i){return m_(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class Lh extends Vg{}class Ac extends Vg{constructor(t){super(),this.elements=t}}function gk(e,t){const n=yk(t);for(const i of e.elements)n.some(s=>ur(s,i))||n.push(i);return{arrayValue:{values:n}}}class Vh extends Vg{constructor(t){super(),this.elements=t}}function mk(e,t){let n=yk(t);for(const i of e.elements)n=n.filter(s=>!ur(s,i));return{arrayValue:{values:n}}}class Qp extends Vg{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function qx(e){return ln(e.integerValue||e.doubleValue)}function yk(e){return V0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(t,n){this.field=t,this.transform=n}}function n4(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Ac&&s instanceof Ac||i instanceof Vh&&s instanceof Vh?Sc(i.elements,s.elements,ur):i instanceof Qp&&s instanceof Qp?ur(i.Ie,s.Ie):i instanceof Lh&&s instanceof Lh}(e.transform,t.transform)}class i4{constructor(t,n){this.version=t,this.transformResults=n}}class tr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new tr}static exists(t){return new tr(void 0,t)}static updateTime(t){return new tr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ap(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Bg{}function _k(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new wk(e.key,tr.none()):new df(e.key,e.data,tr.none());{const n=e.data,i=bi.empty();let s=new En(Fn.comparator);for(let a of t.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?i.delete(a):i.set(a,l),s=s.add(a)}return new Za(e.key,i,new Ni(s.toArray()),tr.none())}}function s4(e,t,n){e instanceof df?function(s,a,l){const c=s.value.clone(),h=$x(s.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(e,t,n):e instanceof Za?function(s,a,l){if(!Ap(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=$x(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(bk(s)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(e,t,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,n)}function _h(e,t,n,i){return e instanceof df?function(a,l,c,h){if(!Ap(a.precondition,l))return c;const f=a.value.clone(),p=Gx(a.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(e,t,n,i):e instanceof Za?function(a,l,c,h){if(!Ap(a.precondition,l))return c;const f=Gx(a.fieldTransforms,h,l),p=l.data;return p.setAll(bk(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(e,t,n,i):function(a,l,c){return Ap(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(e,t,n)}function r4(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),a=pk(i.transform,s||null);a!=null&&(n===null&&(n=bi.empty()),n.set(i.field,a))}return n||null}function Wx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Sc(i,s,(a,l)=>n4(a,l))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class df extends Bg{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Za extends Bg{constructor(t,n,i,s,a=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function bk(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function $x(e,t,n){const i=new Map;Ee(e.length===n.length);for(let s=0;s<n.length;s++){const a=e[s],l=a.transform,c=t.data.field(a.field);i.set(a.field,e4(l,c,n[s]))}return i}function Gx(e,t,n){const i=new Map;for(const s of e){const a=s.transform,l=n.data.field(s.field);i.set(s.field,t4(a,l,t))}return i}class wk extends Bg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a4 extends Bg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(t.key)&&s4(a,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=_h(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=_h(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=fk();return this.mutations.forEach(s=>{const a=t.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const h=_k(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(zt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),se())}isEqual(t){return this.batchId===t.batchId&&Sc(this.mutations,t.mutations,(n,i)=>Wx(n,i))&&Sc(this.baseMutations,t.baseMutations,(n,i)=>Wx(n,i))}}class z0{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){Ee(t.mutations.length===i.length);let s=function(){return YU}();const a=t.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,i[l].version);return new z0(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn,fe;function u4(e){switch(e){case gt.OK:return Ut();case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0;default:return Ut()}}function Tk(e){if(e===void 0)return Yr("GRPC error has no .code"),gt.UNKNOWN;switch(e){case gn.OK:return gt.OK;case gn.CANCELLED:return gt.CANCELLED;case gn.UNKNOWN:return gt.UNKNOWN;case gn.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case gn.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case gn.INTERNAL:return gt.INTERNAL;case gn.UNAVAILABLE:return gt.UNAVAILABLE;case gn.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case gn.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case gn.NOT_FOUND:return gt.NOT_FOUND;case gn.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case gn.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case gn.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case gn.ABORTED:return gt.ABORTED;case gn.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case gn.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case gn.DATA_LOSS:return gt.DATA_LOSS;default:return Ut()}}(fe=gn||(gn={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=new ja([4294967295,4294967295],0);function Kx(e){const t=qD().encode(e),n=new VD;return n.update(t),new Uint8Array(n.digest())}function Yx(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ja([n,i],0),new ja([s,a],0)]}class H0{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new lh(`Invalid padding: ${n}`);if(i<0)throw new lh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new lh(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new lh(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=ja.fromNumber(this.Ee)}Ae(t,n,i){let s=t.add(n.multiply(ja.fromNumber(i)));return s.compare(h4)===1&&(s=new ja([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=Kx(t),[i,s]=Yx(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(i,s,a);if(!this.Re(l))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new H0(a,s,n);return i.forEach(c=>l.insert(c)),l}insert(t){if(this.Ee===0)return;const n=Kx(t),[i,s]=Yx(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(i,s,a);this.Ve(l)}}Ve(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(t,n,i,s,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,pf.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new jg(zt.min(),s,new Qe(Qt),Xr(),se())}}class pf{constructor(t,n,i,s,a){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new pf(i,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(t,n,i,s){this.me=t,this.removedTargetIds=n,this.key=i,this.fe=s}}class Sk{constructor(t,n){this.targetId=t,this.ge=n}}class Ek{constructor(t,n,i=zn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class Xx{constructor(){this.pe=0,this.ye=Qx(),this.we=zn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=se(),n=se(),i=se();return this.ye.forEach((s,a)=>{switch(a){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ut()}}),new pf(this.we,this.Se,t,n,i)}Me(){this.be=!1,this.ye=Qx()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Ee(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class f4{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Xr(),this.$e=Yd(),this.Ue=Yd(),this.Ke=new Qe(Qt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const i=this.He(n);switch(t.state){case 0:this.Je(n)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(t.resumeToken));break;default:Ut()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((i,s)=>{this.Je(s)&&n(s)})}Ze(t){const n=t.targetId,i=t.ge.count,s=this.Xe(n);if(s){const a=s.target;if(v_(a))if(i===0){const l=new It(a.path);this.ze(n,l,Zn.newNoDocument(l,zt.min()))}else Ee(i===1);else{const l=this.et(n);if(l!==i){const c=this.tt(t),h=c?this.nt(c,t,l):1;if(h!==0){this.Ye(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=qa(i).toUint8Array()}catch(h){if(h instanceof KD)return Tc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new H0(l,s,a)}catch(h){return Tc(h instanceof lh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(t,n,i){return n.ge.count===i-this.st(t,n.targetId)?0:2}st(t,n){const i=this.ke.getRemoteKeysForTarget(n);let s=0;return i.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(c)||(this.ze(n,a,null),s++)}),s}ot(t){const n=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&v_(c.target)){const h=new It(c.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,Zn.newNoDocument(h,t))}a.ve&&(n.set(l,a.Fe()),a.Me())}});let i=se();this.Ue.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const f=this.Xe(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(t));const s=new jg(t,n,this.Ke,this.Qe,i);return this.Qe=Xr(),this.$e=Yd(),this.Ue=Yd(),this.Ke=new Qe(Qt),s}Ge(t,n){if(!this.Je(t))return;const i=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,i){if(!this.Je(t))return;const s=this.He(t);this.ut(t,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new Xx,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new En(Qt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new En(Qt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||St("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Xx),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Yd(){return new Qe(It.comparator)}function Qx(){return new Qe(It.comparator)}const d4={asc:"ASCENDING",desc:"DESCENDING"},p4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g4={and:"AND",or:"OR"};class m4{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function b_(e,t){return e.useProto3Json||Mg(t)?t:{value:t}}function Zp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xk(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function y4(e,t){return Zp(e,t.toTimestamp())}function er(e){return Ee(!!e),zt.fromTimestamp(function(n){const i=Ha(n);return new Sn(i.seconds,i.nanos)}(e))}function q0(e,t){return w_(e,t).canonicalString()}function w_(e,t){const n=function(s){return new nn(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Ak(e){const t=nn.fromString(e);return Ee(Pk(t)),t}function T_(e,t){return q0(e.databaseId,t.path)}function _v(e,t){const n=Ak(t);if(n.get(1)!==e.databaseId.projectId)throw new Pt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Pt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new It(Rk(n))}function Ck(e,t){return q0(e.databaseId,t)}function v4(e){const t=Ak(e);return t.length===4?nn.emptyPath():Rk(t)}function S_(e){return new nn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rk(e){return Ee(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Zx(e,t,n){return{name:T_(e,t),fields:n.value.mapValue.fields}}function _4(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ut()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(Ee(p===void 0||typeof p=="string"),zn.fromBase64String(p||"")):(Ee(p===void 0||p instanceof Buffer||p instanceof Uint8Array),zn.fromUint8Array(p||new Uint8Array))}(e,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(f){const p=f.code===void 0?gt.UNKNOWN:Tk(f.code);return new Pt(p,f.message||"")}(l);n=new Ek(i,s,a,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=_v(e,i.document.name),a=er(i.document.updateTime),l=i.document.createTime?er(i.document.createTime):zt.min(),c=new bi({mapValue:{fields:i.document.fields}}),h=Zn.newFoundDocument(s,a,l,c),f=i.targetIds||[],p=i.removedTargetIds||[];n=new Cp(f,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=_v(e,i.document),a=i.readTime?er(i.readTime):zt.min(),l=Zn.newNoDocument(s,a),c=i.removedTargetIds||[];n=new Cp([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=_v(e,i.document),a=i.removedTargetIds||[];n=new Cp([],a,s,null)}else{if(!("filter"in t))return Ut();{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,l=new c4(s,a),c=i.targetId;n=new Sk(c,l)}}return n}function b4(e,t){let n;if(t instanceof df)n={update:Zx(e,t.key,t.value)};else if(t instanceof wk)n={delete:T_(e,t.key)};else if(t instanceof Za)n={update:Zx(e,t.key,t.data),updateMask:D4(t.fieldMask)};else{if(!(t instanceof a4))return Ut();n={verify:T_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(a,l){const c=l.transform;if(c instanceof Lh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ac)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Vh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Qp)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Ut()}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:y4(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ut()}(e,t.precondition)),n}function w4(e,t){return e&&e.length>0?(Ee(t!==void 0),e.map(n=>function(s,a){let l=s.updateTime?er(s.updateTime):er(a);return l.isEqual(zt.min())&&(l=er(a)),new i4(l,s.transformResults||[])}(n,t))):[]}function T4(e,t){return{documents:[Ck(e,t.path)]}}function S4(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Ck(e,s);const a=function(f){if(f.length!==0)return kk(hr.create(f,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(p=>function(_){return{field:rc(_.field),direction:A4(_.dir)}}(p))}(t.orderBy);l&&(n.structuredQuery.orderBy=l);const c=b_(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{ht:n,parent:s}}function E4(e){let t=v4(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Ee(i===1);const p=n.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let a=[];n.where&&(a=function(y){const _=Dk(y);return _ instanceof hr&&sk(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(_=>function(T){return new Xp(ac(T.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,Mg(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(y){const _=!!y.before,b=y.values||[];return new Yp(b,_)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const _=!y.before,b=y.values||[];return new Yp(b,_)}(n.endAt)),HU(t,s,l,a,c,"F",h,f)}function x4(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Dk(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ac(n.unaryFilter.field);return Tn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=ac(n.unaryFilter.field);return Tn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ac(n.unaryFilter.field);return Tn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ac(n.unaryFilter.field);return Tn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ut()}}(e):e.fieldFilter!==void 0?function(n){return Tn.create(ac(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ut()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return hr.create(n.compositeFilter.filters.map(i=>Dk(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ut()}}(n.compositeFilter.op))}(e):Ut()}function A4(e){return d4[e]}function C4(e){return p4[e]}function R4(e){return g4[e]}function rc(e){return{fieldPath:e.canonicalString()}}function ac(e){return Fn.fromServerFormat(e.fieldPath)}function kk(e){return e instanceof Tn?function(n){if(n.op==="=="){if(jx(n.value))return{unaryFilter:{field:rc(n.field),op:"IS_NAN"}};if(Bx(n.value))return{unaryFilter:{field:rc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jx(n.value))return{unaryFilter:{field:rc(n.field),op:"IS_NOT_NAN"}};if(Bx(n.value))return{unaryFilter:{field:rc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rc(n.field),op:C4(n.op),value:n.value}}}(e):e instanceof hr?function(n){const i=n.getFilters().map(s=>kk(s));return i.length===1?i[0]:{compositeFilter:{op:R4(n.op),filters:i}}}(e):Ut()}function D4(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Pk(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,n,i,s,a=zt.min(),l=zt.min(),c=zn.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new Ia(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(t){this.Tt=t}}function P4(e){const t=E4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?__(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(){this.Tn=new I4}addToCollectionParentIndex(t,n){return this.Tn.add(n),ht.resolve()}getCollectionParents(t,n){return ht.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return ht.resolve()}deleteFieldIndex(t,n){return ht.resolve()}deleteAllFieldIndexes(t){return ht.resolve()}createTargetIndexes(t,n){return ht.resolve()}getDocumentsMatchingTarget(t,n){return ht.resolve(null)}getIndexType(t,n){return ht.resolve(0)}getFieldIndexes(t,n){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,n){return ht.resolve(za.min())}getMinOffsetFromCollectionGroup(t,n){return ht.resolve(za.min())}updateCollectionGroup(t,n,i){return ht.resolve()}updateIndexEntries(t,n){return ht.resolve()}}class I4{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new En(nn.comparator),a=!s.has(i);return this.index[n]=s.add(i),a}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new En(nn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mk=41943040;class _i{static withCacheSize(t){return new _i(t,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(Mk,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Cc(0)}static Kn(){return new Cc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="LruGarbageCollector",O4=1048576;function eA([e,t],[n,i]){const s=Qt(e,n);return s===0?Qt(t,i):s}class N4{constructor(t){this.Hn=t,this.buffer=new En(eA),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();eA(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class L4{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){St(tA,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qc(n)?St(tA,"Ignoring IndexedDB error during garbage collection: ",n):await Hc(n)}await this.er(3e5)})}}class V4{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return ht.resolve(Pg.ae);const i=new N4(n);return this.tr.forEachTarget(t,s=>i.Zn(s.sequenceNumber)).next(()=>this.tr.rr(t,s=>i.Zn(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.tr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(St("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(Jx)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jx):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let i,s,a,l,c,h,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(t,s))).next(y=>(i=y,c=Date.now(),this.removeTargets(t,i,n))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(f=Date.now(),ic()<=ne.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y})))}}function B4(e,t){return new V4(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.changes=new cl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Zn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ht.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&_h(i.mutation,s,Ni.empty(),Sn.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,se()).next(()=>i))}getLocalViewOfDocuments(t,n,i=se()){const s=Uo();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(a=>{let l=oh();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const i=Uo();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,se()))}populateOverlays(t,n,i){const s=[];return i.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(t,s).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(t,n,i,s){let a=Xr();const l=vh(),c=function(){return vh()}();return n.forEach((h,f)=>{const p=i.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof Za)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),_h(p.mutation,f,p.mutation.getFieldMask(),Sn.now())):l.set(f.key,Ni.empty())}),this.recalculateAndSaveOverlays(t,a).next(h=>(h.forEach((f,p)=>l.set(f,p)),n.forEach((f,p)=>{var y;return c.set(f,new U4(p,(y=l.get(f))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(t,n){const i=vh();let s=new Qe((l,c)=>l-c),a=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=i.get(h)||Ni.empty();p=c.applyToLocalView(f,p),i.set(h,p);const y=(s.get(c.batchId)||se()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,p=h.value,y=fk();p.forEach(_=>{if(!a.has(_)){const b=_k(n.get(_),i.get(_));b!==null&&y.set(_,b),a=a.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,y))}return ht.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(l){return It.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):qU(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-a.size):ht.resolve(Uo());let c=Mh,h=a;return l.next(f=>ht.forEach(f,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(p)?ht.resolve():this.remoteDocumentCache.getEntry(t,p).next(_=>{h=h.insert(p,_)}))).next(()=>this.populateOverlays(t,f,a)).next(()=>this.computeViews(t,h,f,se())).next(p=>({batchId:c,changes:hk(p)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new It(n)).next(i=>{let s=oh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const a=n.collectionGroup;let l=oh();return this.indexManager.getCollectionParents(t,a).next(c=>ht.forEach(c,h=>{const f=function(y,_){return new Og(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,f,i,s).next(p=>{p.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,n,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,a,s))).next(l=>{a.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Zn.newInvalidDocument(p)))});let c=oh();return l.forEach((h,f)=>{const p=a.get(h);p!==void 0&&_h(p.mutation,f,Ni.empty(),Sn.now()),Lg(n,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return ht.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:er(s.createTime)}}(n)),ht.resolve()}getNamedQuery(t,n){return ht.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:P4(s.bundledQuery),readTime:er(s.readTime)}}(n)),ht.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.overlays=new Qe(It.comparator),this.Rr=new Map}getOverlay(t,n){return ht.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Uo();return ht.forEach(n,s=>this.getOverlay(t,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,a)=>{this.Et(t,n,a)}),ht.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.Rr.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),ht.resolve()}getOverlaysForCollection(t,n,i){const s=Uo(),a=n.length+1,l=new It(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>i&&s.set(h.getKey(),h)}return ht.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let a=new Qe((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=a.get(f.largestBatchId);p===null&&(p=Uo(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Uo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=s)););return ht.resolve(c)}Et(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(i.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new l4(n,i));let a=this.Rr.get(n);a===void 0&&(a=se(),this.Rr.set(n,a)),this.Rr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.sessionToken=zn.EMPTY_BYTE_STRING}getSessionToken(t){return ht.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ht.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.Vr=new En(Pn.mr),this.gr=new En(Pn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const i=new Pn(t,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.wr(new Pn(t,n))}Sr(t,n){t.forEach(i=>this.removeReference(i,n))}br(t){const n=new It(new nn([])),i=new Pn(n,t),s=new Pn(n,t+1),a=[];return this.gr.forEachInRange([i,s],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new It(new nn([])),i=new Pn(n,t),s=new Pn(n,t+1);let a=se();return this.gr.forEachInRange([i,s],l=>{a=a.add(l.key)}),a}containsKey(t){const n=new Pn(t,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Pn{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return It.comparator(t.key,n.key)||Qt(t.Cr,n.Cr)}static pr(t,n){return Qt(t.Cr,n.Cr)||It.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new En(Pn.mr)}checkEmpty(t){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new o4(a,n,i,s);this.mutationQueue.push(l);for(const c of s)this.Mr=this.Mr.add(new Pn(c.key,a)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return ht.resolve(l)}lookupMutationBatch(t,n){return ht.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.Nr(i),a=s<0?0:s;return ht.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?N0:this.Fr-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Pn(n,0),s=new Pn(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,s],l=>{const c=this.Or(l.Cr);a.push(c)}),ht.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new En(Qt);return n.forEach(s=>{const a=new Pn(s,0),l=new Pn(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{i=i.add(c.Cr)})}),ht.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let a=i;It.isDocumentKey(a)||(a=a.child(""));const l=new Pn(new It(a),0);let c=new En(Qt);return this.Mr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(h.Cr)),!0)},l),ht.resolve(this.Br(c))}Br(t){const n=[];return t.forEach(i=>{const s=this.Or(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){Ee(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ht.forEach(n.mutations,s=>{const a=new Pn(s.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,n){const i=new Pn(n,0),s=this.Mr.firstAfterOrEqual(i);return ht.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,ht.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(t){this.kr=t,this.docs=function(){return new Qe(It.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return ht.resolve(i?i.document.mutableCopy():Zn.newInvalidDocument(n))}getEntries(t,n){let i=Xr();return n.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():Zn.newInvalidDocument(s))}),ht.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let a=Xr();const l=n.path,c=new It(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||wU(bU(p),i)<=0||(s.has(p.key)||Lg(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return ht.resolve(a)}getAllFromCollectionGroup(t,n,i,s){Ut()}qr(t,n){return ht.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new G4(this)}getSize(t){return ht.resolve(this.size)}}class G4 extends j4{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(t,s)):this.Ir.removeEntry(i)}),ht.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(t){this.persistence=t,this.Qr=new cl(n=>B0(n),j0),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new W0,this.targetCount=0,this.Kr=Cc.Un()}forEachTarget(t,n){return this.Qr.forEach((i,s)=>n(s)),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),ht.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new Cc(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,ht.resolve()}updateTargetData(t,n){return this.zn(n),ht.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,n,i){let s=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),ht.waitFor(a).next(()=>s)}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,n){const i=this.Qr.get(n)||null;return ht.resolve(i)}addMatchingKeys(t,n,i){return this.Ur.yr(n,i),ht.resolve()}removeMatchingKeys(t,n,i){this.Ur.Sr(n,i);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(t,l))}),ht.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),ht.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Ur.vr(n);return ht.resolve(i)}containsKey(t,n){return ht.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Pg(0),this.zr=!1,this.zr=!0,this.jr=new q4,this.referenceDelegate=t(this),this.Hr=new K4(this),this.indexManager=new M4,this.remoteDocumentCache=function(s){return new $4(s)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new k4(n),this.Yr=new z4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new H4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Wr[t.toKey()];return i||(i=new W4(n,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,i){St("MemoryPersistence","Starting transaction:",t);const s=new Y4(this.Gr.next());return this.referenceDelegate.Zr(),i(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(t,n){return ht.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,n)))}}class Y4 extends SU{constructor(t){super(),this.currentSequenceNumber=t}}class $0{constructor(t){this.persistence=t,this.ti=new W0,this.ni=null}static ri(t){return new $0(t)}get ii(){if(this.ni)return this.ni;throw Ut()}addReference(t,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),ht.resolve()}removeReference(t,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),ht.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),ht.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.ii,i=>{const s=It.fromPath(i);return this.si(t,s).next(a=>{a||n.removeEntry(s,zt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return ht.or([()=>ht.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Jp{constructor(t,n){this.persistence=t,this.oi=new cl(i=>AU(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=B4(this,n)}static ri(t,n){return new Jp(t,n)}Zr(){}Xr(t){return ht.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}sr(t){let n=0;return this.rr(t,i=>{n++}).next(()=>n)}rr(t,n){return ht.forEach(this.oi,(i,s)=>this.ar(t,i,s).next(a=>a?ht.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(t,l=>this.ar(t,l,n).next(c=>{c||(i++,a.removeEntry(l,zt.min()))})).next(()=>a.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),ht.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),ht.resolve()}removeReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),ht.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),ht.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ep(t.data.value)),n}ar(t,n,i){return ht.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.oi.get(n);return ht.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Hi=i,this.Ji=s}static Yi(t,n){let i=se(),s=se();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new G0(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return qL()?8:EU(ni())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,i,s){const a={result:null};return this.rs(t,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(t,n,s,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new X4;return this._s(t,n,l).next(c=>{if(a.result=c,this.Xi)return this.us(t,n,l,c.size)})}).next(()=>a.result)}us(t,n,i,s){return i.documentReadCount<this.es?(ic()<=ne.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",sc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ht.resolve()):(ic()<=ne.DEBUG&&St("QueryEngine","Query:",sc(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ts*s?(ic()<=ne.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",sc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Js(n))):ht.resolve())}rs(t,n){if(Hx(n))return ht.resolve(null);let i=Js(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=__(n,null,"F"),i=Js(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const l=se(...a);return this.ns.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,i).next(h=>{const f=this.cs(n,c);return this.ls(n,f,l,h.readTime)?this.rs(t,__(n,null,"F")):this.hs(t,f,n,h)}))})))}ss(t,n,i,s){return Hx(n)||s.isEqual(zt.min())?ht.resolve(null):this.ns.getDocuments(t,i).next(a=>{const l=this.cs(n,a);return this.ls(n,l,i,s)?ht.resolve(null):(ic()<=ne.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),sc(n)),this.hs(t,l,n,_U(s,Mh)).next(c=>c))})}cs(t,n){let i=new En(ck(t));return n.forEach((s,a)=>{Lg(t,a)&&(i=i.add(a))}),i}ls(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(t,n,i){return ic()<=ne.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",sc(n)),this.ns.getDocumentsMatchingQuery(t,n,za.min(),i)}hs(t,n,i,s){return this.ns.getDocumentsMatchingQuery(t,i,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="LocalStore",Z4=3e8;class J4{constructor(t,n,i,s){this.persistence=t,this.Ps=n,this.serializer=s,this.Ts=new Qe(Qt),this.Is=new cl(a=>B0(a),j0),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new F4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function tF(e,t,n,i){return new J4(e,t,n,i)}async function Ok(e,t){const n=qt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,n.As(t),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],c=[];let h=se();for(const f of s){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of a){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:c}))})})}function eF(e,t){const n=qt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,f,p){const y=f.batch,_=y.keys();let b=ht.resolve();return _.forEach(T=>{b=b.next(()=>p.getEntry(h,T)).next(S=>{const x=f.docVersions.get(T);Ee(x!==null),S.version.compareTo(x)<0&&(y.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),p.addEntry(S)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(n,i,t,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=se();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function Nk(e){const t=qt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function nF(e,t){const n=qt(e),i=t.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const c=[];t.targetChanges.forEach((p,y)=>{const _=s.get(y);if(!_)return;c.push(n.Hr.removeMatchingKeys(a,p.removedDocuments,y).next(()=>n.Hr.addMatchingKeys(a,p.addedDocuments,y)));let b=_.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(y)!==null?b=b.withResumeToken(zn.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,i)),s=s.insert(y,b),function(S,x,R){return S.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=Z4?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(_,b,p)&&c.push(n.Hr.updateTargetData(a,b))});let h=Xr(),f=se();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))}),c.push(iF(a,l,t.documentUpdates).next(p=>{h=p.Vs,f=p.fs})),!i.isEqual(zt.min())){const p=n.Hr.getLastRemoteSnapshotVersion(a).next(y=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));c.push(p)}return ht.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,f)).next(()=>h)}).then(a=>(n.Ts=s,a))}function iF(e,t,n){let i=se(),s=se();return n.forEach(a=>i=i.add(a)),t.getEntries(e,i).next(a=>{let l=Xr();return n.forEach((c,h)=>{const f=a.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(zt.min())?(t.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(h),l=l.insert(c,h)):St(K0,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{Vs:l,fs:s}})}function sF(e,t){const n=qt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=N0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function rF(e,t){const n=qt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Hr.getTargetData(i,t).next(a=>a?(s=a,ht.resolve(s)):n.Hr.allocateTargetId(i).next(l=>(s=new Ia(t,l,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(t,i.targetId)),i})}async function E_(e,t,n){const i=qt(e),s=i.Ts.get(t),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!qc(l))throw l;St(K0,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ts=i.Ts.remove(t),i.Is.delete(s.target)}function nA(e,t,n){const i=qt(e);let s=zt.min(),a=se();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const y=qt(h),_=y.Is.get(p);return _!==void 0?ht.resolve(y.Ts.get(_)):y.Hr.getTargetData(f,p)}(i,l,Js(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(l,t,n?s:zt.min(),n?a:se())).next(c=>(aF(i,$U(t),c),{documents:c,gs:a})))}function aF(e,t,n){let i=e.Es.get(t)||zt.min();n.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),e.Es.set(t,i)}class iA{constructor(){this.activeTargetIds=ZU()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class oF{constructor(){this.ho=new iA,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,i){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new iA,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="ConnectivityMonitor";class rA{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){St(sA,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){St(sA,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd=null;function x_(){return Xd===null?Xd=function(){return 268435456+Math.round(2147483648*Math.random())}():Xd++,"0x"+Xd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="RestConnection",cF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uF{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database===Gp?`project_id=${i}`:`project_id=${i}&database_id=${s}`}So(t,n,i,s,a){const l=x_(),c=this.bo(t,n.toUriEncodedString());St(bv,`Sending RPC '${t}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,a),this.vo(t,c,h,i).then(f=>(St(bv,`Received RPC '${t}' ${l}: `,f),f),f=>{throw Tc(bv,`RPC '${t}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}Co(t,n,i,s,a,l){return this.So(t,n,i,s,a)}Do(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}bo(t,n){const i=cF[t];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn="WebChannelConnection";class fF extends uF{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,i,s){const a=x_();return new Promise((l,c)=>{const h=new BD;h.setWithCredentials(!0),h.listenOnce(jD.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Sp.NO_ERROR:const p=h.getResponseJson();St(Kn,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case Sp.TIMEOUT:St(Kn,`RPC '${t}' ${a} timed out`),c(new Pt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case Sp.HTTP_ERROR:const y=h.getStatus();if(St(Kn,`RPC '${t}' ${a} failed with status:`,y,"response text:",h.getResponseText()),y>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const b=_==null?void 0:_.error;if(b&&b.status&&b.message){const T=function(x){const R=x.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(R)>=0?R:gt.UNKNOWN}(b.status);c(new Pt(T,b.message))}else c(new Pt(gt.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Pt(gt.UNAVAILABLE,"Connection failed."));break;default:Ut()}}finally{St(Kn,`RPC '${t}' ${a} completed.`)}});const f=JSON.stringify(s);St(Kn,`RPC '${t}' ${a} sending request:`,s),h.send(n,"POST",f,i,15)})}Wo(t,n,i){const s=x_(),a=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=zD(),c=FD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=a.join("");St(Kn,`Creating RPC '${t}' stream ${s}: ${p}`,h);const y=l.createWebChannel(p,h);let _=!1,b=!1;const T=new hF({Fo:x=>{b?St(Kn,`Not sending because RPC '${t}' stream ${s} is closed:`,x):(_||(St(Kn,`Opening RPC '${t}' stream ${s} transport.`),y.open(),_=!0),St(Kn,`RPC '${t}' stream ${s} sending:`,x),y.send(x))},Mo:()=>y.close()}),S=(x,R,V)=>{x.listen(R,B=>{try{V(B)}catch($){setTimeout(()=>{throw $},0)}})};return S(y,ah.EventType.OPEN,()=>{b||(St(Kn,`RPC '${t}' stream ${s} transport opened.`),T.Qo())}),S(y,ah.EventType.CLOSE,()=>{b||(b=!0,St(Kn,`RPC '${t}' stream ${s} transport closed`),T.Uo())}),S(y,ah.EventType.ERROR,x=>{b||(b=!0,Tc(Kn,`RPC '${t}' stream ${s} transport errored:`,x),T.Uo(new Pt(gt.UNAVAILABLE,"The operation could not be completed")))}),S(y,ah.EventType.MESSAGE,x=>{var R;if(!b){const V=x.data[0];Ee(!!V);const B=V,$=(B==null?void 0:B.error)||((R=B[0])===null||R===void 0?void 0:R.error);if($){St(Kn,`RPC '${t}' stream ${s} received error:`,$);const z=$.status;let X=function(M){const U=gn[M];if(U!==void 0)return Tk(U)}(z),I=$.message;X===void 0&&(X=gt.INTERNAL,I="Unknown error status: "+z+" with message "+$.message),b=!0,T.Uo(new Pt(X,I)),y.close()}else St(Kn,`RPC '${t}' stream ${s} received:`,V),T.Ko(V)}}),S(c,UD.STAT_EVENT,x=>{x.stat===d_.PROXY?St(Kn,`RPC '${t}' stream ${s} detected buffering proxy`):x.stat===d_.NOPROXY&&St(Kn,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function wv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(e){return new m4(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(t,n,i=1e3,s=1.5,a=6e4){this.Ti=t,this.timerId=n,this.Go=i,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-i);s>0&&St("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="PersistentStream";class Vk{constructor(t,n,i,s,a,l,c,h){this.Ti=t,this.n_=i,this.r_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Lk(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===gt.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.i_===n&&this.V_(i,s)},i=>{t(()=>{const s=new Pt(gt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(s)})})}V_(t,n){const i=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{i(()=>this.m_(s))}),this.stream.onMessage(s=>{i(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return St(aA,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(St(aA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dF extends Vk{constructor(t,n,i,s,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=_4(this.serializer,t),i=function(a){if(!("targetChange"in a))return zt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?zt.min():l.readTime?er(l.readTime):zt.min()}(t);return this.listener.p_(n,i)}y_(t){const n={};n.database=S_(this.serializer),n.addTarget=function(a,l){let c;const h=l.target;if(c=v_(h)?{documents:T4(a,h)}:{query:S4(a,h).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=xk(a,l.resumeToken);const f=b_(a,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(zt.min())>0){c.readTime=Zp(a,l.snapshotVersion.toTimestamp());const f=b_(a,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,t);const i=x4(this.serializer,t);i&&(n.labels=i),this.I_(n)}w_(t){const n={};n.database=S_(this.serializer),n.removeTarget=t,this.I_(n)}}class pF extends Vk{constructor(t,n,i,s,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Ee(!!t.streamToken),this.lastStreamToken=t.streamToken,Ee(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Ee(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=w4(t.writeResults,t.commitTime),i=er(t.commitTime);return this.listener.v_(i,n)}C_(){const t={};t.database=S_(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>b4(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{}class mF extends gF{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Pt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(t,w_(n,i),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pt(gt.UNKNOWN,a.toString())})}Co(t,n,i,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(t,w_(n,i),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Pt(gt.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class yF{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Yr(n),this.N_=!1):St("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="RemoteStore";class vF{constructor(t,n,i,s,a){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{i.enqueueAndForget(async()=>{ul(this)&&(St(Jo,"Restarting streams for network reachability change."),await async function(h){const f=qt(h);f.W_.add(4),await gf(f),f.j_.set("Unknown"),f.W_.delete(4),await Fg(f)}(this))})}),this.j_=new yF(i,s)}}async function Fg(e){if(ul(e))for(const t of e.G_)await t(!0)}async function gf(e){for(const t of e.G_)await t(!1)}function Bk(e,t){const n=qt(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Z0(n)?Q0(n):Wc(n).c_()&&X0(n,t))}function Y0(e,t){const n=qt(e),i=Wc(n);n.K_.delete(t),i.c_()&&jk(n,t),n.K_.size===0&&(i.c_()?i.P_():ul(n)&&n.j_.set("Unknown"))}function X0(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(zt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wc(e).y_(t)}function jk(e,t){e.H_.Ne(t),Wc(e).w_(t)}function Q0(e){e.H_=new f4({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Wc(e).start(),e.j_.B_()}function Z0(e){return ul(e)&&!Wc(e).u_()&&e.K_.size>0}function ul(e){return qt(e).W_.size===0}function Uk(e){e.H_=void 0}async function _F(e){e.j_.set("Online")}async function bF(e){e.K_.forEach((t,n)=>{X0(e,t)})}async function wF(e,t){Uk(e),Z0(e)?(e.j_.q_(t),Q0(e)):e.j_.set("Unknown")}async function TF(e,t,n){if(e.j_.set("Online"),t instanceof Ek&&t.state===2&&t.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.K_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.K_.delete(c),s.H_.removeTarget(c))}(e,t)}catch(i){St(Jo,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await tg(e,i)}else if(t instanceof Cp?e.H_.We(t):t instanceof Sk?e.H_.Ze(t):e.H_.je(t),!n.isEqual(zt.min()))try{const i=await Nk(e.localStore);n.compareTo(i)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.K_.get(f);p&&a.K_.set(f,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,f)=>{const p=a.K_.get(h);if(!p)return;a.K_.set(h,p.withResumeToken(zn.EMPTY_BYTE_STRING,p.snapshotVersion)),jk(a,h);const y=new Ia(p.target,h,f,p.sequenceNumber);X0(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(i){St(Jo,"Failed to raise snapshot:",i),await tg(e,i)}}async function tg(e,t,n){if(!qc(t))throw t;e.W_.add(1),await gf(e),e.j_.set("Offline"),n||(n=()=>Nk(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{St(Jo,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Fg(e)})}function Fk(e,t){return t().catch(n=>tg(e,n,t))}async function zg(e){const t=qt(e),n=$a(t);let i=t.U_.length>0?t.U_[t.U_.length-1].batchId:N0;for(;SF(t);)try{const s=await sF(t.localStore,i);if(s===null){t.U_.length===0&&n.P_();break}i=s.batchId,EF(t,s)}catch(s){await tg(t,s)}zk(t)&&Hk(t)}function SF(e){return ul(e)&&e.U_.length<10}function EF(e,t){e.U_.push(t);const n=$a(e);n.c_()&&n.S_&&n.b_(t.mutations)}function zk(e){return ul(e)&&!$a(e).u_()&&e.U_.length>0}function Hk(e){$a(e).start()}async function xF(e){$a(e).C_()}async function AF(e){const t=$a(e);for(const n of e.U_)t.b_(n.mutations)}async function CF(e,t,n){const i=e.U_.shift(),s=z0.from(i,t,n);await Fk(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await zg(e)}async function RF(e,t){t&&$a(e).S_&&await async function(i,s){if(function(l){return u4(l)&&l!==gt.ABORTED}(s.code)){const a=i.U_.shift();$a(i).h_(),await Fk(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await zg(i)}}(e,t),zk(e)&&Hk(e)}async function oA(e,t){const n=qt(e);n.asyncQueue.verifyOperationInProgress(),St(Jo,"RemoteStore received new credentials");const i=ul(n);n.W_.add(3),await gf(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Fg(n)}async function DF(e,t){const n=qt(e);t?(n.W_.delete(2),await Fg(n)):t||(n.W_.add(2),await gf(n),n.j_.set("Unknown"))}function Wc(e){return e.J_||(e.J_=function(n,i,s){const a=qt(n);return a.M_(),new dF(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(e.datastore,e.asyncQueue,{xo:_F.bind(null,e),No:bF.bind(null,e),Lo:wF.bind(null,e),p_:TF.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),Z0(e)?Q0(e):e.j_.set("Unknown")):(await e.J_.stop(),Uk(e))})),e.J_}function $a(e){return e.Y_||(e.Y_=function(n,i,s){const a=qt(n);return a.M_(),new pF(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:xF.bind(null,e),Lo:RF.bind(null,e),D_:AF.bind(null,e),v_:CF.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await zg(e)):(await e.Y_.stop(),e.U_.length>0&&(St(Jo,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))})),e.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t,n,i,s,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,a){const l=Date.now()+i,c=new J0(t,n,l,s,a);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pt(gt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tb(e,t){if(Yr("AsyncQueue",`${t}: ${e}`),qc(e))return new Pt(gt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{static emptySet(t){return new gc(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||It.comparator(n.key,i.key):(n,i)=>It.comparator(n.key,i.key),this.keyedMap=oh(),this.sortedSet=new Qe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof gc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new gc;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.Z_=new Qe(It.comparator)}track(t){const n=t.doc.key,i=this.Z_.get(n);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(n):t.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):Ut():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Rc{constructor(t,n,i,s,a,l,c,h,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,n,i,s,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Rc(t,n,gc.emptySet(n),l,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ng(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class PF{constructor(){this.queries=cA(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const s=qt(n),a=s.queries;s.queries=cA(),a.forEach((l,c)=>{for(const h of c.ta)h.onError(i)})})(this,new Pt(gt.ABORTED,"Firestore shutting down"))}}function cA(){return new cl(e=>lk(e),Ng)}async function MF(e,t){const n=qt(e);let i=3;const s=t.query;let a=n.queries.get(s);a?!a.na()&&t.ra()&&(i=2):(a=new kF,i=t.ra()?0:1);try{switch(i){case 0:a.ea=await n.onListen(s,!0);break;case 1:a.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=tb(l,`Initialization of query '${sc(t.query)}' failed`);return void t.onError(c)}n.queries.set(s,a),a.ta.push(t),t.sa(n.onlineState),a.ea&&t.oa(a.ea)&&eb(n)}async function IF(e,t){const n=qt(e),i=t.query;let s=3;const a=n.queries.get(i);if(a){const l=a.ta.indexOf(t);l>=0&&(a.ta.splice(l,1),a.ta.length===0?s=t.ra()?0:1:!a.na()&&t.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function OF(e,t){const n=qt(e);let i=!1;for(const s of t){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.ta)c.oa(s)&&(i=!0);l.ea=s}}i&&eb(n)}function NF(e,t,n){const i=qt(e),s=i.queries.get(t);if(s)for(const a of s.ta)a.onError(n);i.queries.delete(t)}function eb(e){e.ia.forEach(t=>{t.next()})}var A_,uA;(uA=A_||(A_={}))._a="default",uA.Cache="cache";class LF{constructor(t,n,i){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Rc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Rc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==A_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t){this.key=t}}class Wk{constructor(t){this.key=t}}class VF{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=se(),this.mutatedKeys=se(),this.ya=ck(t),this.wa=new gc(this.ya)}get Sa(){return this.fa}ba(t,n){const i=n?n.Da:new lA,s=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,y)=>{const _=s.get(p),b=Lg(this.query,y)?y:null,T=!!_&&this.mutatedKeys.has(_.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let x=!1;_&&b?_.data.isEqual(b.data)?T!==S&&(i.track({type:3,doc:b}),x=!0):this.va(_,b)||(i.track({type:2,doc:b}),x=!0,(h&&this.ya(b,h)>0||f&&this.ya(b,f)<0)&&(c=!0)):!_&&b?(i.track({type:0,doc:b}),x=!0):_&&!b&&(i.track({type:1,doc:_}),x=!0,(h||f)&&(c=!0)),x&&(b?(l=l.add(b),a=S?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{wa:l,Da:i,ls:c,mutatedKeys:a}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const a=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const l=t.Da.X_();l.sort((p,y)=>function(b,T){const S=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut()}};return S(b)-S(T)}(p.type,y.type)||this.ya(p.doc,y.doc)),this.Ca(i),s=s!=null&&s;const c=n&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,f=h!==this.ga;return this.ga=h,l.length!==0||f?{snapshot:new Rc(this.query,t.wa,a,l,t.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new lA,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=se(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return t.forEach(i=>{this.pa.has(i)||n.push(new Wk(i))}),this.pa.forEach(i=>{t.has(i)||n.push(new qk(i))}),n}Oa(t){this.fa=t.gs,this.pa=se();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Rc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const nb="SyncEngine";class BF{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class jF{constructor(t){this.key=t,this.Ba=!1}}class UF{constructor(t,n,i,s,a,l){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new cl(c=>lk(c),Ng),this.qa=new Map,this.Qa=new Set,this.$a=new Qe(It.comparator),this.Ua=new Map,this.Ka=new W0,this.Wa={},this.Ga=new Map,this.za=Cc.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function FF(e,t,n=!0){const i=Qk(e);let s;const a=i.ka.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await $k(i,t,n,!0),s}async function zF(e,t){const n=Qk(e);await $k(n,t,!0,!1)}async function $k(e,t,n,i){const s=await rF(e.localStore,Js(t)),a=s.targetId,l=e.sharedClientState.addLocalQueryTarget(a,n);let c;return i&&(c=await HF(e,t,a,l==="current",s.resumeToken)),e.isPrimaryClient&&n&&Bk(e.remoteStore,s),c}async function HF(e,t,n,i,s){e.Ha=(y,_,b)=>async function(S,x,R,V){let B=x.view.ba(R);B.ls&&(B=await nA(S.localStore,x.query,!1).then(({documents:I})=>x.view.ba(I,B)));const $=V&&V.targetChanges.get(x.targetId),z=V&&V.targetMismatches.get(x.targetId)!=null,X=x.view.applyChanges(B,S.isPrimaryClient,$,z);return fA(S,x.targetId,X.Ma),X.snapshot}(e,y,_,b);const a=await nA(e.localStore,t,!0),l=new VF(t,a.gs),c=l.ba(a.documents),h=pf.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),f=l.applyChanges(c,e.isPrimaryClient,h);fA(e,n,f.Ma);const p=new BF(t,n,l);return e.ka.set(t,p),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),f.snapshot}async function qF(e,t,n){const i=qt(e),s=i.ka.get(t),a=i.qa.get(s.targetId);if(a.length>1)return i.qa.set(s.targetId,a.filter(l=>!Ng(l,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await E_(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Y0(i.remoteStore,s.targetId),C_(i,s.targetId)}).catch(Hc)):(C_(i,s.targetId),await E_(i.localStore,s.targetId,!0))}async function WF(e,t){const n=qt(e),i=n.ka.get(t),s=n.qa.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Y0(n.remoteStore,i.targetId))}async function $F(e,t,n){const i=JF(e);try{const s=await function(l,c){const h=qt(l),f=Sn.now(),p=c.reduce((b,T)=>b.add(T.key),se());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let T=Xr(),S=se();return h.ds.getEntries(b,p).next(x=>{T=x,T.forEach((R,V)=>{V.isValidDocument()||(S=S.add(R))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,T)).next(x=>{y=x;const R=[];for(const V of c){const B=r4(V,y.get(V.key).overlayedDocument);B!=null&&R.push(new Za(V.key,B,ek(B.value.mapValue),tr.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,R,c)}).next(x=>{_=x;const R=x.applyToLocalDocumentSet(y,S);return h.documentOverlayCache.saveOverlays(b,x.batchId,R)})}).then(()=>({batchId:_.batchId,changes:hk(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let f=l.Wa[l.currentUser.toKey()];f||(f=new Qe(Qt)),f=f.insert(c,h),l.Wa[l.currentUser.toKey()]=f}(i,s.batchId,n),await mf(i,s.changes),await zg(i.remoteStore)}catch(s){const a=tb(s,"Failed to persist write");n.reject(a)}}async function Gk(e,t){const n=qt(e);try{const i=await nF(n.localStore,t);t.targetChanges.forEach((s,a)=>{const l=n.Ua.get(a);l&&(Ee(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?Ee(l.Ba):s.removedDocuments.size>0&&(Ee(l.Ba),l.Ba=!1))}),await mf(n,i,t)}catch(i){await Hc(i)}}function hA(e,t,n){const i=qt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.ka.forEach((a,l)=>{const c=l.view.sa(t);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=qt(l);h.onlineState=c;let f=!1;h.queries.forEach((p,y)=>{for(const _ of y.ta)_.sa(c)&&(f=!0)}),f&&eb(h)}(i.eventManager,t),s.length&&i.La.p_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function GF(e,t,n){const i=qt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Ua.get(t),a=s&&s.key;if(a){let l=new Qe(It.comparator);l=l.insert(a,Zn.newNoDocument(a,zt.min()));const c=se().add(a),h=new jg(zt.min(),new Map,new Qe(Qt),l,c);await Gk(i,h),i.$a=i.$a.remove(a),i.Ua.delete(t),ib(i)}else await E_(i.localStore,t,!1).then(()=>C_(i,t,n)).catch(Hc)}async function KF(e,t){const n=qt(e),i=t.batch.batchId;try{const s=await eF(n.localStore,t);Yk(n,i,null),Kk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await mf(n,s)}catch(s){await Hc(s)}}async function YF(e,t,n){const i=qt(e);try{const s=await function(l,c){const h=qt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,c).next(y=>(Ee(y!==null),p=y.keys(),h.mutationQueue.removeMutationBatch(f,y))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,t);Yk(i,t,n),Kk(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await mf(i,s)}catch(s){await Hc(s)}}function Kk(e,t){(e.Ga.get(t)||[]).forEach(n=>{n.resolve()}),e.Ga.delete(t)}function Yk(e,t,n){const i=qt(e);let s=i.Wa[i.currentUser.toKey()];if(s){const a=s.get(t);a&&(n?a.reject(n):a.resolve(),s=s.remove(t)),i.Wa[i.currentUser.toKey()]=s}}function C_(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.qa.get(t))e.ka.delete(i),n&&e.La.Ja(i,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach(i=>{e.Ka.containsKey(i)||Xk(e,i)})}function Xk(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(Y0(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),ib(e))}function fA(e,t,n){for(const i of n)i instanceof qk?(e.Ka.addReference(i.key,t),XF(e,i)):i instanceof Wk?(St(nb,"Document no longer in limbo: "+i.key),e.Ka.removeReference(i.key,t),e.Ka.containsKey(i.key)||Xk(e,i.key)):Ut()}function XF(e,t){const n=t.key,i=n.path.canonicalString();e.$a.get(n)||e.Qa.has(i)||(St(nb,"New document in limbo: "+n),e.Qa.add(i),ib(e))}function ib(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new It(nn.fromString(t)),i=e.za.next();e.Ua.set(i,new jF(n)),e.$a=e.$a.insert(n,i),Bk(e.remoteStore,new Ia(Js(U0(n.path)),i,"TargetPurposeLimboResolution",Pg.ae))}}async function mf(e,t,n){const i=qt(e),s=[],a=[],l=[];i.ka.isEmpty()||(i.ka.forEach((c,h)=>{l.push(i.Ha(h,t,n).then(f=>{var p;if((f||n)&&i.isPrimaryClient){const y=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(f){s.push(f);const y=G0.Yi(h.targetId,f);a.push(y)}}))}),await Promise.all(l),i.La.p_(s),await async function(h,f){const p=qt(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ht.forEach(f,_=>ht.forEach(_.Hi,b=>p.persistence.referenceDelegate.addReference(y,_.targetId,b)).next(()=>ht.forEach(_.Ji,b=>p.persistence.referenceDelegate.removeReference(y,_.targetId,b)))))}catch(y){if(!qc(y))throw y;St(K0,"Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const b=p.Ts.get(_),T=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(T);p.Ts=p.Ts.insert(_,S)}}}(i.localStore,a))}async function QF(e,t){const n=qt(e);if(!n.currentUser.isEqual(t)){St(nb,"User change. New user:",t.toKey());const i=await Ok(n.localStore,t);n.currentUser=t,function(a,l){a.Ga.forEach(c=>{c.forEach(h=>{h.reject(new Pt(gt.CANCELLED,l))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await mf(n,i.Rs)}}function ZF(e,t){const n=qt(e),i=n.Ua.get(t);if(i&&i.Ba)return se().add(i.key);{let s=se();const a=n.qa.get(t);if(!a)return s;for(const l of a){const c=n.ka.get(l);s=s.unionWith(c.view.Sa)}return s}}function Qk(e){const t=qt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZF.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=GF.bind(null,t),t.La.p_=OF.bind(null,t.eventManager),t.La.Ja=NF.bind(null,t.eventManager),t}function JF(e){const t=qt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=KF.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=YF.bind(null,t),t}class eg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ug(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return tF(this.persistence,new Q4,t.initialUser,this.serializer)}Xa(t){return new Ik($0.ri,this.serializer)}Za(t){return new oF}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eg.provider={build:()=>new eg};class tz extends eg{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Ee(this.persistence.referenceDelegate instanceof Jp);const i=this.persistence.referenceDelegate.garbageCollector;return new L4(i,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new Ik(i=>Jp.ri(i,n),this.serializer)}}class R_{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>hA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=QF.bind(null,this.syncEngine),await DF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new PF}()}createDatastore(t){const n=Ug(t.databaseInfo.databaseId),i=function(a){return new fF(a)}(t.databaseInfo);return function(a,l,c,h){return new mF(a,l,c,h)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,a,l,c){return new vF(i,s,a,l,c)}(this.localStore,this.datastore,t.asyncQueue,n=>hA(this.syncEngine,n,0),function(){return rA.D()?new rA:new lF}())}createSyncEngine(t,n){return function(s,a,l,c,h,f,p){const y=new UF(s,a,l,c,h,f);return p&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const a=qt(s);St(Jo,"RemoteStore shutting down."),a.W_.add(5),await gf(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}R_.provider={build:()=>new R_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Yr("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="FirestoreClient";class nz{constructor(t,n,i,s,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Qn.UNAUTHENTICATED,this.clientId=WD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{St(Ga,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(St(Ga,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=tb(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Tv(e,t){e.asyncQueue.verifyOperationInProgress(),St(Ga,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await Ok(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function dA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await iz(e);St(Ga,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>oA(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>oA(t.remoteStore,s)),e._onlineComponents=t}async function iz(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){St(Ga,"Using user provided OfflineComponentProvider");try{await Tv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===gt.FAILED_PRECONDITION||s.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Tc("Error using user provided cache. Falling back to memory cache: "+n),await Tv(e,new eg)}}else St(Ga,"Using default OfflineComponentProvider"),await Tv(e,new tz(void 0));return e._offlineComponents}async function Zk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(St(Ga,"Using user provided OnlineComponentProvider"),await dA(e,e._uninitializedComponentsProvider._online)):(St(Ga,"Using default OnlineComponentProvider"),await dA(e,new R_))),e._onlineComponents}function sz(e){return Zk(e).then(t=>t.syncEngine)}async function rz(e){const t=await Zk(e),n=t.eventManager;return n.onListen=FF.bind(null,t.syncEngine),n.onUnlisten=qF.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=zF.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=WF.bind(null,t.syncEngine),n}function az(e,t,n={}){const i=new Ua;return e.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,f){const p=new ez({next:_=>{p.su(),l.enqueueAndForget(()=>IF(a,y));const b=_.docs.has(c);!b&&_.fromCache?f.reject(new Pt(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&_.fromCache&&h&&h.source==="server"?f.reject(new Pt(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new LF(U0(c.path),p,{includeMetadataChanges:!0,Ta:!0});return MF(a,y)}(await rz(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(e,t,n){if(!n)throw new Pt(gt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function lz(e,t,n,i){if(t===!0&&i===!0)throw new Pt(gt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function gA(e){if(!It.isDocumentKey(e))throw new Pt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function sb(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ut()}function tl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Pt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sb(e);throw new Pt(gt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="firestore.googleapis.com",mA=!0;class yA{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Pt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tP,this.ssl=mA}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:mA;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Mk;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<O4)throw new Pt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}lz("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jk((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Pt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Pt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Pt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rb{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Pt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new uU;switch(i.type){case"firstParty":return new pU(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Pt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=pA.get(n);i&&(St("ComponentProvider","Removing Datastore"),pA.delete(n),i.terminate())}(this),Promise.resolve()}}function cz(e,t,n,i={}){var s;const a=(e=tl(e,rb))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),c=`${t}:${n}`;a.host!==tP&&a.host!==c&&Tc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:i});if(!$r(h,l)&&(e._setSettings(h),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Qn.MOCK_USER;else{f=BL(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Pt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qn(y)}e._authCredentials=new hU(new HD(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ab(this.firestore,t,this._query)}}class Vi{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bh(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Vi(this.firestore,t,this._key)}}class Bh extends ab{constructor(t,n,i){super(t,n,U0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Vi(this.firestore,null,new It(t))}withConverter(t){return new Bh(this.firestore,t,this._path)}}function os(e,t,...n){if(e=ii(e),arguments.length===1&&(t=WD.newId()),oz("doc","path",t),e instanceof rb){const i=nn.fromString(t,...n);return gA(i),new Vi(e,null,new It(i))}{if(!(e instanceof Vi||e instanceof Bh))throw new Pt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(nn.fromString(t,...n));return gA(i),new Vi(e.firestore,e instanceof Bh?e.converter:null,new It(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="AsyncQueue";class _A{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Lk(this,"async_queue_retry"),this.Su=()=>{const i=wv();i&&St(vA,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=t;const n=wv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=wv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ua;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!qc(t))throw t;St(vA,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw Yr("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(t,n,i){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const s=J0.createAndSchedule(this,t,n,i,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&Ut()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Hg extends rb{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new _A,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new _A(t),this._firestoreClient=void 0,await t}}}function uz(e,t){const n=typeof e=="object"?e:T0(),i=typeof e=="string"?e:Gp,s=ll(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=LL("firestore");a&&cz(s,...a)}return s}function eP(e){if(e._terminated)throw new Pt(gt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||hz(e),e._firestoreClient}function hz(e){var t,n,i;const s=e._freezeSettings(),a=function(c,h,f,p){return new DU(c,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Jk(p.experimentalLongPollingOptions),p.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new nz(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dc(zn.fromBase64String(t))}catch(n){throw new Pt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Dc(zn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Pt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Pt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Pt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz=/^__.*__$/;class dz{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Za(t,this.data,this.fieldMask,n,this.fieldTransforms):new df(t,this.data,n,this.fieldTransforms)}}class nP{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Za(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function iP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut()}}class Wg{constructor(t,n,i,s,a,l){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Wg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.ku({path:i,Qu:!1});return s.$u(t),s}Uu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.ku({path:i,Qu:!1});return s.Bu(),s}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return ng(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(iP(this.Lu)&&fz.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class pz{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Ug(t)}ju(t,n,i,s=!1){return new Wg({Lu:t,methodName:n,zu:i,path:Fn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sP(e){const t=e._freezeSettings(),n=Ug(e._databaseId);return new pz(e._databaseId,!!t.ignoreUndefinedProperties,n)}function gz(e,t,n,i,s,a={}){const l=e.ju(a.merge||a.mergeFields?2:0,t,n,s);hb("Data must be an object, but it was:",l,i);const c=rP(i,l);let h,f;if(a.merge)h=new Ni(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const y of a.mergeFields){const _=D_(t,y,n);if(!l.contains(_))throw new Pt(gt.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);oP(p,_)||p.push(_)}h=new Ni(p),f=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,f=l.fieldTransforms;return new dz(new bi(c),h,f)}class $g extends yf{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof $g}}function mz(e,t,n){return new Wg({Lu:3,zu:t.settings.zu,methodName:e._methodName,Qu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class cb extends yf{_toFieldTransform(t){return new vk(t.path,new Lh)}isEqual(t){return t instanceof cb}}class ub extends yf{constructor(t,n){super(t),this.Hu=n}_toFieldTransform(t){const n=mz(this,t,!0),i=this.Hu.map(a=>vf(a,n)),s=new Ac(i);return new vk(t.path,s)}isEqual(t){return t instanceof ub&&$r(this.Hu,t.Hu)}}function yz(e,t,n,i){const s=e.ju(1,t,n);hb("Data must be an object, but it was:",s,i);const a=[],l=bi.empty();Qa(i,(h,f)=>{const p=fb(t,h,n);f=ii(f);const y=s.Uu(p);if(f instanceof $g)a.push(p);else{const _=vf(f,y);_!=null&&(a.push(p),l.set(p,_))}});const c=new Ni(a);return new nP(l,c,s.fieldTransforms)}function vz(e,t,n,i,s,a){const l=e.ju(1,t,n),c=[D_(t,i,n)],h=[s];if(a.length%2!=0)throw new Pt(gt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)c.push(D_(t,a[_])),h.push(a[_+1]);const f=[],p=bi.empty();for(let _=c.length-1;_>=0;--_)if(!oP(f,c[_])){const b=c[_];let T=h[_];T=ii(T);const S=l.Uu(b);if(T instanceof $g)f.push(b);else{const x=vf(T,S);x!=null&&(f.push(b),p.set(b,x))}}const y=new Ni(f);return new nP(p,y,l.fieldTransforms)}function vf(e,t){if(aP(e=ii(e)))return hb("Unsupported field value:",t,e),rP(e,t);if(e instanceof yf)return function(i,s){if(!iP(s.Lu))throw s.Wu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(i,s){const a=[];let l=0;for(const c of i){let h=vf(c,s.Ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(e,t)}return function(i,s){if((i=ii(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return JU(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Sn.fromDate(i);return{timestampValue:Zp(s.serializer,a)}}if(i instanceof Sn){const a=new Sn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zp(s.serializer,a)}}if(i instanceof ob)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Dc)return{bytesValue:xk(s.serializer,i._byteString)};if(i instanceof Vi){const a=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:q0(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof lb)return function(l,c){return{mapValue:{fields:{[JD]:{stringValue:tk},[Kp]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Wu("VectorValues must only contain numeric values.");return F0(c.serializer,f)})}}}}}}(i,s);throw s.Wu(`Unsupported field value: ${sb(i)}`)}(e,t)}function rP(e,t){const n={};return GD(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qa(e,(i,s)=>{const a=vf(s,t.qu(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function aP(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Sn||e instanceof ob||e instanceof Dc||e instanceof Vi||e instanceof yf||e instanceof lb)}function hb(e,t,n){if(!aP(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=sb(n);throw i==="an object"?t.Wu(e+" a custom object"):t.Wu(e+" "+i)}}function D_(e,t,n){if((t=ii(t))instanceof qg)return t._internalPath;if(typeof t=="string")return fb(e,t);throw ng("Field path arguments must be of type string or ",e,!1,void 0,n)}const _z=new RegExp("[~\\*/\\[\\]]");function fb(e,t,n){if(t.search(_z)>=0)throw ng(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new qg(...t.split("."))._internalPath}catch{throw ng(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ng(e,t,n,i,s){const a=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new Pt(gt.INVALID_ARGUMENT,c+e+h)}function oP(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(t,n,i,s,a){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new bz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(cP("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bz extends lP{data(){return super.data()}}function cP(e,t){return typeof t=="string"?fb(e,t):t instanceof qg?t._internalPath:t._delegate._internalPath}class wz{convertValue(t,n="none"){switch(Wa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ln(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(qa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ut()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Qa(t,(s,a)=>{i[s]=this.convertValue(a,n)}),i}convertVectorValue(t){var n,i,s;const a=(s=(i=(n=t.fields)===null||n===void 0?void 0:n[Kp].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>ln(l.doubleValue));return new lb(a)}convertGeoPoint(t){return new ob(ln(t.latitude),ln(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Ig(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ih(t));default:return null}}convertTimestamp(t){const n=Ha(t);return new Sn(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=nn.fromString(t);Ee(Pk(i));const s=new Oh(i.get(1),i.get(3)),a=new It(i.popFirst(5));return s.isEqual(n)||Yr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class uP extends lP{constructor(t,n,i,s,a,l){super(t,n,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ez(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(cP("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Ez extends uP{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(e){e=tl(e,Vi);const t=tl(e.firestore,Hg);return az(eP(t),e._key).then(n=>Cz(t,e,n))}class xz extends wz{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dc(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Vi(this.firestore,null,n)}}function Az(e,t,n){e=tl(e,Vi);const i=tl(e.firestore,Hg),s=Tz(e.converter,t);return hP(i,[gz(sP(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,tr.none())])}function jh(e,t,n,...i){e=tl(e,Vi);const s=tl(e.firestore,Hg),a=sP(s);let l;return l=typeof(t=ii(t))=="string"||t instanceof qg?vz(a,"updateDoc",e._key,t,n,i):yz(a,"updateDoc",e._key,t),hP(s,[l.toMutation(e._key,tr.exists(!0))])}function hP(e,t){return function(i,s){const a=new Ua;return i.asyncQueue.enqueueAndForget(async()=>$F(await sz(i),s,a)),a.promise}(eP(e),t)}function Cz(e,t,n){const i=n.docs.get(t._key),s=new xz(e);return new uP(e,s,t._key,i,new Sz(n.hasPendingWrites,n.fromCache),t.converter)}function Rz(){return new cb("serverTimestamp")}function fP(...e){return new ub("arrayUnion",e)}(function(t,n=!0){(function(s){zc=s})(Uc),lr(new xs("firestore",(i,{instanceIdentifier:s,options:a})=>{const l=i.getProvider("app").getImmediate(),c=new Hg(new fU(i.getProvider("auth-internal")),new gU(l,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Pt(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oh(f.options.projectId,p)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),as(Ax,Cx,t),as(Ax,Cx,"esm2017")})();var Dz="firebase",kz="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(Dz,kz,"app");const dP="@firebase/installations",db="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=1e4,gP=`w:${db}`,mP="FIS_v2",Pz="https://firebaseinstallations.googleapis.com/v1",Mz=60*60*1e3,Iz="installations",Oz="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},el=new ol(Iz,Oz,Nz);function yP(e){return e instanceof ks&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP({projectId:e}){return`${Pz}/projects/${e}/installations`}function _P(e){return{token:e.token,requestStatus:2,expiresIn:Vz(e.expiresIn),creationTime:Date.now()}}async function bP(e,t){const i=(await t.json()).error;return el.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function wP({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Lz(e,{refreshToken:t}){const n=wP(e);return n.append("Authorization",Bz(t)),n}async function TP(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Vz(e){return Number(e.replace("s","000"))}function Bz(e){return`${mP} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jz({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=vP(e),s=wP(e),a=t.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={fid:n,authVersion:mP,appId:e.appId,sdkVersion:gP},c={method:"POST",headers:s,body:JSON.stringify(l)},h=await TP(()=>fetch(i,c));if(h.ok){const f=await h.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:_P(f.authToken)}}else throw await bP("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=/^[cdef][\w-]{21}$/,k_="";function zz(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=Hz(e);return Fz.test(n)?n:k_}catch{return k_}}function Hz(e){return Uz(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new Map;function xP(e,t){const n=Gg(e);AP(n,t),qz(n,t)}function AP(e,t){const n=EP.get(e);if(n)for(const i of n)i(t)}function qz(e,t){const n=Wz();n&&n.postMessage({key:e,fid:t}),$z()}let Fo=null;function Wz(){return!Fo&&"BroadcastChannel"in self&&(Fo=new BroadcastChannel("[Firebase] FID Change"),Fo.onmessage=e=>{AP(e.data.key,e.data.fid)}),Fo}function $z(){EP.size===0&&Fo&&(Fo.close(),Fo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz="firebase-installations-database",Kz=1,nl="firebase-installations-store";let Sv=null;function pb(){return Sv||(Sv=nD(Gz,Kz,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(nl)}}})),Sv}async function ig(e,t){const n=Gg(e),s=(await pb()).transaction(nl,"readwrite"),a=s.objectStore(nl),l=await a.get(n);return await a.put(t,n),await s.done,(!l||l.fid!==t.fid)&&xP(e,t.fid),t}async function CP(e){const t=Gg(e),i=(await pb()).transaction(nl,"readwrite");await i.objectStore(nl).delete(t),await i.done}async function Kg(e,t){const n=Gg(e),s=(await pb()).transaction(nl,"readwrite"),a=s.objectStore(nl),l=await a.get(n),c=t(l);return c===void 0?await a.delete(n):await a.put(c,n),await s.done,c&&(!l||l.fid!==c.fid)&&xP(e,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(e){let t;const n=await Kg(e.appConfig,i=>{const s=Yz(i),a=Xz(e,s);return t=a.registrationPromise,a.installationEntry});return n.fid===k_?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function Yz(e){const t=e||{fid:zz(),registrationStatus:0};return RP(t)}function Xz(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(el.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=Qz(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Zz(e)}:{installationEntry:t}}async function Qz(e,t){try{const n=await jz(e,t);return ig(e.appConfig,n)}catch(n){throw yP(n)&&n.customData.serverCode===409?await CP(e.appConfig):await ig(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function Zz(e){let t=await bA(e.appConfig);for(;t.registrationStatus===1;)await SP(100),t=await bA(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await gb(e);return i||n}return t}function bA(e){return Kg(e,t=>{if(!t)throw el.create("installation-not-found");return RP(t)})}function RP(e){return Jz(e)?{fid:e.fid,registrationStatus:0}:e}function Jz(e){return e.registrationStatus===1&&e.registrationTime+pP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3({appConfig:e,heartbeatServiceProvider:t},n){const i=e3(e,n),s=Lz(e,n),a=t.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={installation:{sdkVersion:gP,appId:e.appId}},c={method:"POST",headers:s,body:JSON.stringify(l)},h=await TP(()=>fetch(i,c));if(h.ok){const f=await h.json();return _P(f)}else throw await bP("Generate Auth Token",h)}function e3(e,{fid:t}){return`${vP(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(e,t=!1){let n;const i=await Kg(e.appConfig,a=>{if(!DP(a))throw el.create("not-registered");const l=a.authToken;if(!t&&s3(l))return a;if(l.requestStatus===1)return n=n3(e,t),a;{if(!navigator.onLine)throw el.create("app-offline");const c=a3(a);return n=i3(e,c),c}});return n?await n:i.authToken}async function n3(e,t){let n=await wA(e.appConfig);for(;n.authToken.requestStatus===1;)await SP(100),n=await wA(e.appConfig);const i=n.authToken;return i.requestStatus===0?mb(e,t):i}function wA(e){return Kg(e,t=>{if(!DP(t))throw el.create("not-registered");const n=t.authToken;return o3(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function i3(e,t){try{const n=await t3(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await ig(e.appConfig,i),n}catch(n){if(yP(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await CP(e.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ig(e.appConfig,i)}throw n}}function DP(e){return e!==void 0&&e.registrationStatus===2}function s3(e){return e.requestStatus===2&&!r3(e)}function r3(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Mz}function a3(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function o3(e){return e.requestStatus===1&&e.requestTime+pP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(e){const t=e,{installationEntry:n,registrationPromise:i}=await gb(t);return i?i.catch(console.error):mb(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(e,t=!1){const n=e;return await u3(n),(await mb(n,t)).token}async function u3(e){const{registrationPromise:t}=await gb(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(e){if(!e||!e.options)throw Ev("App Configuration");if(!e.name)throw Ev("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Ev(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Ev(e){return el.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="installations",f3="installations-internal",d3=e=>{const t=e.getProvider("app").getImmediate(),n=h3(t),i=ll(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},p3=e=>{const t=e.getProvider("app").getImmediate(),n=ll(t,kP).getImmediate();return{getId:()=>l3(n),getToken:s=>c3(n,s)}};function g3(){lr(new xs(kP,d3,"PUBLIC")),lr(new xs(f3,p3,"PRIVATE"))}g3();as(dP,db);as(dP,db,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="analytics",m3="firebase_id",y3="origin",v3=60*1e3,_3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new Rg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Bi=new ol("analytics","Analytics",b3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(e){if(!e.startsWith(yb)){const t=Bi.create("invalid-gtag-resource",{gtagURL:e});return Ti.warn(t.message),""}return e}function PP(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function T3(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function S3(e,t){const n=T3("firebase-js-sdk-policy",{createScriptURL:w3}),i=document.createElement("script"),s=`${yb}?l=${e}&id=${t}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function E3(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function x3(e,t,n,i,s,a){const l=i[s];try{if(l)await t[l];else{const h=(await PP(n)).find(f=>f.measurementId===s);h&&await t[h.appId]}}catch(c){Ti.error(c)}e("config",s,a)}async function A3(e,t,n,i,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const c=await PP(n);for(const h of l){const f=c.find(y=>y.measurementId===h),p=f&&t[f.appId];if(p)a.push(p);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),e("event",i,s||{})}catch(a){Ti.error(a)}}function C3(e,t,n,i){async function s(a,...l){try{if(a==="event"){const[c,h]=l;await A3(e,t,n,c,h)}else if(a==="config"){const[c,h]=l;await x3(e,t,n,i,c,h)}else if(a==="consent"){const[c,h]=l;e("consent",c,h)}else if(a==="get"){const[c,h,f]=l;e("get",c,h,f)}else if(a==="set"){const[c]=l;e("set",c)}else e(a,...l)}catch(c){Ti.error(c)}}return s}function R3(e,t,n,i,s){let a=function(...l){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=C3(a,e,t,n),{gtagCore:a,wrappedGtag:window[s]}}function D3(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(yb)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=30,P3=1e3;class M3{constructor(t={},n=P3){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const MP=new M3;function I3(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function O3(e){var t;const{appId:n,apiKey:i}=e,s={method:"GET",headers:I3(i)},a=_3.replace("{app-id}",n),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let c="";try{const h=await l.json();!((t=h.error)===null||t===void 0)&&t.message&&(c=h.error.message)}catch{}throw Bi.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function N3(e,t=MP,n){const{appId:i,apiKey:s,measurementId:a}=e.options;if(!i)throw Bi.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:i};throw Bi.create("no-api-key")}const l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new B3;return setTimeout(async()=>{c.abort()},v3),IP({appId:i,apiKey:s,measurementId:a},l,c,t)}async function IP(e,{throttleEndTimeMillis:t,backoffCount:n},i,s=MP){var a;const{appId:l,measurementId:c}=e;try{await L3(i,t)}catch(h){if(c)return Ti.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:c};throw h}try{const h=await O3(e);return s.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!V3(f)){if(s.deleteThrottleMetadata(l),c)return Ti.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:c};throw h}const p=Number((a=f==null?void 0:f.customData)===null||a===void 0?void 0:a.httpStatus)===503?JE(n,s.intervalMillis,k3):JE(n,s.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return s.setThrottleMetadata(l,y),Ti.debug(`Calling attemptFetch again in ${p} millis`),IP(e,y,i,s)}}function L3(e,t){return new Promise((n,i)=>{const s=Math.max(t-Date.now(),0),a=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(a),i(Bi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function V3(e){if(!(e instanceof ks)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class B3{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function j3(e,t,n,i,s){if(s&&s.global){e("event",n,i);return}else{const a=await t,l=Object.assign(Object.assign({},i),{send_to:a});e("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3(){if(Z1())try{await J1()}catch(e){return Ti.warn(Bi.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ti.warn(Bi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function F3(e,t,n,i,s,a,l){var c;const h=N3(e);h.then(b=>{n[b.measurementId]=b.appId,e.options.measurementId&&b.measurementId!==e.options.measurementId&&Ti.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Ti.error(b)),t.push(h);const f=U3().then(b=>{if(b)return i.getId()}),[p,y]=await Promise.all([h,f]);D3(a)||S3(a,p.measurementId),s("js",new Date);const _=(c=l==null?void 0:l.config)!==null&&c!==void 0?c:{};return _[y3]="firebase",_.update=!0,y!=null&&(_[m3]=y),s("config",p.measurementId,_),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(t){this.app=t}_delete(){return delete bh[this.app.options.appId],Promise.resolve()}}let bh={},TA=[];const SA={};let xv="dataLayer",H3="gtag",EA,OP,xA=!1;function q3(){const e=[];if(Q1()&&e.push("This is a browser extension environment."),WL()||e.push("Cookies are not available."),e.length>0){const t=e.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=Bi.create("invalid-analytics-context",{errorInfo:t});Ti.warn(n.message)}}function W3(e,t,n){q3();const i=e.options.appId;if(!i)throw Bi.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ti.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Bi.create("no-api-key");if(bh[i]!=null)throw Bi.create("already-exists",{id:i});if(!xA){E3(xv);const{wrappedGtag:a,gtagCore:l}=R3(bh,TA,SA,xv,H3);OP=a,EA=l,xA=!0}return bh[i]=F3(e,TA,SA,t,EA,xv,n),new z3(e)}function $3(e=T0()){e=ii(e);const t=ll(e,sg);return t.isInitialized()?t.getImmediate():G3(e)}function G3(e,t={}){const n=ll(e,sg);if(n.isInitialized()){const s=n.getImmediate();if($r(t,n.getOptions()))return s;throw Bi.create("already-initialized")}return n.initialize({options:t})}function K3(e,t,n,i){e=ii(e),j3(OP,bh[e.app.options.appId],t,n,i).catch(s=>Ti.error(s))}const AA="@firebase/analytics",CA="0.10.12";function Y3(){lr(new xs(sg,(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return W3(i,s,n)},"PUBLIC")),lr(new xs("analytics-internal",e,"PRIVATE")),as(AA,CA),as(AA,CA,"esm2017");function e(t){try{const n=t.getProvider(sg).getImmediate();return{logEvent:(i,s,a)=>K3(n,i,s,a)}}catch(n){throw Bi.create("interop-component-reg-failed",{reason:n})}}}Y3();const X3={apiKey:"AIzaSyARvah7E7kRKD09seeiQSzTb1BIuCWUyVE",authDomain:"next-rep-e58cd.firebaseapp.com",projectId:"next-rep-e58cd",storageBucket:"next-rep-e58cd.firebasestorage.app",messagingSenderId:"6118694283",appId:"1:6118694283:web:fc89b6174edffe7795638e",measurementId:"G-2QWPTRVPQQ"},vb=iD(X3);$3(vb);const ei=lU(vb),ls=uz(vb),Q3=new Fr;function Z3(){const e=Ds(),[t,n]=P.useState(null),[i,s]=P.useState(!1),[a,l]=P.useState(!1);P.useEffect(()=>{(async()=>{try{s(!0);const _=await Ej(ei);if(_){const b=_.user;await h(b),e("/dashboard")}}catch(_){console.error("Error processing redirect result:",_),c(_)}finally{s(!1),l(!0)}})();const y=ei.onAuthStateChanged(_=>{_&&e("/dashboard")});return()=>y()},[e]);const c=p=>{console.log("Auth error code:",p.code),console.log("Auth error message:",p.message),p.code==="auth/requests-from-referer-https://pmin574.github.io-are-blocked."?n("This domain is currently blocked by Firebase. Please check Firebase Console settings."):p.code==="auth/unauthorized-domain"?n("This domain is not authorized for Firebase Authentication. Please add your domain in Firebase Console."):p.code==="auth/operation-not-allowed"?n("Google sign-in is not enabled for this project. Please enable it in Firebase Console."):p.code==="auth/configuration-not-found"?n("Authentication configuration error. Please check Firebase Console settings."):p.code==="auth/invalid-api-key"?n("Invalid Firebase API key. Please check your configuration."):p.code==="auth/popup-blocked"?n("Login popup was blocked. Please allow popups for this site."):p.code==="auth/popup-closed-by-user"?n("Login popup was closed. Please try again."):p.code==="auth/cancelled-popup-request"?n(null):p.code==="auth/network-request-failed"?n("Network error. Please check your internet connection."):n(`Authentication error: ${p.message}`)},h=async p=>{if(!p)return;const y=os(ls,"users",p.uid);if(!(await Ss(y)).exists())try{await Az(y,{uid:p.uid,displayName:p.displayName,email:p.email,photoURL:p.photoURL,createdAt:Rz(),workouts:[],exercises:[],goals:[],weightLogs:[]}),console.log("New user document created!")}catch(b){throw console.error("Error creating user document:",b),b}},f=async()=>{n(null),s(!0);try{console.log("Attempting sign-in with popup...");const p=await yj(ei,Q3);console.log("Sign-in with popup successful");const y=p.user;await h(y),e("/dashboard")}catch(p){console.error("Error with popup sign-in:",p),c(p),s(!1)}};return!a&&i?C.jsx("div",{className:"login-page",children:C.jsx("div",{className:"login-container",children:C.jsx("div",{className:"loading-spinner",children:"Checking authentication..."})})}):C.jsxs("div",{className:"login-page",children:[C.jsxs("div",{className:"login-container",children:[C.jsxs("div",{className:"app-logo",children:[C.jsx("div",{className:"logo-icon",children:"NR"}),C.jsx("h1",{children:"NextRep"})]}),C.jsx("h2",{children:"Track Your Fitness Journey"}),C.jsx("p",{className:"login-description",children:"Log workouts, track your progress, and achieve your fitness goals with NextRep."}),t&&C.jsx("div",{className:"error-message",children:t}),C.jsx("button",{className:"login-button",onClick:f,disabled:i,children:i?"Signing in...":C.jsxs(C.Fragment,{children:[C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24px",height:"24px",children:[C.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),C.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),C.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),C.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign in with Google"]})}),C.jsx("div",{className:"login-footer",children:"Start tracking your fitness journey today"})]}),C.jsx("div",{className:"login-background-decoration"})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function _f(e){return e+.5|0}const Oa=(e,t,n)=>Math.max(Math.min(e,n),t);function ch(e){return Oa(_f(e*2.55),0,255)}function Fa(e){return Oa(_f(e*255),0,255)}function Ur(e){return Oa(_f(e/2.55)/100,0,1)}function RA(e){return Oa(_f(e*100),0,100)}const es={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},P_=[..."0123456789ABCDEF"],J3=e=>P_[e&15],t5=e=>P_[(e&240)>>4]+P_[e&15],Qd=e=>(e&240)>>4===(e&15),e5=e=>Qd(e.r)&&Qd(e.g)&&Qd(e.b)&&Qd(e.a);function n5(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&es[e[1]]*17,g:255&es[e[2]]*17,b:255&es[e[3]]*17,a:t===5?es[e[4]]*17:255}:(t===7||t===9)&&(n={r:es[e[1]]<<4|es[e[2]],g:es[e[3]]<<4|es[e[4]],b:es[e[5]]<<4|es[e[6]],a:t===9?es[e[7]]<<4|es[e[8]]:255})),n}const i5=(e,t)=>e<255?t(e):"";function s5(e){var t=e5(e)?J3:t5;return e?"#"+t(e.r)+t(e.g)+t(e.b)+i5(e.a,t):void 0}const r5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function NP(e,t,n){const i=t*Math.min(n,1-n),s=(a,l=(a+e/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function a5(e,t,n){const i=(s,a=(s+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function o5(e,t,n){const i=NP(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function l5(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function _b(e){const n=e.r/255,i=e.g/255,s=e.b/255,a=Math.max(n,i,s),l=Math.min(n,i,s),c=(a+l)/2;let h,f,p;return a!==l&&(p=a-l,f=c>.5?p/(2-a-l):p/(a+l),h=l5(n,i,s,p,a),h=h*60+.5),[h|0,f||0,c]}function bb(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Fa)}function wb(e,t,n){return bb(NP,e,t,n)}function c5(e,t,n){return bb(o5,e,t,n)}function u5(e,t,n){return bb(a5,e,t,n)}function LP(e){return(e%360+360)%360}function h5(e){const t=r5.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?ch(+t[5]):Fa(+t[5]));const s=LP(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=c5(s,a,l):t[1]==="hsv"?i=u5(s,a,l):i=wb(s,a,l),{r:i[0],g:i[1],b:i[2],a:n}}function f5(e,t){var n=_b(e);n[0]=LP(n[0]+t),n=wb(n),e.r=n[0],e.g=n[1],e.b=n[2]}function d5(e){if(!e)return;const t=_b(e),n=t[0],i=RA(t[1]),s=RA(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${Ur(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const DA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},kA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function p5(){const e={},t=Object.keys(kA),n=Object.keys(DA);let i,s,a,l,c;for(i=0;i<t.length;i++){for(l=c=t[i],s=0;s<n.length;s++)a=n[s],c=c.replace(a,DA[a]);a=parseInt(kA[l],16),e[c]=[a>>16&255,a>>8&255,a&255]}return e}let Zd;function g5(e){Zd||(Zd=p5(),Zd.transparent=[0,0,0,0]);const t=Zd[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const m5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function y5(e){const t=m5.exec(e);let n=255,i,s,a;if(t){if(t[7]!==i){const l=+t[7];n=t[8]?ch(l):Oa(l*255,0,255)}return i=+t[1],s=+t[3],a=+t[5],i=255&(t[2]?ch(i):Oa(i,0,255)),s=255&(t[4]?ch(s):Oa(s,0,255)),a=255&(t[6]?ch(a):Oa(a,0,255)),{r:i,g:s,b:a,a:n}}}function v5(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ur(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Av=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,ec=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function _5(e,t,n){const i=ec(Ur(e.r)),s=ec(Ur(e.g)),a=ec(Ur(e.b));return{r:Fa(Av(i+n*(ec(Ur(t.r))-i))),g:Fa(Av(s+n*(ec(Ur(t.g))-s))),b:Fa(Av(a+n*(ec(Ur(t.b))-a))),a:e.a+n*(t.a-e.a)}}function Jd(e,t,n){if(e){let i=_b(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=wb(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function VP(e,t){return e&&Object.assign(t||{},e)}function PA(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Fa(e[3]))):(t=VP(e,{r:0,g:0,b:0,a:1}),t.a=Fa(t.a)),t}function b5(e){return e.charAt(0)==="r"?y5(e):h5(e)}class Uh{constructor(t){if(t instanceof Uh)return t;const n=typeof t;let i;n==="object"?i=PA(t):n==="string"&&(i=n5(t)||g5(t)||b5(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=VP(this._rgb);return t&&(t.a=Ur(t.a)),t}set rgb(t){this._rgb=PA(t)}rgbString(){return this._valid?v5(this._rgb):void 0}hexString(){return this._valid?s5(this._rgb):void 0}hslString(){return this._valid?d5(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let a;const l=n===a?.5:n,c=2*l-1,h=i.a-s.a,f=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;a=1-f,i.r=255&f*i.r+a*s.r+.5,i.g=255&f*i.g+a*s.g+.5,i.b=255&f*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=_5(this._rgb,t._rgb,n)),this}clone(){return new Uh(this.rgb)}alpha(t){return this._rgb.a=Fa(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=_f(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Jd(this._rgb,2,t),this}darken(t){return Jd(this._rgb,2,-t),this}saturate(t){return Jd(this._rgb,1,t),this}desaturate(t){return Jd(this._rgb,1,-t),this}rotate(t){return f5(this._rgb,t),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Vr(){}const w5=(()=>{let e=0;return()=>e++})();function Se(e){return e==null}function mn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function oe(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function si(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ws(e,t){return si(e)?e:t}function ie(e,t){return typeof e>"u"?t:e}const T5=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function je(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Ce(e,t,n,i){let s,a,l;if(mn(e))for(a=e.length,s=0;s<a;s++)t.call(n,e[s],s);else if(oe(e))for(l=Object.keys(e),a=l.length,s=0;s<a;s++)t.call(n,e[l[s]],l[s])}function rg(e,t){let n,i,s,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],a=t[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function ag(e){if(mn(e))return e.map(ag);if(oe(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=ag(e[n[s]]);return t}return e}function BP(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function S5(e,t,n,i){if(!BP(e))return;const s=t[e],a=n[e];oe(s)&&oe(a)?Fh(s,a,i):t[e]=ag(a)}function Fh(e,t,n){const i=mn(t)?t:[t],s=i.length;if(!oe(e))return e;n=n||{};const a=n.merger||S5;let l;for(let c=0;c<s;++c){if(l=i[c],!oe(l))continue;const h=Object.keys(l);for(let f=0,p=h.length;f<p;++f)a(h[f],e,l,n)}return e}function wh(e,t){return Fh(e,t,{merger:E5})}function E5(e,t,n){if(!BP(e))return;const i=t[e],s=n[e];oe(i)&&oe(s)?wh(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ag(s))}const MA={"":e=>e,x:e=>e.x,y:e=>e.y};function x5(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function A5(e){const t=x5(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function kc(e,t){return(MA[t]||(MA[t]=A5(t)))(e)}function Tb(e){return e.charAt(0).toUpperCase()+e.slice(1)}const zh=e=>typeof e<"u",Ka=e=>typeof e=="function",IA=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function C5(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Mn=Math.PI,Es=2*Mn,R5=Es+Mn,og=Number.POSITIVE_INFINITY,D5=Mn/180,ws=Mn/2,Do=Mn/4,OA=Mn*2/3,jP=Math.log10,nr=Math.sign;function Th(e,t,n){return Math.abs(e-t)<n}function NA(e){const t=Math.round(e);e=Th(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(jP(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function k5(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,a)=>s-a).pop(),t}function P5(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Hh(e){return!P5(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function M5(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function I5(e,t,n){let i,s,a;for(i=0,s=e.length;i<s;i++)a=e[i][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function zo(e){return e*(Mn/180)}function O5(e){return e*(180/Mn)}function LA(e){if(!si(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function N5(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*Mn&&(a+=Es),{angle:a,distance:s}}function M_(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function L5(e,t){return(e-t+R5)%Es-Mn}function Xs(e){return(e%Es+Es)%Es}function UP(e,t,n,i){const s=Xs(e),a=Xs(t),l=Xs(n),c=Xs(a-s),h=Xs(l-s),f=Xs(s-a),p=Xs(s-l);return s===a||s===l||i&&a===l||c>h&&f<p}function Li(e,t,n){return Math.max(t,Math.min(n,e))}function V5(e){return Li(e,-32768,32767)}function Na(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Sb(e,t,n){n=n||(l=>e[l]<t);let i=e.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,n(a)?s=a:i=a;return{lo:s,hi:i}}const Ho=(e,t,n,i)=>Sb(e,n,i?s=>{const a=e[s][t];return a<n||a===n&&e[s+1][t]===n}:s=>e[s][t]<n),B5=(e,t,n)=>Sb(e,n,i=>e[i][t]>=n);function j5(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const FP=["push","pop","shift","splice","unshift"];function U5(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),FP.forEach(n=>{const i="_onData"+Tb(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return e._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...a)}),l}})})}function VA(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(FP.forEach(a=>{delete e[a]}),delete e._chartjs)}function zP(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const HP=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function qP(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,HP.call(window,()=>{i=!1,e.apply(t,n)}))}}function F5(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Eb=e=>e==="start"?"left":e==="end"?"right":"center",Yn=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,z5=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function H5(e,t,n){const i=t.length;let s=0,a=i;if(e._sorted){const{iScale:l,vScale:c,_parsed:h}=e,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,p=l.axis,{min:y,max:_,minDefined:b,maxDefined:T}=l.getUserBounds();if(b){if(s=Math.min(Ho(h,p,y).lo,n?i:Ho(t,p,l.getPixelForValue(y)).lo),f){const S=h.slice(0,s+1).reverse().findIndex(x=>!Se(x[c.axis]));s-=Math.max(0,S)}s=Li(s,0,i-1)}if(T){let S=Math.max(Ho(h,l.axis,_,!0).hi+1,n?0:Ho(t,p,l.getPixelForValue(_),!0).hi+1);if(f){const x=h.slice(S-1).findIndex(R=>!Se(R[c.axis]));S+=Math.max(0,x)}a=Li(S,s,i)-s}else a=i-s}return{start:s,count:a}}function q5(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),a}const tp=e=>e===0||e===1,BA=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Es/n)),jA=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Es/n)+1,Sh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*ws)+1,easeOutSine:e=>Math.sin(e*ws),easeInOutSine:e=>-.5*(Math.cos(Mn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>tp(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>tp(e)?e:BA(e,.075,.3),easeOutElastic:e=>tp(e)?e:jA(e,.075,.3),easeInOutElastic(e){return tp(e)?e:e<.5?.5*BA(e*2,.1125,.45):.5+.5*jA(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Sh.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Sh.easeInBounce(e*2)*.5:Sh.easeOutBounce(e*2-1)*.5+.5};function xb(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function UA(e){return xb(e)?e:new Uh(e)}function Cv(e){return xb(e)?e:new Uh(e).saturate(.5).darken(.1).hexString()}const W5=["x","y","borderWidth","radius","tension"],$5=["color","borderColor","backgroundColor"];function G5(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:$5},numbers:{type:"number",properties:W5}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function K5(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const FA=new Map;function Y5(e,t){t=t||{};const n=e+JSON.stringify(t);let i=FA.get(n);return i||(i=new Intl.NumberFormat(e,t),FA.set(n,i)),i}function WP(e,t,n){return Y5(t,n).format(e)}const X5={values(e){return mn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,a=e;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),a=Q5(e,n)}const l=jP(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),WP(e,i,h)}};function Q5(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var $P={formatters:X5};function Z5(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$P.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const il=Object.create(null),I_=Object.create(null);function Eh(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const a=n[i];e=e[a]||(e[a]=Object.create(null))}return e}function Rv(e,t,n){return typeof t=="string"?Fh(Eh(e,t),n):Fh(Eh(e,""),t)}class J5{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Cv(s.backgroundColor),this.hoverBorderColor=(i,s)=>Cv(s.borderColor),this.hoverColor=(i,s)=>Cv(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Rv(this,t,n)}get(t){return Eh(this,t)}describe(t,n){return Rv(I_,t,n)}override(t,n){return Rv(il,t,n)}route(t,n,i,s){const a=Eh(this,t),l=Eh(this,i),c="_"+n;Object.defineProperties(a,{[c]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[c],f=l[s];return oe(h)?Object.assign({},f,h):ie(h,f)},set(h){this[c]=h}}})}apply(t){t.forEach(n=>n(this))}}var cn=new J5({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[G5,K5,Z5]);function t6(e){return!e||Se(e.size)||Se(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function zA(e,t,n,i,s){let a=t[s];return a||(a=t[s]=e.measureText(s).width,n.push(s)),a>i&&(i=a),i}function ko(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function HA(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function O_(e,t,n,i){GP(e,t,n,i,null)}function GP(e,t,n,i,s){let a,l,c,h,f,p,y,_;const b=t.pointStyle,T=t.rotation,S=t.radius;let x=(T||0)*D5;if(b&&typeof b=="object"&&(a=b.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(x),e.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),e.restore();return}if(!(isNaN(S)||S<=0)){switch(e.beginPath(),b){default:s?e.ellipse(n,i,s/2,S,0,0,Es):e.arc(n,i,S,0,Es),e.closePath();break;case"triangle":p=s?s/2:S,e.moveTo(n+Math.sin(x)*p,i-Math.cos(x)*S),x+=OA,e.lineTo(n+Math.sin(x)*p,i-Math.cos(x)*S),x+=OA,e.lineTo(n+Math.sin(x)*p,i-Math.cos(x)*S),e.closePath();break;case"rectRounded":f=S*.516,h=S-f,l=Math.cos(x+Do)*h,y=Math.cos(x+Do)*(s?s/2-f:h),c=Math.sin(x+Do)*h,_=Math.sin(x+Do)*(s?s/2-f:h),e.arc(n-y,i-c,f,x-Mn,x-ws),e.arc(n+_,i-l,f,x-ws,x),e.arc(n+y,i+c,f,x,x+ws),e.arc(n-_,i+l,f,x+ws,x+Mn),e.closePath();break;case"rect":if(!T){h=Math.SQRT1_2*S,p=s?s/2:h,e.rect(n-p,i-h,2*p,2*h);break}x+=Do;case"rectRot":y=Math.cos(x)*(s?s/2:S),l=Math.cos(x)*S,c=Math.sin(x)*S,_=Math.sin(x)*(s?s/2:S),e.moveTo(n-y,i-c),e.lineTo(n+_,i-l),e.lineTo(n+y,i+c),e.lineTo(n-_,i+l),e.closePath();break;case"crossRot":x+=Do;case"cross":y=Math.cos(x)*(s?s/2:S),l=Math.cos(x)*S,c=Math.sin(x)*S,_=Math.sin(x)*(s?s/2:S),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"star":y=Math.cos(x)*(s?s/2:S),l=Math.cos(x)*S,c=Math.sin(x)*S,_=Math.sin(x)*(s?s/2:S),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l),x+=Do,y=Math.cos(x)*(s?s/2:S),l=Math.cos(x)*S,c=Math.sin(x)*S,_=Math.sin(x)*(s?s/2:S),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"line":l=s?s/2:Math.cos(x)*S,c=Math.sin(x)*S,e.moveTo(n-l,i-c),e.lineTo(n+l,i+c);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(x)*(s?s/2:S),i+Math.sin(x)*S);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function qh(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Yg(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Xg(e){e.restore()}function e6(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function n6(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function i6(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Se(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function s6(e,t,n,i,s){if(s.strikethrough||s.underline){const a=e.measureText(i),l=t-a.actualBoundingBoxLeft,c=t+a.actualBoundingBoxRight,h=n-a.actualBoundingBoxAscent,f=n+a.actualBoundingBoxDescent,p=s.strikethrough?(h+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(l,p),e.lineTo(c,p),e.stroke()}}function r6(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Wh(e,t,n,i,s,a={}){const l=mn(t)?t:[t],c=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(e.save(),e.font=s.string,i6(e,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&r6(e,a.backdrop),c&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Se(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(f,n,i,a.maxWidth)),e.fillText(f,n,i,a.maxWidth),s6(e,n,i,f,a),i+=Number(s.lineHeight);e.restore()}function lg(e,t){const{x:n,y:i,w:s,h:a,radius:l}=t;e.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*Mn,Mn,!0),e.lineTo(n,i+a-l.bottomLeft),e.arc(n+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,Mn,ws,!0),e.lineTo(n+s-l.bottomRight,i+a),e.arc(n+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,ws,0,!0),e.lineTo(n+s,i+l.topRight),e.arc(n+s-l.topRight,i+l.topRight,l.topRight,0,-ws,!0),e.lineTo(n+l.topLeft,i)}const a6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,o6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function l6(e,t){const n=(""+e).match(a6);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const c6=e=>+e||0;function KP(e,t){const n={},i=oe(t),s=i?Object.keys(t):t,a=oe(e)?i?l=>ie(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of s)n[l]=c6(a(l));return n}function YP(e){return KP(e,{top:"y",right:"x",bottom:"y",left:"x"})}function mc(e){return KP(e,["topLeft","topRight","bottomLeft","bottomRight"])}function hs(e){const t=YP(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Jn(e,t){e=e||{},t=t||cn.font;let n=ie(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=ie(e.style,t.style);i&&!(""+i).match(o6)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:ie(e.family,t.family),lineHeight:l6(ie(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:ie(e.weight,t.weight),string:""};return s.string=t6(s),s}function ep(e,t,n,i){let s,a,l;for(s=0,a=e.length;s<a;++s)if(l=e[s],l!==void 0&&l!==void 0)return l}function u6(e,t,n){const{min:i,max:s}=e,a=T5(t,(s-i)/2),l=(c,h)=>n&&c===0?0:c+h;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function hl(e,t){return Object.assign(Object.create(e),t)}function Ab(e,t=[""],n,i,s=()=>e[0]){const a=n||e;typeof i>"u"&&(i=JP("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:i,_getTarget:s,override:c=>Ab([c,...e],t,a,i)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete e[0][h],!0},get(c,h){return QP(c,h,()=>v6(h,t,e,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,h){return WA(c).includes(h)},ownKeys(c){return WA(c)},set(c,h,f){const p=c._storage||(c._storage=s());return c[h]=p[h]=f,delete c._keys,!0}})}function Pc(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:XP(e,i),setContext:a=>Pc(e,a,n,i),override:a=>Pc(e.override(a),t,n,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete e[l],!0},get(a,l,c){return QP(a,l,()=>f6(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(a,l,c){return e[l]=c,delete a[l],!0}})}function XP(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Ka(n)?n:()=>n,isIndexable:Ka(i)?i:()=>i}}const h6=(e,t)=>e?e+Tb(t):t,Cb=(e,t)=>oe(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function QP(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function f6(e,t,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=e;let c=i[t];return Ka(c)&&l.isScriptable(t)&&(c=d6(t,c,e,n)),mn(c)&&c.length&&(c=p6(t,c,e,l.isIndexable)),Cb(t,c)&&(c=Pc(c,s,a&&a[t],l)),c}function d6(e,t,n,i){const{_proxy:s,_context:a,_subProxy:l,_stack:c}=n;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let h=t(a,l||i);return c.delete(e),Cb(e,h)&&(h=Rb(s._scopes,s,e,h)),h}function p6(e,t,n,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:c}=n;if(typeof a.index<"u"&&i(e))return t[a.index%t.length];if(oe(t[0])){const h=t,f=s._scopes.filter(p=>p!==h);t=[];for(const p of h){const y=Rb(f,s,e,p);t.push(Pc(y,a,l&&l[e],c))}}return t}function ZP(e,t,n){return Ka(e)?e(t,n):e}const g6=(e,t)=>e===!0?t:typeof e=="string"?kc(t,e):void 0;function m6(e,t,n,i,s){for(const a of t){const l=g6(n,a);if(l){e.add(l);const c=ZP(l._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function Rb(e,t,n,i){const s=t._rootScopes,a=ZP(t._fallback,n,i),l=[...e,...s],c=new Set;c.add(i);let h=qA(c,l,n,a||n,i);return h===null||typeof a<"u"&&a!==n&&(h=qA(c,l,a,h,i),h===null)?!1:Ab(Array.from(c),[""],s,a,()=>y6(t,n,i))}function qA(e,t,n,i,s){for(;n;)n=m6(e,t,n,i,s);return n}function y6(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return mn(s)&&oe(n)?n:s||{}}function v6(e,t,n,i){let s;for(const a of t)if(s=JP(h6(a,e),n),typeof s<"u")return Cb(e,s)?Rb(n,i,e,s):s}function JP(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function WA(e){let t=e._keys;return t||(t=e._keys=_6(e._scopes)),t}function _6(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}const b6=Number.EPSILON||1e-14,Mc=(e,t)=>t<e.length&&!e[t].skip&&e[t],tM=e=>e==="x"?"y":"x";function w6(e,t,n,i){const s=e.skip?t:e,a=t,l=n.skip?t:n,c=M_(a,s),h=M_(l,a);let f=c/(c+h),p=h/(c+h);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const y=i*f,_=i*p;return{previous:{x:a.x-y*(l.x-s.x),y:a.y-y*(l.y-s.y)},next:{x:a.x+_*(l.x-s.x),y:a.y+_*(l.y-s.y)}}}function T6(e,t,n){const i=e.length;let s,a,l,c,h,f=Mc(e,0);for(let p=0;p<i-1;++p)if(h=f,f=Mc(e,p+1),!(!h||!f)){if(Th(t[p],0,b6)){n[p]=n[p+1]=0;continue}s=n[p]/t[p],a=n[p+1]/t[p],c=Math.pow(s,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),n[p]=s*l*t[p],n[p+1]=a*l*t[p])}}function S6(e,t,n="x"){const i=tM(n),s=e.length;let a,l,c,h=Mc(e,0);for(let f=0;f<s;++f){if(l=c,c=h,h=Mc(e,f+1),!c)continue;const p=c[n],y=c[i];l&&(a=(p-l[n])/3,c[`cp1${n}`]=p-a,c[`cp1${i}`]=y-a*t[f]),h&&(a=(h[n]-p)/3,c[`cp2${n}`]=p+a,c[`cp2${i}`]=y+a*t[f])}}function E6(e,t="x"){const n=tM(t),i=e.length,s=Array(i).fill(0),a=Array(i);let l,c,h,f=Mc(e,0);for(l=0;l<i;++l)if(c=h,h=f,f=Mc(e,l+1),!!h){if(f){const p=f[t]-h[t];s[l]=p!==0?(f[n]-h[n])/p:0}a[l]=c?f?nr(s[l-1])!==nr(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}T6(e,s,a),S6(e,a,t)}function np(e,t,n){return Math.max(Math.min(e,n),t)}function x6(e,t){let n,i,s,a,l,c=qh(e[0],t);for(n=0,i=e.length;n<i;++n)l=a,a=c,c=n<i-1&&qh(e[n+1],t),a&&(s=e[n],l&&(s.cp1x=np(s.cp1x,t.left,t.right),s.cp1y=np(s.cp1y,t.top,t.bottom)),c&&(s.cp2x=np(s.cp2x,t.left,t.right),s.cp2y=np(s.cp2y,t.top,t.bottom)))}function A6(e,t,n,i,s){let a,l,c,h;if(t.spanGaps&&(e=e.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")E6(e,s);else{let f=i?e[e.length-1]:e[0];for(a=0,l=e.length;a<l;++a)c=e[a],h=w6(f,c,e[Math.min(a+1,l-(i?0:1))%l],t.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,f=c}t.capBezierPoints&&x6(e,n)}function Db(){return typeof window<"u"&&typeof document<"u"}function kb(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function cg(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Qg=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function C6(e,t){return Qg(e).getPropertyValue(t)}const R6=["top","right","bottom","left"];function Go(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=R6[s];i[a]=parseFloat(e[t+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const D6=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function k6(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:a}=i;let l=!1,c,h;if(D6(s,a,e.target))c=s,h=a;else{const f=t.getBoundingClientRect();c=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:c,y:h,box:l}}function Lo(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=Qg(n),a=s.boxSizing==="border-box",l=Go(s,"padding"),c=Go(s,"border","width"),{x:h,y:f,box:p}=k6(e,n),y=l.left+(p&&c.left),_=l.top+(p&&c.top);let{width:b,height:T}=t;return a&&(b-=l.width+c.width,T-=l.height+c.height),{x:Math.round((h-y)/b*n.width/i),y:Math.round((f-_)/T*n.height/i)}}function P6(e,t,n){let i,s;if(t===void 0||n===void 0){const a=e&&kb(e);if(!a)t=e.clientWidth,n=e.clientHeight;else{const l=a.getBoundingClientRect(),c=Qg(a),h=Go(c,"border","width"),f=Go(c,"padding");t=l.width-f.width-h.width,n=l.height-f.height-h.height,i=cg(c.maxWidth,a,"clientWidth"),s=cg(c.maxHeight,a,"clientHeight")}}return{width:t,height:n,maxWidth:i||og,maxHeight:s||og}}const ip=e=>Math.round(e*10)/10;function M6(e,t,n,i){const s=Qg(e),a=Go(s,"margin"),l=cg(s.maxWidth,e,"clientWidth")||og,c=cg(s.maxHeight,e,"clientHeight")||og,h=P6(e,t,n);let{width:f,height:p}=h;if(s.boxSizing==="content-box"){const _=Go(s,"border","width"),b=Go(s,"padding");f-=b.width+_.width,p-=b.height+_.height}return f=Math.max(0,f-a.width),p=Math.max(0,i?f/i:p-a.height),f=ip(Math.min(f,l,h.maxWidth)),p=ip(Math.min(p,c,h.maxHeight)),f&&!p&&(p=ip(f/2)),(t!==void 0||n!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,f=ip(Math.floor(p*i))),{width:f,height:p}}function $A(e,t,n){const i=t||1,s=Math.floor(e.height*i),a=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(e.currentDevicePixelRatio=i,l.height=s,l.width=a,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const I6=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Db()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function GA(e,t){const n=C6(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Vo(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function O6(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function N6(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},l=Vo(e,s,n),c=Vo(s,a,n),h=Vo(a,t,n),f=Vo(l,c,n),p=Vo(c,h,n);return Vo(f,p,n)}const L6=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},V6=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function yc(e,t,n){return e?L6(t,n):V6()}function eM(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function nM(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function iM(e){return e==="angle"?{between:UP,compare:L5,normalize:Xs}:{between:Na,compare:(t,n)=>t-n,normalize:t=>t}}function KA({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function B6(e,t,n){const{property:i,start:s,end:a}=n,{between:l,normalize:c}=iM(i),h=t.length;let{start:f,end:p,loop:y}=e,_,b;if(y){for(f+=h,p+=h,_=0,b=h;_<b&&l(c(t[f%h][i]),s,a);++_)f--,p--;f%=h,p%=h}return p<f&&(p+=h),{start:f,end:p,loop:y,style:e.style}}function sM(e,t,n){if(!n)return[e];const{property:i,start:s,end:a}=n,l=t.length,{compare:c,between:h,normalize:f}=iM(i),{start:p,end:y,loop:_,style:b}=B6(e,t,n),T=[];let S=!1,x=null,R,V,B;const $=()=>h(s,B,R)&&c(s,B)!==0,z=()=>c(a,R)===0||h(a,B,R),X=()=>S||$(),I=()=>!S||z();for(let D=p,M=p;D<=y;++D)V=t[D%l],!V.skip&&(R=f(V[i]),R!==B&&(S=h(R,s,a),x===null&&X()&&(x=c(R,s)===0?D:M),x!==null&&I()&&(T.push(KA({start:x,end:D,loop:_,count:l,style:b})),x=null),M=D,B=R));return x!==null&&T.push(KA({start:x,end:y,loop:_,count:l,style:b})),T}function rM(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const a=sM(i[s],e.points,t);a.length&&n.push(...a)}return n}function j6(e,t,n,i){let s=0,a=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(a+=s);a>s&&e[a%t].skip;)a--;return a%=t,{start:s,end:a}}function U6(e,t,n,i){const s=e.length,a=[];let l=t,c=e[t],h;for(h=t+1;h<=n;++h){const f=e[h%s];f.skip||f.stop?c.skip||(i=!1,a.push({start:t%s,end:(h-1)%s,loop:i}),t=l=f.stop?h:null):(l=h,c.skip&&(t=h)),c=f}return l!==null&&a.push({start:t%s,end:l%s,loop:i}),a}function F6(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const a=!!e._loop,{start:l,end:c}=j6(n,s,a,i);if(i===!0)return YA(e,[{start:l,end:c,loop:a}],n,t);const h=c<l?c+s:c,f=!!e._fullLoop&&l===0&&c===s-1;return YA(e,U6(n,l,h,f),n,t)}function YA(e,t,n,i){return!i||!i.setContext||!n?t:z6(e,t,n,i)}function z6(e,t,n,i){const s=e._chart.getContext(),a=XA(e.options),{_datasetIndex:l,options:{spanGaps:c}}=e,h=n.length,f=[];let p=a,y=t[0].start,_=y;function b(T,S,x,R){const V=c?-1:1;if(T!==S){for(T+=h;n[T%h].skip;)T-=V;for(;n[S%h].skip;)S+=V;T%h!==S%h&&(f.push({start:T%h,end:S%h,loop:x,style:R}),p=R,y=S%h)}}for(const T of t){y=c?y:T.start;let S=n[y%h],x;for(_=y+1;_<=T.end;_++){const R=n[_%h];x=XA(i.setContext(hl(s,{type:"segment",p0:S,p1:R,p0DataIndex:(_-1)%h,p1DataIndex:_%h,datasetIndex:l}))),H6(x,p)&&b(y,_-1,T.loop,p),S=R,p=x}y<_-1&&b(y,_-1,T.loop,p)}return f}function XA(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function H6(e,t){if(!t)return!1;const n=[],i=function(s,a){return xb(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class q6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const a=n.listeners[s],l=n.duration;a.forEach(c=>c({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=HP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,c=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),c=!0):(a[l]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,i,t,"progress")),a.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=a.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Br=new q6;const QA="transparent",W6={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=UA(e||QA),s=i.valid&&UA(t||QA);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class $6{constructor(t,n,i,s){const a=n[i];s=ep([t.to,s,a,t.from]);const l=ep([t.from,a,s]);this._active=!0,this._fn=t.fn||W6[t.type||typeof l],this._easing=Sh[t.easing]||Sh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=ep([t.to,n,s,t.from]),this._from=ep([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,c=this._to;let h;if(this._active=a!==c&&(l||n<i),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=a;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(a,c,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class aM{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!oe(t))return;const n=Object.keys(cn.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!oe(a))return;const l={};for(const c of n)l[c]=a[c];(mn(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(t,n){const i=n.options,s=K6(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&G6(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,n){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),l=Object.keys(n),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(t,n));continue}const p=n[f];let y=a[f];const _=i.get(f);if(y)if(_&&y.active()){y.update(_,p,c);continue}else y.cancel();if(!_||!_.duration){t[f]=p;continue}a[f]=y=new $6(_,t,f,p),s.push(y)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Br.add(this._chart,i),!0}}function G6(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const a=e[i[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function K6(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function ZA(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,a=n.max===void 0?t:0;return{start:i?a:s,end:i?s:a}}function Y6(e,t,n){if(n===!1)return!1;const i=ZA(e,n),s=ZA(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function X6(e){let t,n,i,s;return oe(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function oM(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,a;for(s=0,a=i.length;s<a;++s)n.push(i[s].index);return n}function JA(e,t,n,i={}){const s=e.keys,a=i.mode==="single";let l,c,h,f;if(t===null)return;let p=!1;for(l=0,c=s.length;l<c;++l){if(h=+s[l],h===n){if(p=!0,i.all)continue;break}f=e.values[h],si(f)&&(a||t===0||nr(t)===nr(f))&&(t+=f)}return!p&&!i.all?0:t}function Q6(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(e),c=new Array(l.length);let h,f,p;for(h=0,f=l.length;h<f;++h)p=l[h],c[h]={[s]:p,[a]:e[p]};return c}function Dv(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function Z6(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function J6(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function t9(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function tC(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const a=e[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function eC(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:a,vScale:l,index:c}=i,h=a.axis,f=l.axis,p=Z6(a,l,i),y=t.length;let _;for(let b=0;b<y;++b){const T=t[b],{[h]:S,[f]:x}=T,R=T._stacks||(T._stacks={});_=R[f]=t9(s,p,S),_[c]=x,_._top=tC(_,l,!0,i.type),_._bottom=tC(_,l,!1,i.type);const V=_._visualValues||(_._visualValues={});V[c]=x}}function kv(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function e9(e,t){return hl(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function n9(e,t,n){return hl(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function th(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const a=s._stacks;if(!a||a[i]===void 0||a[i][n]===void 0)return;delete a[i][n],a[i]._visualValues!==void 0&&a[i]._visualValues[n]!==void 0&&delete a[i]._visualValues[n]}}}const Pv=e=>e==="reset"||e==="none",nC=(e,t)=>t?e:Object.assign({},e),i9=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:oM(n,!0),values:null};class vc{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Dv(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&th(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(y,_,b,T)=>y==="x"?_:y==="r"?T:b,a=n.xAxisID=ie(i.xAxisID,kv(t,"x")),l=n.yAxisID=ie(i.yAxisID,kv(t,"y")),c=n.rAxisID=ie(i.rAxisID,kv(t,"r")),h=n.indexAxis,f=n.iAxisID=s(h,a,l,c),p=n.vAxisID=s(h,l,a,c);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&VA(this._data,this),t._stacked&&th(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(oe(n)){const s=this._cachedMeta;this._data=Q6(n,s)}else if(i!==n){if(i){VA(i,this);const s=this._cachedMeta;th(s),s._parsed=[]}n&&Object.isExtensible(n)&&U5(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=Dv(n.vScale,n),n.stack!==i.stack&&(s=!0,th(n),n.stack=i.stack),this._resyncElements(t),(s||a!==n._stacked)&&(eC(this,n._parsed),n._stacked=Dv(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,c=a.axis;let h=t===0&&n===s.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,y,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{mn(s[t])?_=this.parseArrayData(i,s,t,n):oe(s[t])?_=this.parseObjectData(i,s,t,n):_=this.parsePrimitiveData(i,s,t,n);const b=()=>y[c]===null||f&&y[c]<f[c];for(p=0;p<n;++p)i._parsed[p+t]=y=_[p],h&&(b()&&(h=!1),f=y);i._sorted=h}l&&eC(this,_)}parsePrimitiveData(t,n,i,s){const{iScale:a,vScale:l}=t,c=a.axis,h=l.axis,f=a.getLabels(),p=a===l,y=new Array(s);let _,b,T;for(_=0,b=s;_<b;++_)T=_+i,y[_]={[c]:p||a.parse(f[T],T),[h]:l.parse(n[T],T)};return y}parseArrayData(t,n,i,s){const{xScale:a,yScale:l}=t,c=new Array(s);let h,f,p,y;for(h=0,f=s;h<f;++h)p=h+i,y=n[p],c[h]={x:a.parse(y[0],p),y:l.parse(y[1],p)};return c}parseObjectData(t,n,i,s){const{xScale:a,yScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=new Array(s);let p,y,_,b;for(p=0,y=s;p<y;++p)_=p+i,b=n[_],f[p]={x:a.parse(kc(b,c),_),y:l.parse(kc(b,h),_)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,a=this._cachedMeta,l=n[t.axis],c={keys:oM(s,!0),values:n._stacks[t.axis]._visualValues};return JA(c,l,a.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const a=i[n.axis];let l=a===null?NaN:a;const c=s&&i._stacks[n.axis];s&&c&&(s.values=c,l=JA(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&t===i.iScale,l=s.length,c=this._getOtherScale(t),h=i9(n,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=J6(c);let _,b;function T(){b=s[_];const S=b[c.axis];return!si(b[t.axis])||p>S||y<S}for(_=0;_<l&&!(!T()&&(this.updateRangeFromParsed(f,t,b,h),a));++_);if(a){for(_=l-1;_>=0;--_)if(!T()){this.updateRangeFromParsed(f,t,b,h);break}}return f}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=n.length;s<a;++s)l=n[s][t.axis],si(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=X6(ie(this.options.clip,Y6(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],a=n.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||s.length-c,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,a,c,h),p=c;p<c+h;++p){const y=s[p];y.hidden||(y.active&&f?l.push(y):y.draw(t,a))}for(p=0;p<l.length;++p)l[p].draw(t,a)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=n9(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=e9(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",a=this._cachedDataOpts,l=t+"-"+n,c=a[l],h=this.enableOptionSharing&&zh(i);if(c)return nC(c,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),y=s?[`${t}Hover`,"hover",t,""]:[t,""],_=f.getOptionScopes(this.getDataset(),p),b=Object.keys(cn.elements[t]),T=()=>this.getContext(i,s,n),S=f.resolveNamedOptions(_,b,T,y);return S.$shared&&(S.$shared=h,a[l]=Object.freeze(nC(S,h))),S}_resolveAnimations(t,n,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${n}`,c=a[l];if(c)return c;let h;if(s.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,n),_=p.getOptionScopes(this.getDataset(),y);h=p.createResolver(_,this.getContext(t,i,n))}const f=new aM(s,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Pv(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(n,a)||a!==s;return this.updateSharedOptions(a,n,i),{sharedOptions:a,includeOptions:l}}updateElement(t,n,i,s){Pv(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!Pv(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[c,h,f]of this._syncList)this[c](h,f);this._syncList=[];const s=i.length,a=n.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,n,i=!0){const s=this._cachedMeta,a=s.data,l=t+n;let c;const h=f=>{for(f.length+=n,c=f.length-1;c>=l;c--)f[c]=f[c-n]};for(h(a),c=t;c<l;++c)a[c]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,n),i&&this.updateElements(a,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&th(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ft(vc,"defaults",{}),Ft(vc,"datasetElementType",null),Ft(vc,"dataElementType",null);function s9(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,a=n.length;s<a;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=zP(i.sort((s,a)=>s-a))}return e._cache.$bar}function r9(e){const t=e.iScale,n=s9(t,e.type);let i=t._length,s,a,l,c;const h=()=>{l===32767||l===-32768||(zh(c)&&(i=Math.min(i,Math.abs(l-c)||i)),c=l)};for(s=0,a=n.length;s<a;++s)l=t.getPixelForValue(n[s]),h();for(c=void 0,s=0,a=t.ticks.length;s<a;++s)l=t.getPixelForTick(s),h();return i}function a9(e,t,n,i){const s=n.barThickness;let a,l;return Se(s)?(a=t.min*n.categoryPercentage,l=n.barPercentage):(a=s*i,l=1),{chunk:a/i,ratio:l,start:t.pixels[e]-a/2}}function o9(e,t,n,i){const s=t.pixels,a=s[e];let l=e>0?s[e-1]:null,c=e<s.length-1?s[e+1]:null;const h=n.categoryPercentage;l===null&&(l=a-(c===null?t.end-t.start:c-a)),c===null&&(c=a+a-l);const f=a-(a-Math.min(l,c))/2*h;return{chunk:Math.abs(c-l)/2*h/i,ratio:n.barPercentage,start:f}}function l9(e,t,n,i){const s=n.parse(e[0],i),a=n.parse(e[1],i),l=Math.min(s,a),c=Math.max(s,a);let h=l,f=c;Math.abs(l)>Math.abs(c)&&(h=c,f=l),t[n.axis]=f,t._custom={barStart:h,barEnd:f,start:s,end:a,min:l,max:c}}function lM(e,t,n,i){return mn(e)?l9(e,t,n,i):t[n.axis]=n.parse(e,i),t}function iC(e,t,n,i){const s=e.iScale,a=e.vScale,l=s.getLabels(),c=s===a,h=[];let f,p,y,_;for(f=n,p=n+i;f<p;++f)_=t[f],y={},y[s.axis]=c||s.parse(l[f],f),h.push(lM(_,y,a,f));return h}function Mv(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function c9(e,t,n){return e!==0?nr(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function u9(e){let t,n,i,s,a;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",a="start"):(s="start",a="end"),{start:n,end:i,reverse:t,top:s,bottom:a}}function h9(e,t,n,i){let s=t.borderSkipped;const a={};if(!s){e.borderSkipped=a;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:h,top:f,bottom:p}=u9(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=f:(n._bottom||0)===i?s=p:(a[sC(p,l,c,h)]=!0,s=f)),a[sC(s,l,c,h)]=!0,e.borderSkipped=a}function sC(e,t,n,i){return i?(e=f9(e,t,n),e=rC(e,n,t)):e=rC(e,t,n),e}function f9(e,t,n){return e===t?n:e===n?t:e}function rC(e,t,n){return e==="start"?t:e==="end"?n:e}function d9(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Rp extends vc{parsePrimitiveData(t,n,i,s){return iC(t,n,i,s)}parseArrayData(t,n,i,s){return iC(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:a,vScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=a.axis==="x"?c:h,p=l.axis==="x"?c:h,y=[];let _,b,T,S;for(_=i,b=i+s;_<b;++_)S=n[_],T={},T[a.axis]=a.parse(kc(S,f),_),y.push(lM(kc(S,p),T,l,_));return y}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const a=i._custom;a&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,a=this.getParsed(t),l=a._custom,c=Mv(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),f=c.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:_}=this._getSharedOptions(n,s);for(let b=n;b<n+i;b++){const T=this.getParsed(b),S=a||Se(T[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(b),x=this._calculateBarIndexPixels(b,p),R=(T._stacks||{})[c.axis],V={horizontal:f,base:S.base,enableBorderRadius:!R||Mv(T._custom)||l===R._top||l===R._bottom,x:f?S.head:x.center,y:f?x.center:S.head,height:f?x.size:Math.abs(S.size),width:f?Math.abs(S.size):x.size};_&&(V.options=y||this.resolveDataElementOptions(b,t[b].active?"active":s));const B=V.options||t[b].options;h9(V,B,R,l),d9(V,B,p.ratio),this.updateElement(t[b],b,V,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=i.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(n),h=c&&c[i.axis],f=p=>{const y=p._parsed.find(b=>b[i.axis]===h),_=y&&y[p.vScale.axis];if(Se(_)||isNaN(_))return!0};for(const p of s)if(!(n!==void 0&&f(p))&&((a===!1||l.indexOf(p.stack)===-1||a===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const s=this._getStacks(t,i),a=n!==void 0?s.indexOf(n):-1;return a===-1?s.length-1:a}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let a,l;for(a=0,l=n.data.length;a<l;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const c=t.barThickness;return{min:c||r9(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:a,minBarLength:l}}=this,c=a||0,h=this.getParsed(t),f=h._custom,p=Mv(f);let y=h[n.axis],_=0,b=i?this.applyStack(n,h,i):y,T,S;b!==y&&(_=b-y,b=y),p&&(y=f.barStart,b=f.barEnd-f.barStart,y!==0&&nr(y)!==nr(f.barEnd)&&(_=0),_+=y);const x=!Se(a)&&!p?a:_;let R=n.getPixelForValue(x);if(this.chart.getDataVisibility(t)?T=n.getPixelForValue(_+b):T=R,S=T-R,Math.abs(S)<l){S=c9(S,n,c)*l,y===c&&(R-=S/2);const V=n.getPixelForDecimal(0),B=n.getPixelForDecimal(1),$=Math.min(V,B),z=Math.max(V,B);R=Math.max(Math.min(R,z),$),T=R+S,i&&!p&&(h._stacks[n.axis]._visualValues[s]=n.getValueForPixel(T)-n.getValueForPixel(R))}if(R===n.getPixelForValue(c)){const V=nr(S)*n.getLineWidthForValue(c)/2;R+=V,S-=V}return{size:S,base:R,head:T,center:T+S/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,a=s.skipNull,l=ie(s.maxBarThickness,1/0);let c,h;if(n.grouped){const f=a?this._getStackCount(t):n.stackCount,p=s.barThickness==="flex"?o9(t,n,s,f):a9(t,n,s,f),y=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0);c=p.start+p.chunk*y+p.chunk/2,h=Math.min(l,p.chunk*p.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,n.min*n.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[n.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}Ft(Rp,"id","bar"),Ft(Rp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ft(Rp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Dp extends vc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=n,l=this.chart._animationsDisabled;let{start:c,count:h}=H5(n,s,l);this._drawStart=c,this._drawCount=h,q5(n)&&(c=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},t),this.updateElements(s,c,h,t)}updateElements(t,n,i,s){const a=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(n,s),_=l.axis,b=c.axis,{spanGaps:T,segment:S}=this.options,x=Hh(T)?T:Number.POSITIVE_INFINITY,R=this.chart._animationsDisabled||a||s==="none",V=n+i,B=t.length;let $=n>0&&this.getParsed(n-1);for(let z=0;z<B;++z){const X=t[z],I=R?X:{};if(z<n||z>=V){I.skip=!0;continue}const D=this.getParsed(z),M=Se(D[b]),U=I[_]=l.getPixelForValue(D[_],z),F=I[b]=a||M?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,D,h):D[b],z);I.skip=isNaN(U)||isNaN(F)||M,I.stop=z>0&&Math.abs(D[_]-$[_])>x,S&&(I.parsed=D,I.raw=f.data[z]),y&&(I.options=p||this.resolveDataElementOptions(z,X.active?"active":s)),R||this.updateElement(X,z,I,s),$=D}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Ft(Dp,"id","line"),Ft(Dp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ft(Dp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Po(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Pb{constructor(t){Ft(this,"options");this.options=t||{}}static override(t){Object.assign(Pb.prototype,t)}init(){}formats(){return Po()}parse(){return Po()}format(){return Po()}add(){return Po()}diff(){return Po()}startOf(){return Po()}endOf(){return Po()}}var p9={_date:Pb};function g9(e,t,n,i){const{controller:s,data:a,_sorted:l}=e,c=s._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&l&&a.length){const f=c._reversePixels?B5:Ho;if(i){if(s._sharedOptions){const p=a[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const _=f(a,t,n-y),b=f(a,t,n+y);return{lo:_.lo,hi:b.hi}}}}else{const p=f(a,t,n);if(h){const{vScale:y}=s._cachedMeta,{_parsed:_}=e,b=_.slice(0,p.lo+1).reverse().findIndex(S=>!Se(S[y.axis]));p.lo-=Math.max(0,b);const T=_.slice(p.hi).findIndex(S=>!Se(S[y.axis]));p.hi+=Math.max(0,T)}return p}}return{lo:0,hi:a.length-1}}function Zg(e,t,n,i,s){const a=e.getSortedVisibleDatasetMetas(),l=n[t];for(let c=0,h=a.length;c<h;++c){const{index:f,data:p}=a[c],{lo:y,hi:_}=g9(a[c],t,l,s);for(let b=y;b<=_;++b){const T=p[b];T.skip||i(T,f,b)}}}function m9(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const a=t?Math.abs(i.x-s.x):0,l=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Iv(e,t,n,i,s){const a=[];return!s&&!e.isPointInArea(t)||Zg(e,n,t,function(c,h,f){!s&&!qh(c,e.chartArea,0)||c.inRange(t.x,t.y,i)&&a.push({element:c,datasetIndex:h,index:f})},!0),a}function y9(e,t,n,i){let s=[];function a(l,c,h){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:y}=N5(l,{x:t.x,y:t.y});UP(y,f,p)&&s.push({element:l,datasetIndex:c,index:h})}return Zg(e,n,t,a),s}function v9(e,t,n,i,s,a){let l=[];const c=m9(n);let h=Number.POSITIVE_INFINITY;function f(p,y,_){const b=p.inRange(t.x,t.y,s);if(i&&!b)return;const T=p.getCenterPoint(s);if(!(!!a||e.isPointInArea(T))&&!b)return;const x=c(t,T);x<h?(l=[{element:p,datasetIndex:y,index:_}],h=x):x===h&&l.push({element:p,datasetIndex:y,index:_})}return Zg(e,n,t,f),l}function Ov(e,t,n,i,s,a){return!a&&!e.isPointInArea(t)?[]:n==="r"&&!i?y9(e,t,n,s):v9(e,t,n,i,s,a)}function aC(e,t,n,i,s){const a=[],l=n==="x"?"inXRange":"inYRange";let c=!1;return Zg(e,n,t,(h,f,p)=>{h[l]&&h[l](t[n],s)&&(a.push({element:h,datasetIndex:f,index:p}),c=c||h.inRange(t.x,t.y,s))}),i&&!c?[]:a}var _9={modes:{index(e,t,n,i){const s=Lo(t,e),a=n.axis||"x",l=n.includeInvisible||!1,c=n.intersect?Iv(e,s,a,i,l):Ov(e,s,a,!1,i,l),h=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const p=c[0].index,y=f.data[p];y&&!y.skip&&h.push({element:y,datasetIndex:f.index,index:p})}),h):[]},dataset(e,t,n,i){const s=Lo(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;let c=n.intersect?Iv(e,s,a,i,l):Ov(e,s,a,!1,i,l);if(c.length>0){const h=c[0].datasetIndex,f=e.getDatasetMeta(h).data;c=[];for(let p=0;p<f.length;++p)c.push({element:f[p],datasetIndex:h,index:p})}return c},point(e,t,n,i){const s=Lo(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;return Iv(e,s,a,i,l)},nearest(e,t,n,i){const s=Lo(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;return Ov(e,s,a,n.intersect,i,l)},x(e,t,n,i){const s=Lo(t,e);return aC(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=Lo(t,e);return aC(e,s,"y",n.intersect,i)}}};const cM=["left","top","right","bottom"];function eh(e,t){return e.filter(n=>n.pos===t)}function oC(e,t){return e.filter(n=>cM.indexOf(n.pos)===-1&&n.box.axis===t)}function nh(e,t){return e.sort((n,i)=>{const s=t?i:n,a=t?n:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function b9(e){const t=[];let n,i,s,a,l,c;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:a,options:{stack:l,stackWeight:c=1}}=s,t.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:c});return t}function w9(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:a}=n;if(!i||!cM.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function T9(e,t){const n=w9(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let a,l,c;for(a=0,l=e.length;a<l;++a){c=e[a];const{fullSize:h}=c.box,f=n[c.stack],p=f&&c.stackWeight/f.weight;c.horizontal?(c.width=p?p*i:h&&t.availableWidth,c.height=s):(c.width=i,c.height=p?p*s:h&&t.availableHeight)}return n}function S9(e){const t=b9(e),n=nh(t.filter(f=>f.box.fullSize),!0),i=nh(eh(t,"left"),!0),s=nh(eh(t,"right")),a=nh(eh(t,"top"),!0),l=nh(eh(t,"bottom")),c=oC(t,"x"),h=oC(t,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:s.concat(h).concat(l).concat(c),chartArea:eh(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:a.concat(l).concat(c)}}function lC(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function uM(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function E9(e,t,n,i){const{pos:s,box:a}=n,l=e.maxPadding;if(!oe(s)){n.size&&(e[s]-=n.size);const y=i[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?a.height:a.width),n.size=y.size/y.count,e[s]+=n.size}a.getPadding&&uM(l,a.getPadding());const c=Math.max(0,t.outerWidth-lC(l,e,"left","right")),h=Math.max(0,t.outerHeight-lC(l,e,"top","bottom")),f=c!==e.w,p=h!==e.h;return e.w=c,e.h=h,n.horizontal?{same:f,other:p}:{same:p,other:f}}function x9(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function A9(e,t){const n=t.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(t[l],n[l])}),a}return i(e?["left","right"]:["top","bottom"])}function uh(e,t,n,i){const s=[];let a,l,c,h,f,p;for(a=0,l=e.length,f=0;a<l;++a){c=e[a],h=c.box,h.update(c.width||t.w,c.height||t.h,A9(c.horizontal,t));const{same:y,other:_}=E9(t,n,c,i);f|=y&&s.length,p=p||_,h.fullSize||s.push(c)}return f&&uh(s,t,n,i)||p}function sp(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function cC(e,t,n,i){const s=n.padding;let{x:a,y:l}=t;for(const c of e){const h=c.box,f=i[c.stack]||{placed:0,weight:1},p=c.stackWeight/f.weight||1;if(c.horizontal){const y=t.w*p,_=f.size||h.height;zh(f.start)&&(l=f.start),h.fullSize?sp(h,s.left,l,n.outerWidth-s.right-s.left,_):sp(h,t.left+f.placed,l,y,_),f.start=l,f.placed+=y,l=h.bottom}else{const y=t.h*p,_=f.size||h.width;zh(f.start)&&(a=f.start),h.fullSize?sp(h,a,s.top,_,n.outerHeight-s.bottom-s.top):sp(h,a,t.top+f.placed,_,y),f.start=a,f.placed+=y,a=h.right}}t.x=a,t.y=l}var rs={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=hs(e.options.layout.padding),a=Math.max(t-s.width,0),l=Math.max(n-s.height,0),c=S9(e.boxes),h=c.vertical,f=c.horizontal;Ce(e.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=h.reduce((S,x)=>x.box.options&&x.box.options.display===!1?S:S+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},s);uM(_,hs(i));const b=Object.assign({maxPadding:_,w:a,h:l,x:s.left,y:s.top},s),T=T9(h.concat(f),y);uh(c.fullSize,b,y,T),uh(h,b,y,T),uh(f,b,y,T)&&uh(h,b,y,T),x9(b),cC(c.leftAndTop,b,y,T),b.x+=b.w,b.y+=b.h,cC(c.rightAndBottom,b,y,T),e.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Ce(c.chartArea,S=>{const x=S.box;Object.assign(x,e.chartArea),x.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class hM{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class C9 extends hM{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const kp="$chartjs",R9={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},uC=e=>e===null||e==="";function D9(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[kp]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",uC(s)){const a=GA(e,"width");a!==void 0&&(e.width=a)}if(uC(i))if(e.style.height==="")e.height=e.width/(t||2);else{const a=GA(e,"height");a!==void 0&&(e.height=a)}return e}const fM=I6?{passive:!0}:!1;function k9(e,t,n){e&&e.addEventListener(t,n,fM)}function P9(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,fM)}function M9(e,t){const n=R9[e.type]||e.type,{x:i,y:s}=Lo(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function ug(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function I9(e,t,n){const i=e.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||ug(c.addedNodes,i),l=l&&!ug(c.removedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function O9(e,t,n){const i=e.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||ug(c.removedNodes,i),l=l&&!ug(c.addedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const $h=new Map;let hC=0;function dM(){const e=window.devicePixelRatio;e!==hC&&(hC=e,$h.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function N9(e,t){$h.size||window.addEventListener("resize",dM),$h.set(e,t)}function L9(e){$h.delete(e),$h.size||window.removeEventListener("resize",dM)}function V9(e,t,n){const i=e.canvas,s=i&&kb(i);if(!s)return;const a=qP((c,h)=>{const f=s.clientWidth;n(c,h),f<s.clientWidth&&n()},window),l=new ResizeObserver(c=>{const h=c[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||a(f,p)});return l.observe(s),N9(e,a),l}function Nv(e,t,n){n&&n.disconnect(),t==="resize"&&L9(e)}function B9(e,t,n){const i=e.canvas,s=qP(a=>{e.ctx!==null&&n(M9(a,e))},e);return k9(i,t,s),s}class j9 extends hM{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(D9(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[kp])return!1;const i=n[kp].initial;["height","width"].forEach(a=>{const l=i[a];Se(l)?n.removeAttribute(a):n.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[kp],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),l={attach:I9,detach:O9,resize:V9}[n]||B9;s[n]=l(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Nv,detach:Nv,resize:Nv}[n]||P9)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return M6(t,n,i,s)}isAttached(t){const n=t&&kb(t);return!!(n&&n.isConnected)}}function U9(e){return!Db()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?C9:j9}var mp;let Ja=(mp=class{constructor(){Ft(this,"x");Ft(this,"y");Ft(this,"active",!1);Ft(this,"options");Ft(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return Hh(this.x)&&Hh(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}},Ft(mp,"defaults",{}),Ft(mp,"defaultRoutes"),mp);function F9(e,t){const n=e.options.ticks,i=z9(e),s=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?q9(t):[],l=a.length,c=a[0],h=a[l-1],f=[];if(l>s)return W9(t,f,a,l/s),f;const p=H9(a,t,s);if(l>0){let y,_;const b=l>1?Math.round((h-c)/(l-1)):null;for(rp(t,f,p,Se(b)?0:c-b,c),y=0,_=l-1;y<_;y++)rp(t,f,p,a[y],a[y+1]);return rp(t,f,p,h,Se(b)?t.length:h+b),f}return rp(t,f,p),f}function z9(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function H9(e,t,n){const i=$9(e),s=t.length/n;if(!i)return Math.max(s,1);const a=k5(i);for(let l=0,c=a.length-1;l<c;l++){const h=a[l];if(h>s)return h}return Math.max(s,1)}function q9(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function W9(e,t,n,i){let s=0,a=n[0],l;for(i=Math.ceil(i),l=0;l<e.length;l++)l===a&&(t.push(e[l]),s++,a=n[s*i])}function rp(e,t,n,i,s){const a=ie(i,0),l=Math.min(ie(s,e.length),e.length);let c=0,h,f,p;for(n=Math.ceil(n),s&&(h=s-i,n=h/Math.floor(h/n)),p=a;p<0;)c++,p=Math.round(a+c*n);for(f=Math.max(a,0);f<l;f++)f===p&&(t.push(e[f]),c++,p=Math.round(a+c*n))}function $9(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const G9=e=>e==="left"?"right":e==="right"?"left":e,fC=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,dC=(e,t)=>Math.min(t||e,e);function pC(e,t){const n=[],i=e.length/t,s=e.length;let a=0;for(;a<s;a+=i)n.push(e[Math.floor(a)]);return n}function K9(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),a=e._startPixel,l=e._endPixel,c=1e-6;let h=e.getPixelForTick(s),f;if(!(n&&(i===1?f=Math.max(h-a,l-h):t===0?f=(e.getPixelForTick(1)-h)/2:f=(h-e.getPixelForTick(s-1))/2,h+=s<t?f:-f,h<a-c||h>l+c)))return h}function Y9(e,t){Ce(e,n=>{const i=n.gc,s=i.length/2;let a;if(s>t){for(a=0;a<s;++a)delete n.data[i[a]];i.splice(0,s)}})}function ih(e){return e.drawTicks?e.tickLength:0}function gC(e,t){if(!e.display)return 0;const n=Jn(e.font,t),i=hs(e.padding);return(mn(e.text)?e.text.length:1)*n.lineHeight+i.height}function X9(e,t){return hl(e,{scale:t,type:"scale"})}function Q9(e,t,n){return hl(e,{tick:n,index:t,type:"tick"})}function Z9(e,t,n){let i=Eb(e);return(n&&t!=="right"||!n&&t==="right")&&(i=G9(i)),i}function J9(e,t,n,i){const{top:s,left:a,bottom:l,right:c,chart:h}=e,{chartArea:f,scales:p}=h;let y=0,_,b,T;const S=l-s,x=c-a;if(e.isHorizontal()){if(b=Yn(i,a,c),oe(n)){const R=Object.keys(n)[0],V=n[R];T=p[R].getPixelForValue(V)+S-t}else n==="center"?T=(f.bottom+f.top)/2+S-t:T=fC(e,n,t);_=c-a}else{if(oe(n)){const R=Object.keys(n)[0],V=n[R];b=p[R].getPixelForValue(V)-x+t}else n==="center"?b=(f.left+f.right)/2-x+t:b=fC(e,n,t);T=Yn(i,l,s),y=n==="left"?-ws:ws}return{titleX:b,titleY:T,maxWidth:_,rotation:y}}class $c extends Ja{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=Ws(t,Number.POSITIVE_INFINITY),n=Ws(n,Number.NEGATIVE_INFINITY),i=Ws(i,Number.POSITIVE_INFINITY),s=Ws(s,Number.NEGATIVE_INFINITY),{min:Ws(t,i),max:Ws(n,s),minDefined:si(t),maxDefined:si(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,f=c.length;h<f;++h)l=c[h].controller.getMinMax(this,t),s||(n=Math.min(n,l.min)),a||(i=Math.max(i,l.max));return n=a&&n>i?i:n,i=s&&n>i?n:i,{min:Ws(n,Ws(i,n)),max:Ws(i,Ws(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){je(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=u6(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?pC(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=F9(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){je(this.options.afterUpdate,[this])}beforeSetDimensions(){je(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){je(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),je(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){je(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i],a.label=je(n.callback,[a.value,i,t],this)}afterTickToLabelConversion(){je(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){je(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=dC(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,a=n.maxRotation;let l=s,c,h,f;if(!this._isVisible()||!n.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,b=Li(this.chart.width-y,0,this.maxWidth);c=t.offset?this.maxWidth/i:b/(i-1),y+6>c&&(c=b/(i-(t.offset?.5:1)),h=this.maxHeight-ih(t.grid)-n.padding-gC(t.title,this.chart.options.font),f=Math.sqrt(y*y+_*_),l=O5(Math.min(Math.asin(Li((p.highest.height+6)/c,-1,1)),Math.asin(Li(h/f,-1,1))-Math.asin(Li(_/f,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){je(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){je(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=gC(s,n.options.font);if(c?(t.width=this.maxWidth,t.height=ih(a)+h):(t.height=this.maxHeight,t.width=ih(a)+h),i.display&&this.ticks.length){const{first:f,last:p,widest:y,highest:_}=this._getLabelSizes(),b=i.padding*2,T=zo(this.labelRotation),S=Math.cos(T),x=Math.sin(T);if(c){const R=i.mirror?0:x*y.width+S*_.height;t.height=Math.min(this.maxHeight,t.height+R+b)}else{const R=i.mirror?0:S*y.width+x*_.height;t.width=Math.min(this.maxWidth,t.width+R+b)}this._calculatePadding(f,p,x,S)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:a,padding:l},position:c}=this.options,h=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,b=0;h?f?(_=s*t.width,b=i*n.height):(_=i*t.height,b=s*n.width):a==="start"?b=n.width:a==="end"?_=t.width:a!=="inner"&&(_=t.width/2,b=n.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-y+l)*this.width/(this.width-y),0)}else{let p=n.height/2,y=t.height/2;a==="start"?(p=0,y=t.height):a==="end"&&(p=n.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){je(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)Se(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=pC(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:a}=this,l=[],c=[],h=Math.floor(n/dC(n,i));let f=0,p=0,y,_,b,T,S,x,R,V,B,$,z;for(y=0;y<n;y+=h){if(T=t[y].label,S=this._resolveTickFontOptions(y),s.font=x=S.string,R=a[x]=a[x]||{data:{},gc:[]},V=S.lineHeight,B=$=0,!Se(T)&&!mn(T))B=zA(s,R.data,R.gc,B,T),$=V;else if(mn(T))for(_=0,b=T.length;_<b;++_)z=T[_],!Se(z)&&!mn(z)&&(B=zA(s,R.data,R.gc,B,z),$+=V);l.push(B),c.push($),f=Math.max(B,f),p=Math.max($,p)}Y9(a,n);const X=l.indexOf(f),I=c.indexOf(p),D=M=>({width:l[M]||0,height:c[M]||0});return{first:D(0),last:D(n-1),widest:D(X),highest:D(I),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return V5(this._alignToPixels?ko(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=Q9(this.getContext(),t,i))}return this.$context||(this.$context=X9(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=zo(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,c=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>c*s?c/i:h/s:h*s<c*i?h/i:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:c}=s,h=a.offset,f=this.isHorizontal(),y=this.ticks.length+(h?1:0),_=ih(a),b=[],T=c.setContext(this.getContext()),S=T.display?T.width:0,x=S/2,R=function(q){return ko(i,q,S)};let V,B,$,z,X,I,D,M,U,F,L,N;if(l==="top")V=R(this.bottom),I=this.bottom-_,M=V-x,F=R(t.top)+x,N=t.bottom;else if(l==="bottom")V=R(this.top),F=t.top,N=R(t.bottom)-x,I=V+x,M=this.top+_;else if(l==="left")V=R(this.right),X=this.right-_,D=V-x,U=R(t.left)+x,L=t.right;else if(l==="right")V=R(this.left),U=t.left,L=R(t.right)-x,X=V+x,D=this.left+_;else if(n==="x"){if(l==="center")V=R((t.top+t.bottom)/2+.5);else if(oe(l)){const q=Object.keys(l)[0],Y=l[q];V=R(this.chart.scales[q].getPixelForValue(Y))}F=t.top,N=t.bottom,I=V+x,M=I+_}else if(n==="y"){if(l==="center")V=R((t.left+t.right)/2);else if(oe(l)){const q=Object.keys(l)[0],Y=l[q];V=R(this.chart.scales[q].getPixelForValue(Y))}X=V-x,D=X-_,U=t.left,L=t.right}const ot=ie(s.ticks.maxTicksLimit,y),dt=Math.max(1,Math.ceil(y/ot));for(B=0;B<y;B+=dt){const q=this.getContext(B),Y=a.setContext(q),G=c.setContext(q),ft=Y.lineWidth,j=Y.color,tt=G.dash||[],ct=G.dashOffset,rt=Y.tickWidth,mt=Y.tickColor,Et=Y.tickBorderDash||[],_t=Y.tickBorderDashOffset;$=K9(this,B,h),$!==void 0&&(z=ko(i,$,ft),f?X=D=U=L=z:I=M=F=N=z,b.push({tx1:X,ty1:I,tx2:D,ty2:M,x1:U,y1:F,x2:L,y2:N,width:ft,color:j,borderDash:tt,borderDashOffset:ct,tickWidth:rt,tickColor:mt,tickBorderDash:Et,tickBorderDashOffset:_t}))}return this._ticksLength=y,this._borderValue=V,b}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:f,padding:p,mirror:y}=a,_=ih(i.grid),b=_+p,T=y?-p:b,S=-zo(this.labelRotation),x=[];let R,V,B,$,z,X,I,D,M,U,F,L,N="middle";if(s==="top")X=this.bottom-T,I=this._getXAxisLabelAlignment();else if(s==="bottom")X=this.top+T,I=this._getXAxisLabelAlignment();else if(s==="left"){const dt=this._getYAxisLabelAlignment(_);I=dt.textAlign,z=dt.x}else if(s==="right"){const dt=this._getYAxisLabelAlignment(_);I=dt.textAlign,z=dt.x}else if(n==="x"){if(s==="center")X=(t.top+t.bottom)/2+b;else if(oe(s)){const dt=Object.keys(s)[0],q=s[dt];X=this.chart.scales[dt].getPixelForValue(q)+b}I=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")z=(t.left+t.right)/2-b;else if(oe(s)){const dt=Object.keys(s)[0],q=s[dt];z=this.chart.scales[dt].getPixelForValue(q)}I=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(h==="start"?N="top":h==="end"&&(N="bottom"));const ot=this._getLabelSizes();for(R=0,V=c.length;R<V;++R){B=c[R],$=B.label;const dt=a.setContext(this.getContext(R));D=this.getPixelForTick(R)+a.labelOffset,M=this._resolveTickFontOptions(R),U=M.lineHeight,F=mn($)?$.length:1;const q=F/2,Y=dt.color,G=dt.textStrokeColor,ft=dt.textStrokeWidth;let j=I;l?(z=D,I==="inner"&&(R===V-1?j=this.options.reverse?"left":"right":R===0?j=this.options.reverse?"right":"left":j="center"),s==="top"?f==="near"||S!==0?L=-F*U+U/2:f==="center"?L=-ot.highest.height/2-q*U+U:L=-ot.highest.height+U/2:f==="near"||S!==0?L=U/2:f==="center"?L=ot.highest.height/2-q*U:L=ot.highest.height-F*U,y&&(L*=-1),S!==0&&!dt.showLabelBackdrop&&(z+=U/2*Math.sin(S))):(X=D,L=(1-F)*U/2);let tt;if(dt.showLabelBackdrop){const ct=hs(dt.backdropPadding),rt=ot.heights[R],mt=ot.widths[R];let Et=L-ct.top,_t=0-ct.left;switch(N){case"middle":Et-=rt/2;break;case"bottom":Et-=rt;break}switch(I){case"center":_t-=mt/2;break;case"right":_t-=mt;break;case"inner":R===V-1?_t-=mt:R>0&&(_t-=mt/2);break}tt={left:_t,top:Et,width:mt+ct.width,height:rt+ct.height,color:dt.backdropColor}}x.push({label:$,font:M,textOffset:L,options:{rotation:S,color:Y,strokeColor:G,strokeWidth:ft,textAlign:j,textBaseline:N,translation:[z,X],backdrop:tt}})}return x}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-zo(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),c=t+a,h=l.widest.width;let f,p;return n==="left"?s?(p=this.right+a,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-c,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p=this.left)):n==="right"?s?(p=this.left+a,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+c,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:a,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,a,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const c=(h,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(n.display)for(a=0,l=s.length;a<l;++a){const h=s[a];n.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,y,_;this.isHorizontal()?(f=ko(t,this.left,l)-l/2,p=ko(t,this.right,c)+c/2,y=_=h):(y=ko(t,this.top,l)-l/2,_=ko(t,this.bottom,c)+c/2,f=p=h),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(f,y),n.lineTo(p,_),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Yg(i,s);const a=this.getLabelItems(t);for(const l of a){const c=l.options,h=l.font,f=l.label,p=l.textOffset;Wh(i,f,0,p,h,c)}s&&Xg(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const a=Jn(i.font),l=hs(i.padding),c=i.align;let h=a.lineHeight/2;n==="bottom"||n==="center"||oe(n)?(h+=l.bottom,mn(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:p,maxWidth:y,rotation:_}=J9(this,h,n,c);Wh(t,i.text,0,0,a,{color:i.color,maxWidth:y,rotation:_,textAlign:Z9(c,n,s),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=ie(t.grid&&t.grid.z,-1),s=ie(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==$c.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=n.length;a<l;++a){const c=n[a];c[i]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Jn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ap{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;nH(n)&&(i=this.register(n));const s=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,tH(t,l,i),this.override&&cn.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in cn[s]&&(delete cn[s][i],this.override&&delete il[i])}}function tH(e,t,n){const i=Fh(Object.create(null),[n?cn.get(n):{},cn.get(t),e.defaults]);cn.set(t,i),e.defaultRoutes&&eH(t,e.defaultRoutes),e.descriptors&&cn.describe(t,e.descriptors)}function eH(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),a=[e].concat(i).join("."),l=t[n].split("."),c=l.pop(),h=l.join(".");cn.route(a,s,h,c)})}function nH(e){return"id"in e&&"defaults"in e}class iH{constructor(){this.controllers=new ap(vc,"datasets",!0),this.elements=new ap(Ja,"elements"),this.plugins=new ap(Object,"plugins"),this.scales=new ap($c,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):Ce(s,l=>{const c=i||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,n,i){const s=Tb(t);je(i["before"+s],[],i),n[t](i),je(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Ks=new iH;class sH{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(a,t,n,i);return n==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,i,s){s=s||{};for(const a of t){const l=a.plugin,c=l[i],h=[n,s,a.options];if(je(c,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=ie(i.options&&i.options.plugins,{}),a=rH(i);return s===!1&&!n?[]:oH(t,a,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function rH(e){const t={},n=[],i=Object.keys(Ks.plugins.items);for(let a=0;a<i.length;a++)n.push(Ks.getPlugin(i[a]));const s=e.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function aH(e,t){return!t&&e===!1?null:e===!0?{}:e}function oH(e,{plugins:t,localIds:n},i,s){const a=[],l=e.getContext();for(const c of t){const h=c.id,f=aH(i[h],s);f!==null&&a.push({plugin:c,options:lH(e.config,{plugin:c,local:n[h]},f,l)})}return a}function lH(e,{plugin:t,local:n},i,s){const a=e.pluginScopeKeys(t),l=e.getOptionScopes(i,a);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function N_(e,t){const n=cn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function cH(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function uH(e,t){return e===t?"_index_":"_value_"}function mC(e){if(e==="x"||e==="y"||e==="r")return e}function hH(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function L_(e,...t){if(mC(e))return e;for(const n of t){const i=n.axis||hH(n.position)||e.length>1&&mC(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function yC(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function fH(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return yC(e,"x",n[0])||yC(e,"y",n[0])}return{}}function dH(e,t){const n=il[e.type]||{scales:{}},i=t.scales||{},s=N_(e.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!oe(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=L_(l,c,fH(l,e),cn.scales[c.type]),f=uH(h,s),p=n.scales||{};a[l]=wh(Object.create(null),[{axis:h},c,p[h],p[f]])}),e.data.datasets.forEach(l=>{const c=l.type||e.type,h=l.indexAxis||N_(c,t),p=(il[c]||{}).scales||{};Object.keys(p).forEach(y=>{const _=cH(y,h),b=l[_+"AxisID"]||_;a[b]=a[b]||Object.create(null),wh(a[b],[{axis:_},i[b],p[y]])})}),Object.keys(a).forEach(l=>{const c=a[l];wh(c,[cn.scales[c.type],cn.scale])}),a}function pM(e){const t=e.options||(e.options={});t.plugins=ie(t.plugins,{}),t.scales=dH(e,t)}function gM(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function pH(e){return e=e||{},e.data=gM(e.data),pM(e),e}const vC=new Map,mM=new Set;function op(e,t){let n=vC.get(e);return n||(n=t(),vC.set(e,n),mM.add(n)),n}const sh=(e,t,n)=>{const i=kc(t,n);i!==void 0&&e.add(i)};class gH{constructor(t){this._config=pH(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=gM(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),pM(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return op(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return op(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return op(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return op(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:a}=this,l=this._cachedScopes(t,i),c=l.get(n);if(c)return c;const h=new Set;n.forEach(p=>{t&&(h.add(t),p.forEach(y=>sh(h,t,y))),p.forEach(y=>sh(h,s,y)),p.forEach(y=>sh(h,il[a]||{},y)),p.forEach(y=>sh(h,cn,y)),p.forEach(y=>sh(h,I_,y))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),mM.has(n)&&l.set(n,f),f}chartOptionScopes(){const{options:t,type:n}=this;return[t,il[n]||{},cn.datasets[n]||{},{type:n},cn,I_]}resolveNamedOptions(t,n,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=_C(this._resolverCache,t,s);let h=l;if(yH(l,n)){a.$shared=!1,i=Ka(i)?i():i;const f=this.createResolver(t,i,c);h=Pc(l,i,f)}for(const f of n)a[f]=h[f];return a}createResolver(t,n,i=[""],s){const{resolver:a}=_C(this._resolverCache,t,i);return oe(n)?Pc(a,n,void 0,s):a}}function _C(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let a=i.get(s);return a||(a={resolver:Ab(t,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,a)),a}const mH=e=>oe(e)&&Object.getOwnPropertyNames(e).some(t=>Ka(e[t]));function yH(e,t){const{isScriptable:n,isIndexable:i}=XP(e);for(const s of t){const a=n(s),l=i(s),c=(l||a)&&e[s];if(a&&(Ka(c)||mH(c))||l&&mn(c))return!0}return!1}var vH="4.4.8";const _H=["top","bottom","left","right","chartArea"];function bC(e,t){return e==="top"||e==="bottom"||_H.indexOf(e)===-1&&t==="x"}function wC(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function TC(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),je(n&&n.onComplete,[e],t)}function bH(e){const t=e.chart,n=t.options.animation;je(n&&n.onProgress,[e],t)}function yM(e){return Db()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Pp={},SC=e=>{const t=yM(e);return Object.values(Pp).filter(n=>n.canvas===t).pop()};function wH(e,t,n){const i=Object.keys(e);for(const s of i){const a=+s;if(a>=t){const l=e[s];delete e[s],(n>0||a>t)&&(e[a+n]=l)}}}function TH(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function lp(e,t,n){return e.options.clip?e[n]:t[n]}function SH(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:lp(n,t,"left"),right:lp(n,t,"right"),top:lp(i,t,"top"),bottom:lp(i,t,"bottom")}:t}var Ca;let Gc=(Ca=class{static register(...t){Ks.add(...t),EC()}static unregister(...t){Ks.remove(...t),EC()}constructor(t,n){const i=this.config=new gH(n),s=yM(t),a=SC(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||U9(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),h=c&&c.canvas,f=h&&h.height,p=h&&h.width;if(this.id=w5(),this.ctx=c,this.canvas=h,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=F5(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],Pp[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Br.listen(this,"complete",TC),Br.listen(this,"progress",bH),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:a}=this;return Se(t)?n&&a?a:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ks}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$A(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return HA(this.canvas,this.ctx),this}stop(){return Br.stop(this),this}resize(t,n){Br.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,n,a),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,$A(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),je(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ce(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let a=[];n&&(a=a.concat(Object.keys(n).map(l=>{const c=n[l],h=L_(l,c),f=h==="r",p=h==="x";return{options:c,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),Ce(a,l=>{const c=l.options,h=c.id,f=L_(h,c),p=ie(c.type,l.dtype);(c.position===void 0||bC(c.position,f)!==bC(l.dposition))&&(c.position=l.dposition),s[h]=!0;let y=null;if(h in i&&i[h].type===p)y=i[h];else{const _=Ks.getScale(p);y=new _({id:h,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,t)}),Ce(s,(l,c)=>{l||delete i[c]}),Ce(i,l=>{rs.configure(this,l,l.options),rs.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,a)=>s.index-a.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(wC("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const a=n[i];let l=this.getDatasetMeta(i);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=a.indexAxis||N_(c,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Ks.getController(c),{datasetElementType:f,dataElementType:p}=cn.datasets[c];Object.assign(h,{dataElementType:Ks.getElement(p),datasetElementType:f&&Ks.getElement(f)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Ce(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:y}=this.getDatasetMeta(f),_=!s&&a.indexOf(y)===-1;y.buildOrUpdateElements(_),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||Ce(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(wC("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Ce(this.scales,t=>{rs.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!IA(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of n){const l=i==="_removeElements"?-a:a;wH(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<n;a++)if(!IA(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;rs.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Ce(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ka(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Br.has(this)?this.attached&&!Br.running(this)&&Br.start(this):(this.draw(),TC({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,s=!i.disabled,a=SH(t,this.chartArea),l={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(s&&Yg(n,{left:i.left===!1?0:a.left-i.left,right:i.right===!1?this.width:a.right+i.right,top:i.top===!1?0:a.top-i.top,bottom:i.bottom===!1?this.height:a.bottom+i.bottom}),t.controller.draw(),s&&Xg(n),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(t){return qh(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const a=_9.modes[n];return typeof a=="function"?a(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=hl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,s);zh(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Br.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),HA(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Pp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(a,l)=>{n.addEventListener(this,a,l),t[a]=l},s=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};Ce(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(h,f)=>{n.addEventListener(this,h,f),t[h]=f},s=(h,f)=>{t[h]&&(n.removeEventListener(this,h,f),delete t[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():l()}unbindEvents(){Ce(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Ce(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let a,l,c,h;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,h=t.length;c<h;++c){l=t[c];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!rg(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,a=(h,f)=>h.filter(p=>!f.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=a(n,t),c=i?t:a(t,n);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:a}=this,l=n,c=this._getActiveElements(t,s,i,l),h=C5(t),f=TH(t,this._lastEvent,i,h);i&&(this._lastEvent=null,je(a.onHover,[t,c,this],this),h&&je(a.onClick,[t,c,this],this));const p=!rg(c,s);return(p||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=f,p}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}},Ft(Ca,"defaults",cn),Ft(Ca,"instances",Pp),Ft(Ca,"overrides",il),Ft(Ca,"registry",Ks),Ft(Ca,"version",vH),Ft(Ca,"getChart",SC),Ca);function EC(){return Ce(Gc.instances,e=>e._plugins.invalidate())}function vM(e,t,n=t){e.lineCap=ie(n.borderCapStyle,t.borderCapStyle),e.setLineDash(ie(n.borderDash,t.borderDash)),e.lineDashOffset=ie(n.borderDashOffset,t.borderDashOffset),e.lineJoin=ie(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ie(n.borderWidth,t.borderWidth),e.strokeStyle=ie(n.borderColor,t.borderColor)}function EH(e,t,n){e.lineTo(n.x,n.y)}function xH(e){return e.stepped?e6:e.tension||e.cubicInterpolationMode==="monotone"?n6:EH}function _M(e,t,n={}){const i=e.length,{start:s=0,end:a=i-1}=n,{start:l,end:c}=t,h=Math.max(s,l),f=Math.min(a,c),p=s<l&&a<l||s>c&&a>c;return{count:i,start:h,loop:t.loop,ilen:f<h&&!p?i+f-h:f-h}}function AH(e,t,n,i){const{points:s,options:a}=t,{count:l,start:c,loop:h,ilen:f}=_M(s,n,i),p=xH(a);let{move:y=!0,reverse:_}=i||{},b,T,S;for(b=0;b<=f;++b)T=s[(c+(_?f-b:b))%l],!T.skip&&(y?(e.moveTo(T.x,T.y),y=!1):p(e,S,T,_,a.stepped),S=T);return h&&(T=s[(c+(_?f:0))%l],p(e,S,T,_,a.stepped)),!!h}function CH(e,t,n,i){const s=t.points,{count:a,start:l,ilen:c}=_M(s,n,i),{move:h=!0,reverse:f}=i||{};let p=0,y=0,_,b,T,S,x,R;const V=$=>(l+(f?c-$:$))%a,B=()=>{S!==x&&(e.lineTo(p,x),e.lineTo(p,S),e.lineTo(p,R))};for(h&&(b=s[V(0)],e.moveTo(b.x,b.y)),_=0;_<=c;++_){if(b=s[V(_)],b.skip)continue;const $=b.x,z=b.y,X=$|0;X===T?(z<S?S=z:z>x&&(x=z),p=(y*p+$)/++y):(B(),e.lineTo($,z),T=X,y=0,S=x=z),R=z}B()}function V_(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?CH:AH}function RH(e){return e.stepped?O6:e.tension||e.cubicInterpolationMode==="monotone"?N6:Vo}function DH(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),vM(e,t.options),e.stroke(s)}function kH(e,t,n,i){const{segments:s,options:a}=t,l=V_(t);for(const c of s)vM(e,a,c.style),e.beginPath(),l(e,t,c,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const PH=typeof Path2D=="function";function MH(e,t,n,i){PH&&!t.options.segment?DH(e,t,n,i):kH(e,t,n,i)}class Qs extends Ja{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;A6(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=F6(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],a=this.points,l=rM(this,{property:n,start:s,end:s});if(!l.length)return;const c=[],h=RH(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:y,end:_}=l[f],b=a[y],T=a[_];if(b===T){c.push(b);continue}const S=Math.abs((s-b[n])/(T[n]-b[n])),x=h(b,T,S,i.stepped);x[n]=t[n],c.push(x)}return c.length===1?c[0]:c}pathSegment(t,n,i){return V_(this)(t,this,n,i)}path(t,n,i){const s=this.segments,a=V_(this);let l=this._loop;n=n||0,i=i||this.points.length-n;for(const c of s)l&=a(t,this,c,{start:n,end:n+i-1});return!!l}draw(t,n,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),MH(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ft(Qs,"id","line"),Ft(Qs,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ft(Qs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ft(Qs,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function xC(e,t,n,i){const s=e.options,{[n]:a}=e.getProps([n],i);return Math.abs(t-a)<s.radius+s.hitRadius}class _c extends Ja{constructor(n){super();Ft(this,"parsed");Ft(this,"skip");Ft(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const a=this.options,{x:l,y:c}=this.getProps(["x","y"],s);return Math.pow(n-l,2)+Math.pow(i-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(n,i){return xC(this,n,"x",i)}inYRange(n,i){return xC(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!qh(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,O_(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ft(_c,"id","point"),Ft(_c,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ft(_c,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function bM(e,t){const{x:n,y:i,base:s,width:a,height:l}=e.getProps(["x","y","base","width","height"],t);let c,h,f,p,y;return e.horizontal?(y=l/2,c=Math.min(n,s),h=Math.max(n,s),f=i-y,p=i+y):(y=a/2,c=n-y,h=n+y,f=Math.min(i,s),p=Math.max(i,s)),{left:c,top:f,right:h,bottom:p}}function La(e,t,n,i){return e?0:Li(t,n,i)}function IH(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,a=YP(i);return{t:La(s.top,a.top,0,n),r:La(s.right,a.right,0,t),b:La(s.bottom,a.bottom,0,n),l:La(s.left,a.left,0,t)}}function OH(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,a=mc(s),l=Math.min(t,n),c=e.borderSkipped,h=i||oe(s);return{topLeft:La(!h||c.top||c.left,a.topLeft,0,l),topRight:La(!h||c.top||c.right,a.topRight,0,l),bottomLeft:La(!h||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:La(!h||c.bottom||c.right,a.bottomRight,0,l)}}function NH(e){const t=bM(e),n=t.right-t.left,i=t.bottom-t.top,s=IH(e,n/2,i/2),a=OH(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Lv(e,t,n,i){const s=t===null,a=n===null,c=e&&!(s&&a)&&bM(e,i);return c&&(s||Na(t,c.left,c.right))&&(a||Na(n,c.top,c.bottom))}function LH(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function VH(e,t){e.rect(t.x,t.y,t.w,t.h)}function Vv(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-i,l=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+a,h:e.h+l,radius:e.radius}}class Mp extends Ja{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:l}=NH(this),c=LH(l.radius)?lg:VH;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),c(t,Vv(l,n,a)),t.clip(),c(t,Vv(a,-n,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,Vv(a,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Lv(this,t,n,i)}inXRange(t,n){return Lv(this,t,null,n)}inYRange(t,n){return Lv(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(n+s)/2:n,y:a?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Ft(Mp,"id","bar"),Ft(Mp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ft(Mp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function BH(e,t,n){const i=e.segments,s=e.points,a=t.points,l=[];for(const c of i){let{start:h,end:f}=c;f=Mb(h,f,s);const p=B_(n,s[h],s[f],c.loop);if(!t.segments){l.push({source:c,target:p,start:s[h],end:s[f]});continue}const y=rM(t,p);for(const _ of y){const b=B_(n,a[_.start],a[_.end],_.loop),T=sM(c,s,b);for(const S of T)l.push({source:S,target:_,start:{[n]:AC(p,b,"start",Math.max)},end:{[n]:AC(p,b,"end",Math.min)}})}}return l}function B_(e,t,n,i){if(i)return;let s=t[e],a=n[e];return e==="angle"&&(s=Xs(s),a=Xs(a)),{property:e,start:s,end:a}}function jH(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,a=[];return t.segments.forEach(({start:l,end:c})=>{c=Mb(l,c,s);const h=s[l],f=s[c];i!==null?(a.push({x:h.x,y:i}),a.push({x:f.x,y:i})):n!==null&&(a.push({x:n,y:h.y}),a.push({x:n,y:f.y}))}),a}function Mb(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function AC(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function wM(e,t){let n=[],i=!1;return mn(e)?(i=!0,n=e):n=jH(e,t),n.length?new Qs({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function CC(e){return e&&e.fill!==!1}function UH(e,t,n){let s=e[t].fill;const a=[t];let l;if(!n)return s;for(;s!==!1&&a.indexOf(s)===-1;){if(!si(s))return s;if(l=e[s],!l)return!1;if(l.visible)return s;a.push(s),s=l.fill}return!1}function FH(e,t,n){const i=WH(e);if(oe(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return si(s)&&Math.floor(s)===s?zH(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function zH(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function HH(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:oe(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function qH(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:oe(e)?i=e.value:i=t.getBaseValue(),i}function WH(e){const t=e.options,n=t.fill;let i=ie(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function $H(e){const{scale:t,index:n,line:i}=e,s=[],a=i.segments,l=i.points,c=GH(t,n);c.push(wM({x:null,y:t.bottom},i));for(let h=0;h<a.length;h++){const f=a[h];for(let p=f.start;p<=f.end;p++)KH(s,l[p],c)}return new Qs({points:s,options:{}})}function GH(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const a=i[s];if(a.index===t)break;a.hidden||n.unshift(a.dataset)}return n}function KH(e,t,n){const i=[];for(let s=0;s<n.length;s++){const a=n[s],{first:l,last:c,point:h}=YH(a,t,"x");if(!(!h||l&&c)){if(l)i.unshift(h);else if(e.push(h),!c)break}}e.push(...i)}function YH(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],a=e.segments,l=e.points;let c=!1,h=!1;for(let f=0;f<a.length;f++){const p=a[f],y=l[p.start][n],_=l[p.end][n];if(Na(s,y,_)){c=s===y,h=s===_;break}}return{first:c,last:h,point:i}}class TM{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:a,radius:l}=this;return n=n||{start:0,end:Es},t.arc(s,a,l,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,a=t.angle;return{x:n+Math.cos(a)*s,y:i+Math.sin(a)*s,angle:a}}}function XH(e){const{chart:t,fill:n,line:i}=e;if(si(n))return QH(t,n);if(n==="stack")return $H(e);if(n==="shape")return!0;const s=ZH(e);return s instanceof TM?s:wM(s,i)}function QH(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function ZH(e){return(e.scale||{}).getPointPositionForValue?tq(e):JH(e)}function JH(e){const{scale:t={},fill:n}=e,i=HH(n,t);if(si(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function tq(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,a=i.reverse?t.max:t.min,l=qH(n,t,a),c=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,a);return new TM({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<s;++h)c.push(t.getPointPositionForValue(h,l));return c}function Bv(e,t,n){const i=XH(t),{line:s,scale:a,axis:l}=t,c=s.options,h=c.fill,f=c.backgroundColor,{above:p=f,below:y=f}=h||{};i&&s.points.length&&(Yg(e,n),eq(e,{line:s,target:i,above:p,below:y,area:n,scale:a,axis:l}),Xg(e))}function eq(e,t){const{line:n,target:i,above:s,below:a,area:l,scale:c}=t,h=n._loop?"angle":t.axis;e.save(),h==="x"&&a!==s&&(RC(e,i,l.top),DC(e,{line:n,target:i,color:s,scale:c,property:h}),e.restore(),e.save(),RC(e,i,l.bottom)),DC(e,{line:n,target:i,color:a,scale:c,property:h}),e.restore()}function RC(e,t,n){const{segments:i,points:s}=t;let a=!0,l=!1;e.beginPath();for(const c of i){const{start:h,end:f}=c,p=s[h],y=s[Mb(h,f,s)];a?(e.moveTo(p.x,p.y),a=!1):(e.lineTo(p.x,n),e.lineTo(p.x,p.y)),l=!!t.pathSegment(e,c,{move:l}),l?e.closePath():e.lineTo(y.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function DC(e,t){const{line:n,target:i,property:s,color:a,scale:l}=t,c=BH(n,i,s);for(const{source:h,target:f,start:p,end:y}of c){const{style:{backgroundColor:_=a}={}}=h,b=i!==!0;e.save(),e.fillStyle=_,nq(e,l,b&&B_(s,p,y)),e.beginPath();const T=!!n.pathSegment(e,h);let S;if(b){T?e.closePath():kC(e,i,y,s);const x=!!i.pathSegment(e,f,{move:T,reverse:!0});S=T&&x,S||kC(e,i,p,s)}e.closePath(),e.fill(S?"evenodd":"nonzero"),e.restore()}}function nq(e,t,n){const{top:i,bottom:s}=t.chart.chartArea,{property:a,start:l,end:c}=n||{};a==="x"&&(e.beginPath(),e.rect(l,i,c-l,s-i),e.clip())}function kC(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var iq={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let a,l,c,h;for(l=0;l<i;++l)a=e.getDatasetMeta(l),c=a.dataset,h=null,c&&c.options&&c instanceof Qs&&(h={visible:e.isDatasetVisible(l),index:l,fill:FH(c,l,i),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=h,s.push(h);for(l=0;l<i;++l)h=s[l],!(!h||h.fill===!1)&&(h.fill=UH(s,l,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let l=s.length-1;l>=0;--l){const c=s[l].$filler;c&&(c.line.updateControlPoints(a,c.axis),i&&c.fill&&Bv(e.ctx,c,a))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const a=i[s].$filler;CC(a)&&Bv(e.ctx,a,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!CC(i)||n.drawTime!=="beforeDatasetDraw"||Bv(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const PC=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},sq=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class MC extends Ja{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=je(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Jn(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=PC(i,a);let f,p;n.font=s.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,c,h)+10):(p=this.maxHeight,f=this._fitCols(l,s,c,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=s+c;let y=t;a.textAlign="left",a.textBaseline="middle";let _=-1,b=-p;return this.legendItems.forEach((T,S)=>{const x=i+n/2+a.measureText(T.text).width;(S===0||f[f.length-1]+x+2*c>l)&&(y+=p,f[f.length-(S>0?0:1)]=0,b+=p,_++),h[S]={left:0,top:b,row:_,width:x,height:s},f[f.length-1]+=x+c}),y}_fitCols(t,n,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-t;let y=c,_=0,b=0,T=0,S=0;return this.legendItems.forEach((x,R)=>{const{itemWidth:V,itemHeight:B}=rq(i,n,a,x,s);R>0&&b+B+2*c>p&&(y+=_+c,f.push({width:_,height:b}),T+=_+c,S++,_=b=0),h[R]={left:T,top:b,col:S,width:V,height:B},_=Math.max(_,V),b+=B+c}),y+=_,f.push({width:_,height:b}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:a}}=this,l=yc(a,this.left,this.width);if(this.isHorizontal()){let c=0,h=Yn(i,this.left+s,this.right-this.lineWidths[c]);for(const f of n)c!==f.row&&(c=f.row,h=Yn(i,this.left+s,this.right-this.lineWidths[c])),f.top+=this.top+t+s,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+s}else{let c=0,h=Yn(i,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const f of n)f.col!==c&&(c=f.col,h=Yn(i,this.top+t+s,this.bottom-this.columnSizes[c].height)),f.top=h,f.left+=this.left+s,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Yg(t,this),this._draw(),Xg(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:a,labels:l}=t,c=cn.color,h=yc(t.rtl,this.left,this.width),f=Jn(l.font),{padding:p}=l,y=f.size,_=y/2;let b;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:T,boxHeight:S,itemHeight:x}=PC(l,y),R=function(X,I,D){if(isNaN(T)||T<=0||isNaN(S)||S<0)return;s.save();const M=ie(D.lineWidth,1);if(s.fillStyle=ie(D.fillStyle,c),s.lineCap=ie(D.lineCap,"butt"),s.lineDashOffset=ie(D.lineDashOffset,0),s.lineJoin=ie(D.lineJoin,"miter"),s.lineWidth=M,s.strokeStyle=ie(D.strokeStyle,c),s.setLineDash(ie(D.lineDash,[])),l.usePointStyle){const U={radius:S*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:M},F=h.xPlus(X,T/2),L=I+_;GP(s,U,F,L,l.pointStyleWidth&&T)}else{const U=I+Math.max((y-S)/2,0),F=h.leftForLtr(X,T),L=mc(D.borderRadius);s.beginPath(),Object.values(L).some(N=>N!==0)?lg(s,{x:F,y:U,w:T,h:S,radius:L}):s.rect(F,U,T,S),s.fill(),M!==0&&s.stroke()}s.restore()},V=function(X,I,D){Wh(s,D.text,X,I+x/2,f,{strikethrough:D.hidden,textAlign:h.textAlign(D.textAlign)})},B=this.isHorizontal(),$=this._computeTitleHeight();B?b={x:Yn(a,this.left+p,this.right-i[0]),y:this.top+p+$,line:0}:b={x:this.left+p,y:Yn(a,this.top+$+p,this.bottom-n[0].height),line:0},eM(this.ctx,t.textDirection);const z=x+p;this.legendItems.forEach((X,I)=>{s.strokeStyle=X.fontColor,s.fillStyle=X.fontColor;const D=s.measureText(X.text).width,M=h.textAlign(X.textAlign||(X.textAlign=l.textAlign)),U=T+_+D;let F=b.x,L=b.y;h.setWidth(this.width),B?I>0&&F+U+p>this.right&&(L=b.y+=z,b.line++,F=b.x=Yn(a,this.left+p,this.right-i[b.line])):I>0&&L+z>this.bottom&&(F=b.x=F+n[b.line].width+p,b.line++,L=b.y=Yn(a,this.top+$+p,this.bottom-n[b.line].height));const N=h.x(F);if(R(N,L,X),F=z5(M,F+T+_,B?F+U:this.right,t.rtl),V(h.x(F),L,X),B)b.x+=U+p;else if(typeof X.text!="string"){const ot=f.lineHeight;b.y+=SM(X,ot)+p}else b.y+=z}),nM(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=Jn(n.font),s=hs(n.padding);if(!n.display)return;const a=yc(t.rtl,this.left,this.width),l=this.ctx,c=n.position,h=i.size/2,f=s.top+h;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+f,y=Yn(t.align,y,this.right-_);else{const T=this.columnSizes.reduce((S,x)=>Math.max(S,x.height),0);p=f+Yn(t.align,this.top,this.bottom-T-t.labels.padding-this._computeTitleHeight())}const b=Yn(c,y,y+_);l.textAlign=a.textAlign(Eb(c)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,Wh(l,n.text,b,p,i)}_computeTitleHeight(){const t=this.options.title,n=Jn(t.font),i=hs(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,a;if(Na(t,this.left,this.right)&&Na(n,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],Na(t,s.left,s.left+s.width)&&Na(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!lq(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=sq(s,i);s&&!a&&je(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!a&&je(n.onHover,[t,i,this],this)}else i&&je(n.onClick,[t,i,this],this)}}function rq(e,t,n,i,s){const a=aq(i,e,t,n),l=oq(s,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function aq(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),t+n.size/2+i.measureText(s).width}function oq(e,t,n){let i=e;return typeof t.text!="string"&&(i=SM(t,n)),i}function SM(e,t){const n=e.text?e.text.length:0;return t*n}function lq(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Ib={id:"legend",_element:MC,start(e,t,n){const i=e.legend=new MC({ctx:e.ctx,options:n,chart:e});rs.configure(e,i,n),rs.addBox(e,i)},stop(e){rs.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;rs.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(n?0:void 0),p=hs(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(c||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class EM extends Ja{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=mn(i.text)?i.text.length:1;this._padding=hs(i.padding);const a=s*Jn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:a,options:l}=this,c=l.align;let h=0,f,p,y;return this.isHorizontal()?(p=Yn(c,i,a),y=n+t,f=a-i):(l.position==="left"?(p=i+t,y=Yn(c,s,n),h=Mn*-.5):(p=a-t,y=Yn(c,n,s),h=Mn*.5),f=s-n),{titleX:p,titleY:y,maxWidth:f,rotation:h}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=Jn(n.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:h,rotation:f}=this._drawArgs(a);Wh(t,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:f,textAlign:Eb(n.align),textBaseline:"middle",translation:[l,c]})}}function cq(e,t){const n=new EM({ctx:e.ctx,options:t,chart:e});rs.configure(e,n,t),rs.addBox(e,n),e.titleBlock=n}var Ob={id:"title",_element:EM,start(e,t,n){cq(e,n)},stop(e){const t=e.titleBlock;rs.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;rs.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hh={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,a=0;for(t=0,n=e.length;t<n;++t){const c=e[t].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),s+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:s/a}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=e.length;a<l;++a){const h=e[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=M_(t,f);p<s&&(s=p,c=h)}}if(c){const h=c.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function Gs(e,t){return t&&(mn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function jr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function uq(e,t){const{element:n,datasetIndex:i,index:s}=t,a=e.getDatasetMeta(i).controller,{label:l,value:c}=a.getLabelAndValue(s);return{chart:e,label:l,parsed:a.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function IC(e,t){const n=e.chart.ctx,{body:i,footer:s,title:a}=e,{boxWidth:l,boxHeight:c}=t,h=Jn(t.bodyFont),f=Jn(t.titleFont),p=Jn(t.footerFont),y=a.length,_=s.length,b=i.length,T=hs(t.padding);let S=T.height,x=0,R=i.reduce(($,z)=>$+z.before.length+z.lines.length+z.after.length,0);if(R+=e.beforeBody.length+e.afterBody.length,y&&(S+=y*f.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),R){const $=t.displayColors?Math.max(c,h.lineHeight):h.lineHeight;S+=b*$+(R-b)*h.lineHeight+(R-1)*t.bodySpacing}_&&(S+=t.footerMarginTop+_*p.lineHeight+(_-1)*t.footerSpacing);let V=0;const B=function($){x=Math.max(x,n.measureText($).width+V)};return n.save(),n.font=f.string,Ce(e.title,B),n.font=h.string,Ce(e.beforeBody.concat(e.afterBody),B),V=t.displayColors?l+2+t.boxPadding:0,Ce(i,$=>{Ce($.before,B),Ce($.lines,B),Ce($.after,B)}),V=0,n.font=p.string,Ce(e.footer,B),n.restore(),x+=T.width,{width:x,height:S}}function hq(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function fq(e,t,n,i){const{x:s,width:a}=i,l=n.caretSize+n.caretPadding;if(e==="left"&&s+a+l>t.width||e==="right"&&s-a-l<0)return!0}function dq(e,t,n,i){const{x:s,width:a}=n,{width:l,chartArea:{left:c,right:h}}=e;let f="center";return i==="center"?f=s<=(c+h)/2?"left":"right":s<=a/2?f="left":s>=l-a/2&&(f="right"),fq(f,e,t,n)&&(f="center"),f}function OC(e,t,n){const i=n.yAlign||t.yAlign||hq(e,n);return{xAlign:n.xAlign||t.xAlign||dq(e,t,n,i),yAlign:i}}function pq(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function gq(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function NC(e,t,n,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=e,{xAlign:c,yAlign:h}=n,f=s+a,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:b}=mc(l);let T=pq(t,c);const S=gq(t,h,f);return h==="center"?c==="left"?T+=f:c==="right"&&(T-=f):c==="left"?T-=Math.max(p,_)+s:c==="right"&&(T+=Math.max(y,b)+s),{x:Li(T,0,i.width-t.width),y:Li(S,0,i.height-t.height)}}function cp(e,t,n){const i=hs(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function LC(e){return Gs([],jr(e))}function mq(e,t,n){return hl(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function VC(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const xM={beforeTitle:Vr,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Vr,beforeBody:Vr,beforeLabel:Vr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Se(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Vr,afterBody:Vr,beforeFooter:Vr,footer:Vr,afterFooter:Vr};function vi(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?xM[t].call(n,i):s}class j_ extends Ja{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,a=new aM(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=mq(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=vi(i,"beforeTitle",this,t),a=vi(i,"title",this,t),l=vi(i,"afterTitle",this,t);let c=[];return c=Gs(c,jr(s)),c=Gs(c,jr(a)),c=Gs(c,jr(l)),c}getBeforeBody(t,n){return LC(vi(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return Ce(t,a=>{const l={before:[],lines:[],after:[]},c=VC(i,a);Gs(l.before,jr(vi(c,"beforeLabel",this,a))),Gs(l.lines,vi(c,"label",this,a)),Gs(l.after,jr(vi(c,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(t,n){return LC(vi(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=vi(i,"beforeFooter",this,t),a=vi(i,"footer",this,t),l=vi(i,"afterFooter",this,t);let c=[];return c=Gs(c,jr(s)),c=Gs(c,jr(a)),c=Gs(c,jr(l)),c}_createItems(t){const n=this._active,i=this.chart.data,s=[],a=[],l=[];let c=[],h,f;for(h=0,f=n.length;h<f;++h)c.push(uq(this.chart,n[h]));return t.filter&&(c=c.filter((p,y,_)=>t.filter(p,y,_,i))),t.itemSort&&(c=c.sort((p,y)=>t.itemSort(p,y,i))),Ce(c,p=>{const y=VC(t.callbacks,p);s.push(vi(y,"labelColor",this,p)),a.push(vi(y,"labelPointStyle",this,p)),l.push(vi(y,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=hh[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=IC(this,i),f=Object.assign({},c,h),p=OC(this.chart,i,f),y=NC(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const a=this.getCaretPosition(t,i,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:y}=mc(c),{x:_,y:b}=t,{width:T,height:S}=n;let x,R,V,B,$,z;return a==="center"?($=b+S/2,s==="left"?(x=_,R=x-l,B=$+l,z=$-l):(x=_+T,R=x+l,B=$-l,z=$+l),V=x):(s==="left"?R=_+Math.max(h,p)+l:s==="right"?R=_+T-Math.max(f,y)-l:R=this.caretX,a==="top"?(B=b,$=B-l,x=R-l,V=R+l):(B=b+S,$=B+l,x=R+l,V=R-l),z=B),{x1:x,x2:R,x3:V,y1:B,y2:$,y3:z}}drawTitle(t,n,i){const s=this.title,a=s.length;let l,c,h;if(a){const f=yc(i.rtl,this.x,this.width);for(t.x=cp(this,i.titleAlign,i),n.textAlign=f.textAlign(i.titleAlign),n.textBaseline="middle",l=Jn(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<a;++h)n.fillText(s[h],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,h+1===a&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,n,i,s,a){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=a,p=Jn(a.bodyFont),y=cp(this,"left",a),_=s.x(y),b=h<p.lineHeight?(p.lineHeight-h)/2:0,T=n.y+b;if(a.usePointStyle){const S={radius:Math.min(f,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},x=s.leftForLtr(_,f)+f/2,R=T+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,O_(t,S,x,R),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,O_(t,S,x,R)}else{t.lineWidth=oe(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const S=s.leftForLtr(_,f),x=s.leftForLtr(s.xPlus(_,1),f-2),R=mc(l.borderRadius);Object.values(R).some(V=>V!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,lg(t,{x:S,y:T,w:f,h,radius:R}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),lg(t,{x,y:T+1,w:f-2,h:h-2,radius:R}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(S,T,f,h),t.strokeRect(S,T,f,h),t.fillStyle=l.backgroundColor,t.fillRect(x,T+1,f-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:f,boxPadding:p}=i,y=Jn(i.bodyFont);let _=y.lineHeight,b=0;const T=yc(i.rtl,this.x,this.width),S=function(D){n.fillText(D,T.x(t.x+b),t.y+_/2),t.y+=_+a},x=T.textAlign(l);let R,V,B,$,z,X,I;for(n.textAlign=l,n.textBaseline="middle",n.font=y.string,t.x=cp(this,x,i),n.fillStyle=i.bodyColor,Ce(this.beforeBody,S),b=c&&x!=="right"?l==="center"?f/2+p:f+2+p:0,$=0,X=s.length;$<X;++$){for(R=s[$],V=this.labelTextColors[$],n.fillStyle=V,Ce(R.before,S),B=R.lines,c&&B.length&&(this._drawColorBox(n,t,$,T,i),_=Math.max(y.lineHeight,h)),z=0,I=B.length;z<I;++z)S(B[z]),_=y.lineHeight;Ce(R.after,S)}b=0,_=y.lineHeight,Ce(this.afterBody,S),t.y-=a}drawFooter(t,n,i){const s=this.footer,a=s.length;let l,c;if(a){const h=yc(i.rtl,this.x,this.width);for(t.x=cp(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=Jn(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,c=0;c<a;++c)n.fillText(s[c],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:a,yAlign:l}=this,{x:c,y:h}=t,{width:f,height:p}=i,{topLeft:y,topRight:_,bottomLeft:b,bottomRight:T}=mc(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+y,h),l==="top"&&this.drawCaret(t,n,i,s),n.lineTo(c+f-_,h),n.quadraticCurveTo(c+f,h,c+f,h+_),l==="center"&&a==="right"&&this.drawCaret(t,n,i,s),n.lineTo(c+f,h+p-T),n.quadraticCurveTo(c+f,h+p,c+f-T,h+p),l==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(c+b,h+p),n.quadraticCurveTo(c,h+p,c,h+p-b),l==="center"&&a==="left"&&this.drawCaret(t,n,i,s),n.lineTo(c,h+y),n.quadraticCurveTo(c,h,c+y,h),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=hh[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=IC(this,t),h=Object.assign({},l,this._size),f=OC(n,t,h),p=NC(t,h,f,n);(s._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=hs(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,s,n),eM(t,n.textDirection),a.y+=l.top,this.drawTitle(a,t,n),this.drawBody(a,t,n),this.drawFooter(a,t,n),nM(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:c,index:h})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[h],index:h}}),a=!rg(i,s),l=this._positionChanged(s,n);(a||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(t,a,n,i),c=this._positionChanged(l,t),h=n||!rg(l,a)||c;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),h}_getActiveElements(t,n,i,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:i,caretY:s,options:a}=this,l=hh[a.position].call(this,t,n);return l!==!1&&(i!==l.x||s!==l.y)}}Ft(j_,"positioners",hh);var Nb={id:"tooltip",_element:j_,positioners:hh,afterInit(e,t,n){n&&(e.tooltip=new j_({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xM},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const yq=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function vq(e,t,n,i){const s=e.indexOf(t);if(s===-1)return yq(e,t,n,i);const a=e.lastIndexOf(t);return s!==a?n:s}const _q=(e,t)=>e===null?null:Li(Math.round(e),0,t);function BC(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Gh extends $c{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:a}of n)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Se(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:vq(i,t,ie(n,t),this._addedLabels),_q(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=t===0&&n===a.length-1?a:a.slice(t,n+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=n;l++)s.push({value:l});return s}getLabelForValue(t){return BC.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Ft(Gh,"id","category"),Ft(Gh,"defaults",{ticks:{callback:BC}});function bq(e,t){const n=[],{bounds:s,step:a,min:l,max:c,precision:h,count:f,maxTicks:p,maxDigits:y,includeBounds:_}=e,b=a||1,T=p-1,{min:S,max:x}=t,R=!Se(l),V=!Se(c),B=!Se(f),$=(x-S)/(y+1);let z=NA((x-S)/T/b)*b,X,I,D,M;if(z<1e-14&&!R&&!V)return[{value:S},{value:x}];M=Math.ceil(x/z)-Math.floor(S/z),M>T&&(z=NA(M*z/T/b)*b),Se(h)||(X=Math.pow(10,h),z=Math.ceil(z*X)/X),s==="ticks"?(I=Math.floor(S/z)*z,D=Math.ceil(x/z)*z):(I=S,D=x),R&&V&&a&&M5((c-l)/a,z/1e3)?(M=Math.round(Math.min((c-l)/z,p)),z=(c-l)/M,I=l,D=c):B?(I=R?l:I,D=V?c:D,M=f-1,z=(D-I)/M):(M=(D-I)/z,Th(M,Math.round(M),z/1e3)?M=Math.round(M):M=Math.ceil(M));const U=Math.max(LA(z),LA(I));X=Math.pow(10,Se(h)?U:h),I=Math.round(I*X)/X,D=Math.round(D*X)/X;let F=0;for(R&&(_&&I!==l?(n.push({value:l}),I<l&&F++,Th(Math.round((I+F*z)*X)/X,l,jC(l,$,e))&&F++):I<l&&F++);F<M;++F){const L=Math.round((I+F*z)*X)/X;if(V&&L>c)break;n.push({value:L})}return V&&_&&D!==c?n.length&&Th(n[n.length-1].value,c,jC(c,$,e))?n[n.length-1].value=c:n.push({value:c}):(!V||D===c)&&n.push({value:D}),n}function jC(e,t,{horizontal:n,minRotation:i}){const s=zo(i),a=(n?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+e).length;return Math.min(t/a,l)}class wq extends $c{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Se(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=h=>s=n?s:h,c=h=>a=i?a:h;if(t){const h=nr(s),f=nr(a);h<0&&f<0?c(0):h>0&&f>0&&l(0)}if(s===a){let h=a===0?1:Math.abs(a*.05);c(a+h),t||l(s-h)}this.min=s,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,l=bq(s,a);return t.bounds==="ticks"&&I5(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return WP(t,this.chart.options.locale,this.options.ticks.format)}}class Kh extends wq{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=si(t)?t:0,this.max=si(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=zo(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Ft(Kh,"id","linear"),Ft(Kh,"defaults",{ticks:{callback:$P.formatters.numeric}});const Jg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},wi=Object.keys(Jg);function UC(e,t){return e-t}function FC(e,t){if(Se(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:a}=e._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),si(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(Hh(a)||a===!0)?n.startOf(l,"isoWeek",a):n.startOf(l,s)),+l)}function zC(e,t,n,i){const s=wi.length;for(let a=wi.indexOf(e);a<s-1;++a){const l=Jg[wi[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(c*l.size))<=i)return wi[a]}return wi[s-1]}function Tq(e,t,n,i,s){for(let a=wi.length-1;a>=wi.indexOf(n);a--){const l=wi[a];if(Jg[l].common&&e._adapter.diff(s,i,l)>=t-1)return l}return wi[n?wi.indexOf(n):0]}function Sq(e){for(let t=wi.indexOf(e)+1,n=wi.length;t<n;++t)if(Jg[wi[t]].common)return wi[t]}function HC(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=Sb(n,t),a=n[i]>=t?n[i]:n[s];e[a]=!0}}function Eq(e,t,n,i){const s=e._adapter,a=+s.startOf(t[0].value,i),l=t[t.length-1].value;let c,h;for(c=a;c<=l;c=+s.add(c,1,i))h=n[c],h>=0&&(t[h].major=!0);return t}function qC(e,t,n){const i=[],s={},a=t.length;let l,c;for(l=0;l<a;++l)c=t[l],s[c]=l,i.push({value:c,major:!1});return a===0||!n?i:Eq(e,i,s,n)}class hg extends $c{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new p9._date(t.adapters.date);s.init(n),wh(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:FC(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!c&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!c)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=si(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),a=si(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,c=j5(s,a,l);return this._unit=n.unit||(i.autoSkip?zC(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):Tq(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Sq(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),qC(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=Li(n,0,l),i=Li(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||zC(a.minUnit,n,i,this._getLabelCapacity(n)),c=ie(s.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=Hh(h)||h===!0,p={};let y=n,_,b;if(f&&(y=+t.startOf(y,"isoWeek",h)),y=+t.startOf(y,f?"day":l),t.diff(i,n,l)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+l);const T=s.ticks.source==="data"&&this.getDataTimestamps();for(_=y,b=0;_<i;_=+t.add(_,c,l),b++)HC(p,_,T);return(_===i||s.bounds==="ticks"||b===1)&&HC(p,_,T),Object.keys(p).sort(UC).map(S=>+S)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,a=this._unit,l=n||s[a];return this._adapter.format(t,l)}_tickFormatFunction(t,n,i,s){const a=this.options,l=a.ticks.callback;if(l)return je(l,[t,n,i],this);const c=a.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&c[h],y=f&&c[f],_=i[n],b=f&&y&&_&&_.major;return this._adapter.format(t,s||(b?y:p))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=zo(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*a+c*l,h:i*l+c*a}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,a=this._tickFormatFunction(t,0,qC(this,[t],this._majorUnit),s),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(FC(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return zP(t.sort(UC))}}Ft(hg,"id","time"),Ft(hg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function up(e,t,n){let i=0,s=e.length-1,a,l,c,h;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=Ho(e,"pos",t)),{pos:a,time:c}=e[i],{pos:l,time:h}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=Ho(e,"time",t)),{time:a,pos:c}=e[i],{time:l,pos:h}=e[s]);const f=l-a;return f?c+(h-c)*(t-a)/f:c}class WC extends hg{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=up(n,this.min),this._tableRange=up(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],a=[];let l,c,h,f,p;for(l=0,c=t.length;l<c;++l)f=t[l],f>=n&&f<=i&&s.push(f);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)p=s[l+1],h=s[l-1],f=s[l],Math.round((p+h)/2)!==f&&a.push({time:f,pos:l/(c-1)});return a}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(up(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return up(this._table,i*this._tableRange+this._minPos,!0)}}Ft(WC,"id","timeseries"),Ft(WC,"defaults",hg.defaults);const AM="label";function $C(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function xq(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function CM(e,t){e.labels=t}function RM(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:AM;const i=[];e.datasets=t.map(s=>{const a=e.datasets.find(l=>l[n]===s[n]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function Aq(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:AM;const n={labels:[],datasets:[]};return CM(n,e.labels),RM(n,e.datasets,t),n}function Cq(e,t){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:l,data:c,options:h,plugins:f=[],fallbackContent:p,updateMode:y,..._}=e,b=P.useRef(null),T=P.useRef(null),S=()=>{b.current&&(T.current=new Gc(b.current,{type:l,data:Aq(c,a),options:h&&{...h},plugins:f}),$C(t,T.current))},x=()=>{$C(t,null),T.current&&(T.current.destroy(),T.current=null)};return P.useEffect(()=>{!s&&T.current&&h&&xq(T.current,h)},[s,h]),P.useEffect(()=>{!s&&T.current&&CM(T.current.config.data,c.labels)},[s,c.labels]),P.useEffect(()=>{!s&&T.current&&c.datasets&&RM(T.current.config.data,c.datasets,a)},[s,c.datasets]),P.useEffect(()=>{T.current&&(s?(x(),setTimeout(S)):T.current.update(y))},[s,h,c.labels,c.datasets,y]),P.useEffect(()=>{T.current&&(x(),setTimeout(S))},[l]),P.useEffect(()=>(S(),()=>x()),[]),Oe.createElement("canvas",{ref:b,role:"img",height:n,width:i,..._},p)}const Rq=P.forwardRef(Cq);function DM(e,t){return Gc.register(t),P.forwardRef((n,i)=>Oe.createElement(Rq,{...n,ref:i,type:e}))}const Lb=DM("line",Dp),Dq=DM("bar",Rp);Gc.register(Gh,Kh,_c,Qs,Ob,Nb,Ib);const kq=()=>{var b;const e=Ds(),[t,n]=P.useState(null),[i,s]=P.useState({totalWorkouts:0,totalVolume:0,totalWeightLogs:0,weightChange:null,lastWorkout:{date:null,name:null},currentWeight:null,recentWorkouts:[],recentWeights:[]}),[a,l]=P.useState([]);P.useEffect(()=>{const T=ei.onAuthStateChanged(S=>{S&&(n(S),c(S.uid))});return()=>T()},[]);const c=async T=>{try{const S=os(ls,"users",T),x=await Ss(S);if(!x.exists()){console.error("User document does not exist");return}const R=x.data(),V=R.workouts||[],B=R.weightLogs||[],$=[...V].sort((F,L)=>{const N=h(F.date);return h(L.date)-N}),z=[...B].sort((F,L)=>{const N=h(F.date);return h(L.date)-N});let X=155;z.length>0&&(X=z[0].weight);let I=0;$.forEach(F=>{F.exercises&&Array.isArray(F.exercises)&&F.exercises.forEach(L=>{L.sets&&Array.isArray(L.sets)&&L.sets.forEach(N=>{const ot=parseInt(N.reps)||0;let dt;N.weight==="bodyweight"||N.weight===" bodyweight"?dt=Math.round(X*.25):dt=parseInt(N.weight)||0,I+=ot*dt})})});const D=F=>{if(!F||F.length<2)return null;const L=new Date,N=new Date(L);N.setDate(L.getDate()-L.getDay()),N.setHours(0,0,0,0);const ot=F.filter(dt=>h(dt.date)>=N).sort((dt,q)=>h(dt.date)-h(q.date));if(ot.length>=2){const dt=ot[0],q=ot[ot.length-1],Y=h(dt.date),ft=(h(q.date)-Y)/(1e3*60*60*24);if(ft===0)return 0;const j=q.weight-dt.weight,tt=j/ft;return parseFloat(j.toFixed(1))}if(F.length>=2){const dt=F[0].weight,q=F[1].weight;return parseFloat((dt-q).toFixed(1))}return null},M=[...z].reverse().slice(-10).map(F=>({date:f(F.date),weight:F.weight}));l(M);const U=D(z);s({totalWorkouts:V.length,totalVolume:I,totalWeightLogs:B.length,weightChange:U,lastWorkout:$.length>0?{date:p($[0].date),name:$[0].name||"Unnamed Workout"}:{date:null,name:null},currentWeight:z.length>0?z[0].weight:null,recentWorkouts:$.slice(0,4),recentWeights:z.slice(0,3)})}catch(S){console.error("Error fetching dashboard data:",S)}},h=T=>{if(typeof T=="object"&&T.seconds)return new Date(T.seconds*1e3);if(typeof T=="string"&&T.match(/^\d{4}-\d{2}-\d{2}$/)){const[S,x,R]=T.split("-").map(Number);return new Date(S,x-1,R)}return new Date(T)},f=T=>h(T).toLocaleDateString("en-US",{month:"short",day:"numeric"}),p=T=>`${h(T).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`,y={labels:a.map(T=>T.date),datasets:[{label:"Weight (lbs)",data:a.map(T=>T.weight),borderColor:"#FF5722",backgroundColor:"rgba(255, 87, 34, 0.1)",tension:.3,fill:!0}]},_={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#333",bodyColor:"#666",borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,padding:8,displayColors:!1,callbacks:{label:function(T){return`${T.parsed.y} lbs`}}}},scales:{y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:10}}},x:{grid:{display:!1},ticks:{font:{size:10}}}}};return C.jsxs("div",{className:"dashboard-container",children:[C.jsxs("div",{className:"dashboard-header",children:[C.jsxs("div",{className:"dashboard-title",children:[C.jsx("div",{className:"dashboard-logo",children:"NR"}),C.jsx("h1",{children:"Next Rep"})]}),C.jsxs("div",{className:"welcome-text",children:["Welcome Back, ",((b=t==null?void 0:t.displayName)==null?void 0:b.split(" ")[0])||"Parker"]}),C.jsxs("div",{className:"quick-actions",children:[C.jsx("button",{onClick:()=>e("/log-workout"),className:"action-btn",children:"Log Workout"}),C.jsx("button",{onClick:()=>e("/log-weight"),className:"action-btn",children:"Log Weight"}),C.jsx("button",{onClick:()=>e("/progress-tracker"),className:"action-btn",children:"Progress"})]})]}),C.jsxs("div",{className:"dashboard-stats",children:[C.jsxs("div",{className:"stat-card",children:[C.jsx("div",{className:"stat-title",children:"Total Workouts"}),C.jsx("div",{className:"stat-value",children:i.totalWorkouts})]}),C.jsxs("div",{className:"stat-card",children:[C.jsx("div",{className:"stat-title",children:"Total Volume"}),C.jsxs("div",{className:"stat-value",children:[Math.floor(i.totalVolume).toLocaleString(),C.jsx("span",{className:"stat-unit",children:"lbs"})]})]}),C.jsxs("div",{className:"stat-card",children:[C.jsx("div",{className:"stat-title",children:"Total Weight Logs"}),C.jsx("div",{className:"stat-value",children:i.totalWeightLogs})]}),C.jsxs("div",{className:"stat-card",children:[C.jsxs("div",{className:"stat-title",children:["Weekly Weight Trend",C.jsx("span",{className:"info-tooltip",title:"Calculated from your first and most recent weight logs of the current week. If you have fewer than 2 logs this week, it shows the change between your last two entries.",children:""})]}),C.jsx("div",{className:"stat-value weight-trend",children:i.weightChange!==null?C.jsxs("span",{className:i.weightChange>0?"positive":"negative",children:[i.weightChange>0?"+":"",i.weightChange,C.jsx("span",{className:"stat-unit",children:"lbs"})]}):"No data"})]}),C.jsxs("div",{className:"stat-card",children:[C.jsx("div",{className:"stat-title",children:"Last Workout"}),C.jsx("div",{className:"stat-value last-workout",children:i.lastWorkout.date?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"workout-date",children:i.lastWorkout.date}),C.jsxs("div",{className:"workout-name",children:['"',i.lastWorkout.name,'"']})]}):"No workouts"})]})]}),C.jsxs("div",{className:"dashboard-sections",children:[C.jsxs("div",{className:"dashboard-section",children:[C.jsx("div",{className:"section-header",children:C.jsx("h2",{children:"Strength Training"})}),C.jsxs("div",{className:"section-content",children:[C.jsxs("div",{className:"section-buttons",children:[C.jsx("button",{onClick:()=>e("/log-workout"),className:"section-btn",children:"Log Workout"}),C.jsx("button",{onClick:()=>e("/workout-history"),className:"section-btn",children:"Workout History"}),C.jsx("button",{onClick:()=>e("/strength-progress"),className:"section-btn",children:"Strength Progress"})]}),C.jsxs("div",{className:"section-list",children:[C.jsx("h3",{children:"Recent Workouts"}),i.recentWorkouts.length>0?C.jsx("div",{className:"workout-list",children:i.recentWorkouts.map((T,S)=>C.jsxs("div",{className:"workout-item clickable",onClick:()=>e("/workout-history",{state:{selectedWorkout:{...T,id:S.toString()}}}),children:[C.jsx("div",{className:"workout-date",children:p(T.date)}),C.jsxs("div",{className:"workout-name",children:['"',T.name||`Push Day ${S+3}`,'"']})]},S))}):C.jsx("div",{className:"empty-list",children:"No recent workouts"})]})]})]}),C.jsxs("div",{className:"dashboard-section",children:[C.jsx("div",{className:"section-header",children:C.jsx("h2",{children:"Body Weight"})}),C.jsxs("div",{className:"section-content",children:[C.jsxs("div",{className:"section-buttons",children:[C.jsx("button",{onClick:()=>e("/log-weight"),className:"section-btn",children:"Log Weight"}),C.jsx("button",{onClick:()=>e("/weight-history"),className:"section-btn",children:"Weight History"}),C.jsx("button",{onClick:()=>e("/weight-progress"),className:"section-btn",children:"Weight Progress"})]}),C.jsxs("div",{className:"weight-chart-container",children:[C.jsx("h3",{children:"Weight Over Time"}),a.length>1?C.jsx("div",{className:"weight-chart",children:C.jsx(Lb,{data:y,options:_,height:180})}):C.jsx("div",{className:"empty-chart",children:"Not enough data to display chart"})]}),C.jsxs("div",{className:"current-weight",children:[C.jsx("h3",{children:"Current Weight"}),C.jsx("div",{className:"current-weight-value",children:i.currentWeight?C.jsxs(C.Fragment,{children:[i.currentWeight,C.jsx("span",{className:"stat-unit",children:"lbs"})]}):"No data"})]})]})]})]})]})},kM=["Barbell Squat","Front Squat","Back Squat","Overhead Squat","Zercher Squat","Box Squat","Barbell Deadlift","Romanian Deadlift","Stiff-Leg Deadlift","Sumo Deadlift","Deficit Deadlift","Rack Pull","Barbell Bench Press","Incline Barbell Bench Press","Decline Barbell Bench Press","Close-Grip Bench Press","Barbell Row","Pendlay Row","Yates Row","Barbell Overhead Press","Push Press","Behind the Neck Press","Barbell Curl","Reverse Curl","Drag Curl","Barbell Skull Crushers","Good Morning","Barbell Hip Thrust","Barbell Rollout","Dumbbell Bench Press","Incline Dumbbell Press","Dumbbell Flyes","Dumbbell Pullover","Dumbbell Row","Renegade Row","Dumbbell Shoulder Press","Arnold Press","Dumbbell Lateral Raise","Front Raise","Reverse Fly","Dumbbell Shrugs","Dumbbell Curl","Hammer Curl","Zottman Curl","Concentration Curl","Incline Curl","Dumbbell Kickback","Overhead Triceps Extension","Dumbbell Squat","Goblet Squat","Dumbbell Lunge","Step-Up with Dumbbells","Dumbbell Romanian Deadlift","Suitcase Carry","Leg Press","Hack Squat","Smith Machine Squat","Smith Machine Press","Chest Press Machine","Shoulder Press Machine","Lateral Raise Machine","Seated Row Machine","Lat Pulldown","Cable Row","Leg Curl Machine","Leg Extension Machine","Calf Raise Machine","Preacher Curl Machine","Triceps Pushdown Machine","Pec Deck Machine","Assisted Pull-Up","Assisted Dip","Cable Crossover","Cable Lateral Raise","Cable Bicep Curl","Cable Hammer Curl","Cable Triceps Pushdown","Overhead Cable Triceps Extension","Cable Kickback","Cable Crunch","Straight-Arm Pulldown","Cable Upright Row","Cable Pull-Through","Face Pull","Air Squat (Bodyweight)","Jump Squat (Bodyweight)","Walking Lunge (Bodyweight)","Wall Sit (Bodyweight)","Glute Bridge (Bodyweight)","Hip Thrust (Bodyweight)","Leg Raise (Bodyweight)","Plank","Side Plank","V-Up (Bodyweight)","Mountain Climber (Bodyweight)","Burpee (Bodyweight)","Box Jump","Step-Up (Bodyweight)","Lunge Jump (Bodyweight)","Donkey Kick (Bodyweight)","Bear Crawl (Bodyweight)","Kettlebell Swing","Kettlebell Snatch","Kettlebell Clean","Kettlebell Goblet Squat","Kettlebell Press","Medicine Ball Slam","Sled Push","Battle Ropes","Tire Flip","Farmer's Walk","Sledgehammer Swings","Sandbag Clean","Jump Rope","Weighted Carry","Weighted Sit-Up","Weighted Pull-Up","Ab Wheel Rollout","Russian Twist","Cable Woodchopper","Landmine Press","Landmine Row","Barbell Split Squat","Barbell Step-Up","Barbell Walking Lunge","Barbell Calf Raise","Barbell Thruster","Barbell Hack Squat","Barbell Clean","Barbell Jerk","Barbell Snatch Pull","Barbell High Pull","Barbell Floor Press","Barbell Incline Row","Dumbbell Step-Up","Dumbbell Thruster","Dumbbell High Pull","Dumbbell Deadlift","Dumbbell Snatch","Dumbbell Clean and Press","Dumbbell Sumo Squat","Dumbbell Side Lunge","Dumbbell Floor Press","Dumbbell Chest Supported Row","Dumbbell Reverse Curl","Dumbbell Upright Row","Standing Calf Machine Raise","Lying Calf Machine Raise","Glute Kickback Machine","Standing Leg Curl Machine","Incline Chest Press Machine","Assisted Inverted Row Machine","Rotary Torso Machine","Hip Abduction Machine","Hip Adduction Machine","Cable Reverse Fly","Cable Chest Press","Cable Squat to Row","Cable Front Raise","Cable Shrug","Cable Romanian Deadlift","Cable Side Lunge","Cable Step-Up","Cable Hip Abduction","Cable Hip Adduction","Cable Concentration Curl","Cable Reverse Curl","Cable Drag Curl","Wall Walk","Spiderman Plank","Tuck Jump","Side Plank with Leg Raise","Heel Touch","Toe Tap Crunch","Kettlebell Turkish Get-Up","Kettlebell Windmill","Kettlebell Overhead Squat","Kettlebell Bottoms-Up Press","Kettlebell Suitcase Deadlift","Kettlebell Curtsy Lunge","Kettlebell Halo","Kettlebell Row","Kettlebell Lunge Press","Kettlebell Russian Twist","Sandbag Squat","Sandbag Deadlift","Sandbag Clean and Press","Sandbag Front Carry","Tire Jump","Log Press","Yoke Carry","Atlas Stone Lift","Stone Shoulder","Weighted Russian Twist","Cable Oblique Twist","Medicine Ball V-Up","Decline Russian Twist","Hanging Oblique Raise","Weighted Side Plank","Sit-Up to Stand-Up","Jackknife Sit-Up","Skater Jump","Depth Jump","Lateral Bound","Tuck Jump to Squat","Box Squat Jump","Broad Jump","Kneeling Jump","Burpee to Pull-Up","Wall Ball Shot","Medicine Ball Chest Pass","Medicine Ball Rotational Slam","Overhead Carry","Zercher Carry","Front Rack Carry","Crossbody Carry","Waiter Carry","Sandbag Carry","Trap Bar Carry","Trap Bar Deadlift","Trap Bar Shrug","Trap Bar Romanian Deadlift","Bulgarian Split Squat","Isometric Lunge Hold","Paused Back Squat","Tempo Front Squat","Cluster Deadlift","Band-Resisted Deadlift","Banded Squat","Tempo Bench Press","Spoto Press","Paused Overhead Press","Wall Ball Squat","Landmine Squat","Single-Arm Landmine Press","Banded Pull-Up","Paused Pull-Up","Weighted Dip","Eccentric Dip","Eccentric Chin-Up","Glute March","Stability Ball Hamstring Curl","Slider Hamstring Curl","Resistance Band Leg Curl","Mini-Band Side Step","Mini-Band Kickback","Resistance Band Chest Press","Resistance Band Shoulder Press","Resistance Band Row","Resistance Band Upright Row","Resistance Band Deadlift","Resistance Band Good Morning","Resistance Band Bicep Curl","Resistance Band Tricep Extension","Resistance Band Lateral Raise","Resistance Band Squat","Resistance Band Glute Bridge","Stability Ball Russian Twist","Stability Ball Pike","Stability Ball Plank","Stability Ball Rollout","Sphinx Push-Up","Box Pike Press","Feet-Elevated Glute Bridge","Wall-Facing Handstand Hold","Wall-Facing Shoulder Tap","Inverted Wall Walk","Wall Climb","Wall Plank","Wall Pike Press","Lizard Crawl","Dead Hang","Wall Ball Clean","Wall Ball Push Press","Wall Ball Sit-Up","Wall Ball Overhead Throw","Tire Drag","Sled Drag","Sled Row","Sled Chest Press","Sled Sprint","Backward Sled Drag","Reverse Sled Row","Overhead Sled Drag","Low Handle Sled Push","High Handle Sled Push","Reverse Band Squat","Chain Bench Press","Chain Deadlift","Chain Overhead Press","Chain Row","Bamboo Bar Bench Press","Slosh Pipe Overhead Carry","Slosh Pipe Squat","Slosh Pipe Lunge","Slosh Pipe Overhead Press","Hammer Curl to Press","Burpee Over Bar","Thruster with Slam Ball","Barbell Complex (Clean, Press, Squat)","Dumbbell Complex (Snatch, Lunge, Press)","Kettlebell Complex (Swing, Clean, Squat)","Tabata Squat","Tabata Push-Up","Tabata Jump Lunge","Tabata Mountain Climber","EMOM Deadlift","EMOM Pull-Up","AMRAP Push-Up","AMRAP Air Squat","Pyramid Pull-Up","Ladder Push-Up","Partner Wall Ball","Partner Med Ball Chest Pass","Partner Resisted Sprint","Partner Sled Push","Partner Squat Throw","Jammer Press","Hammer Strength Row","Hammer Strength Chest Press","Hack Squat Machine","Reverse Hack Squat","Belt Squat","Safety Bar Squat","SSB Good Morning","SSB Squat","Cambered Bar Squat","Cambered Bar Row","Trap Bar Farmer's Walk","Trap Bar Shrug to Deadlift","Fat Bar Deadlift","Fat Bar Curl","Fat Grip Pull-Up","Thick Bar Bench Press","Thick Bar Row","Neutral Grip Pull-Up","Neutral Grip Chin-Up","Cross-Grip Front Squat","Zombie Squat","Cyclist Squat","Poliquin Step-Up","Heel-Elevated Goblet Squat","Heels-Elevated Barbell Back Squat","B-Stance RDL","Kickstand Deadlift","Kickstand Squat","Staggered-Stance Romanian Deadlift","Toes-Elevated RDL","Toes-Elevated Calf Raise","Barbell Incline Press","Dumbbell Incline Press","Cable Fly","Smith Machine Bench Press","Decline Smith Machine Bench Press","Incline Smith Machine Bench Press","Machine Fly","Machine Chest Press","Dumbbell Decline Press","Machine Row","Hammerstrength Row","Meadows Row","T-Bar Row","Single-Arm Dumbbell Row","Kroc Row","Reverse Grip Lat Pulldown","Single-Arm Lat Pulldown","Pulldown With Rope Attachment","Neutral Grip Pulldown","Machine Reverse Fly","Cable Upright Row","Dumbbell One-Arm Side Lateral","Dumbbell Front Deltoid Raise","Cable Side Lateral","Cable Rear Delt Fly","Smith Machine Overhead Press","Machine Overhead Press","Standing EZ Bar Curl","Seated Dumbbell Curl","High Cable Curl","Preacher Curl","Spider Curl","Cable Rope Curl","Alternating Dumbbell Curl","Machine Bicep Curl","Concentration Curls","Lying EZ Bar Tricep Extension","Incline EZ Bar Tricep Extension","Cable Tricep Extension","Cable Rope Tricep Extension","EZ Bar Tricep Pushdown","Triceps Dip Machine","Overhead Dumbbell Tricep Extension","Machine Tricep Extension","Reverse Grip Tricep Pushdown","Leg Extension","Hamstring Curl","Roman Chair","V-Squat Machine","Cable Pull Through","Cable Kickbacks","Smith Machine Romanian Deadlift","Single-Leg Romanian Deadlift","Smith Machine Calf Raises","Leg Press Calf Raises","Seated Calf Raises","Donkey Calf Raises","Single-Leg Calf Raises","Machine Crunch","Hanging Leg Raises","Cable Crunch","Ab Rollout","Decline Sit-up","Machine Rotation","Cable Wood Chop","Side Bends","Smith Machine Shrug","Barbell Shrug","Dumbbell Shrug","Behind-The-Back Barbell Shrug","Cable Shrug","Barbell Wrist Curl","Reverse Barbell Wrist Curl","Dumbbell Wrist Curl","Reverse Dumbbell Wrist Curl","Plate Pinch","Farmers Walk","Clean","Clean and Jerk","Power Clean","Snatch","Power Snatch","Hang Clean","Hang Snatch","Clean Pull","Snatch Pull","Band Pull-Aparts","Band Lateral Raise","Band Front Raise","Band Fly","Band Push-Down","Band Curl","Band Good Morning","Band Straight-Arm Pulldown","Cable External Rotation","Cable Internal Rotation","Cable Y-Raise","Cable Pullover","Low Cable Curl","Low-to-High Cable Fly","High-to-Low Cable Fly","Lat Pulldown Machine","Abductor Machine","Adductor Machine","Glute Drive Machine","Back Extension Machine","Rotary Torso Machine","Neck Flexion Machine","Neck Extension Machine","Hammer Strength Chest Press","Hammer Strength Incline Press","Hammer Strength Decline Press","Hammer Strength Shoulder Press","Hammer Strength Lat Pulldown","Hammer Strength High Row","Hammer Strength Low Row","Push-Up (Bodyweight)","Wide Push-Up (Bodyweight)","Diamond Push-Up (Bodyweight)","Decline Push-Up (Bodyweight)","Incline Push-Up (Bodyweight)","Archer Push-Up (Bodyweight)","Typewriter Push-Up (Bodyweight)","Hindu Push-Up (Bodyweight)","Dive Bomber Push-Up (Bodyweight)","Pseudo Planche Push-Up (Bodyweight)","Clap Push-Up (Bodyweight)","Plyo Push-Up (Bodyweight)","One-Arm Push-Up (Bodyweight)","Wall Push-Up (Bodyweight)","Knee Push-Up (Bodyweight)","Planche Push-Up (Bodyweight)","Ring Push-Up (Bodyweight)","Handstand Push-Up (Bodyweight)","Pike Push-Up (Bodyweight)","Elevated Pike Push-Up (Bodyweight)","Shoulder Tap Push-Up (Bodyweight)","Spiderman Push-Up (Bodyweight)","Staggered Push-Up (Bodyweight)","Pull-Up (Bodyweight)","Chin-Up (Bodyweight)","Wide-Grip Pull-Up (Bodyweight)","Close-Grip Pull-Up (Bodyweight)","Neutral-Grip Pull-Up (Bodyweight)","Archer Pull-Up (Bodyweight)","Commando Pull-Up (Bodyweight)","One-Arm Pull-Up (Bodyweight)","Typewriter Pull-Up (Bodyweight)","Explosive Pull-Up (Bodyweight)","Towel Pull-Up (Bodyweight)","Ring Pull-Up (Bodyweight)","Scapular Pull-Up (Bodyweight)","Negative Pull-Up (Bodyweight)","Jumping Pull-Up (Bodyweight)","Triceps Dips (Bodyweight)","Parallel Bar Dips (Bodyweight)","Korean Dips (Bodyweight)","Straight Bar Dips (Bodyweight)","Ring Dips (Bodyweight)","Chair Dips (Bodyweight)","L-Sit Dips (Bodyweight)","Chest Dips (Bodyweight)","Jump to Dip Negatives (Bodyweight)","Sit-Up (Bodyweight)","Crunch (Bodyweight)","Reverse Crunch (Bodyweight)","Bicycle Crunch (Bodyweight)","Cross-Body Crunch (Bodyweight)","Toe Touch (Bodyweight)","Leg Raise (Bodyweight)","Lying Leg Raise (Bodyweight)","Hanging Knee Raise (Bodyweight)","V-Up (Bodyweight)","Hollow Body Hold (Bodyweight)","Flutter Kicks (Bodyweight)","Scissor Kicks (Bodyweight)","Mountain Climbers (Bodyweight)","Dead Bug (Bodyweight)","Plank to Push-Up (Bodyweight)","Side Plank Dips (Bodyweight)","Russian Twists (Bodyweight)","Seated In-and-Outs (Bodyweight)","Plank Shoulder Taps (Bodyweight)","Bird Dog Crunch (Bodyweight)","Straight-Leg Sit-Up (Bodyweight)","Wiper Kicks (Bodyweight)","Jackknife Sit-Up (Bodyweight)","Air Squat (Bodyweight)","Narrow-Stance Squat (Bodyweight)","Sumo Squat (Bodyweight)","Wall Sit (Bodyweight)","Bulgarian Split Squat (Bodyweight)","Jump Squat (Bodyweight)","Pause Squat (Bodyweight)","Pistol Squat (Bodyweight)","Assisted Pistol Squat (Bodyweight)","Shrimp Squat (Bodyweight)","Step-Up (Bodyweight)","Glute Bridge (Bodyweight)","Marching Glute Bridge (Bodyweight)","Single-Leg Glute Bridge (Bodyweight)","Frog Pump (Bodyweight)","Hip Thrust (Bodyweight)","Donkey Kick (Bodyweight)","Fire Hydrant (Bodyweight)","Side-Lying Leg Raise (Bodyweight)","Curtsy Lunge (Bodyweight)","Walking Lunge (Bodyweight)","Reverse Lunge (Bodyweight)","Forward Lunge (Bodyweight)","Jumping Lunge (Bodyweight)","Wall Lunge (Bodyweight)","Calf Raise (Bodyweight)","Single-Leg Calf Raise (Bodyweight)","Seated Calf Raise (Bodyweight)","Burpee (Bodyweight)","Half Burpee (Bodyweight)","Star Jump (Bodyweight)","High Knees (Bodyweight)","Jumping Jack (Bodyweight)","Skater Jump (Bodyweight)","Tuck Jump (Bodyweight)","Bear Crawl (Bodyweight)","Crab Walk (Bodyweight)","Lateral Lunge (Bodyweight)","Step-Through (Bodyweight)","Frog Jump (Bodyweight)","Squat to Jump (Bodyweight)","Mountain Climber Twist (Bodyweight)","Inchworm (Bodyweight)","Sprawl (Bodyweight)","Lunge to Knee Drive (Bodyweight)","Jumping Switch Lunge (Bodyweight)","Muscle-Up (Bodyweight)","Front Lever Pulls (Bodyweight)","Back Lever Raises (Bodyweight)","Dragon Flag (Bodyweight)","L-Sit to Handstand (Bodyweight)","Human Flag Raises (Bodyweight)","Skin the Cat (Bodyweight)","Wall Walks (Bodyweight)","Planche Leans (Bodyweight)"],fg=e=>{if(!e)return[];const t=e.toLowerCase(),n=t.split(/\s+/).filter(a=>a.length>0);return kM.filter(a=>{const l=a.toLowerCase();return n.every(c=>l.includes(c))}).sort((a,l)=>{const c=a.toLowerCase(),h=l.toLowerCase(),f=GC.some(R=>R.toLowerCase()===c),p=GC.some(R=>R.toLowerCase()===h),y=c.startsWith(t),_=h.startsWith(t);let b=0,T=0;n.forEach(R=>{const V=R.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),B=new RegExp(`\\b${V}\\b`,"i");B.test(c)&&b++,B.test(h)&&T++});const S=c.includes(t),x=h.includes(t);return S!==x?S?-1:1:f!==p?f?-1:1:y!==_?y?-1:1:b!==T?b>T?-1:1:a.localeCompare(l)}).slice(0,8)},GC=["Barbell Squat","Barbell Deadlift","Barbell Bench Press","Barbell Overhead Press","Pull-Up","Chin-Up","Push-Up","Dumbbell Bench Press","Dumbbell Shoulder Press","Dumbbell Lateral Raise","Dumbbell Curl","Hammer Curl","Skull Crushers","Triceps Pushdown","Lat Pulldown","Seated Cable Row","Barbell Row","Face Pull","Dumbbell Row","Cable Crossover","Pec Deck Machine","Leg Press","Walking Lunge","Goblet Squat","Dumbbell Romanian Deadlift","Hip Thrust","Glute Bridge","Leg Curl Machine","Leg Extension Machine","Calf Raise","Plank","Russian Twist","Hanging Leg Raise","Weighted Sit-Up","Kettlebell Swing","Box Jump","Battle Ropes","Jump Rope","Step-Up","Bulgarian Split Squat","Cable Crunch","Sled Push","Inverted Row","Dip","Incline Barbell Bench Press","Incline Dumbbell Press","Decline Bench Press","Barbell Curl","Trap Bar Deadlift","Farmer's Walk"],PM=["Push-Up (Bodyweight)","Wide Push-Up (Bodyweight)","Diamond Push-Up (Bodyweight)","Decline Push-Up (Bodyweight)","Incline Push-Up (Bodyweight)","Archer Push-Up (Bodyweight)","Typewriter Push-Up (Bodyweight)","Hindu Push-Up (Bodyweight)","Dive Bomber Push-Up (Bodyweight)","Pseudo Planche Push-Up (Bodyweight)","Clap Push-Up (Bodyweight)","Plyo Push-Up (Bodyweight)","One-Arm Push-Up (Bodyweight)","Wall Push-Up (Bodyweight)","Knee Push-Up (Bodyweight)","Planche Push-Up (Bodyweight)","Ring Push-Up (Bodyweight)","Handstand Push-Up (Bodyweight)","Pike Push-Up (Bodyweight)","Elevated Pike Push-Up (Bodyweight)","Shoulder Tap Push-Up (Bodyweight)","Spiderman Push-Up (Bodyweight)","Staggered Push-Up (Bodyweight)","Pull-Up (Bodyweight)","Chin-Up (Bodyweight)","Wide-Grip Pull-Up (Bodyweight)","Close-Grip Pull-Up (Bodyweight)","Neutral-Grip Pull-Up (Bodyweight)","Archer Pull-Up (Bodyweight)","Commando Pull-Up (Bodyweight)","One-Arm Pull-Up (Bodyweight)","Typewriter Pull-Up (Bodyweight)","Explosive Pull-Up (Bodyweight)","Towel Pull-Up (Bodyweight)","Ring Pull-Up (Bodyweight)","Scapular Pull-Up (Bodyweight)","Negative Pull-Up (Bodyweight)","Jumping Pull-Up (Bodyweight)","Triceps Dips (Bodyweight)","Parallel Bar Dips (Bodyweight)","Korean Dips (Bodyweight)","Straight Bar Dips (Bodyweight)","Ring Dips (Bodyweight)","Chair Dips (Bodyweight)","L-Sit Dips (Bodyweight)","Chest Dips (Bodyweight)","Jump to Dip Negatives (Bodyweight)","Sit-Up (Bodyweight)","Crunch (Bodyweight)","Reverse Crunch (Bodyweight)","Bicycle Crunch (Bodyweight)","Cross-Body Crunch (Bodyweight)","Toe Touch (Bodyweight)","Leg Raise (Bodyweight)","Lying Leg Raise (Bodyweight)","Hanging Knee Raise (Bodyweight)","V-Up (Bodyweight)","Hollow Body Hold (Bodyweight)","Flutter Kicks (Bodyweight)","Scissor Kicks (Bodyweight)","Mountain Climbers (Bodyweight)","Dead Bug (Bodyweight)","Plank to Push-Up (Bodyweight)","Side Plank Dips (Bodyweight)","Russian Twists (Bodyweight)","Seated In-and-Outs (Bodyweight)","Plank Shoulder Taps (Bodyweight)","Bird Dog Crunch (Bodyweight)","Straight-Leg Sit-Up (Bodyweight)","Wiper Kicks (Bodyweight)","Jackknife Sit-Up (Bodyweight)","Air Squat (Bodyweight)","Narrow-Stance Squat (Bodyweight)","Sumo Squat (Bodyweight)","Wall Sit (Bodyweight)","Bulgarian Split Squat (Bodyweight)","Jump Squat (Bodyweight)","Pause Squat (Bodyweight)","Pistol Squat (Bodyweight)","Assisted Pistol Squat (Bodyweight)","Shrimp Squat (Bodyweight)","Step-Up (Bodyweight)","Glute Bridge (Bodyweight)","Marching Glute Bridge (Bodyweight)","Single-Leg Glute Bridge (Bodyweight)","Frog Pump (Bodyweight)","Hip Thrust (Bodyweight)","Donkey Kick (Bodyweight)","Fire Hydrant (Bodyweight)","Side-Lying Leg Raise (Bodyweight)","Curtsy Lunge (Bodyweight)","Walking Lunge (Bodyweight)","Reverse Lunge (Bodyweight)","Forward Lunge (Bodyweight)","Jumping Lunge (Bodyweight)","Wall Lunge (Bodyweight)","Calf Raise (Bodyweight)","Single-Leg Calf Raise (Bodyweight)","Seated Calf Raise (Bodyweight)","Burpee (Bodyweight)","Half Burpee (Bodyweight)","Star Jump (Bodyweight)","High Knees (Bodyweight)","Jumping Jack (Bodyweight)","Skater Jump (Bodyweight)","Tuck Jump (Bodyweight)","Bear Crawl (Bodyweight)","Crab Walk (Bodyweight)","Lateral Lunge (Bodyweight)","Step-Through (Bodyweight)","Frog Jump (Bodyweight)","Squat to Jump (Bodyweight)","Mountain Climber Twist (Bodyweight)","Inchworm (Bodyweight)","Sprawl (Bodyweight)","Lunge to Knee Drive (Bodyweight)","Jumping Switch Lunge (Bodyweight)","Muscle-Up (Bodyweight)","Front Lever Pulls (Bodyweight)","Back Lever Raises (Bodyweight)","Dragon Flag (Bodyweight)","L-Sit to Handstand (Bodyweight)","Human Flag Raises (Bodyweight)","Skin the Cat (Bodyweight)","Wall Walks (Bodyweight)","Planche Leans (Bodyweight)"],Vb=P.createContext({});function Bb(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}const jb=typeof window<"u",MM=jb?P.useLayoutEffect:P.useEffect,tm=P.createContext(null),Ub=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Pq extends P.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=i instanceof HTMLElement&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Mq({children:e,isPresent:t,anchorX:n}){const i=P.useId(),s=P.useRef(null),a=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=P.useContext(Ub);return P.useInsertionEffect(()=>{const{width:c,height:h,top:f,left:p,right:y}=a.current;if(t||!s.current||!c||!h)return;const _=n==="left"?`left: ${p}`:`right: ${y}`;s.current.dataset.motionPopId=i;const b=document.createElement("style");return l&&(b.nonce=l),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${_}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.removeChild(b)}},[t]),C.jsx(Pq,{isPresent:t,childRef:s,sizeRef:a,children:P.cloneElement(e,{ref:s})})}const Iq=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:l,anchorX:c})=>{const h=Bb(Oq),f=P.useId(),p=P.useCallback(_=>{h.set(_,!0);for(const b of h.values())if(!b)return;i&&i()},[h,i]),y=P.useMemo(()=>({id:f,initial:t,isPresent:n,custom:s,onExitComplete:p,register:_=>(h.set(_,!1),()=>h.delete(_))}),a?[Math.random(),p]:[n,p]);return P.useMemo(()=>{h.forEach((_,b)=>h.set(b,!1))},[n]),P.useEffect(()=>{!n&&!h.size&&i&&i()},[n]),l==="popLayout"&&(e=C.jsx(Mq,{isPresent:n,anchorX:c,children:e})),C.jsx(tm.Provider,{value:y,children:e})};function Oq(){return new Map}function IM(e=!0){const t=P.useContext(tm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,a=P.useId();P.useEffect(()=>{if(e)return s(a)},[e]);const l=P.useCallback(()=>e&&i&&i(a),[a,i,e]);return!n&&i?[!1,l]:[!0]}const hp=e=>e.key||"";function KC(e){const t=[];return P.Children.forEach(e,n=>{P.isValidElement(n)&&t.push(n)}),t}const Nq=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:c="left"})=>{const[h,f]=IM(l),p=P.useMemo(()=>KC(e),[e]),y=l&&!h?[]:p.map(hp),_=P.useRef(!0),b=P.useRef(p),T=Bb(()=>new Map),[S,x]=P.useState(p),[R,V]=P.useState(p);MM(()=>{_.current=!1,b.current=p;for(let z=0;z<R.length;z++){const X=hp(R[z]);y.includes(X)?T.delete(X):T.get(X)!==!0&&T.set(X,!1)}},[R,y.length,y.join("-")]);const B=[];if(p!==S){let z=[...p];for(let X=0;X<R.length;X++){const I=R[X],D=hp(I);y.includes(D)||(z.splice(X,0,I),B.push(I))}return a==="wait"&&B.length&&(z=B),V(KC(z)),x(p),null}const{forceRender:$}=P.useContext(Vb);return C.jsx(C.Fragment,{children:R.map(z=>{const X=hp(z),I=l&&!h?!1:p===R||y.includes(X),D=()=>{if(T.has(X))T.set(X,!0);else return;let M=!0;T.forEach(U=>{U||(M=!1)}),M&&($==null||$(),V(b.current),l&&(f==null||f()),i&&i())};return C.jsx(Iq,{isPresent:I,initial:!_.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,onExitComplete:I?void 0:D,anchorX:c,children:z},X)})})};function Fb(e,t){e.indexOf(t)===-1&&e.push(t)}function zb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let OM=()=>{};const U_={useManualTiming:!1};function Hb(e){let t;return()=>(t===void 0&&(t=e()),t)}const cs=e=>e,Yh=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class qb{constructor(){this.subscriptions=[]}add(t){return Fb(this.subscriptions,t),()=>zb(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ir=e=>e*1e3,sr=e=>e/1e3;function NM(e,t){return t?e*(1e3/t):0}const Lq=Hb(()=>window.ScrollTimeline!==void 0);class Vq{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(s=>{if(Lq()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{i.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Bq extends Vq{then(t,n){return this.finished.finally(t).then(()=>{})}}const YC={value:null},Wb=e=>Array.isArray(e)&&typeof e[0]=="number",jq={};function Uq(e,t){const n=Hb(e);return()=>jq[t]??n()}const Xh=Uq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),LM=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)i+=e(a/(s-1))+", ";return`linear(${i.substring(0,i.length-2)})`},fh=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,F_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fh([0,.65,.55,1]),circOut:fh([.55,0,1,.45]),backIn:fh([.31,.01,.66,-.59]),backOut:fh([.33,1.53,.69,.99])};function VM(e,t){if(e)return typeof e=="function"&&Xh()?LM(e,t):Wb(e)?fh(e):Array.isArray(e)?e.map(n=>VM(n,t)||F_.easeOut):F_[e]}function Fq(e,t,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:h}={},f=void 0){const p={[t]:n};h&&(p.offset=h);const y=VM(c,s);return Array.isArray(y)&&(p.easing=y),e.animate(p,{delay:i,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal",pseudoElement:f})}function $b(e){return typeof e=="function"&&"applyToOptions"in e}function Gb(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const dg=2e4;function Kb(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<dg;)t+=n,i=e.next(t);return t>=dg?1/0:t}function zq(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(Kb(i),dg);return{type:"keyframes",ease:a=>i.next(s*a).value/t,duration:sr(s)}}function BM(e){return!!(typeof e=="function"&&Xh()||!e||typeof e=="string"&&(e in F_||Xh())||Wb(e)||Array.isArray(e)&&e.every(BM))}function XC(e,t){e.timeline=t,e.onfinish=null}const dh=["read","resolveKeyframes","update","preRender","render","postRender"];function Hq(e,t){let n=new Set,i=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},h=0;function f(y){l.has(y)&&(p.schedule(y),e()),h++,y(c)}const p={schedule:(y,_=!1,b=!1)=>{const S=b&&s?n:i;return _&&l.add(y),S.has(y)||S.add(y),y},cancel:y=>{i.delete(y),l.delete(y)},process:y=>{if(c=y,s){a=!0;return}s=!0,[n,i]=[i,n],n.forEach(f),t&&YC.value&&YC.value.frameloop[t].push(h),h=0,n.clear(),s=!1,a&&(a=!1,p.process(y))}};return p}const qq=40;function jM(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=dh.reduce((R,V)=>(R[V]=Hq(a,t?V:void 0),R),{}),{read:c,resolveKeyframes:h,update:f,preRender:p,render:y,postRender:_}=l,b=()=>{const R=performance.now();n=!1,s.delta=i?1e3/60:Math.max(Math.min(R-s.timestamp,qq),1),s.timestamp=R,s.isProcessing=!0,c.process(s),h.process(s),f.process(s),p.process(s),y.process(s),_.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(b))},T=()=>{n=!0,i=!0,s.isProcessing||e(b)};return{schedule:dh.reduce((R,V)=>{const B=l[V];return R[V]=($,z=!1,X=!1)=>(n||T(),B.schedule($,z,X)),R},{}),cancel:R=>{for(let V=0;V<dh.length;V++)l[dh[V]].cancel(R)},state:s,steps:l}}const{schedule:Ne,cancel:Qr,state:jn,steps:jv}=jM(typeof requestAnimationFrame<"u"?requestAnimationFrame:cs,!0),{schedule:Yb}=jM(queueMicrotask,!1);let Ip;function Wq(){Ip=void 0}const rr={now:()=>(Ip===void 0&&rr.set(jn.isProcessing||U_.useManualTiming?jn.timestamp:performance.now()),Ip),set:e=>{Ip=e,queueMicrotask(Wq)}},vs={x:!1,y:!1};function UM(){return vs.x||vs.y}function $q(e){return e==="x"||e==="y"?vs[e]?null:(vs[e]=!0,()=>{vs[e]=!1}):vs.x||vs.y?null:(vs.x=vs.y=!0,()=>{vs.x=vs.y=!1})}function Gq(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function FM(e,t){const n=Gq(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function QC(e){return!(e.pointerType==="touch"||UM())}function Kq(e,t,n={}){const[i,s,a]=FM(e,n),l=c=>{if(!QC(c))return;const{target:h}=c,f=t(h,c);if(typeof f!="function"||!h)return;const p=y=>{QC(y)&&(f(y),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,s)};return i.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const zM=(e,t)=>t?e===t?!0:zM(e,t.parentElement):!1,Xb=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Yq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Xq(e){return Yq.has(e.tagName)||e.tabIndex!==-1}const ph=new WeakSet;function ZC(e){return t=>{t.key==="Enter"&&e(t)}}function Uv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Qq=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=ZC(()=>{if(ph.has(n))return;Uv(n,"down");const s=ZC(()=>{Uv(n,"up")}),a=()=>Uv(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function JC(e){return Xb(e)&&!UM()}function Zq(e,t,n={}){const[i,s,a]=FM(e,n),l=c=>{const h=c.currentTarget;if(!JC(c)||ph.has(h))return;ph.add(h);const f=t(h,c),p=(b,T)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),!(!JC(b)||!ph.has(h))&&(ph.delete(h),typeof f=="function"&&f(b,{success:T}))},y=b=>{p(b,h===window||h===document||n.useGlobalTarget||zM(h,b.target))},_=b=>{p(b,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",_,s)};return i.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),c instanceof HTMLElement&&(c.addEventListener("focus",f=>Qq(f,s)),!Xq(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}const tR=30,Jq=e=>!isNaN(parseFloat(e));class tW{constructor(t,n={}){this.version="12.6.5",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const a=rr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=rr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Jq(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new qb);const i=this.events[t].add(n);return t==="change"?()=>{i(),Ne.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=rr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>tR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,tR);return NM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qh(e,t){return new tW(e,t)}dh.reduce((e,t)=>(e[t]=n=>Qr(n),e),{});const HM=P.createContext({strict:!1}),eR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ic={};for(const e in eR)Ic[e]={isEnabled:t=>eR[e].some(n=>!!t[n])};function eW(e){for(const t in e)Ic[t]={...Ic[t],...e[t]}}const nW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nW.has(e)}let qM=e=>!pg(e);function iW(e){e&&(qM=t=>t.startsWith("on")?!pg(t):e(t))}try{iW(require("@emotion/is-prop-valid").default)}catch{}function sW(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(qM(s)||n===!0&&pg(s)||!t&&!pg(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}function rW(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const em=P.createContext({});function nm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Zh(e){return typeof e=="string"||Array.isArray(e)}const Qb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zb=["initial",...Qb];function im(e){return nm(e.animate)||Zb.some(t=>Zh(e[t]))}function WM(e){return!!(im(e)||e.variants)}function aW(e,t){if(im(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Zh(n)?n:void 0,animate:Zh(i)?i:void 0}}return e.inherit!==!1?t:{}}function oW(e){const{initial:t,animate:n}=aW(e,P.useContext(em));return P.useMemo(()=>({initial:t,animate:n}),[nR(t),nR(n)])}function nR(e){return Array.isArray(e)?e.join(" "):e}const lW=Symbol.for("motionComponentSymbol");function oc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function cW(e,t,n){return P.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):oc(n)&&(n.current=i))},[t])}const Jb=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uW="framerAppearId",$M="data-"+Jb(uW),GM=P.createContext({});function hW(e,t,n,i,s){var S,x;const{visualElement:a}=P.useContext(em),l=P.useContext(HM),c=P.useContext(tm),h=P.useContext(Ub).reducedMotion,f=P.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,y=P.useContext(GM);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&fW(f.current,n,s,y);const _=P.useRef(!1);P.useInsertionEffect(()=>{p&&_.current&&p.update(n,c)});const b=n[$M],T=P.useRef(!!b&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,b))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,b)));return MM(()=>{p&&(_.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Yb.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),P.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)==null||R.call(window,b)}),T.current=!1))}),p}function fW(e,t,n,i){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:KM(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&oc(c),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:f})}function KM(e){if(e)return e.options.allowProjection!==!1?e.projection:KM(e.parent)}function dW({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:s}){e&&eW(e);function a(c,h){let f;const p={...P.useContext(Ub),...c,layoutId:pW(c)},{isStatic:y}=p,_=oW(c),b=i(c,y);if(!y&&jb){gW();const T=mW(p);f=T.MeasureLayout,_.visualElement=hW(s,b,p,t,T.ProjectionNode)}return C.jsxs(em.Provider,{value:_,children:[f&&_.visualElement?C.jsx(f,{visualElement:_.visualElement,...p}):null,n(s,c,cW(b,_.visualElement,h),b,y,_.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=P.forwardRef(a);return l[lW]=s,l}function pW({layoutId:e}){const t=P.useContext(Vb).id;return t&&e!==void 0?t+"-"+e:e}function gW(e,t){P.useContext(HM).strict}function mW(e){const{drag:t,layout:n}=Ic;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const YM=e=>t=>typeof t=="string"&&t.startsWith(e),tw=YM("--"),yW=YM("var(--"),ew=e=>yW(e)?vW.test(e.split("/*")[0].trim()):!1,vW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jh={};function _W(e){for(const t in e)Jh[t]=e[t],tw(t)&&(Jh[t].isCSSVariable=!0)}const Kc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fl=new Set(Kc);function XM(e,{layout:t,layoutId:n}){return fl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Jh[e]||e==="opacity")}const ti=e=>!!(e&&e.getVelocity),QM=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Zr=(e,t,n)=>n>t?t:n<e?e:n,Yc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},tf={...Yc,transform:e=>Zr(0,1,e)},fp={...Yc,default:1},bf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ra=bf("deg"),ar=bf("%"),Vt=bf("px"),bW=bf("vh"),wW=bf("vw"),iR={...ar,parse:e=>ar.parse(e)/100,transform:e=>ar.transform(e*100)},TW={borderWidth:Vt,borderTopWidth:Vt,borderRightWidth:Vt,borderBottomWidth:Vt,borderLeftWidth:Vt,borderRadius:Vt,radius:Vt,borderTopLeftRadius:Vt,borderTopRightRadius:Vt,borderBottomRightRadius:Vt,borderBottomLeftRadius:Vt,width:Vt,maxWidth:Vt,height:Vt,maxHeight:Vt,top:Vt,right:Vt,bottom:Vt,left:Vt,padding:Vt,paddingTop:Vt,paddingRight:Vt,paddingBottom:Vt,paddingLeft:Vt,margin:Vt,marginTop:Vt,marginRight:Vt,marginBottom:Vt,marginLeft:Vt,backgroundPositionX:Vt,backgroundPositionY:Vt},SW={rotate:Ra,rotateX:Ra,rotateY:Ra,rotateZ:Ra,scale:fp,scaleX:fp,scaleY:fp,scaleZ:fp,skew:Ra,skewX:Ra,skewY:Ra,distance:Vt,translateX:Vt,translateY:Vt,translateZ:Vt,x:Vt,y:Vt,z:Vt,perspective:Vt,transformPerspective:Vt,opacity:tf,originX:iR,originY:iR,originZ:Vt},sR={...Yc,transform:Math.round},nw={...TW,...SW,zIndex:sR,size:Vt,fillOpacity:tf,strokeOpacity:tf,numOctaves:sR},EW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xW=Kc.length;function AW(e,t,n){let i="",s=!0;for(let a=0;a<xW;a++){const l=Kc[a],c=e[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const f=QM(c,nw[l]);if(!h){s=!1;const p=EW[l]||l;i+=`${p}(${f}) `}n&&(t[l]=f)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function iw(e,t,n){const{style:i,vars:s,transformOrigin:a}=e;let l=!1,c=!1;for(const h in t){const f=t[h];if(fl.has(h)){l=!0;continue}else if(tw(h)){s[h]=f;continue}else{const p=QM(f,nw[h]);h.startsWith("origin")?(c=!0,a[h]=p):i[h]=p}}if(t.transform||(l||n?i.transform=AW(t,e.transform,n):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${f} ${p}`}}const sw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZM(e,t,n){for(const i in t)!ti(t[i])&&!XM(i,n)&&(e[i]=t[i])}function CW({transformTemplate:e},t){return P.useMemo(()=>{const n=sw();return iw(n,t,e),Object.assign({},n.vars,n.style)},[t])}function RW(e,t){const n=e.style||{},i={};return ZM(i,n,e),Object.assign(i,CW(e,t)),i}function DW(e,t){const n={},i=RW(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const kW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rw(e){return typeof e!="string"||e.includes("-")?!1:!!(kW.indexOf(e)>-1||/[A-Z]/u.test(e))}const PW={offset:"stroke-dashoffset",array:"stroke-dasharray"},MW={offset:"strokeDashoffset",array:"strokeDasharray"};function IW(e,t,n=1,i=0,s=!0){e.pathLength=1;const a=s?PW:MW;e[a.offset]=Vt.transform(-i);const l=Vt.transform(t),c=Vt.transform(n);e[a.array]=`${l} ${c}`}function rR(e,t,n){return typeof e=="string"?e:Vt.transform(t+n*e)}function OW(e,t,n){const i=rR(t,e.x,e.width),s=rR(n,e.y,e.height);return`${i} ${s}`}function aw(e,{attrX:t,attrY:n,attrScale:i,originX:s,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...f},p,y){if(iw(e,f,y),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:b,dimensions:T}=e;_.transform&&(T&&(b.transform=_.transform),delete _.transform),T&&(s!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=OW(T,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),i!==void 0&&(_.scale=i),l!==void 0&&IW(_,l,c,h,!1)}const JM=()=>({...sw(),attrs:{}}),ow=e=>typeof e=="string"&&e.toLowerCase()==="svg";function NW(e,t,n,i){const s=P.useMemo(()=>{const a=JM();return aw(a,t,ow(i),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};ZM(a,e.style,e),s.style={...a,...s.style}}return s}function LW(e=!1){return(n,i,s,{latestValues:a},l)=>{const h=(rw(n)?NW:DW)(i,a,l,n),f=sW(i,typeof n=="string",e),p=n!==P.Fragment?{...f,...h,ref:s}:{},{children:y}=i,_=P.useMemo(()=>ti(y)?y.get():y,[y]);return P.createElement(n,{...p,children:_})}}function aR(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function lw(e,t,n,i){if(typeof t=="function"){const[s,a]=aR(i);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=aR(i);t=t(n!==void 0?n:e.custom,s,a)}return t}const z_=e=>Array.isArray(e),VW=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),BW=e=>z_(e)?e[e.length-1]||0:e;function Op(e){const t=ti(e)?e.get():e;return VW(t)?t.toValue():t}function jW({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},i,s,a){const l={latestValues:UW(i,s,a,e),renderState:t()};return n&&(l.onMount=c=>n({props:i,current:c,...l}),l.onUpdate=c=>n(c)),l}const tI=e=>(t,n)=>{const i=P.useContext(em),s=P.useContext(tm),a=()=>jW(e,t,i,s);return n?a():Bb(a)};function UW(e,t,n,i){const s={},a=i(e,{});for(const _ in a)s[_]=Op(a[_]);let{initial:l,animate:c}=e;const h=im(e),f=WM(e);t&&f&&!h&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const y=p?c:l;if(y&&typeof y!="boolean"&&!nm(y)){const _=Array.isArray(y)?y:[y];for(let b=0;b<_.length;b++){const T=lw(e,_[b]);if(T){const{transitionEnd:S,transition:x,...R}=T;for(const V in R){let B=R[V];if(Array.isArray(B)){const $=p?B.length-1:0;B=B[$]}B!==null&&(s[V]=B)}for(const V in S)s[V]=S[V]}}}return s}function cw(e,t,n){var a;const{style:i}=e,s={};for(const l in i)(ti(i[l])||t.style&&ti(t.style[l])||XM(l,e)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(s[l]=i[l]);return s}const FW={useVisualState:tI({scrapeMotionValuesFromProps:cw,createRenderState:sw})};function eI(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function nI(e,{style:t,vars:n},i,s){Object.assign(e.style,t,s&&s.getProjectionStyles(i));for(const a in n)e.style.setProperty(a,n[a])}const iI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sI(e,t,n,i){nI(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(iI.has(s)?s:Jb(s),t.attrs[s])}function rI(e,t,n){const i=cw(e,t,n);for(const s in e)if(ti(e[s])||ti(t[s])){const a=Kc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=e[s]}return i}const oR=["x","y","width","height","cx","cy","r"],zW={useVisualState:tI({scrapeMotionValuesFromProps:rI,createRenderState:JM,onUpdate:({props:e,prevProps:t,current:n,renderState:i,latestValues:s})=>{if(!n)return;let a=!!e.drag;if(!a){for(const c in s)if(fl.has(c)){a=!0;break}}if(!a)return;let l=!t;if(t)for(let c=0;c<oR.length;c++){const h=oR[c];e[h]!==t[h]&&(l=!0)}l&&Ne.read(()=>{eI(n,i),Ne.render(()=>{aw(i,s,ow(n.tagName),e.transformTemplate),sI(n,i)})})}})};function HW(e,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...rw(i)?zW:FW,preloadedFeatures:e,useRender:LW(s),createVisualElement:t,Component:i};return dW(l)}}function ef(e,t,n){const i=e.getProps();return lw(i,t,n!==void 0?n:i.custom,e)}const aI=new Set(["width","height","top","left","right","bottom",...Kc]);function qW(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Qh(n))}function WW(e,t){const n=ef(e,t);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const l in a){const c=BW(a[l]);qW(e,l,c)}}function $W(e){return!!(ti(e)&&e.add)}function H_(e,t){const n=e.getValue("willChange");if($W(n))return n.add(t);if(!n&&U_.WillChange){const i=new U_.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function oI(e){return e.props[$M]}const lI=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,GW=1e-7,KW=12;function YW(e,t,n,i,s){let a,l,c=0;do l=t+(n-t)/2,a=lI(l,i,s)-e,a>0?n=l:t=l;while(Math.abs(a)>GW&&++c<KW);return l}function wf(e,t,n,i){if(e===t&&n===i)return cs;const s=a=>YW(a,0,1,e,n);return a=>a===0||a===1?a:lI(s(a),t,i)}const cI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,uI=e=>t=>1-e(1-t),hI=wf(.33,1.53,.69,.99),uw=uI(hI),fI=cI(uw),dI=e=>(e*=2)<1?.5*uw(e):.5*(2-Math.pow(2,-10*(e-1))),hw=e=>1-Math.sin(Math.acos(e)),pI=uI(hw),gI=cI(hw),mI=e=>/^0[^.\s]+$/u.test(e);function XW(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||mI(e):!0}const xh=e=>Math.round(e*1e5)/1e5,fw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QW(e){return e==null}const ZW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dw=(e,t)=>n=>!!(typeof n=="string"&&ZW.test(n)&&n.startsWith(e)||t&&!QW(n)&&Object.prototype.hasOwnProperty.call(n,t)),yI=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,a,l,c]=i.match(fw);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},JW=e=>Zr(0,255,e),Fv={...Yc,transform:e=>Math.round(JW(e))},qo={test:dw("rgb","red"),parse:yI("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Fv.transform(e)+", "+Fv.transform(t)+", "+Fv.transform(n)+", "+xh(tf.transform(i))+")"};function t8(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const q_={test:dw("#"),parse:t8,transform:qo.transform},lc={test:dw("hsl","hue"),parse:yI("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+ar.transform(xh(t))+", "+ar.transform(xh(n))+", "+xh(tf.transform(i))+")"},Xn={test:e=>qo.test(e)||q_.test(e)||lc.test(e),parse:e=>qo.test(e)?qo.parse(e):lc.test(e)?lc.parse(e):q_.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?qo.transform(e):lc.transform(e)},e8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function n8(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(fw))==null?void 0:t.length)||0)+(((n=e.match(e8))==null?void 0:n.length)||0)>0}const vI="number",_I="color",i8="var",s8="var(",lR="${}",r8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nf(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const c=t.replace(r8,h=>(Xn.test(h)?(i.color.push(a),s.push(_I),n.push(Xn.parse(h))):h.startsWith(s8)?(i.var.push(a),s.push(i8),n.push(h)):(i.number.push(a),s.push(vI),n.push(parseFloat(h))),++a,lR)).split(lR);return{values:n,split:c,indexes:i,types:s}}function bI(e){return nf(e).values}function wI(e){const{split:t,types:n}=nf(e),i=t.length;return s=>{let a="";for(let l=0;l<i;l++)if(a+=t[l],s[l]!==void 0){const c=n[l];c===vI?a+=xh(s[l]):c===_I?a+=Xn.transform(s[l]):a+=s[l]}return a}}const a8=e=>typeof e=="number"?0:e;function o8(e){const t=bI(e);return wI(e)(t.map(a8))}const Ya={test:n8,parse:bI,createTransformer:wI,getAnimatableNone:o8},l8=new Set(["brightness","contrast","saturate","opacity"]);function c8(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(fw)||[];if(!i)return e;const s=n.replace(i,"");let a=l8.has(t)?1:0;return i!==n&&(a*=100),t+"("+a+s+")"}const u8=/\b([a-z-]*)\(.*?\)/gu,W_={...Ya,getAnimatableNone:e=>{const t=e.match(u8);return t?t.map(c8).join(" "):e}},h8={...nw,color:Xn,backgroundColor:Xn,outlineColor:Xn,fill:Xn,stroke:Xn,borderColor:Xn,borderTopColor:Xn,borderRightColor:Xn,borderBottomColor:Xn,borderLeftColor:Xn,filter:W_,WebkitFilter:W_},TI=e=>h8[e];function SI(e,t){let n=TI(e);return n!==W_&&(n=Ya),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const f8=new Set(["auto","none","0"]);function d8(e,t,n){let i=0,s;for(;i<e.length&&!s;){const a=e[i];typeof a=="string"&&!f8.has(a)&&nf(a).values.length&&(s=e[i]),i++}if(s&&n)for(const a of t)e[a]=SI(n,s)}const Wo=e=>e*180/Math.PI,$_=e=>{const t=Wo(Math.atan2(e[1],e[0]));return G_(t)},p8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:$_,rotateZ:$_,skewX:e=>Wo(Math.atan(e[1])),skewY:e=>Wo(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},G_=e=>(e=e%360,e<0&&(e+=360),e),cR=$_,uR=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),hR=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),g8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uR,scaleY:hR,scale:e=>(uR(e)+hR(e))/2,rotateX:e=>G_(Wo(Math.atan2(e[6],e[5]))),rotateY:e=>G_(Wo(Math.atan2(-e[2],e[0]))),rotateZ:cR,rotate:cR,skewX:e=>Wo(Math.atan(e[4])),skewY:e=>Wo(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function fR(e){return e.includes("scale")?1:0}function K_(e,t){if(!e||e==="none")return fR(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=g8,s=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=p8,s=c}if(!s)return fR(t);const a=i[t],l=s[1].split(",").map(y8);return typeof a=="function"?a(l):l[a]}const m8=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return K_(n,t)};function y8(e){return parseFloat(e.trim())}const dR=e=>e===Yc||e===Vt,v8=new Set(["x","y","z"]),_8=Kc.filter(e=>!v8.has(e));function b8(e){const t=[];return _8.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Oc={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>K_(t,"x"),y:(e,{transform:t})=>K_(t,"y")};Oc.translateX=Oc.x;Oc.translateY=Oc.y;const Ko=new Set;let Y_=!1,X_=!1;function EI(){if(X_){const e=Array.from(Ko).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=b8(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,l])=>{var c;(c=i.getValue(a))==null||c.set(l)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}X_=!1,Y_=!1,Ko.forEach(e=>e.complete()),Ko.clear()}function xI(){Ko.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(X_=!0)})}function w8(){xI(),EI()}class pw{constructor(t,n,i,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ko.add(this),Y_||(Y_=!0,Ne.read(xI),Ne.resolveKeyframes(EI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const l=s==null?void 0:s.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&n){const h=i.readValue(n,c);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=c),s&&l===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ko.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ko.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const AI=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),T8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function S8(e){const t=T8.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function CI(e,t,n=1){const[i,s]=S8(e);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const l=a.trim();return AI(l)?parseFloat(l):l}return ew(s)?CI(s,t,n+1):s}const RI=e=>t=>t.test(e),E8={test:e=>e==="auto",parse:e=>e},DI=[Yc,Vt,ar,Ra,wW,bW,E8],pR=e=>DI.find(RI(e));class kI extends pw{constructor(t,n,i,s,a){super(t,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let f=t[h];if(typeof f=="string"&&(f=f.trim(),ew(f))){const p=CI(f,n.current);p!==void 0&&(t[h]=p),h===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!aI.has(i)||t.length!==2)return;const[s,a]=t,l=pR(s),c=pR(a);if(l!==c)if(dR(l)&&dR(c))for(let h=0;h<t.length;h++){const f=t[h];typeof f=="string"&&(t[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)XW(t[s])&&i.push(s);i.length&&d8(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oc[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var c;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=Oc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([h,f])=>{t.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const gR=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ya.test(e)||e==="0")&&!e.startsWith("url("));function x8(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function A8(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],l=gR(s,t),c=gR(a,t);return!l||!c?!1:x8(e)||(n==="spring"||$b(n))&&i}const C8=e=>e!==null;function sm(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(C8),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const R8=40;class PI{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=rr.now(),this.options={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>R8?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&w8(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=rr.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:a,delay:l,onComplete:c,onUpdate:h,isGenerator:f}=this.options;if(!f&&!A8(t,i,s,a))if(l)this.options.duration=0;else{h&&h(sm(t,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const p=this.initPlayback(t,n);p!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Xe=(e,t,n)=>e+(t-e)*n;function zv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function D8({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,a=0,l=0;if(!t)s=a=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,h=2*n-c;s=zv(h,c,e+1/3),a=zv(h,c,e),l=zv(h,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function gg(e,t){return n=>n>0?t:e}const Hv=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},k8=[q_,qo,lc],P8=e=>k8.find(t=>t.test(e));function mR(e){const t=P8(e);if(!t)return!1;let n=t.parse(e);return t===lc&&(n=D8(n)),n}const yR=(e,t)=>{const n=mR(e),i=mR(t);if(!n||!i)return gg(e,t);const s={...n};return a=>(s.red=Hv(n.red,i.red,a),s.green=Hv(n.green,i.green,a),s.blue=Hv(n.blue,i.blue,a),s.alpha=Xe(n.alpha,i.alpha,a),qo.transform(s))},M8=(e,t)=>n=>t(e(n)),Tf=(...e)=>e.reduce(M8),Q_=new Set(["none","hidden"]);function I8(e,t){return Q_.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function O8(e,t){return n=>Xe(e,t,n)}function gw(e){return typeof e=="number"?O8:typeof e=="string"?ew(e)?gg:Xn.test(e)?yR:V8:Array.isArray(e)?MI:typeof e=="object"?Xn.test(e)?yR:N8:gg}function MI(e,t){const n=[...e],i=n.length,s=e.map((a,l)=>gw(a)(a,t[l]));return a=>{for(let l=0;l<i;l++)n[l]=s[l](a);return n}}function N8(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=gw(e[s])(e[s],t[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function L8(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],l=e.indexes[a][i[a]],c=e.values[l]??0;n[s]=c,i[a]++}return n}const V8=(e,t)=>{const n=Ya.createTransformer(t),i=nf(e),s=nf(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Q_.has(e)&&!s.values.length||Q_.has(t)&&!i.values.length?I8(e,t):Tf(MI(L8(i,s),s.values),n):gg(e,t)};function II(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Xe(e,t,n):gw(e)(e,t)}const B8=5;function OI(e,t,n){const i=Math.max(t-B8,0);return NM(n-e(i),t-i)}const en={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vR=.001;function j8({duration:e=en.duration,bounce:t=en.bounce,velocity:n=en.velocity,mass:i=en.mass}){let s,a,l=1-t;l=Zr(en.minDamping,en.maxDamping,l),e=Zr(en.minDuration,en.maxDuration,sr(e)),l<1?(s=f=>{const p=f*l,y=p*e,_=p-n,b=Z_(f,l),T=Math.exp(-y);return vR-_/b*T},a=f=>{const y=f*l*e,_=y*n+n,b=Math.pow(l,2)*Math.pow(f,2)*e,T=Math.exp(-y),S=Z_(Math.pow(f,2),l);return(-s(f)+vR>0?-1:1)*((_-b)*T)/S}):(s=f=>{const p=Math.exp(-f*e),y=(f-n)*e+1;return-.001+p*y},a=f=>{const p=Math.exp(-f*e),y=(n-f)*(e*e);return p*y});const c=5/e,h=F8(s,a,c);if(e=ir(e),isNaN(h))return{stiffness:en.stiffness,damping:en.damping,duration:e};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:e}}}const U8=12;function F8(e,t,n){let i=n;for(let s=1;s<U8;s++)i=i-e(i)/t(i);return i}function Z_(e,t){return e*Math.sqrt(1-t*t)}const z8=["duration","bounce"],H8=["stiffness","damping","mass"];function _R(e,t){return t.some(n=>e[n]!==void 0)}function q8(e){let t={velocity:en.velocity,stiffness:en.stiffness,damping:en.damping,mass:en.mass,isResolvedFromDuration:!1,...e};if(!_R(e,H8)&&_R(e,z8))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*Zr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:en.mass,stiffness:s,damping:a}}else{const n=j8(e);t={...t,...n,mass:en.mass},t.isResolvedFromDuration=!0}return t}function mg(e=en.visualDuration,t=en.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:f,mass:p,duration:y,velocity:_,isResolvedFromDuration:b}=q8({...n,velocity:-sr(n.velocity||0)}),T=_||0,S=f/(2*Math.sqrt(h*p)),x=l-a,R=sr(Math.sqrt(h/p)),V=Math.abs(x)<5;i||(i=V?en.restSpeed.granular:en.restSpeed.default),s||(s=V?en.restDelta.granular:en.restDelta.default);let B;if(S<1){const z=Z_(R,S);B=X=>{const I=Math.exp(-S*R*X);return l-I*((T+S*R*x)/z*Math.sin(z*X)+x*Math.cos(z*X))}}else if(S===1)B=z=>l-Math.exp(-R*z)*(x+(T+R*x)*z);else{const z=R*Math.sqrt(S*S-1);B=X=>{const I=Math.exp(-S*R*X),D=Math.min(z*X,300);return l-I*((T+S*R*x)*Math.sinh(D)+z*x*Math.cosh(D))/z}}const $={calculatedDuration:b&&y||null,next:z=>{const X=B(z);if(b)c.done=z>=y;else{let I=0;S<1&&(I=z===0?ir(T):OI(B,z,X));const D=Math.abs(I)<=i,M=Math.abs(l-X)<=s;c.done=D&&M}return c.value=c.done?l:X,c},toString:()=>{const z=Math.min(Kb($),dg),X=LM(I=>$.next(z*I).value,z,30);return z+"ms "+X},toTransition:()=>{}};return $}mg.applyToOptions=e=>{const t=zq(e,100,mg);return e.ease=Xh()?t.ease:"easeOut",e.duration=ir(t.duration),e.type="keyframes",e};function bR({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:h,restDelta:f=.5,restSpeed:p}){const y=e[0],_={done:!1,value:y},b=D=>c!==void 0&&D<c||h!==void 0&&D>h,T=D=>c===void 0?h:h===void 0||Math.abs(c-D)<Math.abs(h-D)?c:h;let S=n*t;const x=y+S,R=l===void 0?x:l(x);R!==x&&(S=R-y);const V=D=>-S*Math.exp(-D/i),B=D=>R+V(D),$=D=>{const M=V(D),U=B(D);_.done=Math.abs(M)<=f,_.value=_.done?R:U};let z,X;const I=D=>{b(_.value)&&(z=D,X=mg({keyframes:[_.value,T(_.value)],velocity:OI(B,D,_.value),damping:s,stiffness:a,restDelta:f,restSpeed:p}))};return I(0),{calculatedDuration:null,next:D=>{let M=!1;return!X&&z===void 0&&(M=!0,$(D),I(D)),z!==void 0&&D>=z?X.next(D-z):(!M&&$(D),_)}}}const W8=wf(.42,0,1,1),$8=wf(0,0,.58,1),NI=wf(.42,0,.58,1),G8=e=>Array.isArray(e)&&typeof e[0]!="number",K8={linear:cs,easeIn:W8,easeInOut:NI,easeOut:$8,circIn:hw,circInOut:gI,circOut:pI,backIn:uw,backInOut:fI,backOut:hI,anticipate:dI},wR=e=>{if(Wb(e)){OM(e.length===4);const[t,n,i,s]=e;return wf(t,n,i,s)}else if(typeof e=="string")return K8[e];return e};function Y8(e,t,n){const i=[],s=n||II,a=e.length-1;for(let l=0;l<a;l++){let c=s(e[l],e[l+1]);if(t){const h=Array.isArray(t)?t[l]||cs:t;c=Tf(h,c)}i.push(c)}return i}function X8(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const a=e.length;if(OM(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=Y8(t,i,s),h=c.length,f=p=>{if(l&&p<e[0])return t[0];let y=0;if(h>1)for(;y<e.length-2&&!(p<e[y+1]);y++);const _=Yh(e[y],e[y+1],p);return c[y](_)};return n?p=>f(Zr(e[0],e[a-1],p)):f}function Q8(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Yh(0,t,i);e.push(Xe(n,1,s))}}function Z8(e){const t=[0];return Q8(t,e.length-1),t}function J8(e,t){return e.map(n=>n*t)}function t7(e,t){return e.map(()=>t||NI).splice(0,e.length-1)}function yg({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=G8(i)?i.map(wR):wR(i),a={done:!1,value:t[0]},l=J8(n&&n.length===t.length?n:Z8(t),e),c=X8(l,t,{ease:Array.isArray(s)?s:t7(t,s)});return{calculatedDuration:e,next:h=>(a.value=c(h),a.done=h>=e,a)}}const e7=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ne.update(t,!0),stop:()=>Qr(t),now:()=>jn.isProcessing?jn.timestamp:rr.now()}},n7={decay:bR,inertia:bR,tween:yg,keyframes:yg,spring:mg},i7=e=>e/100;class mw extends PI{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:i,element:s,keyframes:a}=this.options,l=(s==null?void 0:s.KeyframeResolver)||pw,c=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new l(a,c,n,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,c=$b(n)?n:n7[n]||yg;let h,f;c!==yg&&typeof t[0]!="number"&&(h=Tf(i7,II(t[0],t[1])),t=[0,100]);const p=c({...this.options,keyframes:t});a==="mirror"&&(f=c({...this.options,keyframes:[...t].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Kb(p));const{calculatedDuration:y}=p,_=y+s,b=_*(i+1)-s;return{generator:p,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:_,totalDuration:b}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:i}=this;if(!i){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:f,totalDuration:p,resolvedDuration:y}=i;if(this.startTime===null)return a.next(0);const{delay:_,repeat:b,repeatType:T,repeatDelay:S,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-p/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const R=this.currentTime-_*(this.speed>=0?1:-1),V=this.speed>=0?R<0:R>p;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let B=this.currentTime,$=a;if(b){const D=Math.min(this.currentTime,p)/y;let M=Math.floor(D),U=D%1;!U&&D>=1&&(U=1),U===1&&M--,M=Math.min(M,b+1),!!(M%2)&&(T==="reverse"?(U=1-U,S&&(U-=S/y)):T==="mirror"&&($=l)),B=Zr(0,1,U)*y}const z=V?{done:!1,value:h[0]}:$.next(B);c&&(z.value=c(z.value));let{done:X}=z;!V&&f!==null&&(X=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return I&&s!==void 0&&(z.value=sm(h,this.options,s)),x&&x(z.value),I&&this.finish(),z}get duration(){const{resolved:t}=this;return t?sr(t.calculatedDuration):0}get time(){return sr(this.currentTime)}set time(t){t=ir(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=sr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=e7,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}get finished(){return this.currentFinishedPromise}}const s7=new Set(["opacity","clipPath","filter","transform"]),r7=Hb(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),vg=10,a7=2e4;function o7(e){return $b(e.type)||e.type==="spring"||!BM(e.ease)}function l7(e,t){const n=new mw({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const s=[];let a=0;for(;!i.done&&a<a7;)i=n.sample(a),s.push(i.value),a+=vg;return{times:void 0,keyframes:s,duration:a-vg,ease:"linear"}}const LI={anticipate:dI,backInOut:fI,circInOut:gI};function c7(e){return e in LI}class TR extends PI{constructor(t){super(t);const{name:n,motionValue:i,element:s,keyframes:a}=this.options;this.resolver=new kI(a,(l,c)=>this.onKeyframesResolved(l,c),n,i,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:i=300,times:s,ease:a,type:l,motionValue:c,name:h,startTime:f}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&Xh()&&c7(a)&&(a=LI[a]),o7(this.options)){const{onComplete:y,onUpdate:_,motionValue:b,element:T,...S}=this.options,x=l7(t,S);t=x.keyframes,t.length===1&&(t[1]=t[0]),i=x.duration,s=x.times,a=x.ease,l="keyframes"}const p=Fq(c.owner.current,h,t,{...this.options,duration:i,times:s,ease:a});return p.startTime=f??this.calcStartTime(),this.pendingTimeline?(XC(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:y}=this.options;c.set(sm(t,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:i,times:s,type:l,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return sr(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return sr(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=ir(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return cs;const{animation:i}=n;XC(i,t)}return cs}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:i,duration:s,type:a,ease:l,times:c}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:p,onComplete:y,element:_,...b}=this.options,T=new mw({...b,keyframes:i,duration:s,type:a,ease:l,times:c,isGenerator:!0}),S=ir(this.time);f.setWithVelocity(T.sample(S-vg).value,T.sample(S).value,vg)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:i,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=n.owner.getProps();return r7()&&i&&s7.has(i)&&(i!=="transform"||!f)&&!h&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}}const u7={type:"spring",stiffness:500,damping:25,restSpeed:10},h7=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),f7={type:"keyframes",duration:.8},d7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},p7=(e,{keyframes:t})=>t.length>2?f7:fl.has(e)?e.startsWith("scale")?h7(t[1]):u7:d7;function g7({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:h,elapsed:f,...p}){return!!Object.keys(p).length}const yw=(e,t,n,i={},s,a)=>l=>{const c=Gb(i,e)||{},h=c.delay||i.delay||0;let{elapsed:f=0}=i;f=f-ir(h);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-f,onUpdate:_=>{t.set(_),c.onUpdate&&c.onUpdate(_)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:a?void 0:s};g7(c)||(p={...p,...p7(e,p)}),p.duration&&(p.duration=ir(p.duration)),p.repeatDelay&&(p.repeatDelay=ir(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(y=!0)),p.allowFlatten=!c.type&&!c.ease,y&&!a&&t.get()!==void 0){const _=sm(p.keyframes,c);if(_!==void 0)return Ne.update(()=>{p.onUpdate(_),p.onComplete()}),new Bq([])}return!a&&TR.supports(p)?new TR(p):new mw(p)};function m7({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function VI(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:l,...c}=t;i&&(a=i);const h=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const p in c){const y=e.getValue(p,e.latestValues[p]??null),_=c[p];if(_===void 0||f&&m7(f,p))continue;const b={delay:n,...Gb(a||{},p)};let T=!1;if(window.MotionHandoffAnimation){const x=oI(e);if(x){const R=window.MotionHandoffAnimation(x,p,Ne);R!==null&&(b.startTime=R,T=!0)}}H_(e,p),y.start(yw(p,y,_,e.shouldReduceMotion&&aI.has(p)?{type:!1}:b,e,T));const S=y.animation;S&&h.push(S)}return l&&Promise.all(h).then(()=>{Ne.update(()=>{l&&WW(e,l)})}),h}function J_(e,t,n={}){var h;const i=ef(e,t,n.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(VI(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=s;return y7(e,t,p+f,y,_,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,p]=c==="beforeChildren"?[a,l]:[l,a];return f().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function y7(e,t,n=0,i=0,s=1,a){const l=[],c=(e.variantChildren.size-1)*i,h=s===1?(f=0)=>f*i:(f=0)=>c-f*i;return Array.from(e.variantChildren).sort(v7).forEach((f,p)=>{f.notify("AnimationStart",t),l.push(J_(f,t,{...a,delay:n+h(p)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(l)}function v7(e,t){return e.sortNodePosition(t)}function _7(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>J_(e,a,n));i=Promise.all(s)}else if(typeof t=="string")i=J_(e,t,n);else{const s=typeof t=="function"?ef(e,t,n.custom):t;i=Promise.all(VI(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function BI(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const b7=Zb.length;function jI(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?jI(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<b7;n++){const i=Zb[n],s=e.props[i];(Zh(s)||s===!1)&&(t[i]=s)}return t}const w7=[...Qb].reverse(),T7=Qb.length;function S7(e){return t=>Promise.all(t.map(({animation:n,options:i})=>_7(e,n,i)))}function E7(e){let t=S7(e),n=SR(),i=!0;const s=h=>(f,p)=>{var _;const y=ef(e,p,h==="exit"?(_=e.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:b,transitionEnd:T,...S}=y;f={...f,...S,...T}}return f};function a(h){t=h(e)}function l(h){const{props:f}=e,p=jI(e.parent)||{},y=[],_=new Set;let b={},T=1/0;for(let x=0;x<T7;x++){const R=w7[x],V=n[R],B=f[R]!==void 0?f[R]:p[R],$=Zh(B),z=R===h?V.isActive:null;z===!1&&(T=x);let X=B===p[R]&&B!==f[R]&&$;if(X&&i&&e.manuallyAnimateOnMount&&(X=!1),V.protectedKeys={...b},!V.isActive&&z===null||!B&&!V.prevProp||nm(B)||typeof B=="boolean")continue;const I=x7(V.prevProp,B);let D=I||R===h&&V.isActive&&!X&&$||x>T&&$,M=!1;const U=Array.isArray(B)?B:[B];let F=U.reduce(s(R),{});z===!1&&(F={});const{prevResolvedValues:L={}}=V,N={...L,...F},ot=Y=>{D=!0,_.has(Y)&&(M=!0,_.delete(Y)),V.needsAnimating[Y]=!0;const G=e.getValue(Y);G&&(G.liveStyle=!1)};for(const Y in N){const G=F[Y],ft=L[Y];if(b.hasOwnProperty(Y))continue;let j=!1;z_(G)&&z_(ft)?j=!BI(G,ft):j=G!==ft,j?G!=null?ot(Y):_.add(Y):G!==void 0&&_.has(Y)?ot(Y):V.protectedKeys[Y]=!0}V.prevProp=B,V.prevResolvedValues=F,V.isActive&&(b={...b,...F}),i&&e.blockInitialAnimation&&(D=!1),D&&(!(X&&I)||M)&&y.push(...U.map(Y=>({animation:Y,options:{type:R}})))}if(_.size){const x={};if(typeof f.initial!="boolean"){const R=ef(e,Array.isArray(f.initial)?f.initial[0]:f.initial);R&&R.transition&&(x.transition=R.transition)}_.forEach(R=>{const V=e.getBaseTarget(R),B=e.getValue(R);B&&(B.liveStyle=!0),x[R]=V??null}),y.push({animation:x})}let S=!!y.length;return i&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(S=!1),i=!1,S?t(y):Promise.resolve()}function c(h,f){var y;if(n[h].isActive===f)return Promise.resolve();(y=e.variantChildren)==null||y.forEach(_=>{var b;return(b=_.animationState)==null?void 0:b.setActive(h,f)}),n[h].isActive=f;const p=l(h);for(const _ in n)n[_].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=SR(),i=!0}}}function x7(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!BI(t,e):!1}function Mo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SR(){return{animate:Mo(!0),whileInView:Mo(),whileHover:Mo(),whileTap:Mo(),whileDrag:Mo(),whileFocus:Mo(),exit:Mo()}}class to{constructor(t){this.isMounted=!1,this.node=t}update(){}}class A7 extends to{constructor(t){super(t),t.animationState||(t.animationState=E7(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();nm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let C7=0;class R7 extends to{constructor(){super(...arguments),this.id=C7++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const D7={animation:{Feature:A7},exit:{Feature:R7}};function sf(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Sf(e){return{point:{x:e.pageX,y:e.pageY}}}const k7=e=>t=>Xb(t)&&e(t,Sf(t));function Ah(e,t,n,i){return sf(e,t,k7(n),i)}function UI({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function P7({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function M7(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const FI=1e-4,I7=1-FI,O7=1+FI,zI=.01,N7=0-zI,L7=0+zI;function ci(e){return e.max-e.min}function V7(e,t,n){return Math.abs(e-t)<=n}function ER(e,t,n,i=.5){e.origin=i,e.originPoint=Xe(t.min,t.max,e.origin),e.scale=ci(n)/ci(t),e.translate=Xe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=I7&&e.scale<=O7||isNaN(e.scale))&&(e.scale=1),(e.translate>=N7&&e.translate<=L7||isNaN(e.translate))&&(e.translate=0)}function Ch(e,t,n,i){ER(e.x,t.x,n.x,i?i.originX:void 0),ER(e.y,t.y,n.y,i?i.originY:void 0)}function xR(e,t,n){e.min=n.min+t.min,e.max=e.min+ci(t)}function B7(e,t,n){xR(e.x,t.x,n.x),xR(e.y,t.y,n.y)}function AR(e,t,n){e.min=t.min-n.min,e.max=e.min+ci(t)}function Rh(e,t,n){AR(e.x,t.x,n.x),AR(e.y,t.y,n.y)}const CR=()=>({translate:0,scale:1,origin:0,originPoint:0}),cc=()=>({x:CR(),y:CR()}),RR=()=>({min:0,max:0}),on=()=>({x:RR(),y:RR()});function ss(e){return[e("x"),e("y")]}function qv(e){return e===void 0||e===1}function t0({scale:e,scaleX:t,scaleY:n}){return!qv(e)||!qv(t)||!qv(n)}function Bo(e){return t0(e)||HI(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function HI(e){return DR(e.x)||DR(e.y)}function DR(e){return e&&e!=="0%"}function _g(e,t,n){const i=e-n,s=t*i;return n+s}function kR(e,t,n,i,s){return s!==void 0&&(e=_g(e,s,i)),_g(e,n,i)+t}function e0(e,t=0,n=1,i,s){e.min=kR(e.min,t,n,i,s),e.max=kR(e.max,t,n,i,s)}function qI(e,{x:t,y:n}){e0(e.x,t.translate,t.scale,t.originPoint),e0(e.y,n.translate,n.scale,n.originPoint)}const PR=.999999999999,MR=1.0000000000001;function j7(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&hc(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,qI(e,l)),i&&Bo(a.latestValues)&&hc(e,a.latestValues))}t.x<MR&&t.x>PR&&(t.x=1),t.y<MR&&t.y>PR&&(t.y=1)}function uc(e,t){e.min=e.min+t,e.max=e.max+t}function IR(e,t,n,i,s=.5){const a=Xe(e.min,e.max,s);e0(e,t,n,a,i)}function hc(e,t){IR(e.x,t.x,t.scaleX,t.scale,t.originX),IR(e.y,t.y,t.scaleY,t.scale,t.originY)}function WI(e,t){return UI(M7(e.getBoundingClientRect(),t))}function U7(e,t,n){const i=WI(e,n),{scroll:s}=t;return s&&(uc(i.x,s.offset.x),uc(i.y,s.offset.y)),i}const $I=({current:e})=>e?e.ownerDocument.defaultView:null,OR=(e,t)=>Math.abs(e-t);function F7(e,t){const n=OR(e.x,t.x),i=OR(e.y,t.y);return Math.sqrt(n**2+i**2)}class GI{constructor(t,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=$v(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,b=F7(y.offset,{x:0,y:0})>=3;if(!_&&!b)return;const{point:T}=y,{timestamp:S}=jn;this.history.push({...T,timestamp:S});const{onStart:x,onMove:R}=this.handlers;_||(x&&x(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Wv(_,this.transformPagePoint),Ne.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:b,onSessionEnd:T,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=$v(y.type==="pointercancel"?this.lastMoveEventInfo:Wv(_,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,x),T&&T(y,x)},!Xb(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const l=Sf(t),c=Wv(l,this.transformPagePoint),{point:h}=c,{timestamp:f}=jn;this.history=[{...h,timestamp:f}];const{onSessionStart:p}=n;p&&p(t,$v(c,this.history)),this.removeListeners=Tf(Ah(this.contextWindow,"pointermove",this.handlePointerMove),Ah(this.contextWindow,"pointerup",this.handlePointerUp),Ah(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Qr(this.updatePoint)}}function Wv(e,t){return t?{point:t(e.point)}:e}function NR(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $v({point:e},t){return{point:e,delta:NR(e,KI(t)),offset:NR(e,z7(t)),velocity:H7(t,.1)}}function z7(e){return e[0]}function KI(e){return e[e.length-1]}function H7(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=KI(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>ir(t)));)n--;if(!i)return{x:0,y:0};const a=sr(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function q7(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Xe(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Xe(n,e,i.max):Math.min(e,n)),e}function LR(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function W7(e,{top:t,left:n,bottom:i,right:s}){return{x:LR(e.x,n,s),y:LR(e.y,t,i)}}function VR(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function $7(e,t){return{x:VR(e.x,t.x),y:VR(e.y,t.y)}}function G7(e,t){let n=.5;const i=ci(e),s=ci(t);return s>i?n=Yh(t.min,t.max-i,e.min):i>s&&(n=Yh(e.min,e.max-s,t.min)),Zr(0,1,n)}function K7(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const n0=.35;function Y7(e=n0){return e===!1?e=0:e===!0&&(e=n0),{x:BR(e,"left","right"),y:BR(e,"top","bottom")}}function BR(e,t,n){return{min:jR(e,t),max:jR(e,n)}}function jR(e,t){return typeof e=="number"?e:e[t]||0}const X7=new WeakMap;class Q7{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=on(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Sf(p).point)},a=(p,y)=>{const{drag:_,dragPropagation:b,onDragStart:T}=this.getProps();if(_&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$q(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ss(x=>{let R=this.getAxisMotionValue(x).get()||0;if(ar.test(R)){const{projection:V}=this.visualElement;if(V&&V.layout){const B=V.layout.layoutBox[x];B&&(R=ci(B)*(parseFloat(R)/100))}}this.originPoint[x]=R}),T&&Ne.postRender(()=>T(p,y)),H_(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(p,y)=>{const{dragPropagation:_,dragDirectionLock:b,onDirectionLock:T,onDrag:S}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:x}=y;if(b&&this.currentDirection===null){this.currentDirection=Z7(x),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",y.point,x),this.updateAxis("y",y.point,x),this.visualElement.render(),S&&S(p,y)},c=(p,y)=>this.stop(p,y),h=()=>ss(p=>{var y;return this.getAnimationState(p)==="paused"&&((y=this.getAxisMotionValue(p).animation)==null?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new GI(t,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:$I(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ne.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!dp(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=q7(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;t&&oc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=W7(i.layoutBox,t):this.constraints=!1,this.elastic=Y7(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ss(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=K7(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!oc(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=U7(i,s.root,this.visualElement.getTransformPagePoint());let l=$7(s.layout.layoutBox,a);if(n){const c=n(P7(l));this.hasMutatedConstraints=!!c,c&&(l=UI(c))}return l}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},f=ss(p=>{if(!dp(p,n,this.currentDirection))return;let y=h&&h[p]||{};l&&(y={min:0,max:0});const _=s?200:1e6,b=s?40:1e7,T={type:"inertia",velocity:i?t[p]:0,bounceStiffness:_,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(p,T)});return Promise.all(f).then(c)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return H_(this.visualElement,t),i.start(yw(t,i,0,n,this.visualElement,!1))}stopAnimation(){ss(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ss(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){ss(n=>{const{drag:i}=this.getProps();if(!dp(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(t[n]-Xe(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!oc(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ss(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();s[l]=G7({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ss(l=>{if(!dp(l,t,null))return;const c=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];c.set(Xe(h,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;X7.set(this.visualElement,this);const t=this.visualElement.current,n=Ah(t,"pointerdown",h=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();oc(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ne.read(i);const l=sf(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(ss(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=h[p].translate,y.set(y.get()+h[p].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=n0,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function dp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Z7(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class J7 extends to{constructor(t){super(t),this.removeGroupControls=cs,this.removeListeners=cs,this.controls=new Q7(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cs}unmount(){this.removeGroupControls(),this.removeListeners()}}const UR=e=>(t,n)=>{e&&Ne.postRender(()=>e(t,n))};class t$ extends to{constructor(){super(...arguments),this.removePointerDownListener=cs}onPointerDown(t){this.session=new GI(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$I(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:UR(t),onStart:UR(n),onMove:i,onEnd:(a,l)=>{delete this.session,s&&Ne.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Ah(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Np={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FR(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const rh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Vt.test(e))e=parseFloat(e);else return e;const n=FR(e,t.target.x),i=FR(e,t.target.y);return`${n}% ${i}%`}},e$={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=Ya.parse(e);if(s.length>5)return i;const a=Ya.createTransformer(e),l=typeof s[0]!="number"?1:0,c=n.x.scale*t.x,h=n.y.scale*t.y;s[0+l]/=c,s[1+l]/=h;const f=Xe(c,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),a(s)}};class n$ extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;_W(i$),a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Np.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,l=i.projection;return l&&(l.isPresent=a,s||t.layoutDependency!==n||n===void 0||t.isPresent!==a?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||Ne.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Yb.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function YI(e){const[t,n]=IM(),i=P.useContext(Vb);return C.jsx(n$,{...e,layoutGroup:i,switchLayoutGroup:P.useContext(GM),isPresent:t,safeToRemove:n})}const i$={borderRadius:{...rh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rh,borderTopRightRadius:rh,borderBottomLeftRadius:rh,borderBottomRightRadius:rh,boxShadow:e$};function s$(e,t,n){const i=ti(e)?e:Qh(e);return i.start(yw("",i,t,n)),i.animation}function r$(e){return e instanceof SVGElement&&e.tagName!=="svg"}const a$=(e,t)=>e.depth-t.depth;class o${constructor(){this.children=[],this.isDirty=!1}add(t){Fb(this.children,t),this.isDirty=!0}remove(t){zb(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(a$),this.isDirty=!1,this.children.forEach(t)}}function l$(e,t){const n=rr.now(),i=({timestamp:s})=>{const a=s-n;a>=t&&(Qr(i),e(a-t))};return Ne.read(i,!0),()=>Qr(i)}const XI=["TopLeft","TopRight","BottomLeft","BottomRight"],c$=XI.length,zR=e=>typeof e=="string"?parseFloat(e):e,HR=e=>typeof e=="number"||Vt.test(e);function u$(e,t,n,i,s,a){s?(e.opacity=Xe(0,n.opacity!==void 0?n.opacity:1,h$(i)),e.opacityExit=Xe(t.opacity!==void 0?t.opacity:1,0,f$(i))):a&&(e.opacity=Xe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let l=0;l<c$;l++){const c=`border${XI[l]}Radius`;let h=qR(t,c),f=qR(n,c);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||HR(h)===HR(f)?(e[c]=Math.max(Xe(zR(h),zR(f),i),0),(ar.test(f)||ar.test(h))&&(e[c]+="%")):e[c]=f}(t.rotate||n.rotate)&&(e.rotate=Xe(t.rotate||0,n.rotate||0,i))}function qR(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const h$=QI(0,.5,pI),f$=QI(.5,.95,cs);function QI(e,t,n){return i=>i<e?0:i>t?1:n(Yh(e,t,i))}function WR(e,t){e.min=t.min,e.max=t.max}function ns(e,t){WR(e.x,t.x),WR(e.y,t.y)}function $R(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function GR(e,t,n,i,s){return e-=t,e=_g(e,1/n,i),s!==void 0&&(e=_g(e,1/s,i)),e}function d$(e,t=0,n=1,i=.5,s,a=e,l=e){if(ar.test(t)&&(t=parseFloat(t),t=Xe(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=Xe(a.min,a.max,i);e===a&&(c-=t),e.min=GR(e.min,t,n,c,s),e.max=GR(e.max,t,n,c,s)}function KR(e,t,[n,i,s],a,l){d$(e,t[n],t[i],t[s],t.scale,a,l)}const p$=["x","scaleX","originX"],g$=["y","scaleY","originY"];function YR(e,t,n,i){KR(e.x,t,p$,n?n.x:void 0,i?i.x:void 0),KR(e.y,t,g$,n?n.y:void 0,i?i.y:void 0)}function XR(e){return e.translate===0&&e.scale===1}function ZI(e){return XR(e.x)&&XR(e.y)}function QR(e,t){return e.min===t.min&&e.max===t.max}function m$(e,t){return QR(e.x,t.x)&&QR(e.y,t.y)}function ZR(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function JI(e,t){return ZR(e.x,t.x)&&ZR(e.y,t.y)}function JR(e){return ci(e.x)/ci(e.y)}function t1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class y${constructor(){this.members=[]}add(t){Fb(this.members,t),t.scheduleRender()}remove(t){if(zb(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function v$(e,t,n){let i="";const s=e.x.translate/t.x,a=e.y.translate/t.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(i=`translate3d(${s}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:y,rotateY:_,skewX:b,skewY:T}=n;f&&(i=`perspective(${f}px) ${i}`),p&&(i+=`rotate(${p}deg) `),y&&(i+=`rotateX(${y}deg) `),_&&(i+=`rotateY(${_}deg) `),b&&(i+=`skewX(${b}deg) `),T&&(i+=`skewY(${T}deg) `)}const c=e.x.scale*t.x,h=e.y.scale*t.y;return(c!==1||h!==1)&&(i+=`scale(${c}, ${h})`),i||"none"}const Gv=["","X","Y","Z"],_$={visibility:"hidden"},e1=1e3;let b$=0;function Kv(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function tO(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=oI(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ne,!(s||a))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&tO(i)}function eO({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=t==null?void 0:t()){this.id=b$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(S$),this.nodes.forEach(R$),this.nodes.forEach(D$),this.nodes.forEach(E$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new o$)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new qb),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=r$(l),this.instance=l;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(f||h)&&(this.isLayoutDirty=!0),e){let y;const _=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=l$(_,250),Np.hasAnimatedSinceResize&&(Np.hasAnimatedSinceResize=!1,this.nodes.forEach(i1))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||O$,{onLayoutAnimationStart:x,onLayoutAnimationComplete:R}=p.getProps(),V=!this.targetLayout||!JI(this.targetLayout,T),B=!_&&b;if(this.options.layoutRoot||this.resumeFrom||B||_&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,B);const $={...Gb(S,"layout"),onPlay:x,onComplete:R};(p.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($)}else _||i1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k$),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(n1);return}this.isUpdating||this.nodes.forEach(A$),this.isUpdating=!1,this.nodes.forEach(C$),this.nodes.forEach(w$),this.nodes.forEach(T$),this.clearAllSnapshots();const c=rr.now();jn.delta=Zr(0,1e3/60,c-jn.timestamp),jn.timestamp=c,jn.isProcessing=!0,jv.update.process(jn),jv.preRender.process(jn),jv.render.process(jn),jn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(x$),this.sharedNodes.forEach(P$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ci(this.snapshot.measuredBox.x)&&!ci(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=on(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!ZI(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&(c||Bo(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),N$(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:l}=this.options;if(!l)return on();const c=l.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(L$))){const{scroll:p}=this.root;p&&(uc(c.x,p.offset.x),uc(c.y,p.offset.y))}return c}removeElementScroll(l){var h;const c=on();if(ns(c,l),(h=this.scroll)!=null&&h.wasRoot)return c;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&ns(c,l),uc(c.x,y.offset.x),uc(c.y,y.offset.y))}return c}applyTransform(l,c=!1){const h=on();ns(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&hc(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Bo(p.latestValues)&&hc(h,p.latestValues)}return Bo(this.latestValues)&&hc(h,this.latestValues),h}removeTransform(l){const c=on();ns(c,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Bo(f.latestValues))continue;t0(f.latestValues)&&f.updateSnapshot();const p=on(),y=f.measurePageBox();ns(p,y),YR(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Bo(this.latestValues)&&YR(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var _;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=jn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),Rh(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=on(),this.targetWithTransforms=on()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),B7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ns(this.target,this.layout.layoutBox),qI(this.target,this.targetDelta)):ns(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),Rh(this.relativeTargetOrigin,this.target,b.target),ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||t0(this.parent.latestValues)||HI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===jn.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;ns(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;j7(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=on());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($R(this.prevProjectionDelta.x,this.projectionDelta.x),$R(this.prevProjectionDelta.y,this.projectionDelta.y)),Ch(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!t1(this.projectionDelta.x,this.prevProjectionDelta.x)||!t1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cc(),this.projectionDelta=cc(),this.projectionDeltaWithTransform=cc()}setAnimationOrigin(l,c=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},y=cc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const _=on(),b=h?h.source:void 0,T=this.layout?this.layout.source:void 0,S=b!==T,x=this.getStack(),R=!x||x.members.length<=1,V=!!(S&&!R&&this.options.crossfade===!0&&!this.path.some(I$));this.animationProgress=0;let B;this.mixTargetDelta=$=>{const z=$/1e3;s1(y.x,l.x,z),s1(y.y,l.y,z),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rh(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),M$(this.relativeTarget,this.relativeTargetOrigin,_,z),B&&m$(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=on()),ns(B,this.relativeTarget)),S&&(this.animationValues=p,u$(p,f,this.latestValues,z,V,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ne.update(()=>{Np.hasAnimatedSinceResize=!0,this.currentAnimation=s$(0,e1,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(e1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:f,latestValues:p}=l;if(!(!c||!h||!f)){if(this!==l&&this.layout&&f&&nO(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||on();const y=ci(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const _=ci(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+_}ns(c,h),hc(c,p),Ch(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new y$),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const f={};h.z&&Kv("z",l,f,this.animationValues);for(let p=0;p<Gv.length;p++)Kv(`rotate${Gv[p]}`,l,f,this.animationValues),Kv(`skew${Gv[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return _$;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Op(l==null?void 0:l.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Op(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Bo(this.latestValues)&&(b.transform=h?h({},""):"none",this.hasProjected=!1),b}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=v$(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:y,y:_}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,f.animationValues?c.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in Jh){if(p[b]===void 0)continue;const{correct:T,applyTo:S,isCSSVariable:x}=Jh[b],R=c.transform==="none"?p[b]:T(p[b],f);if(S){const V=S.length;for(let B=0;B<V;B++)c[S[B]]=R}else x?this.options.visualElement.renderState.vars[b]=R:c[b]=R}return this.options.layoutId&&(c.pointerEvents=f===this?Op(l==null?void 0:l.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(n1),this.root.sharedNodes.clear()}}}function w$(e){e.updateLayout()}function T$(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?ss(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=ci(_);_.min=i[y].min,_.max=_.min+b}):nO(a,t.layoutBox,i)&&ss(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=ci(i[y]);_.max=_.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+b)});const c=cc();Ch(c,i,t.layoutBox);const h=cc();l?Ch(h,e.applyTransform(s,!0),t.measuredBox):Ch(h,i,t.layoutBox);const f=!ZI(c);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const T=on();Rh(T,t.layoutBox,_.layoutBox);const S=on();Rh(S,i,b.layoutBox),JI(T,S)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=T,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function S$(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function E$(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function x$(e){e.clearSnapshot()}function n1(e){e.clearMeasurements()}function A$(e){e.isLayoutDirty=!1}function C$(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function i1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function R$(e){e.resolveTargetDelta()}function D$(e){e.calcProjection()}function k$(e){e.resetSkewAndRotation()}function P$(e){e.removeLeadSnapshot()}function s1(e,t,n){e.translate=Xe(t.translate,0,n),e.scale=Xe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function r1(e,t,n,i){e.min=Xe(t.min,n.min,i),e.max=Xe(t.max,n.max,i)}function M$(e,t,n,i){r1(e.x,t.x,n.x,i),r1(e.y,t.y,n.y,i)}function I$(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const O$={duration:.45,ease:[.4,0,.1,1]},a1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),o1=a1("applewebkit/")&&!a1("chrome/")?Math.round:cs;function l1(e){e.min=o1(e.min),e.max=o1(e.max)}function N$(e){l1(e.x),l1(e.y)}function nO(e,t,n){return e==="position"||e==="preserve-aspect"&&!V7(JR(t),JR(n),.2)}function L$(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const V$=eO({attachResizeListener:(e,t)=>sf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yv={current:void 0},iO=eO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Yv.current){const e=new V$({});e.mount(window),e.setOptions({layoutScroll:!0}),Yv.current=e}return Yv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),B$={pan:{Feature:t$},drag:{Feature:J7,ProjectionNode:iO,MeasureLayout:YI}};function c1(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&Ne.postRender(()=>a(t,Sf(t)))}class j$ extends to{mount(){const{current:t}=this.node;t&&(this.unmount=Kq(t,(n,i)=>(c1(this.node,i,"Start"),s=>c1(this.node,s,"End"))))}unmount(){}}class U$ extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tf(sf(this.node.current,"focus",()=>this.onFocus()),sf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function u1(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&Ne.postRender(()=>a(t,Sf(t)))}class F$ extends to{mount(){const{current:t}=this.node;t&&(this.unmount=Zq(t,(n,i)=>(u1(this.node,i,"Start"),(s,{success:a})=>u1(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const i0=new WeakMap,Xv=new WeakMap,z$=e=>{const t=i0.get(e.target);t&&t(e)},H$=e=>{e.forEach(z$)};function q$({root:e,...t}){const n=e||document;Xv.has(n)||Xv.set(n,{});const i=Xv.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(H$,{root:e,...t})),i[s]}function W$(e,t,n){const i=q$(t);return i0.set(e,n),i.observe(e),()=>{i0.delete(e),i.unobserve(e)}}const $$={some:0,all:1};class G$ extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=t,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:$$[s]},c=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),_=f?p:y;_&&_(h)};return W$(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(K$(t,n))&&this.startObserver()}unmount(){}}function K$({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Y$={inView:{Feature:G$},tap:{Feature:F$},focus:{Feature:U$},hover:{Feature:j$}},X$={layout:{ProjectionNode:iO,MeasureLayout:YI}},s0={current:null},sO={current:!1};function Q$(){if(sO.current=!0,!!jb)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>s0.current=e.matches;e.addListener(t),t()}else s0.current=!1}const Z$=[...DI,Xn,Ya],J$=e=>Z$.find(RI(e)),tG=new WeakMap;function eG(e,t,n){for(const i in t){const s=t[i],a=n[i];if(ti(s))e.addValue(i,s);else if(ti(a))e.addValue(i,Qh(s,{owner:e}));else if(a!==s)if(e.hasValue(i)){const l=e.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,Qh(l!==void 0?l:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const h1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nG{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=rr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Ne.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:p}=l;this.onUpdate=p,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=im(n),this.isVariantNode=WM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const T=_[b];h[b]!==void 0&&ti(T)&&T.set(h[b],!1)}}mount(t){this.current=t,tG.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),sO.current||Q$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:s0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qr(this.notifyUpdate),Qr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=fl.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ne.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ic){const n=Ic[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):on()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<h1.length;i++){const s=h1[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=t[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=eG(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Qh(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(AI(i)||mI(i))?i=parseFloat(i):!J$(i)&&Ya.test(n)&&(i=SI(t,n)),this.setBaseTarget(t,ti(i)?i.get():i)),ti(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=lw(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(i=l[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ti(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new qb),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class rO extends nG{constructor(){super(...arguments),this.KeyframeResolver=kI}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ti(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iG(e){return window.getComputedStyle(e)}class sG extends rO{constructor(){super(...arguments),this.type="html",this.renderInstance=nI}readValueFromInstance(t,n){if(fl.has(n))return m8(t,n);{const i=iG(t),s=(tw(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return WI(t,n)}build(t,n,i){iw(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return cw(t,n,i)}}class rG extends rO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=on,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&eI(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(fl.has(n)){const i=TI(n);return i&&i.default||0}return n=iI.has(n)?n:Jb(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return rI(t,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&Ne.postRender(this.updateDimensions)}build(t,n,i){aw(t,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,i,s){sI(t,n,i,s)}mount(t){this.isSVGTag=ow(t.tagName),super.mount(t)}}const aG=(e,t)=>rw(e)?new rG(t):new sG(t,{allowProjection:e!==P.Fragment}),oG=HW({...D7,...Y$,...B$,...X$},aG),Yo=rW(oG);var aO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},f1=Oe.createContext&&Oe.createContext(aO),lG=["attr","size","title"];function cG(e,t){if(e==null)return{};var n=uG(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function uG(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bg.apply(this,arguments)}function d1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function wg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d1(Object(n),!0).forEach(function(i){hG(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d1(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function hG(e,t,n){return t=fG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fG(e){var t=dG(e,"string");return typeof t=="symbol"?t:t+""}function dG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oO(e){return e&&e.map((t,n)=>Oe.createElement(t.tag,wg({key:n},t.attr),oO(t.child)))}function Ef(e){return t=>Oe.createElement(pG,bg({attr:wg({},e.attr)},t),oO(e.child))}function pG(e){var t=n=>{var{attr:i,size:s,title:a}=e,l=cG(e,lG),c=s||n.size||"1em",h;return n.className&&(h=n.className),e.className&&(h=(h?h+" ":"")+e.className),Oe.createElement("svg",bg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:h,style:wg(wg({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Oe.createElement("title",null,a),e.children)};return f1!==void 0?Oe.createElement(f1.Consumer,null,n=>t(n)):t(aO)}function lO(e){return Ef({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function gG(e){return Ef({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function mG(e){return Ef({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function yG(e){return Ef({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function vG(e){return Ef({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function _G(){const[e,t]=P.useState([{id:1,name:"",sets:[{id:1,reps:"",weight:""}]}]),[n,i]=P.useState(""),[s,a]=P.useState(new Date().toISOString().split("T")[0]),[l,c]=P.useState(null),[h,f]=P.useState([]),[p,y]=P.useState(!1),[_,b]=P.useState(null),[T,S]=P.useState(!1),[x,R]=P.useState("");Ds(),P.useEffect(()=>{console.log("Testing exercise matching:",fg("bench"))},[]),P.useEffect(()=>{let L;return T&&(L&&clearTimeout(L),L=setTimeout(()=>{S(!1)},2500)),()=>{L&&clearTimeout(L)}},[T]);const V=()=>{if(e.length>=20){alert("You've reached the maximum limit of 20 exercises per workout");return}const L=Date.now(),N={id:L,name:"",sets:[{id:L+1,reps:"",weight:""}]},ot=[...e,N];t(ot),console.log("Added new exercise, total:",ot.length)},B=L=>{t(e.filter(N=>N.id!==L))},$=L=>{t(e.map(N=>{if(N.id===L){if(N.sets.length>=20)return alert("You've reached the maximum limit of 20 sets per exercise"),N;const ot=N.name&&M(N.name);return{...N,sets:[...N.sets,{id:Date.now(),reps:"",weight:ot?" bodyweight":""}]}}return N}))},z=(L,N)=>{t(e.map(ot=>ot.id===L?ot.sets.length===1?ot:{...ot,sets:ot.sets.filter(dt=>dt.id!==N)}:ot))},X=(L,N)=>{const ot=e.find(q=>q.id===L);if(ot&&ot.name&&M(ot.name)&&!M(N)?t(e.map(q=>q.id===L?{...q,name:N,sets:q.sets.map(Y=>Y.weight===" bodyweight"?{...Y,weight:""}:Y)}:q)):t(e.map(q=>q.id===L?{...q,name:N}:q)),N.trim()){const q=fg(N);f(q)}else f([])},I=(L,N)=>{console.log("Selected exercise:",N),console.log("Is bodyweight exercise:",M(N)),f([]);const ot=M(N),dt=e.find(Y=>Y.id===L),q=dt&&dt.name&&M(dt.name);t(Y=>Y.map(G=>G.id===L?ot?{...G,name:N,sets:G.sets.map(ft=>({...ft,weight:" bodyweight"}))}:q?{...G,name:N,sets:G.sets.map(ft=>({...ft,weight:""}))}:{...G,name:N}:G))},D=(L,N,ot,dt)=>{if(ot==="reps"){const q=dt.replace(/\D/g,"");t(e.map(Y=>Y.id===L?{...Y,sets:Y.sets.map(G=>G.id===N?{...G,[ot]:q}:G)}:Y))}else if(ot==="weight"){if(dt===" bodyweight")return;(dt===""||/^(\d+\.?\d{0,2}|\.\d{1,2})$/.test(dt))&&t(e.map(q=>q.id===L?{...q,sets:q.sets.map(Y=>Y.id===N?{...Y,[ot]:dt}:Y)}:q))}else t(e.map(q=>q.id===L?{...q,sets:q.sets.map(Y=>Y.id===N?{...Y,[ot]:dt}:Y)}:q))},M=L=>L?PM.some(N=>N.toLowerCase()===L.toLowerCase()):!1,U=L=>kM.includes(L),F=async L=>{if(L.preventDefault(),!(p||T)){b(null),y(!0);try{const N=ei.currentUser;if(!N){b("You must be logged in to save a workout"),y(!1);return}if(e.some(Y=>!Y.name.trim())){b("Please provide a name for all exercises"),y(!1);return}if(e.some(Y=>Y.sets.some(G=>!G.reps))){b("Please provide reps for all sets"),y(!1);return}if(e.some(Y=>!M(Y.name)&&Y.sets.some(G=>!G.weight&&G.weight!==0))){b("Please provide weight for all sets (unless it's a bodyweight exercise)."),y(!1);return}const ot={name:n||`Workout ${new Date().toLocaleDateString()}`,date:s,timestamp:Date.now(),exercises:e.map(Y=>({name:Y.name,sets:Y.sets.map(G=>({reps:G.reps,weight:G.weight||(M(Y.name)?" bodyweight":"")}))}))},dt=os(ls,"users",N.uid);await jh(dt,{workouts:fP(ot)}),R("Great job! Workout saved successfully!"),y(!1),S(!0);const q=setTimeout(()=>{i(""),a(new Date().toISOString().split("T")[0]),t([{id:Date.now(),name:"",sets:[{id:Date.now(),reps:"",weight:""}]}])},2e3);return()=>clearTimeout(q)}catch(N){console.error("Error saving workout:",N),b("Error saving workout. Please try again."),y(!1)}}};return C.jsxs("div",{className:"log-workout-container",children:[C.jsx("h1",{children:"Log Workout"}),C.jsxs("form",{onSubmit:F,children:[C.jsxs("div",{className:"form-header",children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"workoutName",children:"Workout Name"}),C.jsx("input",{type:"text",id:"workoutName",value:n,onChange:L=>i(L.target.value),placeholder:"Enter workout name"})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"workoutDate",children:"Date"}),C.jsx("input",{type:"date",id:"workoutDate",value:s,onChange:L=>a(L.target.value),max:new Date().toISOString().split("T")[0]})]})]}),C.jsx("div",{className:"exercises-container",children:e.map((L,N)=>C.jsxs("div",{className:"exercise-item",children:[C.jsxs("div",{className:"exercise-header",children:[C.jsxs("h3",{children:["Exercise ",N+1]}),C.jsx("button",{type:"button",onClick:()=>B(L.id),className:"remove-btn",children:"Remove"})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:`exercise-${L.id}`,children:"Exercise Name"}),C.jsxs("div",{className:"exercise-name-input-container",children:[C.jsx("input",{type:"text",id:`exercise-${L.id}`,value:L.name,onChange:ot=>X(L.id,ot.target.value),placeholder:"Enter exercise name",onFocus:()=>c(L.id),onBlur:()=>{setTimeout(()=>{c(null),f([]),t(ot=>ot.map(dt=>dt.id===L.id&&!U(dt.name)?{...dt,name:""}:dt))},200)},autoComplete:"off"}),l===L.id&&h.length>0&&C.jsx("div",{className:"suggestions-list",children:h.map((ot,dt)=>C.jsx("div",{className:"suggestion-item",onClick:()=>I(L.id,ot),children:ot},dt))})]})]}),C.jsxs("div",{className:"sets-container",children:[C.jsx("h4",{children:"Sets"}),L.sets.map((ot,dt)=>C.jsxs("div",{className:"set-item",children:[C.jsxs("div",{className:"set-header",children:[C.jsxs("span",{children:["Set ",dt+1]}),C.jsx("button",{type:"button",onClick:()=>z(L.id,ot.id),className:"remove-btn",disabled:L.sets.length===1,children:"Remove"})]}),C.jsxs("div",{className:"set-inputs",children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:`reps-${L.id}-${ot.id}`,children:"Reps"}),C.jsx("input",{type:"number",id:`reps-${L.id}-${ot.id}`,value:ot.reps,onChange:q=>{let Y=q.target.value;Y!==""&&(parseInt(Y)<0||parseInt(Y)>1e3)||D(L.id,ot.id,"reps",Y)},onKeyDown:q=>{["e","E","+","-"].includes(q.key)&&q.preventDefault()},placeholder:"e.g., 10",min:"1",step:"1",required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:`weight-${L.id}-${ot.id}`,children:"Weight"}),C.jsx("input",{type:"number",id:`weight-${L.id}-${ot.id}`,value:ot.weight,onChange:q=>{let Y=q.target.value;ot.weight!==" bodyweight"&&/^\d*\.?\d{0,1}$/.test(Y)&&(Y!==""&&(parseFloat(Y)<0||parseFloat(Y)>1e3)||D(L.id,ot.id,"weight",Y))},onKeyDown:q=>{["e","E","+","-"].includes(q.key)&&q.preventDefault()},placeholder:ot.weight===" bodyweight"?"Bodyweight":"e.g., 135",min:"0",max:"1000",step:"0.1",required:ot.weight!==" bodyweight",readOnly:ot.weight===" bodyweight",className:ot.weight===" bodyweight"?"bodyweight-input":""})]})]})]},ot.id)),C.jsx("button",{type:"button",onClick:()=>$(L.id),className:"add-set-btn",disabled:L.sets.length>=20,title:L.sets.length>=20?"Maximum 20 sets per exercise":"Add another set",children:"Add Set"})]})]},L.id))}),C.jsxs("div",{className:"form-actions",children:[C.jsx("button",{type:"button",onClick:V,className:"add-exercise-btn",disabled:p||e.length>=20,title:e.length>=20?"Maximum 20 exercises per workout":"Add a new exercise",children:"Add Exercise"}),C.jsx("button",{type:"submit",className:`save-workout-btn ${p?"saving":""}`,disabled:p,children:p?"Saving...":"Save Workout"})]})]}),C.jsx(Nq,{mode:"wait",children:T&&C.jsxs(Yo.div,{className:"success-message",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3,type:"spring",stiffness:200,damping:20},children:[C.jsx(Yo.div,{className:"success-icon",initial:{scale:0,rotate:-45},animate:{scale:1,rotate:0},transition:{duration:.5,type:"spring",stiffness:260,damping:20},children:C.jsx(gG,{size:40,strokeWidth:3})}),C.jsx(Yo.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:x})]},"success-message")}),_&&C.jsx("div",{className:"error-message",children:C.jsx("p",{children:_})})]})}function Xc(){return C.jsx("div",{className:"loading-spinner-container",children:C.jsx("div",{className:"loading-spinner"})})}function bG(){const[e,t]=P.useState([]),[n,i]=P.useState(!0),[s,a]=P.useState(null),[l,c]=P.useState(null),[h,f]=P.useState(!1),[p,y]=P.useState(!1),[_,b]=P.useState(null),[T,S]=P.useState(null),[x,R]=P.useState(null),[V,B]=P.useState([]),[$,z]=P.useState(""),X=P.useRef([]),I=async()=>{var G;try{i(!0);const ft=ei.currentUser;if(!ft){a("You must be logged in to view workout history"),i(!1);return}const j=os(ls,"users",ft.uid),tt=await Ss(j);if(tt.exists()){const ct=tt.data(),rt=ct.workouts?[...ct.workouts]:[];rt.sort((Et,_t)=>{const Ht=re=>{if(typeof re=="string"&&re.match(/^\d{4}-\d{2}-\d{2}$/)){const[Fe,In,Le]=re.split("-").map(Number);return new Date(Fe,In-1,Le)}return typeof re=="object"&&re.seconds?new Date(re.seconds*1e3):new Date(re)},Ot=Ht(Et.date);return Ht(_t.date)-Ot});const mt=rt.map((Et,_t)=>({...Et,id:_t.toString()}));if(t(mt),(G=location.state)!=null&&G.selectedWorkout){const Et=location.state.selectedWorkout,_t=mt.find(Ht=>Ht.name===Et.name&&U(Ht.date)===U(Et.date));_t&&(c(_t.id),setTimeout(()=>{const Ht=document.getElementById(`workout-${_t.id}`);Ht&&Ht.scrollIntoView({behavior:"smooth",block:"center"})},100))}}else t([]);i(!1)}catch(ft){console.error("Error fetching workouts:",ft),a("Failed to load workout history"),i(!1)}};P.useEffect(()=>{I()},[]);const D=G=>{c(l===G?null:G)},M=async(G,ft)=>{if(G.stopPropagation(),!h&&window.confirm("Are you sure you want to delete this workout?"))try{f(!0);const j=ei.currentUser;if(!j)return;const tt=e.find(Ht=>Ht.id===ft);if(!tt)return;const ct=e.filter(Ht=>Ht.id!==ft),{id:rt,...mt}=tt,Et=os(ls,"users",j.uid),_t=await Ss(Et);if(_t.exists()){const Ot=_t.data().workouts.filter(Ue=>{var re,Fe;return!(Ue.name===mt.name&&U(Ue.date)===U(mt.date)&&((re=Ue.exercises)==null?void 0:re.length)===((Fe=mt.exercises)==null?void 0:Fe.length))});await jh(Et,{workouts:Ot}),t(ct),l===ft&&c(null)}f(!1)}catch(j){console.error("Error deleting workout:",j),alert("Failed to delete workout. Please try again."),f(!1)}},U=G=>{if(!G)return"Unknown Date";if(typeof G=="string"&&G.match(/^\d{4}-\d{2}-\d{2}$/)){const[ft,j,tt]=G.split("-");return`${j}/${tt}/${ft}`}if(typeof G=="object"&&G.seconds)return new Date(G.seconds*1e3).toLocaleDateString();try{return new Date(G).toLocaleDateString()}catch{return G}},F=G=>!G||!Array.isArray(G)?0:G.reduce((ft,j)=>{var tt;return ft+(((tt=j.sets)==null?void 0:tt.length)||0)},0),L=G=>{var ft;b(JSON.parse(JSON.stringify(G))),S({name:G.name,date:G.date,exerciseCount:((ft=G.exercises)==null?void 0:ft.length)||0}),y(!0)},N=()=>{y(!1),b(null),S(null)},ot=async()=>{if(!_.name||!_.exercises.every(G=>G.name&&G.sets.every(ft=>ft.reps&&ft.weight!==void 0))){alert("Please fill out all fields before saving.");return}try{const G=ei.currentUser;if(!G)return;const ft=os(ls,"users",G.uid),j=await Ss(ft);if(!j.exists())return;const tt=j.data();let ct=tt.workouts?[...tt.workouts]:[];const rt=ct.findIndex(mt=>{var Et;return mt.name===T.name&&U(mt.date)===U(T.date)&&(((Et=mt.exercises)==null?void 0:Et.length)||0)===T.exerciseCount});if(rt===-1){alert("Could not find the original workout to update.");return}ct[rt]={..._},await jh(ft,{workouts:ct}),t(mt=>mt.map((Et,_t)=>_t===rt?{..._,id:Et.id}:Et)),N()}catch{alert("Failed to save workout. Please try again.")}},dt=(G,ft)=>{z(ft),R(G),B(fg(ft))},q=(G,ft)=>{const j=[..._.exercises];j[G].name=ft,b({..._,exercises:j}),z(""),B([]),R(null)},Y=()=>{setTimeout(()=>{R(null),B([])},150)};return P.useEffect(()=>{p||(z(""),B([]),R(null))},[p]),n?C.jsx(Xc,{}):s?C.jsx("div",{className:"workout-history-container error",children:s}):e.length===0?C.jsxs("div",{className:"workout-history-container empty",children:[C.jsx("h2",{children:"Workout History"}),C.jsx("p",{children:"You haven't logged any workouts yet. Start by logging a workout!"})]}):C.jsxs("div",{className:"workout-history-container",children:[C.jsx("h2",{children:"Workout History"}),C.jsx("div",{className:"workout-cards",children:e.map(G=>{var ft;return C.jsxs("div",{id:`workout-${G.id}`,className:`workout-card ${l===G.id?"expanded":""}`,onClick:()=>D(G.id),children:[C.jsxs("div",{className:"workout-card-header",children:[C.jsxs("div",{className:"workout-card-title",children:[C.jsx("h3",{children:G.name||"Untitled Workout"}),C.jsx("span",{className:"workout-date",children:U(G.date)})]}),C.jsxs("div",{className:"workout-card-actions",children:[C.jsxs("div",{className:"workout-card-summary",children:[C.jsxs("span",{children:[((ft=G.exercises)==null?void 0:ft.length)||0," Exercises"]}),C.jsxs("span",{children:[F(G.exercises)," Sets"]})]}),C.jsx("button",{className:"delete-workout-btn",onClick:j=>M(j,G.id),disabled:h,children:C.jsx("span",{className:"delete-icon",children:""})}),l===G.id&&C.jsx("button",{className:"edit-workout-btn",onClick:j=>{j.stopPropagation(),L(G)},children:"Edit"})]})]}),l===G.id&&C.jsx("div",{className:"workout-details",children:G.exercises&&G.exercises.map((j,tt)=>C.jsxs("div",{className:"exercise-details",children:[C.jsx("h4",{children:j.name}),C.jsxs("div",{className:"sets-table",children:[C.jsxs("div",{className:"sets-table-header",children:[C.jsx("div",{className:"set-number",children:"Set"}),C.jsx("div",{className:"set-reps",children:"Reps"}),C.jsx("div",{className:"set-weight",children:"Weight"})]}),j.sets&&j.sets.map((ct,rt)=>C.jsxs("div",{className:"set-row",children:[C.jsx("div",{className:"set-number",children:rt+1}),C.jsx("div",{className:"set-reps",children:ct.reps}),C.jsx("div",{className:"set-weight",children:ct.weight==="bodyweight"||ct.weight==="BW"||ct.weight===" bodyweight"||j.name.includes("(Bodyweight)")?" bodyweight":ct.weight})]},rt))]})]},tt))})]},G.id)})}),p&&_&&C.jsx("div",{className:"edit-modal-overlay",onClick:N,children:C.jsxs("div",{className:"edit-modal",onClick:G=>G.stopPropagation(),children:[C.jsx("h2",{children:"Edit Workout"}),C.jsxs("form",{onSubmit:G=>G.preventDefault(),children:[C.jsxs("label",{children:["Workout Name:",C.jsx("input",{type:"text",value:_.name||"",onChange:G=>b({..._,name:G.target.value})})]}),_.exercises&&_.exercises.map((G,ft)=>C.jsxs("div",{className:"edit-exercise-block",children:[C.jsxs("label",{children:["Exercise Name:",C.jsxs("div",{style:{position:"relative"},children:[C.jsx("input",{type:"text",value:x===ft?$:G.name||"",onChange:j=>dt(ft,j.target.value),onFocus:j=>{R(ft),z(G.name||""),B(fg(G.name||""))},onBlur:Y,ref:j=>X.current[ft]=j,placeholder:"Search exercises...",autoComplete:"off"}),x===ft&&V.length>0&&C.jsx("div",{className:"suggestions-list visible",children:V.map((j,tt)=>C.jsx("div",{className:"suggestion-item",style:{padding:"8px 12px",cursor:"pointer"},onMouseDown:ct=>{ct.preventDefault(),q(ft,j)},children:j},tt))})]})]}),C.jsxs("div",{className:"edit-sets-block",children:[C.jsx("label",{children:"Sets:"}),G.sets&&G.sets.length>0&&C.jsxs("div",{className:"edit-sets-header-row",children:[C.jsx("span",{}),C.jsx("span",{children:"Reps"}),C.jsx("span",{children:"Weight"})]}),G.sets&&G.sets.map((j,tt)=>C.jsxs("div",{className:"edit-set-row",children:[C.jsxs("span",{children:["Set ",tt+1]}),C.jsx("input",{type:"number",min:"0",placeholder:"Reps",value:j.reps,onChange:ct=>{const rt=[..._.exercises];rt[ft].sets[tt].reps=ct.target.value,b({..._,exercises:rt})}}),C.jsx("input",{type:"number",min:"0",max:"1000",step:"0.1",placeholder:"Weight",value:j.weight,onChange:ct=>{let rt=ct.target.value;if(!/^\d*\.?\d*$/.test(rt)||rt!==""&&(parseFloat(rt)<0||parseFloat(rt)>1e3))return;const mt=[..._.exercises];mt[ft].sets[tt].weight=rt,b({..._,exercises:mt})}})]},tt))]})]},ft)),C.jsxs("div",{className:"edit-modal-actions",children:[C.jsx("button",{type:"button",onClick:N,children:"Cancel"}),C.jsx("button",{type:"button",onClick:ot,style:{marginLeft:8,background:"var(--primary-orange)",color:"#fff"},children:"Save Workout"})]})]})]})})]})}function wG(){const[e,t]=P.useState([]),[n,i]=P.useState(!0),[s,a]=P.useState(null),l=Ds();P.useEffect(()=>{(async()=>{try{i(!0);const f=ei.currentUser;if(!f){a("You must be logged in to view progress data"),i(!1);return}const p=os(ls,"users",f.uid),y=await Ss(p);if(y.exists()){const _=y.data();t(_.workouts||[])}else t([]);i(!1)}catch(f){console.error("Error fetching workout data:",f),a("Failed to load progress data"),i(!1)}})()},[]);const c=h=>{l(h)};return n?C.jsx(Xc,{}):s?C.jsx("div",{className:"progress-tracker-container error",children:s}):C.jsxs("div",{className:"progress-tracker-container",children:[C.jsx("h2",{children:"Progress Tracker"}),C.jsxs("div",{className:"progress-cards",children:[C.jsx("div",{className:"progress-card strength",onClick:()=>c("/strength-progress"),children:C.jsx("h3",{children:"Strength Progress"})}),C.jsx("div",{className:"progress-card weight",onClick:()=>c("/weight-progress"),children:C.jsx("h3",{children:"Weight Progress"})})]})]})}function TG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SG(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function EG(e,t,n){return t&&SG(e.prototype,t),e}function xG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r0(){return r0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r0.apply(this,arguments)}function AG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o0(e,t)}function a0(e){return a0=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},a0(e)}function o0(e,t){return o0=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},o0(e,t)}function cO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CG(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:cO(e)}function Qv(e,t){return RG(e)||DG(e,t)||kG()}function RG(e){if(Array.isArray(e))return e}function DG(e,t){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]"){var n=[],i=!0,s=!1,a=void 0;try{for(var l=e[Symbol.iterator](),c;!(i=(c=l.next()).done)&&(n.push(c.value),!(t&&n.length===t));i=!0);}catch(h){s=!0,a=h}finally{try{!i&&l.return!=null&&l.return()}finally{if(s)throw a}}return n}}function kG(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function PG(e,t){return t={exports:{}},e(t,t.exports),t.exports}var MG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",IG=MG;function uO(){}function hO(){}hO.resetWarningCache=uO;var OG=function(){function e(i,s,a,l,c,h){if(h!==IG){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:hO,resetWarningCache:uO};return n.PropTypes=n,n},pe=PG(function(e){e.exports=OG()});function NG(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function LG(e,t){t===void 0&&(t=NG);var n,i=[],s,a=!1;function l(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];return a&&n===this&&t(c,i)||(s=e.apply(this,c),a=!0,n=this,i=c),s}return l}var p1=24*60*60*1e3,Io=7,VG=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],BG=["","Mon","","Wed","","Fri",""];function Lp(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n}function jG(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function Zv(e){return e instanceof Date?e:new Date(e)}function UG(e){return Lp(new Date,-200)}function Jv(e){for(var t=[],n=0;n<e;n+=1)t.push(n);return t}var $s=10,pp=4,Oo="react-calendar-heatmap-",vw=function(e){AG(t,e);function t(){var n,i;TG(this,t);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return i=CG(this,(n=a0(t)).call.apply(n,[this].concat(a))),xG(cO(i),"getValueCache",LG(function(c){return c.values.reduce(function(h,f){var p=Zv(f.date),y=Math.floor((p-i.getStartDateWithEmptyDays())/p1);return h[y]={value:f,className:i.props.classForValue(f),title:i.props.titleForValue?i.props.titleForValue(f):null,tooltipDataAttrs:i.getTooltipDataAttrsForValue(f)},h},{})})),i}return EG(t,[{key:"getDateDifferenceInDays",value:function(){var i=this.props,s=i.startDate,a=i.numDays;if(a)return console.warn("numDays is a deprecated prop. It will be removed in the next release. Consider using the startDate prop instead."),a;var l=this.getEndDate()-Zv(s);return Math.ceil(l/p1)}},{key:"getSquareSizeWithGutter",value:function(){return $s+this.props.gutterSize}},{key:"getMonthLabelSize",value:function(){return this.props.showMonthLabels?this.props.horizontal?$s+pp:2*($s+pp):0}},{key:"getWeekdayLabelSize",value:function(){return this.props.showWeekdayLabels?this.props.horizontal?30:$s*1.5:0}},{key:"getStartDate",value:function(){return Lp(this.getEndDate(),-this.getDateDifferenceInDays()+1)}},{key:"getEndDate",value:function(){return jG(Zv(this.props.endDate))}},{key:"getStartDateWithEmptyDays",value:function(){return Lp(this.getStartDate(),-this.getNumEmptyDaysAtStart())}},{key:"getNumEmptyDaysAtStart",value:function(){return this.getStartDate().getDay()}},{key:"getNumEmptyDaysAtEnd",value:function(){return Io-1-this.getEndDate().getDay()}},{key:"getWeekCount",value:function(){var i=this.getDateDifferenceInDays()+this.getNumEmptyDaysAtStart()+this.getNumEmptyDaysAtEnd();return Math.ceil(i/Io)}},{key:"getWeekWidth",value:function(){return Io*this.getSquareSizeWithGutter()}},{key:"getWidth",value:function(){return this.getWeekCount()*this.getSquareSizeWithGutter()-(this.props.gutterSize-this.getWeekdayLabelSize())}},{key:"getHeight",value:function(){return this.getWeekWidth()+(this.getMonthLabelSize()-this.props.gutterSize)+this.getWeekdayLabelSize()}},{key:"getValueForIndex",value:function(i){return this.valueCache[i]?this.valueCache[i].value:null}},{key:"getClassNameForIndex",value:function(i){return this.valueCache[i]?this.valueCache[i].className:this.props.classForValue(null)}},{key:"getTitleForIndex",value:function(i){return this.valueCache[i]?this.valueCache[i].title:this.props.titleForValue?this.props.titleForValue(null):null}},{key:"getTooltipDataAttrsForIndex",value:function(i){return this.valueCache[i]?this.valueCache[i].tooltipDataAttrs:this.getTooltipDataAttrsForValue({date:null,count:null})}},{key:"getTooltipDataAttrsForValue",value:function(i){var s=this.props.tooltipDataAttrs;return typeof s=="function"?s(i):s}},{key:"getTransformForWeek",value:function(i){return this.props.horizontal?"translate(".concat(i*this.getSquareSizeWithGutter(),", 0)"):"translate(0, ".concat(i*this.getSquareSizeWithGutter(),")")}},{key:"getTransformForWeekdayLabels",value:function(){return this.props.horizontal?"translate(".concat($s,", ").concat(this.getMonthLabelSize(),")"):null}},{key:"getTransformForMonthLabels",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", 0)"):"translate(".concat(this.getWeekWidth()+pp,", ").concat(this.getWeekdayLabelSize(),")")}},{key:"getTransformForAllWeeks",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", ").concat(this.getMonthLabelSize(),")"):"translate(0, ".concat(this.getWeekdayLabelSize(),")")}},{key:"getViewBox",value:function(){return this.props.horizontal?"0 0 ".concat(this.getWidth()," ").concat(this.getHeight()):"0 0 ".concat(this.getHeight()," ").concat(this.getWidth())}},{key:"getSquareCoordinates",value:function(i){return this.props.horizontal?[0,i*this.getSquareSizeWithGutter()]:[i*this.getSquareSizeWithGutter(),0]}},{key:"getWeekdayLabelCoordinates",value:function(i){return this.props.horizontal?[0,(i+1)*$s+i*this.props.gutterSize]:[i*$s+i*this.props.gutterSize,$s]}},{key:"getMonthLabelCoordinates",value:function(i){if(this.props.horizontal)return[i*this.getSquareSizeWithGutter(),this.getMonthLabelSize()-pp];var s=-2;return[0,(i+1)*this.getSquareSizeWithGutter()+s]}},{key:"handleClick",value:function(i){this.props.onClick&&this.props.onClick(i)}},{key:"handleMouseOver",value:function(i,s){this.props.onMouseOver&&this.props.onMouseOver(i,s)}},{key:"handleMouseLeave",value:function(i,s){this.props.onMouseLeave&&this.props.onMouseLeave(i,s)}},{key:"renderSquare",value:function(i,s){var a=this,l=s<this.getNumEmptyDaysAtStart()||s>=this.getNumEmptyDaysAtStart()+this.getDateDifferenceInDays();if(l&&!this.props.showOutOfRangeDays)return null;var c=this.getSquareCoordinates(i),h=Qv(c,2),f=h[0],p=h[1],y=this.getValueForIndex(s),_=Oe.createElement("rect",r0({key:s,width:$s,height:$s,x:f,y:p,className:this.getClassNameForIndex(s),onClick:function(){return a.handleClick(y)},onMouseOver:function(S){return a.handleMouseOver(S,y)},onMouseLeave:function(S){return a.handleMouseLeave(S,y)}},this.getTooltipDataAttrsForIndex(s)),Oe.createElement("title",null,this.getTitleForIndex(s))),b=this.props.transformDayElement;return b?b(_,y,s):_}},{key:"renderWeek",value:function(i){var s=this;return Oe.createElement("g",{key:i,transform:this.getTransformForWeek(i),className:"".concat(Oo,"week")},Jv(Io).map(function(a){return s.renderSquare(a,i*Io+a)}))}},{key:"renderAllWeeks",value:function(){var i=this;return Jv(this.getWeekCount()).map(function(s){return i.renderWeek(s)})}},{key:"renderMonthLabels",value:function(){var i=this;if(!this.props.showMonthLabels)return null;var s=Jv(this.getWeekCount()-1);return s.map(function(a){var l=Lp(i.getStartDateWithEmptyDays(),(a+1)*Io),c=i.getMonthLabelCoordinates(a),h=Qv(c,2),f=h[0],p=h[1];return l.getDate()>=1&&l.getDate()<=Io?Oe.createElement("text",{key:a,x:f,y:p,className:"".concat(Oo,"month-label")},i.props.monthLabels[l.getMonth()]):null})}},{key:"renderWeekdayLabels",value:function(){var i=this;return this.props.showWeekdayLabels?this.props.weekdayLabels.map(function(s,a){var l=i.getWeekdayLabelCoordinates(a),c=Qv(l,2),h=c[0],f=c[1],p="".concat(i.props.horizontal?"":"".concat(Oo,"small-text")," ").concat(Oo,"weekday-label");return a&1?Oe.createElement("text",{key:"".concat(h).concat(f),x:h,y:f,className:p},s):null}):null}},{key:"render",value:function(){return this.valueCache=this.getValueCache(this.props),Oe.createElement("svg",{className:"react-calendar-heatmap",viewBox:this.getViewBox()},Oe.createElement("g",{transform:this.getTransformForMonthLabels(),className:"".concat(Oo,"month-labels")},this.renderMonthLabels()),Oe.createElement("g",{transform:this.getTransformForAllWeeks(),className:"".concat(Oo,"all-weeks")},this.renderAllWeeks()),Oe.createElement("g",{transform:this.getTransformForWeekdayLabels(),className:"".concat(Oo,"weekday-labels")},this.renderWeekdayLabels()))}}]),t}(Oe.Component);vw.propTypes={values:pe.arrayOf(pe.shape({date:pe.oneOfType([pe.string,pe.number,pe.instanceOf(Date)]).isRequired}).isRequired).isRequired,numDays:pe.number,startDate:pe.oneOfType([pe.string,pe.number,pe.instanceOf(Date)]),endDate:pe.oneOfType([pe.string,pe.number,pe.instanceOf(Date)]),gutterSize:pe.number,horizontal:pe.bool,showMonthLabels:pe.bool,showWeekdayLabels:pe.bool,showOutOfRangeDays:pe.bool,tooltipDataAttrs:pe.oneOfType([pe.object,pe.func]),titleForValue:pe.func,classForValue:pe.func,monthLabels:pe.arrayOf(pe.string),weekdayLabels:pe.arrayOf(pe.string),onClick:pe.func,onMouseOver:pe.func,onMouseLeave:pe.func,transformDayElement:pe.func};vw.defaultProps={numDays:null,startDate:UG(),endDate:new Date,gutterSize:1,horizontal:!0,showMonthLabels:!0,showWeekdayLabels:!1,showOutOfRangeDays:!1,tooltipDataAttrs:null,titleForValue:null,classForValue:function(t){return t?"color-filled":"color-empty"},monthLabels:VG,weekdayLabels:BG,onClick:null,onMouseOver:null,onMouseLeave:null,transformDayElement:null};const Nc=Math.min,Xo=Math.max,Tg=Math.round,gp=Math.floor,or=e=>({x:e,y:e}),FG={left:"right",right:"left",bottom:"top",top:"bottom"},zG={start:"end",end:"start"};function l0(e,t,n){return Xo(e,Nc(t,n))}function xf(e,t){return typeof e=="function"?e(t):e}function sl(e){return e.split("-")[0]}function Af(e){return e.split("-")[1]}function fO(e){return e==="x"?"y":"x"}function _w(e){return e==="y"?"height":"width"}function Lc(e){return["top","bottom"].includes(sl(e))?"y":"x"}function bw(e){return fO(Lc(e))}function HG(e,t,n){n===void 0&&(n=!1);const i=Af(e),s=bw(e),a=_w(s);let l=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=Sg(l)),[l,Sg(l)]}function qG(e){const t=Sg(e);return[c0(e),t,c0(t)]}function c0(e){return e.replace(/start|end/g,t=>zG[t])}function WG(e,t,n){const i=["left","right"],s=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:i:t?i:s;case"left":case"right":return t?a:l;default:return[]}}function $G(e,t,n,i){const s=Af(e);let a=WG(sl(e),n==="start",i);return s&&(a=a.map(l=>l+"-"+s),t&&(a=a.concat(a.map(c0)))),a}function Sg(e){return e.replace(/left|right|bottom|top/g,t=>FG[t])}function GG(e){return{top:0,right:0,bottom:0,left:0,...e}}function dO(e){return typeof e!="number"?GG(e):{top:e,right:e,bottom:e,left:e}}function Eg(e){const{x:t,y:n,width:i,height:s}=e;return{width:i,height:s,top:n,left:t,right:t+i,bottom:n+s,x:t,y:n}}function g1(e,t,n){let{reference:i,floating:s}=e;const a=Lc(t),l=bw(t),c=_w(l),h=sl(t),f=a==="y",p=i.x+i.width/2-s.width/2,y=i.y+i.height/2-s.height/2,_=i[c]/2-s[c]/2;let b;switch(h){case"top":b={x:p,y:i.y-s.height};break;case"bottom":b={x:p,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y};break;case"left":b={x:i.x-s.width,y};break;default:b={x:i.x,y:i.y}}switch(Af(t)){case"start":b[l]-=_*(n&&f?-1:1);break;case"end":b[l]+=_*(n&&f?-1:1);break}return b}const KG=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:a=[],platform:l}=n,c=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y}=g1(f,i,h),_=i,b={},T=0;for(let S=0;S<c.length;S++){const{name:x,fn:R}=c[S],{x:V,y:B,data:$,reset:z}=await R({x:p,y,initialPlacement:i,placement:_,strategy:s,middlewareData:b,rects:f,platform:l,elements:{reference:e,floating:t}});p=V??p,y=B??y,b={...b,[x]:{...b[x],...$}},z&&T<=50&&(T++,typeof z=="object"&&(z.placement&&(_=z.placement),z.rects&&(f=z.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):z.rects),{x:p,y}=g1(f,_,h)),S=-1)}return{x:p,y,placement:_,strategy:s,middlewareData:b}};async function pO(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:a,rects:l,elements:c,strategy:h}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:y="floating",altBoundary:_=!1,padding:b=0}=xf(t,e),T=dO(b),x=c[_?y==="floating"?"reference":"floating":y],R=Eg(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:h})),V=y==="floating"?{x:i,y:s,width:l.floating.width,height:l.floating.height}:l.reference,B=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),$=await(a.isElement==null?void 0:a.isElement(B))?await(a.getScale==null?void 0:a.getScale(B))||{x:1,y:1}:{x:1,y:1},z=Eg(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:V,offsetParent:B,strategy:h}):V);return{top:(R.top-z.top+T.top)/$.y,bottom:(z.bottom-R.bottom+T.bottom)/$.y,left:(R.left-z.left+T.left)/$.x,right:(z.right-R.right+T.right)/$.x}}const YG=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:s,rects:a,platform:l,elements:c,middlewareData:h}=t,{element:f,padding:p=0}=xf(e,t)||{};if(f==null)return{};const y=dO(p),_={x:n,y:i},b=bw(s),T=_w(b),S=await l.getDimensions(f),x=b==="y",R=x?"top":"left",V=x?"bottom":"right",B=x?"clientHeight":"clientWidth",$=a.reference[T]+a.reference[b]-_[b]-a.floating[T],z=_[b]-a.reference[b],X=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let I=X?X[B]:0;(!I||!await(l.isElement==null?void 0:l.isElement(X)))&&(I=c.floating[B]||a.floating[T]);const D=$/2-z/2,M=I/2-S[T]/2-1,U=Nc(y[R],M),F=Nc(y[V],M),L=U,N=I-S[T]-F,ot=I/2-S[T]/2+D,dt=l0(L,ot,N),q=!h.arrow&&Af(s)!=null&&ot!==dt&&a.reference[T]/2-(ot<L?U:F)-S[T]/2<0,Y=q?ot<L?ot-L:ot-N:0;return{[b]:_[b]+Y,data:{[b]:dt,centerOffset:ot-dt-Y,...q&&{alignmentOffset:Y}},reset:q}}}),XG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:a,rects:l,initialPlacement:c,platform:h,elements:f}=t,{mainAxis:p=!0,crossAxis:y=!0,fallbackPlacements:_,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:S=!0,...x}=xf(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const R=sl(s),V=Lc(c),B=sl(c)===c,$=await(h.isRTL==null?void 0:h.isRTL(f.floating)),z=_||(B||!S?[Sg(c)]:qG(c)),X=T!=="none";!_&&X&&z.push(...$G(c,S,T,$));const I=[c,...z],D=await pO(t,x),M=[];let U=((i=a.flip)==null?void 0:i.overflows)||[];if(p&&M.push(D[R]),y){const ot=HG(s,l,$);M.push(D[ot[0]],D[ot[1]])}if(U=[...U,{placement:s,overflows:M}],!M.every(ot=>ot<=0)){var F,L;const ot=(((F=a.flip)==null?void 0:F.index)||0)+1,dt=I[ot];if(dt)return{data:{index:ot,overflows:U},reset:{placement:dt}};let q=(L=U.filter(Y=>Y.overflows[0]<=0).sort((Y,G)=>Y.overflows[1]-G.overflows[1])[0])==null?void 0:L.placement;if(!q)switch(b){case"bestFit":{var N;const Y=(N=U.filter(G=>{if(X){const ft=Lc(G.placement);return ft===V||ft==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ft=>ft>0).reduce((ft,j)=>ft+j,0)]).sort((G,ft)=>G[1]-ft[1])[0])==null?void 0:N[0];Y&&(q=Y);break}case"initialPlacement":q=c;break}if(s!==q)return{reset:{placement:q}}}return{}}}};async function QG(e,t){const{placement:n,platform:i,elements:s}=e,a=await(i.isRTL==null?void 0:i.isRTL(s.floating)),l=sl(n),c=Af(n),h=Lc(n)==="y",f=["left","top"].includes(l)?-1:1,p=a&&h?-1:1,y=xf(t,e);let{mainAxis:_,crossAxis:b,alignmentAxis:T}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof T=="number"&&(b=c==="end"?T*-1:T),h?{x:b*p,y:_*f}:{x:_*f,y:b*p}}const ZG=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:a,placement:l,middlewareData:c}=t,h=await QG(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:s+h.x,y:a+h.y,data:{...h,placement:l}}}}},JG=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:x=>{let{x:R,y:V}=x;return{x:R,y:V}}},...h}=xf(e,t),f={x:n,y:i},p=await pO(t,h),y=Lc(sl(s)),_=fO(y);let b=f[_],T=f[y];if(a){const x=_==="y"?"top":"left",R=_==="y"?"bottom":"right",V=b+p[x],B=b-p[R];b=l0(V,b,B)}if(l){const x=y==="y"?"top":"left",R=y==="y"?"bottom":"right",V=T+p[x],B=T-p[R];T=l0(V,T,B)}const S=c.fn({...t,[_]:b,[y]:T});return{...S,data:{x:S.x-n,y:S.y-i,enabled:{[_]:a,[y]:l}}}}}};function rm(){return typeof window<"u"}function Qc(e){return gO(e)?(e.nodeName||"").toLowerCase():"#document"}function ji(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function pr(e){var t;return(t=(gO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gO(e){return rm()?e instanceof Node||e instanceof ji(e).Node:!1}function As(e){return rm()?e instanceof Element||e instanceof ji(e).Element:!1}function fr(e){return rm()?e instanceof HTMLElement||e instanceof ji(e).HTMLElement:!1}function m1(e){return!rm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ji(e).ShadowRoot}function Cf(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=Cs(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(s)}function tK(e){return["table","td","th"].includes(Qc(e))}function am(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ww(e){const t=Tw(),n=As(e)?Cs(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function eK(e){let t=Xa(e);for(;fr(t)&&!Vc(t);){if(ww(t))return t;if(am(t))return null;t=Xa(t)}return null}function Tw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vc(e){return["html","body","#document"].includes(Qc(e))}function Cs(e){return ji(e).getComputedStyle(e)}function om(e){return As(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xa(e){if(Qc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||m1(e)&&e.host||pr(e);return m1(t)?t.host:t}function mO(e){const t=Xa(e);return Vc(t)?e.ownerDocument?e.ownerDocument.body:e.body:fr(t)&&Cf(t)?t:mO(t)}function rf(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=mO(e),a=s===((i=e.ownerDocument)==null?void 0:i.body),l=ji(s);if(a){const c=u0(l);return t.concat(l,l.visualViewport||[],Cf(s)?s:[],c&&n?rf(c):[])}return t.concat(s,rf(s,[],n))}function u0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yO(e){const t=Cs(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=fr(e),a=s?e.offsetWidth:n,l=s?e.offsetHeight:i,c=Tg(n)!==a||Tg(i)!==l;return c&&(n=a,i=l),{width:n,height:i,$:c}}function Sw(e){return As(e)?e:e.contextElement}function bc(e){const t=Sw(e);if(!fr(t))return or(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:a}=yO(t);let l=(a?Tg(n.width):n.width)/i,c=(a?Tg(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const nK=or(0);function vO(e){const t=ji(e);return!Tw()||!t.visualViewport?nK:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function iK(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ji(e)?!1:t}function rl(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=Sw(e);let l=or(1);t&&(i?As(i)&&(l=bc(i)):l=bc(e));const c=iK(a,n,i)?vO(a):or(0);let h=(s.left+c.x)/l.x,f=(s.top+c.y)/l.y,p=s.width/l.x,y=s.height/l.y;if(a){const _=ji(a),b=i&&As(i)?ji(i):i;let T=_,S=u0(T);for(;S&&i&&b!==T;){const x=bc(S),R=S.getBoundingClientRect(),V=Cs(S),B=R.left+(S.clientLeft+parseFloat(V.paddingLeft))*x.x,$=R.top+(S.clientTop+parseFloat(V.paddingTop))*x.y;h*=x.x,f*=x.y,p*=x.x,y*=x.y,h+=B,f+=$,T=ji(S),S=u0(T)}}return Eg({width:p,height:y,x:h,y:f})}function Ew(e,t){const n=om(e).scrollLeft;return t?t.left+n:rl(pr(e)).left+n}function _O(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=i.left+t.scrollLeft-(n?0:Ew(e,i)),a=i.top+t.scrollTop;return{x:s,y:a}}function sK(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const a=s==="fixed",l=pr(i),c=t?am(t.floating):!1;if(i===l||c&&a)return n;let h={scrollLeft:0,scrollTop:0},f=or(1);const p=or(0),y=fr(i);if((y||!y&&!a)&&((Qc(i)!=="body"||Cf(l))&&(h=om(i)),fr(i))){const b=rl(i);f=bc(i),p.x=b.x+i.clientLeft,p.y=b.y+i.clientTop}const _=l&&!y&&!a?_O(l,h,!0):or(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-h.scrollLeft*f.x+p.x+_.x,y:n.y*f.y-h.scrollTop*f.y+p.y+_.y}}function rK(e){return Array.from(e.getClientRects())}function aK(e){const t=pr(e),n=om(e),i=e.ownerDocument.body,s=Xo(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=Xo(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let l=-n.scrollLeft+Ew(e);const c=-n.scrollTop;return Cs(i).direction==="rtl"&&(l+=Xo(t.clientWidth,i.clientWidth)-s),{width:s,height:a,x:l,y:c}}function oK(e,t){const n=ji(e),i=pr(e),s=n.visualViewport;let a=i.clientWidth,l=i.clientHeight,c=0,h=0;if(s){a=s.width,l=s.height;const f=Tw();(!f||f&&t==="fixed")&&(c=s.offsetLeft,h=s.offsetTop)}return{width:a,height:l,x:c,y:h}}function lK(e,t){const n=rl(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,a=fr(e)?bc(e):or(1),l=e.clientWidth*a.x,c=e.clientHeight*a.y,h=s*a.x,f=i*a.y;return{width:l,height:c,x:h,y:f}}function y1(e,t,n){let i;if(t==="viewport")i=oK(e,n);else if(t==="document")i=aK(pr(e));else if(As(t))i=lK(t,n);else{const s=vO(e);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Eg(i)}function bO(e,t){const n=Xa(e);return n===t||!As(n)||Vc(n)?!1:Cs(n).position==="fixed"||bO(n,t)}function cK(e,t){const n=t.get(e);if(n)return n;let i=rf(e,[],!1).filter(c=>As(c)&&Qc(c)!=="body"),s=null;const a=Cs(e).position==="fixed";let l=a?Xa(e):e;for(;As(l)&&!Vc(l);){const c=Cs(l),h=ww(l);!h&&c.position==="fixed"&&(s=null),(a?!h&&!s:!h&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Cf(l)&&!h&&bO(e,l))?i=i.filter(p=>p!==l):s=c,l=Xa(l)}return t.set(e,i),i}function uK(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const l=[...n==="clippingAncestors"?am(t)?[]:cK(t,this._c):[].concat(n),i],c=l[0],h=l.reduce((f,p)=>{const y=y1(t,p,s);return f.top=Xo(y.top,f.top),f.right=Nc(y.right,f.right),f.bottom=Nc(y.bottom,f.bottom),f.left=Xo(y.left,f.left),f},y1(t,c,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function hK(e){const{width:t,height:n}=yO(e);return{width:t,height:n}}function fK(e,t,n){const i=fr(t),s=pr(t),a=n==="fixed",l=rl(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const h=or(0);if(i||!i&&!a)if((Qc(t)!=="body"||Cf(s))&&(c=om(t)),i){const _=rl(t,!0,a,t);h.x=_.x+t.clientLeft,h.y=_.y+t.clientTop}else s&&(h.x=Ew(s));const f=s&&!i&&!a?_O(s,c):or(0),p=l.left+c.scrollLeft-h.x-f.x,y=l.top+c.scrollTop-h.y-f.y;return{x:p,y,width:l.width,height:l.height}}function t_(e){return Cs(e).position==="static"}function v1(e,t){if(!fr(e)||Cs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return pr(e)===n&&(n=n.ownerDocument.body),n}function wO(e,t){const n=ji(e);if(am(e))return n;if(!fr(e)){let s=Xa(e);for(;s&&!Vc(s);){if(As(s)&&!t_(s))return s;s=Xa(s)}return n}let i=v1(e,t);for(;i&&tK(i)&&t_(i);)i=v1(i,t);return i&&Vc(i)&&t_(i)&&!ww(i)?n:i||eK(e)||n}const dK=async function(e){const t=this.getOffsetParent||wO,n=this.getDimensions,i=await n(e.floating);return{reference:fK(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function pK(e){return Cs(e).direction==="rtl"}const gK={convertOffsetParentRelativeRectToViewportRelativeRect:sK,getDocumentElement:pr,getClippingRect:uK,getOffsetParent:wO,getElementRects:dK,getClientRects:rK,getDimensions:hK,getScale:bc,isElement:As,isRTL:pK};function TO(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function mK(e,t){let n=null,i;const s=pr(e);function a(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function l(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),a();const f=e.getBoundingClientRect(),{left:p,top:y,width:_,height:b}=f;if(c||t(),!_||!b)return;const T=gp(y),S=gp(s.clientWidth-(p+_)),x=gp(s.clientHeight-(y+b)),R=gp(p),B={rootMargin:-T+"px "+-S+"px "+-x+"px "+-R+"px",threshold:Xo(0,Nc(1,h))||1};let $=!0;function z(X){const I=X[0].intersectionRatio;if(I!==h){if(!$)return l();I?l(!1,I):i=setTimeout(()=>{l(!1,1e-7)},1e3)}I===1&&!TO(f,e.getBoundingClientRect())&&l(),$=!1}try{n=new IntersectionObserver(z,{...B,root:s.ownerDocument})}catch{n=new IntersectionObserver(z,B)}n.observe(e)}return l(!0),a}function yK(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,f=Sw(e),p=s||a?[...f?rf(f):[],...rf(t)]:[];p.forEach(R=>{s&&R.addEventListener("scroll",n,{passive:!0}),a&&R.addEventListener("resize",n)});const y=f&&c?mK(f,n):null;let _=-1,b=null;l&&(b=new ResizeObserver(R=>{let[V]=R;V&&V.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var B;(B=b)==null||B.observe(t)})),n()}),f&&!h&&b.observe(f),b.observe(t));let T,S=h?rl(e):null;h&&x();function x(){const R=rl(e);S&&!TO(S,R)&&n(),S=R,T=requestAnimationFrame(x)}return n(),()=>{var R;p.forEach(V=>{s&&V.removeEventListener("scroll",n),a&&V.removeEventListener("resize",n)}),y==null||y(),(R=b)==null||R.disconnect(),b=null,h&&cancelAnimationFrame(T)}}const vK=ZG,_K=JG,bK=XG,wK=YG,_1=(e,t,n)=>{const i=new Map,s={platform:gK,...n},a={...s.platform,_c:i};return KG(e,t,{...s,platform:a})};var e_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var b1;function TK(){return b1||(b1=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=s(a,i(c)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)t.call(a,c)&&a[c]&&(l=s(l,c));return l}function s(a,l){return l?a?a+" "+l:a+l:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(e_)),e_.exports}var SK=TK();const h0=D1(SK);var w1={};const EK="react-tooltip-core-styles",xK="react-tooltip-base-styles",T1={core:!1,base:!1};function S1({css:e,id:t=xK,type:n="base",ref:i}){var s,a;if(!e||typeof document>"u"||T1[n]||n==="core"&&typeof process<"u"&&(!((s=process==null?void 0:w1)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((a=process==null?void 0:w1)===null||a===void 0)&&a.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=EK),i||(i={});const{insertAt:l}=i;if(document.getElementById(t))return;const c=document.head||document.getElementsByTagName("head")[0],h=document.createElement("style");h.id=t,h.type="text/css",l==="top"&&c.firstChild?c.insertBefore(h,c.firstChild):c.appendChild(h),h.styleSheet?h.styleSheet.cssText=e:h.appendChild(document.createTextNode(e)),T1[n]=!0}const E1=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:i="top",offset:s=10,strategy:a="absolute",middlewares:l=[vK(Number(s)),bK({fallbackAxisSideDirection:"start"}),_K({padding:5})],border:c})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};const h=l;return n?(h.push(wK({element:n,padding:5})),_1(e,t,{placement:i,strategy:a,middleware:h}).then(({x:f,y:p,placement:y,middlewareData:_})=>{var b,T;const S={left:`${f}px`,top:`${p}px`,border:c},{x,y:R}=(b=_.arrow)!==null&&b!==void 0?b:{x:0,y:0},V=(T={top:"bottom",right:"left",bottom:"top",left:"right"}[y.split("-")[0]])!==null&&T!==void 0?T:"bottom",B=c&&{borderBottom:c,borderRight:c};let $=0;if(c){const z=`${c}`.match(/(\d+)px/);$=z!=null&&z[1]?Number(z[1]):1}return{tooltipStyles:S,tooltipArrowStyles:{left:x!=null?`${x}px`:"",top:R!=null?`${R}px`:"",right:"",bottom:"",...B,[V]:`-${4+$}px`},place:y}})):_1(e,t,{placement:"bottom",strategy:a,middleware:h}).then(({x:f,y:p,placement:y})=>({tooltipStyles:{left:`${f}px`,top:`${p}px`},tooltipArrowStyles:{},place:y}))},x1=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),A1=(e,t,n)=>{let i=null;const s=function(...a){const l=()=>{i=null};!i&&(e.apply(this,a),i=setTimeout(l,t))};return s.cancel=()=>{i&&(clearTimeout(i),i=null)},s},C1=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",f0=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((s,a)=>f0(s,t[a]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!C1(e)||!C1(t))return e===t;const n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(s=>f0(e[s],t[s]))},AK=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const i=t.getPropertyValue(n);return i==="auto"||i==="scroll"})},R1=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(AK(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},CK=typeof window<"u"?P.useLayoutEffect:P.useEffect,is=e=>{e.current&&(clearTimeout(e.current),e.current=null)},RK="DEFAULT_TOOLTIP_ID",DK={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},kK=P.createContext({getTooltipData:()=>DK});function SO(e=RK){return P.useContext(kK).getTooltipData(e)}var nc={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},n_={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const PK=({forwardRef:e,id:t,className:n,classNameArrow:i,variant:s="dark",anchorId:a,anchorSelect:l,place:c="top",offset:h=10,events:f=["hover"],openOnClick:p=!1,positionStrategy:y="absolute",middlewares:_,wrapper:b,delayShow:T=0,delayHide:S=0,float:x=!1,hidden:R=!1,noArrow:V=!1,clickable:B=!1,closeOnEsc:$=!1,closeOnScroll:z=!1,closeOnResize:X=!1,openEvents:I,closeEvents:D,globalCloseEvents:M,imperativeModeOnly:U,style:F,position:L,afterShow:N,afterHide:ot,disableTooltip:dt,content:q,contentWrapperRef:Y,isOpen:G,defaultIsOpen:ft=!1,setIsOpen:j,activeAnchor:tt,setActiveAnchor:ct,border:rt,opacity:mt,arrowColor:Et,role:_t="tooltip"})=>{var Ht;const Ot=P.useRef(null),Ue=P.useRef(null),re=P.useRef(null),Fe=P.useRef(null),In=P.useRef(null),[Le,Si]=P.useState({tooltipStyles:{},tooltipArrowStyles:{},place:c}),[ze,Ei]=P.useState(!1),[$e,xi]=P.useState(!1),[ve,Hn]=P.useState(null),Ge=P.useRef(!1),fs=P.useRef(null),{anchorRefs:ui,setActiveAnchor:Ui}=SO(t),hi=P.useRef(!1),[le,Jt]=P.useState([]),Ke=P.useRef(!1),Ve=p||f.includes("click"),Ps=Ve||(I==null?void 0:I.click)||(I==null?void 0:I.dblclick)||(I==null?void 0:I.mousedown),ri=I?{...I}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!I&&Ve&&Object.assign(ri,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const st=D?{...D}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!D&&Ve&&Object.assign(st,{mouseleave:!1,blur:!1,mouseout:!1});const vt=M?{...M}:{escape:$||!1,scroll:z||!1,resize:X||!1,clickOutsideAnchor:Ps||!1};U&&(Object.assign(ri,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(st,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(vt,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),CK(()=>(Ke.current=!0,()=>{Ke.current=!1}),[]);const Ct=pt=>{Ke.current&&(pt&&xi(!0),setTimeout(()=>{Ke.current&&(j==null||j(pt),G===void 0&&Ei(pt))},10))};P.useEffect(()=>{if(G===void 0)return()=>null;G&&xi(!0);const pt=setTimeout(()=>{Ei(G)},10);return()=>{clearTimeout(pt)}},[G]),P.useEffect(()=>{if(ze!==Ge.current)if(is(In),Ge.current=ze,ze)N==null||N();else{const pt=(bt=>{const xt=bt.match(/^([\d.]+)(ms|s)$/);if(!xt)return 0;const[,me,Ze]=xt;return Number(me)*(Ze==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));In.current=setTimeout(()=>{xi(!1),Hn(null),ot==null||ot()},pt+25)}},[ze]);const Nt=pt=>{Si(bt=>f0(bt,pt)?bt:pt)},wt=(pt=T)=>{is(re),$e?Ct(!0):re.current=setTimeout(()=>{Ct(!0)},pt)},Dt=(pt=S)=>{is(Fe),Fe.current=setTimeout(()=>{hi.current||Ct(!1)},pt)},Gt=pt=>{var bt;if(!pt)return;const xt=(bt=pt.currentTarget)!==null&&bt!==void 0?bt:pt.target;if(!(xt!=null&&xt.isConnected))return ct(null),void Ui({current:null});T?wt():Ct(!0),ct(xt),Ui({current:xt}),is(Fe)},Kt=()=>{B?Dt(S||100):S?Dt():Ct(!1),is(re)},ae=({x:pt,y:bt})=>{var xt;const me={getBoundingClientRect:()=>({x:pt,y:bt,width:0,height:0,top:bt,left:pt,right:pt,bottom:bt})};E1({place:(xt=ve==null?void 0:ve.place)!==null&&xt!==void 0?xt:c,offset:h,elementReference:me,tooltipReference:Ot.current,tooltipArrowReference:Ue.current,strategy:y,middlewares:_,border:rt}).then(Ze=>{Nt(Ze)})},Wt=pt=>{if(!pt)return;const bt=pt,xt={x:bt.clientX,y:bt.clientY};ae(xt),fs.current=xt},we=pt=>{var bt;if(!ze)return;const xt=pt.target;xt.isConnected&&(!((bt=Ot.current)===null||bt===void 0)&&bt.contains(xt)||[document.querySelector(`[id='${a}']`),...le].some(me=>me==null?void 0:me.contains(xt))||(Ct(!1),is(re)))},qn=A1(Gt,50),ge=A1(Kt,50),sn=pt=>{ge.cancel(),qn(pt)},Tt=()=>{qn.cancel(),ge()},kt=P.useCallback(()=>{var pt,bt;const xt=(pt=ve==null?void 0:ve.position)!==null&&pt!==void 0?pt:L;xt?ae(xt):x?fs.current&&ae(fs.current):tt!=null&&tt.isConnected&&E1({place:(bt=ve==null?void 0:ve.place)!==null&&bt!==void 0?bt:c,offset:h,elementReference:tt,tooltipReference:Ot.current,tooltipArrowReference:Ue.current,strategy:y,middlewares:_,border:rt}).then(me=>{Ke.current&&Nt(me)})},[ze,tt,q,F,c,ve==null?void 0:ve.place,h,y,L,ve==null?void 0:ve.position,x]);P.useEffect(()=>{var pt,bt;const xt=new Set(ui);le.forEach(Yt=>{dt!=null&&dt(Yt)||xt.add({current:Yt})});const me=document.querySelector(`[id='${a}']`);me&&!(dt!=null&&dt(me))&&xt.add({current:me});const Ze=()=>{Ct(!1)},fi=R1(tt),yn=R1(Ot.current);vt.scroll&&(window.addEventListener("scroll",Ze),fi==null||fi.addEventListener("scroll",Ze),yn==null||yn.addEventListener("scroll",Ze));let un=null;vt.resize?window.addEventListener("resize",Ze):tt&&Ot.current&&(un=yK(tt,Ot.current,kt,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const hn=Yt=>{Yt.key==="Escape"&&Ct(!1)};vt.escape&&window.addEventListener("keydown",hn),vt.clickOutsideAnchor&&window.addEventListener("click",we);const de=[],Wn=Yt=>!!(Yt!=null&&Yt.target&&(tt!=null&&tt.contains(Yt.target))),Fi=Yt=>{ze&&Wn(Yt)||Gt(Yt)},zi=Yt=>{ze&&Wn(Yt)&&Kt()},xn=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],He=["click","dblclick","mousedown","mouseup"];Object.entries(ri).forEach(([Yt,pi])=>{pi&&(xn.includes(Yt)?de.push({event:Yt,listener:sn}):He.includes(Yt)&&de.push({event:Yt,listener:Fi}))}),Object.entries(st).forEach(([Yt,pi])=>{pi&&(xn.includes(Yt)?de.push({event:Yt,listener:Tt}):He.includes(Yt)&&de.push({event:Yt,listener:zi}))}),x&&de.push({event:"pointermove",listener:Wt});const ta=()=>{hi.current=!0},gr=()=>{hi.current=!1,Kt()},di=B&&(st.mouseout||st.mouseleave);return di&&((pt=Ot.current)===null||pt===void 0||pt.addEventListener("mouseover",ta),(bt=Ot.current)===null||bt===void 0||bt.addEventListener("mouseout",gr)),de.forEach(({event:Yt,listener:pi})=>{xt.forEach(ea=>{var Ai;(Ai=ea.current)===null||Ai===void 0||Ai.addEventListener(Yt,pi)})}),()=>{var Yt,pi;vt.scroll&&(window.removeEventListener("scroll",Ze),fi==null||fi.removeEventListener("scroll",Ze),yn==null||yn.removeEventListener("scroll",Ze)),vt.resize?window.removeEventListener("resize",Ze):un==null||un(),vt.clickOutsideAnchor&&window.removeEventListener("click",we),vt.escape&&window.removeEventListener("keydown",hn),di&&((Yt=Ot.current)===null||Yt===void 0||Yt.removeEventListener("mouseover",ta),(pi=Ot.current)===null||pi===void 0||pi.removeEventListener("mouseout",gr)),de.forEach(({event:ea,listener:Ai})=>{xt.forEach(dl=>{var Hi;(Hi=dl.current)===null||Hi===void 0||Hi.removeEventListener(ea,Ai)})})}},[tt,kt,$e,ui,le,I,D,M,Ve,T,S]),P.useEffect(()=>{var pt,bt;let xt=(bt=(pt=ve==null?void 0:ve.anchorSelect)!==null&&pt!==void 0?pt:l)!==null&&bt!==void 0?bt:"";!xt&&t&&(xt=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const me=new MutationObserver(Ze=>{const fi=[],yn=[];Ze.forEach(un=>{if(un.type==="attributes"&&un.attributeName==="data-tooltip-id"&&(un.target.getAttribute("data-tooltip-id")===t?fi.push(un.target):un.oldValue===t&&yn.push(un.target)),un.type==="childList"){if(tt){const hn=[...un.removedNodes].filter(de=>de.nodeType===1);if(xt)try{yn.push(...hn.filter(de=>de.matches(xt))),yn.push(...hn.flatMap(de=>[...de.querySelectorAll(xt)]))}catch{}hn.some(de=>{var Wn;return!!(!((Wn=de==null?void 0:de.contains)===null||Wn===void 0)&&Wn.call(de,tt))&&(xi(!1),Ct(!1),ct(null),is(re),is(Fe),!0)})}if(xt)try{const hn=[...un.addedNodes].filter(de=>de.nodeType===1);fi.push(...hn.filter(de=>de.matches(xt))),fi.push(...hn.flatMap(de=>[...de.querySelectorAll(xt)]))}catch{}}}),(fi.length||yn.length)&&Jt(un=>[...un.filter(hn=>!yn.includes(hn)),...fi])});return me.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{me.disconnect()}},[t,l,ve==null?void 0:ve.anchorSelect,tt]),P.useEffect(()=>{kt()},[kt]),P.useEffect(()=>{if(!(Y!=null&&Y.current))return()=>null;const pt=new ResizeObserver(()=>{setTimeout(()=>kt())});return pt.observe(Y.current),()=>{pt.disconnect()}},[q,Y==null?void 0:Y.current]),P.useEffect(()=>{var pt;const bt=document.querySelector(`[id='${a}']`),xt=[...le,bt];tt&&xt.includes(tt)||ct((pt=le[0])!==null&&pt!==void 0?pt:bt)},[a,le,tt]),P.useEffect(()=>(ft&&Ct(!0),()=>{is(re),is(Fe)}),[]),P.useEffect(()=>{var pt;let bt=(pt=ve==null?void 0:ve.anchorSelect)!==null&&pt!==void 0?pt:l;if(!bt&&t&&(bt=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),bt)try{const xt=Array.from(document.querySelectorAll(bt));Jt(xt)}catch{Jt([])}},[t,l,ve==null?void 0:ve.anchorSelect]),P.useEffect(()=>{re.current&&(is(re),wt(T))},[T]);const _e=(Ht=ve==null?void 0:ve.content)!==null&&Ht!==void 0?Ht:q,Be=ze&&Object.keys(Le.tooltipStyles).length>0;return P.useImperativeHandle(e,()=>({open:pt=>{if(pt!=null&&pt.anchorSelect)try{document.querySelector(pt.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${pt.anchorSelect}" is not a valid CSS selector`)}Hn(pt??null),pt!=null&&pt.delay?wt(pt.delay):Ct(!0)},close:pt=>{pt!=null&&pt.delay?Dt(pt.delay):Ct(!1)},activeAnchor:tt,place:Le.place,isOpen:!!($e&&!R&&_e&&Be)})),$e&&!R&&_e?Oe.createElement(b,{id:t,role:_t,className:h0("react-tooltip",nc.tooltip,n_.tooltip,n_[s],n,`react-tooltip__place-${Le.place}`,nc[Be?"show":"closing"],Be?"react-tooltip__show":"react-tooltip__closing",y==="fixed"&&nc.fixed,B&&nc.clickable),onTransitionEnd:pt=>{is(In),ze||pt.propertyName!=="opacity"||(xi(!1),Hn(null),ot==null||ot())},style:{...F,...Le.tooltipStyles,opacity:mt!==void 0&&Be?mt:void 0},ref:Ot},_e,Oe.createElement(b,{className:h0("react-tooltip-arrow",nc.arrow,n_.arrow,i,V&&nc.noArrow),style:{...Le.tooltipArrowStyles,background:Et?`linear-gradient(to right bottom, transparent 50%, ${Et} 50%)`:void 0},ref:Ue})):null},MK=({content:e})=>Oe.createElement("span",{dangerouslySetInnerHTML:{__html:e}});Oe.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:i,html:s,render:a,className:l,classNameArrow:c,variant:h="dark",place:f="top",offset:p=10,wrapper:y="div",children:_=null,events:b=["hover"],openOnClick:T=!1,positionStrategy:S="absolute",middlewares:x,delayShow:R=0,delayHide:V=0,float:B=!1,hidden:$=!1,noArrow:z=!1,clickable:X=!1,closeOnEsc:I=!1,closeOnScroll:D=!1,closeOnResize:M=!1,openEvents:U,closeEvents:F,globalCloseEvents:L,imperativeModeOnly:N=!1,style:ot,position:dt,isOpen:q,defaultIsOpen:Y=!1,disableStyleInjection:G=!1,border:ft,opacity:j,arrowColor:tt,setIsOpen:ct,afterShow:rt,afterHide:mt,disableTooltip:Et,role:_t="tooltip"},Ht)=>{const[Ot,Ue]=P.useState(i),[re,Fe]=P.useState(s),[In,Le]=P.useState(f),[Si,ze]=P.useState(h),[Ei,$e]=P.useState(p),[xi,ve]=P.useState(R),[Hn,Ge]=P.useState(V),[fs,ui]=P.useState(B),[Ui,hi]=P.useState($),[le,Jt]=P.useState(y),[Ke,Ve]=P.useState(b),[Ps,ri]=P.useState(S),[st,vt]=P.useState(null),[Ct,Nt]=P.useState(null),wt=P.useRef(G),{anchorRefs:Dt,activeAnchor:Gt}=SO(e),Kt=ge=>ge==null?void 0:ge.getAttributeNames().reduce((sn,Tt)=>{var kt;return Tt.startsWith("data-tooltip-")&&(sn[Tt.replace(/^data-tooltip-/,"")]=(kt=ge==null?void 0:ge.getAttribute(Tt))!==null&&kt!==void 0?kt:null),sn},{}),ae=ge=>{const sn={place:Tt=>{var kt;Le((kt=Tt)!==null&&kt!==void 0?kt:f)},content:Tt=>{Ue(Tt??i)},html:Tt=>{Fe(Tt??s)},variant:Tt=>{var kt;ze((kt=Tt)!==null&&kt!==void 0?kt:h)},offset:Tt=>{$e(Tt===null?p:Number(Tt))},wrapper:Tt=>{var kt;Jt((kt=Tt)!==null&&kt!==void 0?kt:y)},events:Tt=>{const kt=Tt==null?void 0:Tt.split(" ");Ve(kt??b)},"position-strategy":Tt=>{var kt;ri((kt=Tt)!==null&&kt!==void 0?kt:S)},"delay-show":Tt=>{ve(Tt===null?R:Number(Tt))},"delay-hide":Tt=>{Ge(Tt===null?V:Number(Tt))},float:Tt=>{ui(Tt===null?B:Tt==="true")},hidden:Tt=>{hi(Tt===null?$:Tt==="true")},"class-name":Tt=>{vt(Tt)}};Object.values(sn).forEach(Tt=>Tt(null)),Object.entries(ge).forEach(([Tt,kt])=>{var _e;(_e=sn[Tt])===null||_e===void 0||_e.call(sn,kt)})};P.useEffect(()=>{Ue(i)},[i]),P.useEffect(()=>{Fe(s)},[s]),P.useEffect(()=>{Le(f)},[f]),P.useEffect(()=>{ze(h)},[h]),P.useEffect(()=>{$e(p)},[p]),P.useEffect(()=>{ve(R)},[R]),P.useEffect(()=>{Ge(V)},[V]),P.useEffect(()=>{ui(B)},[B]),P.useEffect(()=>{hi($)},[$]),P.useEffect(()=>{ri(S)},[S]),P.useEffect(()=>{wt.current!==G&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[G]),P.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:G==="core",disableBase:G}}))},[]),P.useEffect(()=>{var ge;const sn=new Set(Dt);let Tt=n;if(!Tt&&e&&(Tt=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Tt)try{document.querySelectorAll(Tt).forEach(bt=>{sn.add({current:bt})})}catch{console.warn(`[react-tooltip] "${Tt}" is not a valid CSS selector`)}const kt=document.querySelector(`[id='${t}']`);if(kt&&sn.add({current:kt}),!sn.size)return()=>null;const _e=(ge=Ct??kt)!==null&&ge!==void 0?ge:Gt.current,Be=new MutationObserver(bt=>{bt.forEach(xt=>{var me;if(!_e||xt.type!=="attributes"||!(!((me=xt.attributeName)===null||me===void 0)&&me.startsWith("data-tooltip-")))return;const Ze=Kt(_e);ae(Ze)})}),pt={attributes:!0,childList:!1,subtree:!1};if(_e){const bt=Kt(_e);ae(bt),Be.observe(_e,pt)}return()=>{Be.disconnect()}},[Dt,Gt,Ct,t,n]),P.useEffect(()=>{ot!=null&&ot.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),ft&&!x1("border",`${ft}`)&&console.warn(`[react-tooltip] "${ft}" is not a valid \`border\`.`),ot!=null&&ot.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),j&&!x1("opacity",`${j}`)&&console.warn(`[react-tooltip] "${j}" is not a valid \`opacity\`.`)},[]);let Wt=_;const we=P.useRef(null);if(a){const ge=a({content:(Ct==null?void 0:Ct.getAttribute("data-tooltip-content"))||Ot||null,activeAnchor:Ct});Wt=ge?Oe.createElement("div",{ref:we,className:"react-tooltip-content-wrapper"},ge):null}else Ot&&(Wt=Ot);re&&(Wt=Oe.createElement(MK,{content:re}));const qn={forwardRef:Ht,id:e,anchorId:t,anchorSelect:n,className:h0(l,st),classNameArrow:c,content:Wt,contentWrapperRef:we,place:In,variant:Si,offset:Ei,wrapper:le,events:Ke,openOnClick:T,positionStrategy:Ps,middlewares:x,delayShow:xi,delayHide:Hn,float:fs,hidden:Ui,noArrow:z,clickable:X,closeOnEsc:I,closeOnScroll:D,closeOnResize:M,openEvents:U,closeEvents:F,globalCloseEvents:L,imperativeModeOnly:N,style:ot,position:dt,isOpen:q,defaultIsOpen:Y,border:ft,opacity:j,arrowColor:tt,setIsOpen:ct,afterShow:rt,afterHide:mt,disableTooltip:Et,activeAnchor:Ct,setActiveAnchor:ge=>Nt(ge),role:_t};return Oe.createElement(PK,{...qn})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||S1({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||S1({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});Gc.register(Gh,Kh,_c,Qs,Mp,Ob,Nb,Ib,iq);const IK=()=>{const e=Ds(),[t,n]=P.useState(!0),[i,s]=P.useState(null),[a,l]=P.useState([]),[c,h]=P.useState([]),[f,p]=P.useState(155),[y,_]=P.useState({totalWorkouts:0,totalExercises:0,totalSets:0,totalWeight:0}),[b,T]=P.useState([]),[S,x]=P.useState(null),[R,V]=P.useState(!1),[B,$]=P.useState(null),[z,X]=P.useState(!1),[I,D]=P.useState(""),[M,U]=P.useState("all"),F=P.useRef(null),[L,N]=P.useState(new Date().getFullYear()),[ot,dt]=P.useState("3months"),[q,Y]=P.useState([]),[G,ft]=P.useState([]),[j,tt]=P.useState("range"),[ct,rt]=P.useState("1-5"),[mt,Et]=P.useState(5),[_t,Ht]=P.useState(!1),Ot=P.useRef(null),[Ue,re]=P.useState([]),[Fe,In]=P.useState([]),[Le,Si]=P.useState("3m"),[ze,Ei]=P.useState([]),[$e,xi]=P.useState([]);P.useEffect(()=>{(async()=>{try{n(!0);const vt=ei.currentUser;if(!vt){s("You must be logged in to view progress data"),n(!1);return}const Ct=os(ls,"users",vt.uid),Nt=await Ss(Ct);if(Nt.exists()){const wt=Nt.data(),Dt=wt.workouts||[],Kt=[...wt.weightLogs||[]].sort((ae,Wt)=>{const we=Ge(ae.date);return Ge(Wt.date)-we});Kt.length>0&&p(Kt[0].weight),h(Kt),l(Dt),ve(Dt),fs(Dt)}else l([]),h([]),T([]),_({totalWorkouts:0,totalExercises:0,totalSets:0,totalWeight:0});n(!1)}catch(vt){console.error("Error fetching workout data:",vt),s("Failed to load progress data"),n(!1)}})()},[]);const ve=st=>{var ge,sn;if(!st.length)return _({totalWorkouts:0,totalExercises:0,totalSets:0,totalWeight:0});const vt=[...st].sort((Tt,kt)=>{const _e=Be=>{if(typeof Be=="string"&&Be.match(/^\d{4}-\d{2}-\d{2}$/)){const[pt,bt,xt]=Be.split("-").map(Number);return new Date(pt,bt-1,xt)}return typeof Be=="object"&&Be.seconds?new Date(Be.seconds*1e3):new Date(Be)};return _e(Tt.date)-_e(kt.date)}),Ct=st.length,Nt=new Set;let wt=0,Dt=0;st.forEach(Tt=>{Tt.exercises&&Array.isArray(Tt.exercises)&&Tt.exercises.forEach(kt=>{var _e;(_e=kt.name)!=null&&_e.trim()&&Nt.add(kt.name.trim().toLowerCase()),kt.sets&&Array.isArray(kt.sets)&&(wt+=kt.sets.length,kt.sets.forEach(Be=>{const pt=parseInt(Be.reps)||0;let bt;Be.weight==="bodyweight"||Be.weight===" bodyweight"?bt=Math.round(f*.25):bt=parseInt(Be.weight)||0,Dt+=pt*bt}))})});const Gt=[...vt].reverse();(ge=Gt[0])!=null&&ge.date&&Hn(Gt[0].date);const Kt=new Date;if(Kt.setDate(Kt.getDate()-28),vt.length===1){_({totalWorkouts:Ct,totalExercises:Nt.size,totalSets:wt,totalWeight:Dt});return}const ae=(sn=vt[0].date)!=null&&sn.seconds?new Date(vt[0].date.seconds*1e3):new Date(vt[0].date),Wt=Math.max(1,Math.ceil((new Date-ae)/(7*24*60*60*1e3))),we=Math.min(4,Wt);+(Gt.filter(Tt=>{var _e;const kt=(_e=Tt.date)!=null&&_e.seconds?new Date(Tt.date.seconds*1e3):new Date(Tt.date);return Wt>=4?kt>=Kt:!0}).length/we).toFixed(1),_({totalWorkouts:Ct,totalExercises:Nt.size,totalSets:wt,totalWeight:Dt})},Hn=st=>{if(!st)return"Unknown Date";if(typeof st=="object"&&st.seconds){const vt=new Date(st.seconds*1e3);return`${vt.getMonth()+1}/${vt.getDate()}/${vt.getFullYear()}`}if(typeof st=="string"&&st.match(/^\d{4}-\d{2}-\d{2}$/)){const[vt,Ct,Nt]=st.split("-");return`${Ct}/${Nt}/${vt}`}try{const vt=new Date(st);return`${vt.getMonth()+1}/${vt.getDate()}/${vt.getFullYear()}`}catch{return st}},Ge=st=>{if(typeof st=="object"&&st.seconds)return new Date(st.seconds*1e3);if(typeof st=="string"&&st.match(/^\d{4}-\d{2}-\d{2}$/)){const[vt,Ct,Nt]=st.split("-").map(Number);return new Date(vt,Ct-1,Nt)}return new Date(st)},fs=st=>{const vt=new Map;st.forEach(Nt=>{Nt.exercises&&Array.isArray(Nt.exercises)&&Nt.exercises.forEach(wt=>{var Gt,Kt;const Dt=(Gt=wt.name)==null?void 0:Gt.trim();Dt&&(!vt.has(Dt)||wt.sets.length>vt.get(Dt).setCount)&&vt.set(Dt,{name:Dt,setCount:((Kt=wt.sets)==null?void 0:Kt.length)||0,firstDate:vt.has(Dt)?vt.get(Dt).firstDate:new Date(Nt.date)})})});const Ct=Array.from(vt.values()).sort((Nt,wt)=>Nt.name.localeCompare(wt.name));T(Ct)},ui=st=>{if(st==="none")x(null),V(!1);else{x({...st});const vt=PM.some(Ct=>st.name.toLowerCase()===Ct.toLowerCase());V(vt),tt("all")}X(!1),D("")};P.useEffect(()=>{const st=vt=>{F.current&&!F.current.contains(vt.target)&&X(!1),Ot.current&&!Ot.current.contains(vt.target)&&Ht(!1)};return document.addEventListener("mousedown",st),()=>{document.removeEventListener("mousedown",st)}},[]);const Ui=()=>{if(!S||!a.length)return;const st=[];[...a].sort((Ct,Nt)=>Ge(Ct.date)-Ge(Nt.date)).forEach(Ct=>{if(!Ct.exercises||!Array.isArray(Ct.exercises))return;const Nt=Ct.exercises.find(Gt=>{var Kt;return((Kt=Gt.name)==null?void 0:Kt.trim().toLowerCase())===S.name.toLowerCase()});if(!Nt||!Nt.sets||!Array.isArray(Nt.sets))return;const wt=Nt.sets.filter(Gt=>{const Kt=parseInt(Gt.reps)||0;if(j==="all")return!0;if(j==="range"){const[ae,Wt]=ct.split("-").map(Number);return Kt>=ae&&Kt<=Wt}else return Kt===parseInt(j)});if(wt.length===0)return;const Dt=Hn(Ct.date);wt.forEach((Gt,Kt)=>{let ae;Gt.weight==="bodyweight"||Gt.weight===" bodyweight"?ae=Math.round(f*.25):ae=parseInt(Gt.weight)||0;const Wt=parseInt(Gt.reps)||0;Wt>0&&st.push({date:Dt,weight:ae,reps:Wt,setLabel:`Set ${Kt+1}`,rawDate:Ct.date})})}),st.sort((Ct,Nt)=>Ge(Ct.rawDate)-Ge(Nt.rawDate)),ft(st)},hi=()=>{if(!S||!a.length){re([]);return}const st=new Set,vt={};a.forEach(wt=>{if(!wt.exercises||!Array.isArray(wt.exercises))return;const Dt=wt.exercises.find(Wt=>{var we;return((we=Wt.name)==null?void 0:we.trim().toLowerCase())===S.name.toLowerCase()});if(!Dt)return;let Gt;if(typeof wt.date=="object"&&wt.date.seconds)Gt=new Date(wt.date.seconds*1e3);else if(typeof wt.date=="string"&&wt.date.match(/^\d{4}-\d{2}-\d{2}$/)){const[Wt,we,qn]=wt.date.split("-").map(Number);Gt=new Date(Wt,we-1,qn)}else Gt=new Date(wt.date);const Kt=Gt.getFullYear();st.add(Kt);const ae=`${Kt}-${String(Gt.getMonth()+1).padStart(2,"0")}-${String(Gt.getDate()).padStart(2,"0")}`;vt[ae]||(vt[ae]=0),Dt.sets&&Array.isArray(Dt.sets)?vt[ae]+=Dt.sets.length:vt[ae]+=1});const Ct=Array.from(st).sort();In(Ct),Ct.length>0&&!Ct.includes(L)&&N(Ct[Ct.length-1]);const Nt=Object.entries(vt).filter(([wt])=>wt.startsWith(L.toString())).map(([wt,Dt])=>({date:wt,count:Dt}));re(Nt)};P.useEffect(()=>{S&&a.length>0?(Ui(),hi(),le()):(ft([]),re([]),Ei([]))},[S,a,j,ct,mt]),P.useEffect(()=>{S&&a.length>0&&hi()},[L]),P.useEffect(()=>{const st=I?b.filter(vt=>vt.name.toLowerCase().includes(I.toLowerCase())):b;xi(st)},[I,b]);const le=()=>{if(!S||!a.length){Ei([]);return}const vt=(()=>{const wt=new Date;switch(Le){case"1m":return new Date(wt.setMonth(wt.getMonth()-1));case"3m":return new Date(wt.setMonth(wt.getMonth()-3));case"6m":return new Date(wt.setMonth(wt.getMonth()-6));case"1y":return new Date(wt.setFullYear(wt.getFullYear()-1));case"all":return new Date(0);default:return new Date(wt.setMonth(wt.getMonth()-3))}})(),Nt=a.filter(wt=>{var Kt;let Dt;if(typeof wt.date=="object"&&wt.date.seconds)Dt=new Date(wt.date.seconds*1e3);else if(typeof wt.date=="string"&&wt.date.match(/^\d{4}-\d{2}-\d{2}$/)){const[ae,Wt,we]=wt.date.split("-").map(Number);Dt=new Date(ae,Wt-1,we)}else Dt=new Date(wt.date);return((Kt=wt.exercises)==null?void 0:Kt.some(ae=>{var Wt;return((Wt=ae.name)==null?void 0:Wt.trim().toLowerCase())===S.name.toLowerCase()}))&&Dt>=vt}).sort((wt,Dt)=>Ge(wt.date)-Ge(Dt.date)).map(wt=>{const Dt=wt.exercises.find(ae=>{var Wt;return((Wt=ae.name)==null?void 0:Wt.trim().toLowerCase())===S.name.toLowerCase()});let Gt=0;return Dt!=null&&Dt.sets&&Array.isArray(Dt.sets)&&(Gt=Dt.sets.reduce((ae,Wt)=>{let we;Wt.weight==="bodyweight"||Wt.weight===" bodyweight"?we=Math.round(f*.25):we=parseInt(Wt.weight)||0;const qn=parseInt(Wt.reps)||0;return ae+we*qn},0)),{date:Hn(wt.date),volume:Gt,rawDate:wt.date}});Ei(Nt)};P.useEffect(()=>{S&&a.length>0&&le()},[Le,ot,a,S]);const Jt=()=>{e("/progress-tracker")},Ke=st=>{N(st)},Ve=st=>!st||!st.count?"color-empty":st.count===1?"color-scale-1":st.count<=3?"color-scale-2":st.count<=5?"color-scale-3":"color-scale-4",Ps=st=>typeof st=="string"&&st.match(/^\d{4}-\d{2}-\d{2}$/)?new Date(st).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):st,ri=st=>{Si(st)};return t?C.jsx(Xc,{}):i?C.jsx("div",{className:"progress-page-container error",children:i}):C.jsxs(Yo.div,{className:"progress-page-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[C.jsxs("div",{className:"progress-page-header",children:[C.jsxs("button",{className:"back-button",onClick:Jt,children:[C.jsx(lO,{size:20,style:{marginRight:"8px"}}),"Back"]}),C.jsx("h2",{children:"Strength Progress"})]}),C.jsxs("div",{className:"summary-metrics",children:[C.jsxs("div",{className:"metric-card",children:[C.jsx("h3",{children:"Total Workouts"}),C.jsx("div",{className:"metric-value",children:y.totalWorkouts}),C.jsx("div",{className:"metric-label",children:"workouts"})]}),C.jsxs("div",{className:"metric-card",children:[C.jsx("h3",{children:"Total Exercises"}),C.jsx("div",{className:"metric-value",children:y.totalExercises}),C.jsx("div",{className:"metric-label",children:"exercises"})]}),C.jsxs("div",{className:"metric-card",children:[C.jsx("h3",{children:"Total Sets"}),C.jsx("div",{className:"metric-value",children:y.totalSets}),C.jsx("div",{className:"metric-label",children:"sets"})]}),C.jsxs("div",{className:"metric-card",children:[C.jsx("h3",{children:"Total Weight"}),C.jsx("div",{className:"metric-value",children:y.totalWeight.toLocaleString()}),C.jsx("div",{className:"metric-label",children:"pounds lifted"})]})]}),C.jsxs("div",{className:"exercise-tracking-section",children:[C.jsx("h3",{className:"section-title",children:"Exercise Progress Tracking"}),C.jsx("p",{className:"selection-help",children:"Select an exercise to view detailed progress over time, including max weights and workout frequency."}),C.jsxs("div",{className:"exercise-dropdown-container",ref:F,children:[C.jsxs("div",{className:"exercise-dropdown-header",onClick:()=>X(!z),children:[C.jsx("span",{className:"selected-exercise-name",children:S?S.name:"Select an exercise"}),C.jsx("span",{className:"dropdown-arrow",style:{transform:z?"rotate(180deg)":"rotate(0deg)"},children:""})]}),z&&C.jsxs("div",{className:"exercise-dropdown-menu",children:[C.jsx("div",{className:"exercise-search-container",children:C.jsx("input",{type:"text",className:"exercise-search-input",placeholder:"Search exercises...",value:I,onChange:st=>D(st.target.value)})}),C.jsx("div",{className:"exercise-dropdown-items",children:$e.length>0?$e.map((st,vt)=>C.jsx("div",{className:`exercise-dropdown-item ${S===st?"selected":""}`,onClick:()=>ui(st),children:st.name},vt)):C.jsx("div",{className:"no-exercise-matches",children:"No matches found"})})]})]}),S?C.jsxs("div",{className:"exercise-details",children:[C.jsx("h3",{className:"exercise-title",children:S.name}),C.jsxs("div",{className:"charts-container",style:{flexDirection:"column"},children:[C.jsxs("div",{className:"exercise-chart-container",style:{width:"100%",marginBottom:"30px"},children:[C.jsxs("div",{className:"filter-controls",children:[C.jsxs("h4",{className:"chart-title",children:[R?"Rep Progression":"Weight Progression",C.jsx("span",{className:`filter-badge ${j==="all"?"all-reps":""}`,children:j==="all"?"All Reps":`${j} Reps`})]}),C.jsxs("div",{className:"filter-dropdown",children:[C.jsxs("div",{className:"filter-dropdown-header",onClick:()=>Ht(!_t),children:["Filter by Reps",C.jsx("span",{className:"dropdown-arrow",children:""})]}),_t&&C.jsx("div",{className:"filter-dropdown-content",ref:Ot,children:C.jsxs("div",{className:"filter-options",children:[C.jsxs("div",{className:"filter-column",children:[C.jsx("h4",{children:"Rep Ranges"}),C.jsxs("ul",{children:[C.jsx("li",{className:j==="all"?"active":"",onClick:()=>{tt("all"),Ht(!1)},children:"All Reps"}),["1-5","5-8","5-10","8-10","8-12","10-12","10-15","15-20"].map(st=>C.jsxs("li",{className:j==="range"&&ct===st?"active":"",onClick:()=>{tt("range"),rt(st),Ht(!1)},children:[st," Reps"]},st))]})]}),C.jsxs("div",{className:"filter-column",children:[C.jsx("h4",{children:"Specific Reps"}),C.jsx("ul",{className:"specific-reps-list",children:[1,2,3,4,5,6,7,8,9,10,12,15].map(st=>C.jsx("li",{className:j===st.toString()?"active":"",onClick:()=>{tt(st.toString()),Ht(!1)},children:st},st))})]})]})})]})]}),G.length>0?C.jsx("div",{style:{height:"280px"},children:C.jsx(Lb,{data:{labels:G.map(st=>st.date),datasets:[{label:R?"Reps":"Weight (lbs)",data:G.map(st=>R?st.reps:st.weight),borderColor:"rgba(255, 87, 34, 1)",backgroundColor:"rgba(255, 87, 34, 0.7)",fill:!1,tension:.3}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{boxWidth:15,font:{size:13}}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#333",bodyColor:"#555",bodyFont:{size:14},padding:12,cornerRadius:6,borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,displayColors:!1,callbacks:{title:function(st){return st[0].label},label:function(st){const vt=G[st.dataIndex];return R?[`Reps: ${vt.reps}`,`Set: ${vt.setLabel}`]:[`Weight: ${vt.weight} lbs`,`Reps: ${vt.reps}`,`Set: ${vt.setLabel}`]}}}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:45}},y:{beginAtZero:!1,title:{display:!0,text:R?"Reps":"Weight (lbs)",color:"#666",font:{size:13}},grid:{color:"rgba(0, 0, 0, 0.05)"}}},elements:{line:{tension:.3}}}})}):C.jsxs("div",{className:"no-chart-data",children:[C.jsx("p",{children:"No data available for the selected filters"}),C.jsx("p",{children:"Try selecting a different rep range or exercise"})]})]}),C.jsxs("div",{className:"exercise-volume-container",style:{width:"100%"},children:[C.jsxs("div",{className:"volume-header",children:[C.jsx("h3",{children:"Volume Progress"}),C.jsxs("div",{className:"date-range-selector",children:[C.jsx("button",{className:`range-button ${Le==="1m"?"active":""}`,onClick:()=>ri("1m"),children:"1 Month"}),C.jsx("button",{className:`range-button ${Le==="3m"?"active":""}`,onClick:()=>ri("3m"),children:"3 Months"}),C.jsx("button",{className:`range-button ${Le==="6m"?"active":""}`,onClick:()=>ri("6m"),children:"6 Months"}),C.jsx("button",{className:`range-button ${Le==="1y"?"active":""}`,onClick:()=>ri("1y"),children:"1 Year"})]})]}),C.jsxs("p",{className:"volume-description",children:["Total workout volume (weight  reps) over time. For bodyweight exercises,",C.jsx("strong",{children:" 25%"})," of your current bodyweight (",f," lbs) is used in calculations. Higher volume generally indicates increased work capacity and strength endurance."]}),ze&&ze.length>0?C.jsx("div",{className:"volume-chart-wrapper",children:C.jsx(Dq,{data:{labels:ze.map(st=>st.date),datasets:[{label:"Volume",data:ze.map(st=>st.volume),backgroundColor:"rgba(255, 87, 34, 0.7)",borderColor:"rgba(255, 87, 34, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#333",bodyColor:"#555",bodyFont:{size:14},padding:12,cornerRadius:6,borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,displayColors:!1,callbacks:{label:function(st){return`Volume: ${st.parsed.y.toLocaleString()} lbs`}}}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,title:{display:!0,text:"Volume (lbs)",color:"#666"},grid:{color:"rgba(0, 0, 0, 0.05)"}}}}})}):C.jsxs("div",{className:"no-chart-data",children:[C.jsx("p",{children:"No volume data available for this timeframe"}),C.jsx("p",{children:"Try selecting a different time range"})]})]})]}),C.jsxs("div",{className:"exercise-heatmap-container",children:[C.jsxs("div",{className:"heatmap-header",children:[C.jsxs("div",{children:[C.jsx("h3",{children:"Workout Frequency & Intensity"}),C.jsxs("p",{className:"heatmap-description",children:["This calendar shows when you trained"," ",C.jsx("strong",{children:S.name})," and the intensity (volume) of each workout. Darker colors indicate higher volume."]})]}),C.jsx("div",{className:"year-selector",children:Array.from(new Set([...a.filter(st=>{var vt;return(vt=st.exercises)==null?void 0:vt.some(Ct=>{var Nt;return((Nt=Ct.name)==null?void 0:Nt.toLowerCase())===S.name.toLowerCase()})}).map(st=>Ge(st.date).getFullYear()),new Date().getFullYear()])).sort((st,vt)=>vt-st).slice(0,5).map(st=>C.jsx("button",{className:`year-button ${L===st?"active":""}`,onClick:()=>Ke(st),children:st},st))})]}),C.jsx("div",{className:"calendar-heatmap-wrapper",children:C.jsx(vw,{startDate:new Date(`${L}-01-01`),endDate:new Date(`${L}-12-31`),values:Ue,classForValue:st=>st?Ve(st):"color-empty",tooltipDataAttrs:st=>!st||!st.date?{"data-tip":"No workout"}:{"data-tip":`${Ps(st.date)}: ${st.count.toLocaleString()} lbs`},showWeekdayLabels:!0,monthLabels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})}),C.jsxs("div",{className:"heatmap-legend",children:[C.jsx("span",{className:"legend-label",children:"Volume:"}),C.jsxs("div",{className:"legend-scale",children:[C.jsx("div",{className:"legend-item color-empty"}),C.jsx("span",{className:"legend-label",children:"None"})]}),C.jsxs("div",{className:"legend-scale",children:[C.jsx("div",{className:"legend-item color-scale-1"}),C.jsx("span",{className:"legend-label",children:"Low"})]}),C.jsxs("div",{className:"legend-scale",children:[C.jsx("div",{className:"legend-item color-scale-2"}),C.jsx("span",{className:"legend-label",children:"Medium"})]}),C.jsxs("div",{className:"legend-scale",children:[C.jsx("div",{className:"legend-item color-scale-3"}),C.jsx("span",{className:"legend-label",children:"High"})]}),C.jsxs("div",{className:"legend-scale",children:[C.jsx("div",{className:"legend-item color-scale-4"}),C.jsx("span",{className:"legend-label",children:"Max"})]})]})]})]}):C.jsxs("div",{className:"exercise-prompt",children:[C.jsx("p",{children:C.jsx(vG,{size:40,style:{color:"var(--primary-orange)",marginBottom:"15px"}})}),C.jsxs("p",{children:[C.jsx("strong",{children:"Select an exercise"})," from the dropdown above to view your progress."]}),C.jsx("p",{children:"You'll see your weight progression, volume trends, and training frequency."})]})]})]})};Gc.register(Gh,Kh,_c,Qs,Ob,Nb,Ib);const OK=()=>{const e=Ds(),[t,n]=P.useState(!0),[i,s]=P.useState(null),[a,l]=P.useState([]),[c,h]=P.useState("3m");P.useEffect(()=>{(async()=>{try{const x=ei.currentUser;if(!x)throw new Error("You must be logged in to view weight progress");const R=os(ls,"users",x.uid),V=await Ss(R);if(V.exists()){const z=[...V.data().weightLogs||[]].sort((X,I)=>new Date(X.date)-new Date(I.date));l(z)}else l([]);n(!1)}catch(x){console.error("Error fetching weight logs:",x),s(x.message),n(!1)}})()},[]);const f=S=>{const[x,R,V]=S.split("-").map(Number);return new Date(x,R-1,V).toLocaleDateString("en-US",{month:"short",day:"numeric"})},p=S=>{const[x,R,V]=S.split("-").map(Number);return new Date(x,R-1,V)},y=()=>{if(!a.length)return[];const S=new Date;let x;switch(c){case"1m":x=new Date(S.getFullYear(),S.getMonth()-1,S.getDate());break;case"3m":x=new Date(S.getFullYear(),S.getMonth()-3,S.getDate());break;case"6m":x=new Date(S.getFullYear(),S.getMonth()-6,S.getDate());break;case"1y":x=new Date(S.getFullYear()-1,S.getMonth(),S.getDate());break;case"all":default:return a}return a.filter(R=>p(R.date)>=x)},_=()=>{const S=y();return{labels:S.map(x=>f(x.date)),datasets:[{label:"Weight (lbs)",data:S.map(x=>x.weight),borderColor:"rgb(255, 87, 34)",backgroundColor:"rgba(255, 87, 34, 0.5)",tension:.3}]}},b={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#333",bodyColor:"#666",borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,padding:12,displayColors:!1,callbacks:{label:function(S){return`Weight: ${S.parsed.y} lbs`}}}},scales:{y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}};if(t)return C.jsx(Xc,{});if(i)return C.jsx("div",{className:"weight-progress-container error",children:i});const T=()=>{const S=y();if(S.length===0)return null;const x=S[S.length-1].weight,R=p(S[S.length-1].date),V=new Date(R);V.setDate(V.getDate()-7);let B=null;for(let z=S.length-2;z>=0;z--)if(p(S[z].date)<=V){B=S[z].weight;break}if(B===null)return null;const $=x-B;return{value:Math.abs($).toFixed(1),direction:$>0?"gained":"lost",timeframe:"past week"}};return C.jsxs(Yo.div,{className:"weight-progress-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[C.jsxs("div",{className:"weight-progress-header",children:[C.jsxs("button",{className:"back-button",onClick:()=>e("/progress-tracker"),children:[C.jsx(lO,{size:20,style:{marginRight:"8px"}}),"Back"]}),C.jsx("h2",{children:"Weight Progress"}),C.jsxs("button",{className:"log-weight-button",onClick:()=>e("/log-weight"),children:[C.jsx(mG,{size:20,style:{marginRight:"8px"}}),"Log Weight"]})]}),a.length===0?C.jsxs("div",{className:"no-logs-message",children:[C.jsx("p",{children:"No weight logs found."}),C.jsx("p",{children:'Start tracking your weight by clicking the "Log Weight" button.'})]}):C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"weight-summary",children:[C.jsxs("div",{className:"summary-card",children:[C.jsx("h3",{children:"Current Weight"}),C.jsxs("div",{className:"summary-value",children:[a[a.length-1].weight," lbs"]})]}),T()&&C.jsxs("div",{className:"summary-card",children:[C.jsx("h3",{children:"Weight Change (Past Week)"}),C.jsxs("div",{className:"summary-value",children:[T().value," lbs ",T().direction]})]})]}),C.jsxs("div",{className:"chart-container",children:[C.jsxs("div",{className:"chart-header",children:[C.jsx("h3",{children:"Weight Trend"}),C.jsxs("div",{className:"date-range-selector",children:[C.jsx("button",{className:`range-button ${c==="1m"?"active":""}`,onClick:()=>h("1m"),children:"1 Month"}),C.jsx("button",{className:`range-button ${c==="3m"?"active":""}`,onClick:()=>h("3m"),children:"3 Months"}),C.jsx("button",{className:`range-button ${c==="6m"?"active":""}`,onClick:()=>h("6m"),children:"6 Months"}),C.jsx("button",{className:`range-button ${c==="1y"?"active":""}`,onClick:()=>h("1y"),children:"1 Year"}),C.jsx("button",{className:`range-button ${c==="all"?"active":""}`,onClick:()=>h("all"),children:"All Time"})]})]}),C.jsx("div",{className:"chart-wrapper",children:C.jsx(Lb,{data:_(),options:b,height:300})})]})]})]})},NK=()=>{Ds();const[e,t]=P.useState(!0),[n,i]=P.useState(null),[s,a]=P.useState([]),[l,c]=P.useState(!1),h=async()=>{try{t(!0);const y=ei.currentUser;if(!y)throw new Error("You must be logged in to view weight history");const _=os(ls,"users",y.uid),b=await Ss(_);if(b.exists()){const R=[...b.data().weightLogs||[]].sort((V,B)=>new Date(B.date)-new Date(V.date)).map((V,B)=>({...V,id:`weight-${V.timestamp||Date.now()}-${B}`}));a(R)}else a([]);t(!1)}catch(y){console.error("Error fetching weight logs:",y),i(y.message),t(!1)}};P.useEffect(()=>{h()},[]);const f=y=>{const[_,b,T]=y.split("-").map(Number),S=new Date(_,b-1,T),x={weekday:"long",year:"numeric",month:"long",day:"numeric"};return S.toLocaleDateString("en-US",x)},p=async y=>{if(!l&&window.confirm("Are you sure you want to delete this weight log entry?"))try{c(!0);const _=ei.currentUser;if(!_)throw new Error("You must be logged in to delete weight logs");const b=s.find(x=>x.id===y);if(!b)throw new Error("Weight log not found");const T=os(ls,"users",_.uid),S=await Ss(T);if(S.exists()){const R=S.data().weightLogs.filter(V=>!(V.date===b.date&&V.weight===b.weight&&(V.timestamp===b.timestamp||!V.timestamp&&!b.timestamp)));await jh(T,{weightLogs:R}),a(s.filter(V=>V.id!==y)),console.log("Weight log deleted successfully")}}catch(_){console.error("Error deleting weight log:",_),alert(`Failed to delete weight log: ${_.message}`)}finally{c(!1)}};return e?C.jsx(Xc,{}):n?C.jsx("div",{className:"weight-history-container error",children:n}):C.jsxs(Yo.div,{className:"weight-history-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[C.jsx("div",{className:"weight-history-header",children:C.jsx("h2",{children:"Weight History"})}),s.length===0?C.jsxs("div",{className:"no-logs-message",children:[C.jsx("p",{children:"No weight logs found."}),C.jsx("p",{children:'Start tracking your weight by clicking "Log Weight" in the menu.'})]}):C.jsx("div",{className:"weight-logs-list",children:s.map(y=>C.jsxs("div",{className:"weight-log-card",children:[C.jsx("div",{className:"weight-log-date",children:f(y.date)}),C.jsxs("div",{className:"weight-log-details",children:[C.jsxs("div",{className:"weight-value",children:[y.weight," lbs"]}),C.jsx("button",{className:"delete-log-btn",onClick:()=>p(y.id),disabled:l,children:C.jsx(yG,{size:18})})]})]},y.id))})]})},LK=()=>{const e=Ds(),[t,n]=P.useState(""),[i,s]=P.useState(()=>{const y=new Date,_=y.getFullYear(),b=String(y.getMonth()+1).padStart(2,"0"),T=String(y.getDate()).padStart(2,"0");return`${_}-${b}-${T}`}),[a,l]=P.useState(!1),[c,h]=P.useState(""),f=y=>{if(y===""||y==="."){n(y);return}if(!/^[0-9]*\.?[0-9]{0,2}$/.test(y))return;const b=parseFloat(y);!isNaN(b)&&(b<1||b>1500)||n(y)},p=async y=>{y.preventDefault(),l(!0),h("");try{const _=ei.currentUser;if(!_)throw new Error("You must be logged in to log weight");const b=parseFloat(t);if(isNaN(b)||b<1||b>1500)throw new Error("Weight must be between 1 and 1500 pounds");const T=os(ls,"users",_.uid);if(!(await Ss(T)).exists())throw new Error("User document not found");const x={weight:b,date:i,timestamp:new Date().toISOString()};await jh(T,{weightLogs:fP(x)}),e("/weight-history")}catch(_){console.error("Error logging weight:",_),h(_.message)}finally{l(!1)}};return C.jsxs(Yo.div,{className:"log-weight-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[C.jsx("div",{className:"log-weight-header",children:C.jsx("h2",{children:"Log Weight"})}),C.jsxs("form",{onSubmit:p,className:"log-weight-form",children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"weight",children:"Weight (lbs)"}),C.jsx("input",{type:"text",id:"weight",value:t,onChange:y=>f(y.target.value),required:!0,placeholder:"Enter weight in pounds",pattern:"^[0-9]+(\\.[0-9]{1,2})?$",title:"Enter a weight value between 1-1500 pounds",min:"1",max:"1500"})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"date",children:"Date"}),C.jsx("input",{type:"date",id:"date",value:i,onChange:y=>s(y.target.value),required:!0,max:(()=>{const y=new Date,_=y.getFullYear(),b=String(y.getMonth()+1).padStart(2,"0"),T=String(y.getDate()).padStart(2,"0");return`${_}-${b}-${T}`})()})]}),c&&C.jsx("div",{className:"error-message",children:c}),C.jsx("button",{type:"submit",className:"submit-button",disabled:a,children:a?"Logging...":"Log Weight"})]})]})};function Aa({children:e}){const[t,n]=P.useState(!0),[i,s]=P.useState(!1);return P.useEffect(()=>{const a=ei.onAuthStateChanged(l=>{s(!!l),n(!1)});return()=>a()},[]),t?C.jsx(Xc,{}):i?e:C.jsx(j1,{to:"/",replace:!0})}function VK(){const e=Jr(),t=Ds(),[n,i]=P.useState(!1);if(e.pathname==="/")return null;const s=()=>{i(!n)},a=async()=>{try{await QB(ei),i(!1),t("/")}catch(l){console.error("Error signing out:",l)}};return C.jsx("header",{className:"header",children:C.jsxs("div",{className:"header-content",children:[C.jsxs("div",{className:"logo",onClick:()=>t("/dashboard"),role:"button",tabIndex:"0",children:[C.jsx("div",{className:"logo-icon",children:"NR"}),C.jsx("div",{className:"logo-text",children:"NextRep"})]}),C.jsxs("div",{className:"menu-container",children:[C.jsxs("div",{className:`hamburger ${n?"open":""}`,onClick:s,children:[C.jsx("span",{}),C.jsx("span",{}),C.jsx("span",{})]}),n&&C.jsx("div",{className:"dropdown-menu",children:C.jsxs("ul",{children:[C.jsx("li",{children:C.jsx(Da,{to:"/dashboard",onClick:s,children:"Dashboard"})}),C.jsx("li",{children:C.jsx(Da,{to:"/log-workout",onClick:s,children:"Log Workout"})}),C.jsx("li",{children:C.jsx(Da,{to:"/log-weight",onClick:s,children:"Log Weight"})}),C.jsx("li",{className:"menu-divider"}),C.jsx("li",{children:C.jsx(Da,{to:"/workout-history",onClick:s,children:"Workout History"})}),C.jsx("li",{children:C.jsx(Da,{to:"/weight-history",onClick:s,children:"Weight History"})}),C.jsx("li",{className:"menu-divider"}),C.jsx("li",{children:C.jsx(Da,{to:"/progress-tracker",onClick:s,children:"Progress Tracker"})}),C.jsx("li",{className:"menu-divider"}),C.jsx("li",{children:C.jsx("button",{className:"logout-menu-button",onClick:a,children:"Logout"})})]})})]})]})})}function BK(){return C.jsx("div",{className:"App",children:C.jsxs(vL,{children:[C.jsx(VK,{}),C.jsx("div",{className:"content",children:C.jsxs(Y2,{children:[C.jsx(ys,{path:"/",element:C.jsx(Z3,{})}),C.jsx(ys,{path:"/dashboard",element:C.jsx(Aa,{children:C.jsx(kq,{})})}),C.jsx(ys,{path:"/log-workout",element:C.jsx(Aa,{children:C.jsx(_G,{})})}),C.jsx(ys,{path:"/workout-history",element:C.jsx(Aa,{children:C.jsx(bG,{})})}),C.jsx(ys,{path:"/progress-tracker",element:C.jsx(Aa,{children:C.jsx(wG,{})})}),C.jsx(ys,{path:"/strength-progress",element:C.jsx(Aa,{children:C.jsx(IK,{})})}),C.jsx(ys,{path:"/weight-progress",element:C.jsx(Aa,{children:C.jsx(OK,{})})}),C.jsx(ys,{path:"/weight-history",element:C.jsx(Aa,{children:C.jsx(NK,{})})}),C.jsx(ys,{path:"/log-weight",element:C.jsx(Aa,{children:C.jsx(LK,{})})}),C.jsx(ys,{path:"*",element:C.jsx(j1,{to:"/",replace:!0})})]})})]})})}r2.createRoot(document.getElementById("root")).render(C.jsx(P.StrictMode,{children:C.jsx(BK,{})}));
