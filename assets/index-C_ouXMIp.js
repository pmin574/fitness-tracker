var GN=Object.defineProperty;var KN=(e,t,n)=>t in e?GN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ft=(e,t,n)=>KN(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function D1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var iv={exports:{}},Xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function YN(){if(OE)return Xu;OE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:a}}return Xu.Fragment=t,Xu.jsx=n,Xu.jsxs=n,Xu}var NE;function XN(){return NE||(NE=1,iv.exports=YN()),iv.exports}var R=XN(),sv={exports:{}},Wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function QN(){if(LE)return Wt;LE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function E(z,nt,pt){this.props=z,this.context=nt,this.refs=S,this.updater=pt||b}E.prototype.isReactComponent={},E.prototype.setState=function(z,nt){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,nt,"setState")},E.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function C(){}C.prototype=E.prototype;function V(z,nt,pt){this.props=z,this.context=nt,this.refs=S,this.updater=pt||b}var B=V.prototype=new C;B.constructor=V,T(B,E.prototype),B.isPureReactComponent=!0;var W=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function M(z,nt,pt,ut,_t,It){return pt=It.ref,{$$typeof:e,type:z,key:nt,ref:pt!==void 0?pt:null,props:It}}function D(z,nt){return M(z.type,nt,void 0,void 0,void 0,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function j(z){var nt={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(pt){return nt[pt]})}var U=/\/+/g;function L(z,nt){return typeof z=="object"&&z!==null&&z.key!=null?j(""+z.key):nt.toString(36)}function N(){}function rt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(N,N):(z.status="pending",z.then(function(nt){z.status==="pending"&&(z.status="fulfilled",z.value=nt)},function(nt){z.status==="pending"&&(z.status="rejected",z.reason=nt)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function dt(z,nt,pt,ut,_t){var It=typeof z;(It==="undefined"||It==="boolean")&&(z=null);var xt=!1;if(z===null)xt=!0;else switch(It){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(z.$$typeof){case e:case t:xt=!0;break;case p:return xt=z._init,dt(xt(z._payload),nt,pt,ut,_t)}}if(xt)return _t=_t(z),xt=ut===""?"."+L(z,0):ut,W(_t)?(pt="",xt!=null&&(pt=xt.replace(U,"$&/")+"/"),dt(_t,nt,pt,"",function(gn){return gn})):_t!=null&&(P(_t)&&(_t=D(_t,pt+(_t.key==null||z&&z.key===_t.key?"":(""+_t.key).replace(U,"$&/")+"/")+xt)),nt.push(_t)),1;xt=0;var _e=ut===""?".":ut+":";if(W(z))for(var Ut=0;Ut<z.length;Ut++)ut=z[Ut],It=_e+L(ut,Ut),xt+=dt(ut,nt,pt,It,_t);else if(Ut=_(z),typeof Ut=="function")for(z=Ut.call(z),Ut=0;!(ut=z.next()).done;)ut=ut.value,It=_e+L(ut,Ut++),xt+=dt(ut,nt,pt,It,_t);else if(It==="object"){if(typeof z.then=="function")return dt(rt(z),nt,pt,ut,_t);throw nt=String(z),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return xt}function $(z,nt,pt){if(z==null)return z;var ut=[],_t=0;return dt(z,ut,"","",function(It){return nt.call(pt,It,_t++)}),ut}function Z(z){if(z._status===-1){var nt=z._result;nt=nt(),nt.then(function(pt){(z._status===0||z._status===-1)&&(z._status=1,z._result=pt)},function(pt){(z._status===0||z._status===-1)&&(z._status=2,z._result=pt)}),z._status===-1&&(z._status=0,z._result=nt)}if(z._status===1)return z._result.default;throw z._result}var ot=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function Et(){}return Wt.Children={map:$,forEach:function(z,nt,pt){$(z,function(){nt.apply(this,arguments)},pt)},count:function(z){var nt=0;return $(z,function(){nt++}),nt},toArray:function(z){return $(z,function(nt){return nt})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Wt.Component=E,Wt.Fragment=n,Wt.Profiler=s,Wt.PureComponent=V,Wt.StrictMode=i,Wt.Suspense=h,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return F.H.useMemoCache(z)}},Wt.cache=function(z){return function(){return z.apply(null,arguments)}},Wt.cloneElement=function(z,nt,pt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ut=T({},z.props),_t=z.key,It=void 0;if(nt!=null)for(xt in nt.ref!==void 0&&(It=void 0),nt.key!==void 0&&(_t=""+nt.key),nt)!K.call(nt,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&nt.ref===void 0||(ut[xt]=nt[xt]);var xt=arguments.length-2;if(xt===1)ut.children=pt;else if(1<xt){for(var _e=Array(xt),Ut=0;Ut<xt;Ut++)_e[Ut]=arguments[Ut+2];ut.children=_e}return M(z.type,_t,void 0,void 0,It,ut)},Wt.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:a,_context:z},z},Wt.createElement=function(z,nt,pt){var ut,_t={},It=null;if(nt!=null)for(ut in nt.key!==void 0&&(It=""+nt.key),nt)K.call(nt,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(_t[ut]=nt[ut]);var xt=arguments.length-2;if(xt===1)_t.children=pt;else if(1<xt){for(var _e=Array(xt),Ut=0;Ut<xt;Ut++)_e[Ut]=arguments[Ut+2];_t.children=_e}if(z&&z.defaultProps)for(ut in xt=z.defaultProps,xt)_t[ut]===void 0&&(_t[ut]=xt[ut]);return M(z,It,void 0,void 0,null,_t)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(z){return{$$typeof:c,render:z}},Wt.isValidElement=P,Wt.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:Z}},Wt.memo=function(z,nt){return{$$typeof:f,type:z,compare:nt===void 0?null:nt}},Wt.startTransition=function(z){var nt=F.T,pt={};F.T=pt;try{var ut=z(),_t=F.S;_t!==null&&_t(pt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Et,ot)}catch(It){ot(It)}finally{F.T=nt}},Wt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Wt.use=function(z){return F.H.use(z)},Wt.useActionState=function(z,nt,pt){return F.H.useActionState(z,nt,pt)},Wt.useCallback=function(z,nt){return F.H.useCallback(z,nt)},Wt.useContext=function(z){return F.H.useContext(z)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(z,nt){return F.H.useDeferredValue(z,nt)},Wt.useEffect=function(z,nt,pt){var ut=F.H;if(typeof pt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ut.useEffect(z,nt)},Wt.useId=function(){return F.H.useId()},Wt.useImperativeHandle=function(z,nt,pt){return F.H.useImperativeHandle(z,nt,pt)},Wt.useInsertionEffect=function(z,nt){return F.H.useInsertionEffect(z,nt)},Wt.useLayoutEffect=function(z,nt){return F.H.useLayoutEffect(z,nt)},Wt.useMemo=function(z,nt){return F.H.useMemo(z,nt)},Wt.useOptimistic=function(z,nt){return F.H.useOptimistic(z,nt)},Wt.useReducer=function(z,nt,pt){return F.H.useReducer(z,nt,pt)},Wt.useRef=function(z){return F.H.useRef(z)},Wt.useState=function(z){return F.H.useState(z)},Wt.useSyncExternalStore=function(z,nt,pt){return F.H.useSyncExternalStore(z,nt,pt)},Wt.useTransition=function(){return F.H.useTransition()},Wt.version="19.1.0",Wt}var VE;function f0(){return VE||(VE=1,sv.exports=QN()),sv.exports}var I=f0();const Ie=D1(I);var rv={exports:{}},Qu={},av={exports:{}},ov={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function ZN(){return BE||(BE=1,function(e){function t($,Z){var ot=$.length;$.push(Z);t:for(;0<ot;){var Et=ot-1>>>1,z=$[Et];if(0<s(z,Z))$[Et]=Z,$[ot]=z,ot=Et;else break t}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var Z=$[0],ot=$.pop();if(ot!==Z){$[0]=ot;t:for(var Et=0,z=$.length,nt=z>>>1;Et<nt;){var pt=2*(Et+1)-1,ut=$[pt],_t=pt+1,It=$[_t];if(0>s(ut,ot))_t<z&&0>s(It,ut)?($[Et]=It,$[_t]=ot,Et=_t):($[Et]=ut,$[pt]=ot,Et=pt);else if(_t<z&&0>s(It,ot))$[Et]=It,$[_t]=ot,Et=_t;else break t}}return Z}function s($,Z){var ot=$.sortIndex-Z.sortIndex;return ot!==0?ot:$.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],f=[],p=1,y=null,_=3,b=!1,T=!1,S=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function W($){for(var Z=n(f);Z!==null;){if(Z.callback===null)i(f);else if(Z.startTime<=$)i(f),Z.sortIndex=Z.expirationTime,t(h,Z);else break;Z=n(f)}}function F($){if(S=!1,W($),!T)if(n(h)!==null)T=!0,K||(K=!0,L());else{var Z=n(f);Z!==null&&dt(F,Z.startTime-$)}}var K=!1,M=-1,D=5,P=-1;function j(){return E?!0:!(e.unstable_now()-P<D)}function U(){if(E=!1,K){var $=e.unstable_now();P=$;var Z=!0;try{t:{T=!1,S&&(S=!1,V(M),M=-1),b=!0;var ot=_;try{e:{for(W($),y=n(h);y!==null&&!(y.expirationTime>$&&j());){var Et=y.callback;if(typeof Et=="function"){y.callback=null,_=y.priorityLevel;var z=Et(y.expirationTime<=$);if($=e.unstable_now(),typeof z=="function"){y.callback=z,W($),Z=!0;break e}y===n(h)&&i(h),W($)}else i(h);y=n(h)}if(y!==null)Z=!0;else{var nt=n(f);nt!==null&&dt(F,nt.startTime-$),Z=!1}}break t}finally{y=null,_=ot,b=!1}Z=void 0}}finally{Z?L():K=!1}}}var L;if(typeof B=="function")L=function(){B(U)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,rt=N.port2;N.port1.onmessage=U,L=function(){rt.postMessage(null)}}else L=function(){C(U,0)};function dt($,Z){M=C(function(){$(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function($){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var ot=_;_=Z;try{return $()}finally{_=ot}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ot=_;_=$;try{return Z()}finally{_=ot}},e.unstable_scheduleCallback=function($,Z,ot){var Et=e.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Et+ot:Et):ot=Et,$){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ot+z,$={id:p++,callback:Z,priorityLevel:$,startTime:ot,expirationTime:z,sortIndex:-1},ot>Et?($.sortIndex=ot,t(f,$),n(h)===null&&$===n(f)&&(S?(V(M),M=-1):S=!0,dt(F,ot-Et))):($.sortIndex=z,t(h,$),T||b||(T=!0,K||(K=!0,L()))),$},e.unstable_shouldYield=j,e.unstable_wrapCallback=function($){var Z=_;return function(){var ot=_;_=Z;try{return $.apply(this,arguments)}finally{_=ot}}}}(ov)),ov}var jE;function JN(){return jE||(jE=1,av.exports=ZN()),av.exports}var lv={exports:{}},$n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function t2(){if(UE)return $n;UE=1;var e=f0();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return $n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,$n.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(h,f,null,p)},$n.flushSync=function(h){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=p,i.d.f()}},$n.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},$n.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},$n.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):p==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},$n.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},$n.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},$n.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=c(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},$n.requestFormReset=function(h){i.d.r(h)},$n.unstable_batchedUpdates=function(h,f){return h(f)},$n.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},$n.useFormStatus=function(){return l.H.useHostTransitionStatus()},$n.version="19.1.0",$n}var FE;function e2(){if(FE)return lv.exports;FE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lv.exports=t2(),lv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function n2(){if(zE)return Qu;zE=1;var e=JN(),t=f0(),n=e2();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(a(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var u=r,d=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return c(m),r;if(v===d)return c(m),o;v=v.sibling}throw Error(i(188))}if(u.return!==d.return)u=m,d=v;else{for(var A=!1,k=m.child;k;){if(k===u){A=!0,u=m,d=v;break}if(k===d){A=!0,d=m,u=v;break}k=k.sibling}if(!A){for(k=v.child;k;){if(k===u){A=!0,u=v,d=m;break}if(k===d){A=!0,d=v,u=m;break}k=k.sibling}if(!A)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:o}function f(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=f(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),B=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var N=Symbol.for("react.client.reference");function rt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===N?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case F:return"Suspense";case K:return"SuspenseList";case P:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case B:return(r.displayName||"Context")+".Provider";case V:return(r._context.displayName||"Context")+".Consumer";case W:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return o=r.displayName||null,o!==null?o:rt(r.type)||"Memo";case D:o=r._payload,r=r._init;try{return rt(r(o))}catch{}}return null}var dt=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Et=[],z=-1;function nt(r){return{current:r}}function pt(r){0>z||(r.current=Et[z],Et[z]=null,z--)}function ut(r,o){z++,Et[z]=r.current,r.current=o}var _t=nt(null),It=nt(null),xt=nt(null),_e=nt(null);function Ut(r,o){switch(ut(xt,o),ut(It,r),ut(_t,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?lE(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=lE(o),r=cE(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}pt(_t),ut(_t,r)}function gn(){pt(_t),pt(It),pt(xt)}function Be(r){r.memoizedState!==null&&ut(_e,r);var o=_t.current,u=cE(o,r.type);o!==u&&(ut(It,r),ut(_t,u))}function mn(r){It.current===r&&(pt(_t),pt(It)),_e.current===r&&(pt(_e),Wu._currentValue=ot)}var ii=Object.prototype.hasOwnProperty,He=e.unstable_scheduleCallback,Si=e.unstable_cancelCallback,je=e.unstable_shouldYield,Ei=e.unstable_requestPaint,qe=e.unstable_now,xi=e.unstable_getCurrentPriorityLevel,me=e.unstable_ImmediatePriority,zn=e.unstable_UserBlockingPriority,We=e.unstable_NormalPriority,us=e.unstable_LowPriority,ui=e.unstable_IdlePriority,Ui=e.log,hi=e.unstable_setDisableYieldValue,ae=null,Zt=null;function $e(r){if(typeof Ui=="function"&&hi(r),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(ae,r)}catch{}}var Ne=Math.clz32?Math.clz32:it,ks=Math.log,si=Math.LN2;function it(r){return r>>>=0,r===0?32:31-(ks(r)/si|0)|0}var mt=256,At=4194304;function Ot(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function vt(r,o,u){var d=r.pendingLanes;if(d===0)return 0;var m=0,v=r.suspendedLanes,A=r.pingedLanes;r=r.warmLanes;var k=d&134217727;return k!==0?(d=k&~v,d!==0?m=Ot(d):(A&=k,A!==0?m=Ot(A):u||(u=k&~r,u!==0&&(m=Ot(u))))):(k=d&~v,k!==0?m=Ot(k):A!==0?m=Ot(A):u||(u=d&~r,u!==0&&(m=Ot(u)))),m===0?0:o!==0&&o!==m&&(o&v)===0&&(v=m&-m,u=o&-o,v>=u||v===32&&(u&4194048)!==0)?o:m}function Ct(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function $t(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gt(){var r=mt;return mt<<=1,(mt&4194048)===0&&(mt=256),r}function se(){var r=At;return At<<=1,(At&62914560)===0&&(At=4194304),r}function qt(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function be(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Hn(r,o,u,d,m,v){var A=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var k=r.entanglements,H=r.expirationTimes,Q=r.hiddenUpdates;for(u=A&~u;0<u;){var st=31-Ne(u),lt=1<<st;k[st]=0,H[st]=-1;var J=Q[st];if(J!==null)for(Q[st]=null,st=0;st<J.length;st++){var tt=J[st];tt!==null&&(tt.lane&=-536870913)}u&=~lt}d!==0&&de(r,d,0),v!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=v&~(A&~o))}function de(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-Ne(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|u&4194090}function en(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var d=31-Ne(u),m=1<<d;m&o|r[d]&o&&(r[d]|=o),u&=~m}}function bt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Dt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ye(){var r=Z.p;return r!==0?r:(r=window.event,r===void 0?32:CE(r.type))}function Le(r,o){var u=Z.p;try{return Z.p=r,o()}finally{Z.p=u}}var ht=Math.random().toString(36).slice(2),yt="__reactFiber$"+ht,Tt="__reactProps$"+ht,pe="__reactContainer$"+ht,Xe="__reactEvents$"+ht,fi="__reactListeners$"+ht,yn="__reactHandles$"+ht,ln="__reactResources$"+ht,cn="__reactMarker$"+ht;function he(r){delete r[yt],delete r[Tt],delete r[Xe],delete r[fi],delete r[yn]}function qn(r){var o=r[yt];if(o)return o;for(var u=r.parentNode;u;){if(o=u[pe]||u[yt]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=dE(r);r!==null;){if(u=r[yt])return u;r=dE(r)}return o}r=u,u=r.parentNode}return null}function Fi(r){if(r=r[yt]||r[pe]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function zi(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function xn(r){var o=r[ln];return o||(o=r[ln]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ue(r){r[cn]=!0}var ta=new Set,mr={};function di(r,o){Kt(r,o),Kt(r+"Capture",o)}function Kt(r,o){for(mr[r]=o,r=0;r<o.length;r++)ta.add(o[r])}var pi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ea={},Ai={};function dl(r){return ii.call(Ai,r)?!0:ii.call(ea,r)?!1:pi.test(r)?Ai[r]=!0:(ea[r]=!0,!1)}function Hi(r,o,u){if(dl(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function Ps(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function In(r,o,u,d){if(d===null)r.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+d)}}var eo,Rf;function yr(r){if(eo===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);eo=o&&o[1]||"",Rf=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+eo+r+Rf}var pl=!1;function gl(r,o){if(!r||pl)return"";pl=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(tt){var J=tt}Reflect.construct(r,[],lt)}else{try{lt.call()}catch(tt){J=tt}r.call(lt.prototype)}}else{try{throw Error()}catch(tt){J=tt}(lt=r())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(tt){if(tt&&J&&typeof tt.stack=="string")return[tt.stack,J.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),A=v[0],k=v[1];if(A&&k){var H=A.split(`
`),Q=k.split(`
`);for(m=d=0;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(d===H.length||m===Q.length)for(d=H.length-1,m=Q.length-1;1<=d&&0<=m&&H[d]!==Q[m];)m--;for(;1<=d&&0<=m;d--,m--)if(H[d]!==Q[m]){if(d!==1||m!==1)do if(d--,m--,0>m||H[d]!==Q[m]){var st=`
`+H[d].replace(" at new "," at ");return r.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",r.displayName)),st}while(1<=d&&0<=m);break}}}finally{pl=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?yr(u):""}function Zc(r){switch(r.tag){case 26:case 27:case 5:return yr(r.type);case 16:return yr("Lazy");case 13:return yr("Suspense");case 19:return yr("SuspenseList");case 0:case 15:return gl(r.type,!1);case 11:return gl(r.type.render,!1);case 1:return gl(r.type,!0);case 31:return yr("Activity");default:return""}}function ml(r){try{var o="";do o+=Zc(r),r=r.return;while(r);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ri(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Jc(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function om(r){var o=Jc(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return m.call(this)},set:function(A){d=""+A,v.call(this,A)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function yl(r){r._valueTracker||(r._valueTracker=om(r))}function tu(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return r&&(d=Jc(r)?r.checked?"true":"false":r.value),r=d,r!==u?(o.setValue(r),!0):!1}function no(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var lm=/[\n"\\]/g;function un(r){return r.replace(lm,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ri(r,o,u,d,m,v,A,k){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),o!=null?A==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+ri(o)):r.value!==""+ri(o)&&(r.value=""+ri(o)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),o!=null?na(r,A,ri(o)):u!=null?na(r,A,ri(u)):d!=null&&r.removeAttribute("value"),m==null&&v!=null&&(r.defaultChecked=!!v),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+ri(k):r.removeAttribute("name")}function io(r,o,u,d,m,v,A,k){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),o!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;u=u!=null?""+ri(u):"",o=o!=null?""+ri(o):u,k||o===r.value||(r.value=o),r.defaultValue=o}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=k?r.checked:!!d,r.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A)}function na(r,o,u){o==="number"&&no(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function vr(r,o,u,d){if(r=r.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<r.length;u++)m=o.hasOwnProperty("$"+r[u].value),r[u].selected!==m&&(r[u].selected=m),m&&d&&(r[u].defaultSelected=!0)}else{for(u=""+ri(u),o=null,m=0;m<r.length;m++){if(r[m].value===u){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}o!==null||r[m].disabled||(o=r[m])}o!==null&&(o.selected=!0)}}function Re(r,o,u){if(o!=null&&(o=""+ri(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+ri(u):""}function so(r,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(i(92));if(dt(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=ri(o),r.defaultValue=u,d=r.textContent,d===u&&d!==""&&d!==null&&(r.value=d)}function qi(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cf(r,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,u):typeof u!="number"||u===0||ro.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function eu(r,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var m in o)d=o[m],o.hasOwnProperty(m)&&u[m]!==d&&Cf(r,m,d)}else for(var v in o)o.hasOwnProperty(v)&&Cf(r,v,o[v])}function nu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),um=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vl(r){return um.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var _r=null;function Wi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var br=null,wr=null;function iu(r){var o=Fi(r);if(o&&(r=o.stateNode)){var u=r[Tt]||null;t:switch(r=o.stateNode,o.type){case"input":if(Ri(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+un(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==r&&d.form===r.form){var m=d[Tt]||null;if(!m)throw Error(i(90));Ri(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===r.form&&tu(d)}break t;case"textarea":Re(r,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&vr(r,!!u.multiple,o,!1)}}}var Ms=!1;function Df(r,o,u){if(Ms)return r(o,u);Ms=!0;try{var d=r(o);return d}finally{if(Ms=!1,(br!==null||wr!==null)&&(Td(),br&&(o=br,r=wr,wr=br=null,iu(o),r)))for(o=0;o<r.length;o++)iu(r[o])}}function ao(r,o){var u=r.stateNode;if(u===null)return null;var d=u[Tt]||null;if(d===null)return null;u=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$i=!1;if(hs)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){$i=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{$i=!1}var Is=null,ia=null,Tr=null;function su(){if(Tr)return Tr;var r,o=ia,u=o.length,d,m="value"in Is?Is.value:Is.textContent,v=m.length;for(r=0;r<u&&o[r]===m[r];r++);var A=u-r;for(d=1;d<=A&&o[u-d]===m[v-d];d++);return Tr=m.slice(r,1<d?1-d:void 0)}function Os(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Ns(){return!0}function ru(){return!1}function An(r){function o(u,d,m,v,A){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(u=r[k],this[k]=u?u(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ns:ru,this.isPropagationStopped=ru,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),o}var we={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=An(we),lo=p({},we,{view:0,detail:0}),kf=An(lo),bl,wl,Ls,co=p({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ls&&(Ls&&r.type==="mousemove"?(bl=r.screenX-Ls.screenX,wl=r.screenY-Ls.screenY):wl=bl=0,Ls=r),bl)},movementY:function(r){return"movementY"in r?r.movementY:wl}}),Gi=An(co),Pf=p({},co,{dataTransfer:0}),hm=An(Pf),uo=p({},lo,{relatedTarget:0}),Tl=An(uo),au=p({},we,{animationName:0,elapsedTime:0,pseudoElement:0}),Sl=An(au),Mf=p({},we,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),El=An(Mf),fm=p({},we,{data:0}),ou=An(fm),ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},If={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Of={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Of[r])?!!o[r]:!1}function fo(){return lu}var Nf=p({},lo,{key:function(r){if(r.key){var o=ho[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Os(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?If[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fo,charCode:function(r){return r.type==="keypress"?Os(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Os(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),xl=An(Nf),Lf=p({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=An(Lf),Sr=p({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fo}),Vf=An(Sr),Bf=p({},we,{propertyName:0,elapsedTime:0,pseudoElement:0}),jf=An(Bf),Uf=p({},co,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Al=An(Uf),ai=p({},we,{newState:0,oldState:0}),Ff=An(ai),zf=[9,13,27,32],Vs=hs&&"CompositionEvent"in window,g=null;hs&&"documentMode"in document&&(g=document.documentMode);var w=hs&&"TextEvent"in window&&!g,x=hs&&(!Vs||g&&8<g&&11>=g),O=" ",Y=!1;function et(r,o){switch(r){case"keyup":return zf.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var oe=!1;function vn(r,o){switch(r){case"compositionend":return gt(o);case"keypress":return o.which!==32?null:(Y=!0,O);case"textInput":return r=o.data,r===O&&Y?null:r;default:return null}}function le(r,o){if(oe)return r==="compositionend"||!Vs&&et(r,o)?(r=su(),Tr=ia=Is=null,oe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return x&&o.locale!=="ko"?null:o.data;default:return null}}var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _n(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Rn[r.type]:o==="textarea"}function Er(r,o,u,d){br?wr?wr.push(d):wr=[d]:br=d,o=Cd(o,"onChange"),0<o.length&&(u=new _l("onChange","change",null,u,d),r.push({event:u,listeners:o}))}var On=null,Bs=null;function uu(r){iE(r,0)}function Hf(r){var o=zi(r);if(tu(o))return r}function Ew(r,o){if(r==="change")return o}var xw=!1;if(hs){var dm;if(hs){var pm="oninput"in document;if(!pm){var Aw=document.createElement("div");Aw.setAttribute("oninput","return;"),pm=typeof Aw.oninput=="function"}dm=pm}else dm=!1;xw=dm&&(!document.documentMode||9<document.documentMode)}function Rw(){On&&(On.detachEvent("onpropertychange",Cw),Bs=On=null)}function Cw(r){if(r.propertyName==="value"&&Hf(Bs)){var o=[];Er(o,Bs,r,Wi(r)),Df(uu,o)}}function SO(r,o,u){r==="focusin"?(Rw(),On=o,Bs=u,On.attachEvent("onpropertychange",Cw)):r==="focusout"&&Rw()}function EO(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Hf(Bs)}function xO(r,o){if(r==="click")return Hf(o)}function AO(r,o){if(r==="input"||r==="change")return Hf(o)}function RO(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Ci=typeof Object.is=="function"?Object.is:RO;function hu(r,o){if(Ci(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!ii.call(o,m)||!Ci(r[m],o[m]))return!1}return!0}function Dw(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function kw(r,o){var u=Dw(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=o&&d>=o)return{node:u,offset:o-r};r=d}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=Dw(u)}}function Pw(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Pw(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Mw(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=no(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=no(r.document)}return o}function gm(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var CO=hs&&"documentMode"in document&&11>=document.documentMode,Rl=null,mm=null,fu=null,ym=!1;function Iw(r,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ym||Rl==null||Rl!==no(d)||(d=Rl,"selectionStart"in d&&gm(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),fu&&hu(fu,d)||(fu=d,d=Cd(mm,"onSelect"),0<d.length&&(o=new _l("onSelect","select",null,o,u),r.push({event:o,listeners:d}),o.target=Rl)))}function po(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var Cl={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionrun:po("Transition","TransitionRun"),transitionstart:po("Transition","TransitionStart"),transitioncancel:po("Transition","TransitionCancel"),transitionend:po("Transition","TransitionEnd")},vm={},Ow={};hs&&(Ow=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function go(r){if(vm[r])return vm[r];if(!Cl[r])return r;var o=Cl[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in Ow)return vm[r]=o[u];return r}var Nw=go("animationend"),Lw=go("animationiteration"),Vw=go("animationstart"),DO=go("transitionrun"),kO=go("transitionstart"),PO=go("transitioncancel"),Bw=go("transitionend"),jw=new Map,_m="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_m.push("scrollEnd");function fs(r,o){jw.set(r,o),di(o,[r])}var Uw=new WeakMap;function Ki(r,o){if(typeof r=="object"&&r!==null){var u=Uw.get(r);return u!==void 0?u:(o={value:r,source:o,stack:ml(o)},Uw.set(r,o),o)}return{value:r,source:o,stack:ml(o)}}var Yi=[],Dl=0,bm=0;function qf(){for(var r=Dl,o=bm=Dl=0;o<r;){var u=Yi[o];Yi[o++]=null;var d=Yi[o];Yi[o++]=null;var m=Yi[o];Yi[o++]=null;var v=Yi[o];if(Yi[o++]=null,d!==null&&m!==null){var A=d.pending;A===null?m.next=m:(m.next=A.next,A.next=m),d.pending=m}v!==0&&Fw(u,m,v)}}function Wf(r,o,u,d){Yi[Dl++]=r,Yi[Dl++]=o,Yi[Dl++]=u,Yi[Dl++]=d,bm|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function wm(r,o,u,d){return Wf(r,o,u,d),$f(r)}function kl(r,o){return Wf(r,null,null,o),$f(r)}function Fw(r,o,u){r.lanes|=u;var d=r.alternate;d!==null&&(d.lanes|=u);for(var m=!1,v=r.return;v!==null;)v.childLanes|=u,d=v.alternate,d!==null&&(d.childLanes|=u),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(m=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,m&&o!==null&&(m=31-Ne(u),r=v.hiddenUpdates,d=r[m],d===null?r[m]=[o]:d.push(o),o.lane=u|536870912),v):null}function $f(r){if(50<Vu)throw Vu=0,Ry=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Pl={};function MO(r,o,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(r,o,u,d){return new MO(r,o,u,d)}function Tm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xr(r,o){var u=r.alternate;return u===null?(u=Di(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function zw(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Gf(r,o,u,d,m,v){var A=0;if(d=r,typeof r=="function")Tm(r)&&(A=1);else if(typeof r=="string")A=ON(r,u,_t.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case P:return r=Di(31,u,o,m),r.elementType=P,r.lanes=v,r;case T:return mo(u.children,m,v,o);case S:A=8,m|=24;break;case E:return r=Di(12,u,o,m|2),r.elementType=E,r.lanes=v,r;case F:return r=Di(13,u,o,m),r.elementType=F,r.lanes=v,r;case K:return r=Di(19,u,o,m),r.elementType=K,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:case B:A=10;break t;case V:A=9;break t;case W:A=11;break t;case M:A=14;break t;case D:A=16,d=null;break t}A=29,u=Error(i(130,r===null?"null":typeof r,"")),d=null}return o=Di(A,u,o,m),o.elementType=r,o.type=d,o.lanes=v,o}function mo(r,o,u,d){return r=Di(7,r,d,o),r.lanes=u,r}function Sm(r,o,u){return r=Di(6,r,null,o),r.lanes=u,r}function Em(r,o,u){return o=Di(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Ml=[],Il=0,Kf=null,Yf=0,Xi=[],Qi=0,yo=null,Ar=1,Rr="";function vo(r,o){Ml[Il++]=Yf,Ml[Il++]=Kf,Kf=r,Yf=o}function Hw(r,o,u){Xi[Qi++]=Ar,Xi[Qi++]=Rr,Xi[Qi++]=yo,yo=r;var d=Ar;r=Rr;var m=32-Ne(d)-1;d&=~(1<<m),u+=1;var v=32-Ne(o)+m;if(30<v){var A=m-m%5;v=(d&(1<<A)-1).toString(32),d>>=A,m-=A,Ar=1<<32-Ne(o)+m|u<<m|d,Rr=v+r}else Ar=1<<v|u<<m|d,Rr=r}function xm(r){r.return!==null&&(vo(r,1),Hw(r,1,0))}function Am(r){for(;r===Kf;)Kf=Ml[--Il],Ml[Il]=null,Yf=Ml[--Il],Ml[Il]=null;for(;r===yo;)yo=Xi[--Qi],Xi[Qi]=null,Rr=Xi[--Qi],Xi[Qi]=null,Ar=Xi[--Qi],Xi[Qi]=null}var oi=null,Qe=null,ve=!1,_o=null,js=!1,Rm=Error(i(519));function bo(r){var o=Error(i(418,""));throw gu(Ki(o,r)),Rm}function qw(r){var o=r.stateNode,u=r.type,d=r.memoizedProps;switch(o[yt]=r,o[Tt]=d,u){case"dialog":te("cancel",o),te("close",o);break;case"iframe":case"object":case"embed":te("load",o);break;case"video":case"audio":for(u=0;u<ju.length;u++)te(ju[u],o);break;case"source":te("error",o);break;case"img":case"image":case"link":te("error",o),te("load",o);break;case"details":te("toggle",o);break;case"input":te("invalid",o),io(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),yl(o);break;case"select":te("invalid",o);break;case"textarea":te("invalid",o),so(o,d.value,d.defaultValue,d.children),yl(o)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||oE(o.textContent,u)?(d.popover!=null&&(te("beforetoggle",o),te("toggle",o)),d.onScroll!=null&&te("scroll",o),d.onScrollEnd!=null&&te("scrollend",o),d.onClick!=null&&(o.onclick=Dd),o=!0):o=!1,o||bo(r)}function Ww(r){for(oi=r.return;oi;)switch(oi.tag){case 5:case 13:js=!1;return;case 27:case 3:js=!0;return;default:oi=oi.return}}function du(r){if(r!==oi)return!1;if(!ve)return Ww(r),ve=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||Hy(r.type,r.memoizedProps)),u=!u),u&&Qe&&bo(r),Ww(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(o===0){Qe=ps(r.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;r=r.nextSibling}Qe=null}}else o===27?(o=Qe,_a(r.type)?(r=Gy,Gy=null,Qe=r):Qe=o):Qe=oi?ps(r.stateNode.nextSibling):null;return!0}function pu(){Qe=oi=null,ve=!1}function $w(){var r=_o;return r!==null&&(yi===null?yi=r:yi.push.apply(yi,r),_o=null),r}function gu(r){_o===null?_o=[r]:_o.push(r)}var Cm=nt(null),wo=null,Cr=null;function sa(r,o,u){ut(Cm,o._currentValue),o._currentValue=u}function Dr(r){r._currentValue=Cm.current,pt(Cm)}function Dm(r,o,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===u)break;r=r.return}}function km(r,o,u,d){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var v=m.dependencies;if(v!==null){var A=m.child;v=v.firstContext;t:for(;v!==null;){var k=v;v=m;for(var H=0;H<o.length;H++)if(k.context===o[H]){v.lanes|=u,k=v.alternate,k!==null&&(k.lanes|=u),Dm(v.return,u,r),d||(A=null);break t}v=k.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(i(341));A.lanes|=u,v=A.alternate,v!==null&&(v.lanes|=u),Dm(A,u,r),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===r){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function mu(r,o,u,d){r=null;for(var m=o,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var k=m.type;Ci(m.pendingProps.value,A.value)||(r!==null?r.push(k):r=[k])}}else if(m===_e.current){if(A=m.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Wu):r=[Wu])}m=m.return}r!==null&&km(o,r,u,d),o.flags|=262144}function Xf(r){for(r=r.firstContext;r!==null;){if(!Ci(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function To(r){wo=r,Cr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Wn(r){return Gw(wo,r)}function Qf(r,o){return wo===null&&To(r),Gw(r,o)}function Gw(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Cr===null){if(r===null)throw Error(i(308));Cr=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Cr=Cr.next=o;return u}var IO=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},OO=e.unstable_scheduleCallback,NO=e.unstable_NormalPriority,bn={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pm(){return{controller:new IO,data:new Map,refCount:0}}function yu(r){r.refCount--,r.refCount===0&&OO(NO,function(){r.controller.abort()})}var vu=null,Mm=0,Ol=0,Nl=null;function LO(r,o){if(vu===null){var u=vu=[];Mm=0,Ol=Oy(),Nl={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Mm++,o.then(Kw,Kw),o}function Kw(){if(--Mm===0&&vu!==null){Nl!==null&&(Nl.status="fulfilled");var r=vu;vu=null,Ol=0,Nl=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function VO(r,o){var u=[],d={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var m=0;m<u.length;m++)(0,u[m])(o)},function(m){for(d.status="rejected",d.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),d}var Yw=$.S;$.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&LO(r,o),Yw!==null&&Yw(r,o)};var So=nt(null);function Im(){var r=So.current;return r!==null?r:Me.pooledCache}function Zf(r,o){o===null?ut(So,So.current):ut(So,o.pool)}function Xw(){var r=Im();return r===null?null:{parent:bn._currentValue,pool:r}}var _u=Error(i(460)),Qw=Error(i(474)),Jf=Error(i(542)),Om={then:function(){}};function Zw(r){return r=r.status,r==="fulfilled"||r==="rejected"}function td(){}function Jw(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(td,td),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,eT(r),r;default:if(typeof o.status=="string")o.then(td,td);else{if(r=Me,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=d}},function(d){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,eT(r),r}throw bu=o,_u}}var bu=null;function tT(){if(bu===null)throw Error(i(459));var r=bu;return bu=null,r}function eT(r){if(r===_u||r===Jf)throw Error(i(483))}var ra=!1;function Nm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lm(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function aa(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function oa(r,o,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Ee&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,o=$f(r),Fw(r,null,u),o}return Wf(r,d,o,u),$f(r)}function wu(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,en(r,u)}}function Vm(r,o){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?m=v=A:v=v.next=A,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var Bm=!1;function Tu(){if(Bm){var r=Nl;if(r!==null)throw r}}function Su(r,o,u,d){Bm=!1;var m=r.updateQueue;ra=!1;var v=m.firstBaseUpdate,A=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var H=k,Q=H.next;H.next=null,A===null?v=Q:A.next=Q,A=H;var st=r.alternate;st!==null&&(st=st.updateQueue,k=st.lastBaseUpdate,k!==A&&(k===null?st.firstBaseUpdate=Q:k.next=Q,st.lastBaseUpdate=H))}if(v!==null){var lt=m.baseState;A=0,st=Q=H=null,k=v;do{var J=k.lane&-536870913,tt=J!==k.lane;if(tt?(ce&J)===J:(d&J)===J){J!==0&&J===Ol&&(Bm=!0),st!==null&&(st=st.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});t:{var Vt=r,Pt=k;J=o;var ke=u;switch(Pt.tag){case 1:if(Vt=Pt.payload,typeof Vt=="function"){lt=Vt.call(ke,lt,J);break t}lt=Vt;break t;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=Pt.payload,J=typeof Vt=="function"?Vt.call(ke,lt,J):Vt,J==null)break t;lt=p({},lt,J);break t;case 2:ra=!0}}J=k.callback,J!==null&&(r.flags|=64,tt&&(r.flags|=8192),tt=m.callbacks,tt===null?m.callbacks=[J]:tt.push(J))}else tt={lane:J,tag:k.tag,payload:k.payload,callback:k.callback,next:null},st===null?(Q=st=tt,H=lt):st=st.next=tt,A|=J;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;tt=k,k=tt.next,tt.next=null,m.lastBaseUpdate=tt,m.shared.pending=null}}while(!0);st===null&&(H=lt),m.baseState=H,m.firstBaseUpdate=Q,m.lastBaseUpdate=st,v===null&&(m.shared.lanes=0),ga|=A,r.lanes=A,r.memoizedState=lt}}function nT(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function iT(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)nT(u[r],o)}var Ll=nt(null),ed=nt(0);function sT(r,o){r=Lr,ut(ed,r),ut(Ll,o),Lr=r|o.baseLanes}function jm(){ut(ed,Lr),ut(Ll,Ll.current)}function Um(){Lr=ed.current,pt(Ll),pt(ed)}var la=0,Yt=null,Ce=null,hn=null,nd=!1,Vl=!1,Eo=!1,id=0,Eu=0,Bl=null,BO=0;function nn(){throw Error(i(321))}function Fm(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Ci(r[u],o[u]))return!1;return!0}function zm(r,o,u,d,m,v){return la=v,Yt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=r===null||r.memoizedState===null?FT:zT,Eo=!1,v=u(d,m),Eo=!1,Vl&&(v=aT(o,u,d,m)),rT(r),v}function rT(r){$.H=cd;var o=Ce!==null&&Ce.next!==null;if(la=0,hn=Ce=Yt=null,nd=!1,Eu=0,Bl=null,o)throw Error(i(300));r===null||Cn||(r=r.dependencies,r!==null&&Xf(r)&&(Cn=!0))}function aT(r,o,u,d){Yt=r;var m=0;do{if(Vl&&(Bl=null),Eu=0,Vl=!1,25<=m)throw Error(i(301));if(m+=1,hn=Ce=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}$.H=WO,v=o(u,d)}while(Vl);return v}function jO(){var r=$.H,o=r.useState()[0];return o=typeof o.then=="function"?xu(o):o,r=r.useState()[0],(Ce!==null?Ce.memoizedState:null)!==r&&(Yt.flags|=1024),o}function Hm(){var r=id!==0;return id=0,r}function qm(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function Wm(r){if(nd){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}nd=!1}la=0,hn=Ce=Yt=null,Vl=!1,Eu=id=0,Bl=null}function gi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Yt.memoizedState=hn=r:hn=hn.next=r,hn}function fn(){if(Ce===null){var r=Yt.alternate;r=r!==null?r.memoizedState:null}else r=Ce.next;var o=hn===null?Yt.memoizedState:hn.next;if(o!==null)hn=o,Ce=r;else{if(r===null)throw Yt.alternate===null?Error(i(467)):Error(i(310));Ce=r,r={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},hn===null?Yt.memoizedState=hn=r:hn=hn.next=r}return hn}function $m(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xu(r){var o=Eu;return Eu+=1,Bl===null&&(Bl=[]),r=Jw(Bl,r,o),o=Yt,(hn===null?o.memoizedState:hn.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?FT:zT),r}function sd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return xu(r);if(r.$$typeof===B)return Wn(r)}throw Error(i(438,String(r)))}function Gm(r){var o=null,u=Yt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=Yt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=$m(),Yt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),d=0;d<r;d++)u[d]=j;return o.index++,u}function kr(r,o){return typeof o=="function"?o(r):o}function rd(r){var o=fn();return Km(o,Ce,r)}function Km(r,o,u){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var m=r.baseQueue,v=d.pending;if(v!==null){if(m!==null){var A=m.next;m.next=v.next,v.next=A}o.baseQueue=m=v,d.pending=null}if(v=r.baseState,m===null)r.memoizedState=v;else{o=m.next;var k=A=null,H=null,Q=o,st=!1;do{var lt=Q.lane&-536870913;if(lt!==Q.lane?(ce&lt)===lt:(la&lt)===lt){var J=Q.revertLane;if(J===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),lt===Ol&&(st=!0);else if((la&J)===J){Q=Q.next,J===Ol&&(st=!0);continue}else lt={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},H===null?(k=H=lt,A=v):H=H.next=lt,Yt.lanes|=J,ga|=J;lt=Q.action,Eo&&u(v,lt),v=Q.hasEagerState?Q.eagerState:u(v,lt)}else J={lane:lt,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},H===null?(k=H=J,A=v):H=H.next=J,Yt.lanes|=lt,ga|=lt;Q=Q.next}while(Q!==null&&Q!==o);if(H===null?A=v:H.next=k,!Ci(v,r.memoizedState)&&(Cn=!0,st&&(u=Nl,u!==null)))throw u;r.memoizedState=v,r.baseState=A,r.baseQueue=H,d.lastRenderedState=v}return m===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Ym(r){var o=fn(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var d=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var A=m=m.next;do v=r(v,A.action),A=A.next;while(A!==m);Ci(v,o.memoizedState)||(Cn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function oT(r,o,u){var d=Yt,m=fn(),v=ve;if(v){if(u===void 0)throw Error(i(407));u=u()}else u=o();var A=!Ci((Ce||m).memoizedState,u);A&&(m.memoizedState=u,Cn=!0),m=m.queue;var k=uT.bind(null,d,m,r);if(Au(2048,8,k,[r]),m.getSnapshot!==o||A||hn!==null&&hn.memoizedState.tag&1){if(d.flags|=2048,jl(9,ad(),cT.bind(null,d,m,u,o),null),Me===null)throw Error(i(349));v||(la&124)!==0||lT(d,o,u)}return u}function lT(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=Yt.updateQueue,o===null?(o=$m(),Yt.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function cT(r,o,u,d){o.value=u,o.getSnapshot=d,hT(o)&&fT(r)}function uT(r,o,u){return u(function(){hT(o)&&fT(r)})}function hT(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Ci(r,u)}catch{return!0}}function fT(r){var o=kl(r,2);o!==null&&Oi(o,r,2)}function Xm(r){var o=gi();if(typeof r=="function"){var u=r;if(r=u(),Eo){$e(!0);try{u()}finally{$e(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:r},o}function dT(r,o,u,d){return r.baseState=u,Km(r,Ce,typeof d=="function"?d:kr)}function UO(r,o,u,d,m){if(ld(r))throw Error(i(485));if(r=o.action,r!==null){var v={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};$.T!==null?u(!0):v.isTransition=!1,d(v),u=o.pending,u===null?(v.next=o.pending=v,pT(o,v)):(v.next=u.next,o.pending=u.next=v)}}function pT(r,o){var u=o.action,d=o.payload,m=r.state;if(o.isTransition){var v=$.T,A={};$.T=A;try{var k=u(m,d),H=$.S;H!==null&&H(A,k),gT(r,o,k)}catch(Q){Qm(r,o,Q)}finally{$.T=v}}else try{v=u(m,d),gT(r,o,v)}catch(Q){Qm(r,o,Q)}}function gT(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){mT(r,o,d)},function(d){return Qm(r,o,d)}):mT(r,o,u)}function mT(r,o,u){o.status="fulfilled",o.value=u,yT(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,pT(r,u)))}function Qm(r,o,u){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,yT(o),o=o.next;while(o!==d)}r.action=null}function yT(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function vT(r,o){return o}function _T(r,o){if(ve){var u=Me.formState;if(u!==null){t:{var d=Yt;if(ve){if(Qe){e:{for(var m=Qe,v=js;m.nodeType!==8;){if(!v){m=null;break e}if(m=ps(m.nextSibling),m===null){m=null;break e}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){Qe=ps(m.nextSibling),d=m.data==="F!";break t}}bo(d)}d=!1}d&&(o=u[0])}}return u=gi(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vT,lastRenderedState:o},u.queue=d,u=BT.bind(null,Yt,d),d.dispatch=u,d=Xm(!1),v=ny.bind(null,Yt,!1,d.queue),d=gi(),m={state:o,dispatch:null,action:r,pending:null},d.queue=m,u=UO.bind(null,Yt,m,v,u),m.dispatch=u,d.memoizedState=r,[o,u,!1]}function bT(r){var o=fn();return wT(o,Ce,r)}function wT(r,o,u){if(o=Km(r,o,vT)[0],r=rd(kr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=xu(o)}catch(A){throw A===_u?Jf:A}else d=o;o=fn();var m=o.queue,v=m.dispatch;return u!==o.memoizedState&&(Yt.flags|=2048,jl(9,ad(),FO.bind(null,m,u),null)),[d,v,r]}function FO(r,o){r.action=o}function TT(r){var o=fn(),u=Ce;if(u!==null)return wT(o,u,r);fn(),o=o.memoizedState,u=fn();var d=u.queue.dispatch;return u.memoizedState=r,[o,d,!1]}function jl(r,o,u,d){return r={tag:r,create:u,deps:d,inst:o,next:null},o=Yt.updateQueue,o===null&&(o=$m(),Yt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,o.lastEffect=r),r}function ad(){return{destroy:void 0,resource:void 0}}function ST(){return fn().memoizedState}function od(r,o,u,d){var m=gi();d=d===void 0?null:d,Yt.flags|=r,m.memoizedState=jl(1|o,ad(),u,d)}function Au(r,o,u,d){var m=fn();d=d===void 0?null:d;var v=m.memoizedState.inst;Ce!==null&&d!==null&&Fm(d,Ce.memoizedState.deps)?m.memoizedState=jl(o,v,u,d):(Yt.flags|=r,m.memoizedState=jl(1|o,v,u,d))}function ET(r,o){od(8390656,8,r,o)}function xT(r,o){Au(2048,8,r,o)}function AT(r,o){return Au(4,2,r,o)}function RT(r,o){return Au(4,4,r,o)}function CT(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function DT(r,o,u){u=u!=null?u.concat([r]):null,Au(4,4,CT.bind(null,o,r),u)}function Zm(){}function kT(r,o){var u=fn();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&Fm(o,d[1])?d[0]:(u.memoizedState=[r,o],r)}function PT(r,o){var u=fn();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&Fm(o,d[1]))return d[0];if(d=r(),Eo){$e(!0);try{r()}finally{$e(!1)}}return u.memoizedState=[d,o],d}function Jm(r,o,u){return u===void 0||(la&1073741824)!==0?r.memoizedState=o:(r.memoizedState=u,r=OS(),Yt.lanes|=r,ga|=r,u)}function MT(r,o,u,d){return Ci(u,o)?u:Ll.current!==null?(r=Jm(r,u,d),Ci(r,o)||(Cn=!0),r):(la&42)===0?(Cn=!0,r.memoizedState=u):(r=OS(),Yt.lanes|=r,ga|=r,o)}function IT(r,o,u,d,m){var v=Z.p;Z.p=v!==0&&8>v?v:8;var A=$.T,k={};$.T=k,ny(r,!1,o,u);try{var H=m(),Q=$.S;if(Q!==null&&Q(k,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var st=VO(H,d);Ru(r,o,st,Ii(r))}else Ru(r,o,d,Ii(r))}catch(lt){Ru(r,o,{then:function(){},status:"rejected",reason:lt},Ii())}finally{Z.p=v,$.T=A}}function zO(){}function ty(r,o,u,d){if(r.tag!==5)throw Error(i(476));var m=OT(r).queue;IT(r,m,o,ot,u===null?zO:function(){return NT(r),u(d)})}function OT(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:ot},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function NT(r){var o=OT(r).next.queue;Ru(r,o,{},Ii())}function ey(){return Wn(Wu)}function LT(){return fn().memoizedState}function VT(){return fn().memoizedState}function HO(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=Ii();r=aa(u);var d=oa(o,r,u);d!==null&&(Oi(d,o,u),wu(d,o,u)),o={cache:Pm()},r.payload=o;return}o=o.return}}function qO(r,o,u){var d=Ii();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},ld(r)?jT(o,u):(u=wm(r,o,u,d),u!==null&&(Oi(u,r,d),UT(u,o,d)))}function BT(r,o,u){var d=Ii();Ru(r,o,u,d)}function Ru(r,o,u,d){var m={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(ld(r))jT(o,m);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var A=o.lastRenderedState,k=v(A,u);if(m.hasEagerState=!0,m.eagerState=k,Ci(k,A))return Wf(r,o,m,0),Me===null&&qf(),!1}catch{}finally{}if(u=wm(r,o,m,d),u!==null)return Oi(u,r,d),UT(u,o,d),!0}return!1}function ny(r,o,u,d){if(d={lane:2,revertLane:Oy(),action:d,hasEagerState:!1,eagerState:null,next:null},ld(r)){if(o)throw Error(i(479))}else o=wm(r,u,d,2),o!==null&&Oi(o,r,2)}function ld(r){var o=r.alternate;return r===Yt||o!==null&&o===Yt}function jT(r,o){Vl=nd=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function UT(r,o,u){if((u&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,en(r,u)}}var cd={readContext:Wn,use:sd,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn},FT={readContext:Wn,use:sd,useCallback:function(r,o){return gi().memoizedState=[r,o===void 0?null:o],r},useContext:Wn,useEffect:ET,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,od(4194308,4,CT.bind(null,o,r),u)},useLayoutEffect:function(r,o){return od(4194308,4,r,o)},useInsertionEffect:function(r,o){od(4,2,r,o)},useMemo:function(r,o){var u=gi();o=o===void 0?null:o;var d=r();if(Eo){$e(!0);try{r()}finally{$e(!1)}}return u.memoizedState=[d,o],d},useReducer:function(r,o,u){var d=gi();if(u!==void 0){var m=u(o);if(Eo){$e(!0);try{u(o)}finally{$e(!1)}}}else m=o;return d.memoizedState=d.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},d.queue=r,r=r.dispatch=qO.bind(null,Yt,r),[d.memoizedState,r]},useRef:function(r){var o=gi();return r={current:r},o.memoizedState=r},useState:function(r){r=Xm(r);var o=r.queue,u=BT.bind(null,Yt,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:Zm,useDeferredValue:function(r,o){var u=gi();return Jm(u,r,o)},useTransition:function(){var r=Xm(!1);return r=IT.bind(null,Yt,r.queue,!0,!1),gi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var d=Yt,m=gi();if(ve){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),Me===null)throw Error(i(349));(ce&124)!==0||lT(d,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,ET(uT.bind(null,d,v,r),[r]),d.flags|=2048,jl(9,ad(),cT.bind(null,d,v,u,o),null),u},useId:function(){var r=gi(),o=Me.identifierPrefix;if(ve){var u=Rr,d=Ar;u=(d&~(1<<32-Ne(d)-1)).toString(32)+u,o="«"+o+"R"+u,u=id++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=BO++,o="«"+o+"r"+u.toString(32)+"»";return r.memoizedState=o},useHostTransitionStatus:ey,useFormState:_T,useActionState:_T,useOptimistic:function(r){var o=gi();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=ny.bind(null,Yt,!0,u),u.dispatch=o,[r,o]},useMemoCache:Gm,useCacheRefresh:function(){return gi().memoizedState=HO.bind(null,Yt)}},zT={readContext:Wn,use:sd,useCallback:kT,useContext:Wn,useEffect:xT,useImperativeHandle:DT,useInsertionEffect:AT,useLayoutEffect:RT,useMemo:PT,useReducer:rd,useRef:ST,useState:function(){return rd(kr)},useDebugValue:Zm,useDeferredValue:function(r,o){var u=fn();return MT(u,Ce.memoizedState,r,o)},useTransition:function(){var r=rd(kr)[0],o=fn().memoizedState;return[typeof r=="boolean"?r:xu(r),o]},useSyncExternalStore:oT,useId:LT,useHostTransitionStatus:ey,useFormState:bT,useActionState:bT,useOptimistic:function(r,o){var u=fn();return dT(u,Ce,r,o)},useMemoCache:Gm,useCacheRefresh:VT},WO={readContext:Wn,use:sd,useCallback:kT,useContext:Wn,useEffect:xT,useImperativeHandle:DT,useInsertionEffect:AT,useLayoutEffect:RT,useMemo:PT,useReducer:Ym,useRef:ST,useState:function(){return Ym(kr)},useDebugValue:Zm,useDeferredValue:function(r,o){var u=fn();return Ce===null?Jm(u,r,o):MT(u,Ce.memoizedState,r,o)},useTransition:function(){var r=Ym(kr)[0],o=fn().memoizedState;return[typeof r=="boolean"?r:xu(r),o]},useSyncExternalStore:oT,useId:LT,useHostTransitionStatus:ey,useFormState:TT,useActionState:TT,useOptimistic:function(r,o){var u=fn();return Ce!==null?dT(u,Ce,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Gm,useCacheRefresh:VT},Ul=null,Cu=0;function ud(r){var o=Cu;return Cu+=1,Ul===null&&(Ul=[]),Jw(Ul,r,o)}function Du(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function hd(r,o){throw o.$$typeof===y?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function HT(r){var o=r._init;return o(r._payload)}function qT(r){function o(G,q){if(r){var X=G.deletions;X===null?(G.deletions=[q],G.flags|=16):X.push(q)}}function u(G,q){if(!r)return null;for(;q!==null;)o(G,q),q=q.sibling;return null}function d(G){for(var q=new Map;G!==null;)G.key!==null?q.set(G.key,G):q.set(G.index,G),G=G.sibling;return q}function m(G,q){return G=xr(G,q),G.index=0,G.sibling=null,G}function v(G,q,X){return G.index=X,r?(X=G.alternate,X!==null?(X=X.index,X<q?(G.flags|=67108866,q):X):(G.flags|=67108866,q)):(G.flags|=1048576,q)}function A(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function k(G,q,X,at){return q===null||q.tag!==6?(q=Sm(X,G.mode,at),q.return=G,q):(q=m(q,X),q.return=G,q)}function H(G,q,X,at){var St=X.type;return St===T?st(G,q,X.props.children,at,X.key):q!==null&&(q.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===D&&HT(St)===q.type)?(q=m(q,X.props),Du(q,X),q.return=G,q):(q=Gf(X.type,X.key,X.props,null,G.mode,at),Du(q,X),q.return=G,q)}function Q(G,q,X,at){return q===null||q.tag!==4||q.stateNode.containerInfo!==X.containerInfo||q.stateNode.implementation!==X.implementation?(q=Em(X,G.mode,at),q.return=G,q):(q=m(q,X.children||[]),q.return=G,q)}function st(G,q,X,at,St){return q===null||q.tag!==7?(q=mo(X,G.mode,at,St),q.return=G,q):(q=m(q,X),q.return=G,q)}function lt(G,q,X){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Sm(""+q,G.mode,X),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return X=Gf(q.type,q.key,q.props,null,G.mode,X),Du(X,q),X.return=G,X;case b:return q=Em(q,G.mode,X),q.return=G,q;case D:var at=q._init;return q=at(q._payload),lt(G,q,X)}if(dt(q)||L(q))return q=mo(q,G.mode,X,null),q.return=G,q;if(typeof q.then=="function")return lt(G,ud(q),X);if(q.$$typeof===B)return lt(G,Qf(G,q),X);hd(G,q)}return null}function J(G,q,X,at){var St=q!==null?q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return St!==null?null:k(G,q,""+X,at);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return X.key===St?H(G,q,X,at):null;case b:return X.key===St?Q(G,q,X,at):null;case D:return St=X._init,X=St(X._payload),J(G,q,X,at)}if(dt(X)||L(X))return St!==null?null:st(G,q,X,at,null);if(typeof X.then=="function")return J(G,q,ud(X),at);if(X.$$typeof===B)return J(G,q,Qf(G,X),at);hd(G,X)}return null}function tt(G,q,X,at,St){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return G=G.get(X)||null,k(q,G,""+at,St);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case _:return G=G.get(at.key===null?X:at.key)||null,H(q,G,at,St);case b:return G=G.get(at.key===null?X:at.key)||null,Q(q,G,at,St);case D:var Qt=at._init;return at=Qt(at._payload),tt(G,q,X,at,St)}if(dt(at)||L(at))return G=G.get(X)||null,st(q,G,at,St,null);if(typeof at.then=="function")return tt(G,q,X,ud(at),St);if(at.$$typeof===B)return tt(G,q,X,Qf(q,at),St);hd(q,at)}return null}function Vt(G,q,X,at){for(var St=null,Qt=null,Rt=q,Nt=q=0,kn=null;Rt!==null&&Nt<X.length;Nt++){Rt.index>Nt?(kn=Rt,Rt=null):kn=Rt.sibling;var ge=J(G,Rt,X[Nt],at);if(ge===null){Rt===null&&(Rt=kn);break}r&&Rt&&ge.alternate===null&&o(G,Rt),q=v(ge,q,Nt),Qt===null?St=ge:Qt.sibling=ge,Qt=ge,Rt=kn}if(Nt===X.length)return u(G,Rt),ve&&vo(G,Nt),St;if(Rt===null){for(;Nt<X.length;Nt++)Rt=lt(G,X[Nt],at),Rt!==null&&(q=v(Rt,q,Nt),Qt===null?St=Rt:Qt.sibling=Rt,Qt=Rt);return ve&&vo(G,Nt),St}for(Rt=d(Rt);Nt<X.length;Nt++)kn=tt(Rt,G,Nt,X[Nt],at),kn!==null&&(r&&kn.alternate!==null&&Rt.delete(kn.key===null?Nt:kn.key),q=v(kn,q,Nt),Qt===null?St=kn:Qt.sibling=kn,Qt=kn);return r&&Rt.forEach(function(Ea){return o(G,Ea)}),ve&&vo(G,Nt),St}function Pt(G,q,X,at){if(X==null)throw Error(i(151));for(var St=null,Qt=null,Rt=q,Nt=q=0,kn=null,ge=X.next();Rt!==null&&!ge.done;Nt++,ge=X.next()){Rt.index>Nt?(kn=Rt,Rt=null):kn=Rt.sibling;var Ea=J(G,Rt,ge.value,at);if(Ea===null){Rt===null&&(Rt=kn);break}r&&Rt&&Ea.alternate===null&&o(G,Rt),q=v(Ea,q,Nt),Qt===null?St=Ea:Qt.sibling=Ea,Qt=Ea,Rt=kn}if(ge.done)return u(G,Rt),ve&&vo(G,Nt),St;if(Rt===null){for(;!ge.done;Nt++,ge=X.next())ge=lt(G,ge.value,at),ge!==null&&(q=v(ge,q,Nt),Qt===null?St=ge:Qt.sibling=ge,Qt=ge);return ve&&vo(G,Nt),St}for(Rt=d(Rt);!ge.done;Nt++,ge=X.next())ge=tt(Rt,G,Nt,ge.value,at),ge!==null&&(r&&ge.alternate!==null&&Rt.delete(ge.key===null?Nt:ge.key),q=v(ge,q,Nt),Qt===null?St=ge:Qt.sibling=ge,Qt=ge);return r&&Rt.forEach(function($N){return o(G,$N)}),ve&&vo(G,Nt),St}function ke(G,q,X,at){if(typeof X=="object"&&X!==null&&X.type===T&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case _:t:{for(var St=X.key;q!==null;){if(q.key===St){if(St=X.type,St===T){if(q.tag===7){u(G,q.sibling),at=m(q,X.props.children),at.return=G,G=at;break t}}else if(q.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===D&&HT(St)===q.type){u(G,q.sibling),at=m(q,X.props),Du(at,X),at.return=G,G=at;break t}u(G,q);break}else o(G,q);q=q.sibling}X.type===T?(at=mo(X.props.children,G.mode,at,X.key),at.return=G,G=at):(at=Gf(X.type,X.key,X.props,null,G.mode,at),Du(at,X),at.return=G,G=at)}return A(G);case b:t:{for(St=X.key;q!==null;){if(q.key===St)if(q.tag===4&&q.stateNode.containerInfo===X.containerInfo&&q.stateNode.implementation===X.implementation){u(G,q.sibling),at=m(q,X.children||[]),at.return=G,G=at;break t}else{u(G,q);break}else o(G,q);q=q.sibling}at=Em(X,G.mode,at),at.return=G,G=at}return A(G);case D:return St=X._init,X=St(X._payload),ke(G,q,X,at)}if(dt(X))return Vt(G,q,X,at);if(L(X)){if(St=L(X),typeof St!="function")throw Error(i(150));return X=St.call(X),Pt(G,q,X,at)}if(typeof X.then=="function")return ke(G,q,ud(X),at);if(X.$$typeof===B)return ke(G,q,Qf(G,X),at);hd(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,q!==null&&q.tag===6?(u(G,q.sibling),at=m(q,X),at.return=G,G=at):(u(G,q),at=Sm(X,G.mode,at),at.return=G,G=at),A(G)):u(G,q)}return function(G,q,X,at){try{Cu=0;var St=ke(G,q,X,at);return Ul=null,St}catch(Rt){if(Rt===_u||Rt===Jf)throw Rt;var Qt=Di(29,Rt,null,G.mode);return Qt.lanes=at,Qt.return=G,Qt}finally{}}}var Fl=qT(!0),WT=qT(!1),Zi=nt(null),Us=null;function ca(r){var o=r.alternate;ut(wn,wn.current&1),ut(Zi,r),Us===null&&(o===null||Ll.current!==null||o.memoizedState!==null)&&(Us=r)}function $T(r){if(r.tag===22){if(ut(wn,wn.current),ut(Zi,r),Us===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Us=r)}}else ua()}function ua(){ut(wn,wn.current),ut(Zi,Zi.current)}function Pr(r){pt(Zi),Us===r&&(Us=null),pt(wn)}var wn=nt(0);function fd(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||$y(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function iy(r,o,u,d){o=r.memoizedState,u=u(d,o),u=u==null?o:p({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var sy={enqueueSetState:function(r,o,u){r=r._reactInternals;var d=Ii(),m=aa(d);m.payload=o,u!=null&&(m.callback=u),o=oa(r,m,d),o!==null&&(Oi(o,r,d),wu(o,r,d))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var d=Ii(),m=aa(d);m.tag=1,m.payload=o,u!=null&&(m.callback=u),o=oa(r,m,d),o!==null&&(Oi(o,r,d),wu(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=Ii(),d=aa(u);d.tag=2,o!=null&&(d.callback=o),o=oa(r,d,u),o!==null&&(Oi(o,r,u),wu(o,r,u))}};function GT(r,o,u,d,m,v,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,A):o.prototype&&o.prototype.isPureReactComponent?!hu(u,d)||!hu(m,v):!0}function KT(r,o,u,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==r&&sy.enqueueReplaceState(o,o.state,null)}function xo(r,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(r=r.defaultProps){u===o&&(u=p({},u));for(var m in r)u[m]===void 0&&(u[m]=r[m])}return u}var dd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function YT(r){dd(r)}function XT(r){console.error(r)}function QT(r){dd(r)}function pd(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function ZT(r,o,u){try{var d=r.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function ry(r,o,u){return u=aa(u),u.tag=3,u.payload={element:null},u.callback=function(){pd(r,o)},u}function JT(r){return r=aa(r),r.tag=3,r}function tS(r,o,u,d){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var v=d.value;r.payload=function(){return m(v)},r.callback=function(){ZT(o,u,d)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){ZT(o,u,d),typeof m!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var k=d.stack;this.componentDidCatch(d.value,{componentStack:k!==null?k:""})})}function $O(r,o,u,d,m){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&mu(o,u,m,!0),u=Zi.current,u!==null){switch(u.tag){case 13:return Us===null?Dy():u.alternate===null&&Ze===0&&(Ze=3),u.flags&=-257,u.flags|=65536,u.lanes=m,d===Om?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),Py(r,d,m)),!1;case 22:return u.flags|=65536,d===Om?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),Py(r,d,m)),!1}throw Error(i(435,u.tag))}return Py(r,d,m),Dy(),!1}if(ve)return o=Zi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,d!==Rm&&(r=Error(i(422),{cause:d}),gu(Ki(r,u)))):(d!==Rm&&(o=Error(i(423),{cause:d}),gu(Ki(o,u))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,d=Ki(d,u),m=ry(r.stateNode,d,m),Vm(r,m),Ze!==4&&(Ze=2)),!1;var v=Error(i(520),{cause:d});if(v=Ki(v,u),Lu===null?Lu=[v]:Lu.push(v),Ze!==4&&(Ze=2),o===null)return!0;d=Ki(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=m&-m,u.lanes|=r,r=ry(u.stateNode,d,r),Vm(u,r),!1;case 1:if(o=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ma===null||!ma.has(v))))return u.flags|=65536,m&=-m,u.lanes|=m,m=JT(m),tS(m,r,u,d),Vm(u,m),!1}u=u.return}while(u!==null);return!1}var eS=Error(i(461)),Cn=!1;function Nn(r,o,u,d){o.child=r===null?WT(o,null,u,d):Fl(o,r.child,u,d)}function nS(r,o,u,d,m){u=u.render;var v=o.ref;if("ref"in d){var A={};for(var k in d)k!=="ref"&&(A[k]=d[k])}else A=d;return To(o),d=zm(r,o,u,A,v,m),k=Hm(),r!==null&&!Cn?(qm(r,o,m),Mr(r,o,m)):(ve&&k&&xm(o),o.flags|=1,Nn(r,o,d,m),o.child)}function iS(r,o,u,d,m){if(r===null){var v=u.type;return typeof v=="function"&&!Tm(v)&&v.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=v,sS(r,o,v,d,m)):(r=Gf(u.type,null,d,o,o.mode,m),r.ref=o.ref,r.return=o,o.child=r)}if(v=r.child,!dy(r,m)){var A=v.memoizedProps;if(u=u.compare,u=u!==null?u:hu,u(A,d)&&r.ref===o.ref)return Mr(r,o,m)}return o.flags|=1,r=xr(v,d),r.ref=o.ref,r.return=o,o.child=r}function sS(r,o,u,d,m){if(r!==null){var v=r.memoizedProps;if(hu(v,d)&&r.ref===o.ref)if(Cn=!1,o.pendingProps=d=v,dy(r,m))(r.flags&131072)!==0&&(Cn=!0);else return o.lanes=r.lanes,Mr(r,o,m)}return ay(r,o,u,d,m)}function rS(r,o,u){var d=o.pendingProps,m=d.children,v=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=v!==null?v.baseLanes|u:u,r!==null){for(m=o.child=r.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;o.childLanes=v&~d}else o.childLanes=0,o.child=null;return aS(r,o,d,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Zf(o,v!==null?v.cachePool:null),v!==null?sT(o,v):jm(),$T(o);else return o.lanes=o.childLanes=536870912,aS(r,o,v!==null?v.baseLanes|u:u,u)}else v!==null?(Zf(o,v.cachePool),sT(o,v),ua(),o.memoizedState=null):(r!==null&&Zf(o,null),jm(),ua());return Nn(r,o,m,u),o.child}function aS(r,o,u,d){var m=Im();return m=m===null?null:{parent:bn._currentValue,pool:m},o.memoizedState={baseLanes:u,cachePool:m},r!==null&&Zf(o,null),jm(),$T(o),r!==null&&mu(r,o,d,!0),null}function gd(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function ay(r,o,u,d,m){return To(o),u=zm(r,o,u,d,void 0,m),d=Hm(),r!==null&&!Cn?(qm(r,o,m),Mr(r,o,m)):(ve&&d&&xm(o),o.flags|=1,Nn(r,o,u,m),o.child)}function oS(r,o,u,d,m,v){return To(o),o.updateQueue=null,u=aT(o,d,u,m),rT(r),d=Hm(),r!==null&&!Cn?(qm(r,o,v),Mr(r,o,v)):(ve&&d&&xm(o),o.flags|=1,Nn(r,o,u,v),o.child)}function lS(r,o,u,d,m){if(To(o),o.stateNode===null){var v=Pl,A=u.contextType;typeof A=="object"&&A!==null&&(v=Wn(A)),v=new u(d,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=sy,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=d,v.state=o.memoizedState,v.refs={},Nm(o),A=u.contextType,v.context=typeof A=="object"&&A!==null?Wn(A):Pl,v.state=o.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(iy(o,u,A,d),v.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&sy.enqueueReplaceState(v,v.state,null),Su(o,d,v,m),Tu(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){v=o.stateNode;var k=o.memoizedProps,H=xo(u,k);v.props=H;var Q=v.context,st=u.contextType;A=Pl,typeof st=="object"&&st!==null&&(A=Wn(st));var lt=u.getDerivedStateFromProps;st=typeof lt=="function"||typeof v.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,st||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k||Q!==A)&&KT(o,v,d,A),ra=!1;var J=o.memoizedState;v.state=J,Su(o,d,v,m),Tu(),Q=o.memoizedState,k||J!==Q||ra?(typeof lt=="function"&&(iy(o,u,lt,d),Q=o.memoizedState),(H=ra||GT(o,u,H,d,J,Q,A))?(st||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=Q),v.props=d,v.state=Q,v.context=A,d=H):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{v=o.stateNode,Lm(r,o),A=o.memoizedProps,st=xo(u,A),v.props=st,lt=o.pendingProps,J=v.context,Q=u.contextType,H=Pl,typeof Q=="object"&&Q!==null&&(H=Wn(Q)),k=u.getDerivedStateFromProps,(Q=typeof k=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==lt||J!==H)&&KT(o,v,d,H),ra=!1,J=o.memoizedState,v.state=J,Su(o,d,v,m),Tu();var tt=o.memoizedState;A!==lt||J!==tt||ra||r!==null&&r.dependencies!==null&&Xf(r.dependencies)?(typeof k=="function"&&(iy(o,u,k,d),tt=o.memoizedState),(st=ra||GT(o,u,st,d,J,tt,H)||r!==null&&r.dependencies!==null&&Xf(r.dependencies))?(Q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,tt,H),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,tt,H)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=tt),v.props=d,v.state=tt,v.context=H,d=st):(typeof v.componentDidUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(o.flags|=1024),d=!1)}return v=d,gd(r,o),d=(o.flags&128)!==0,v||d?(v=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,r!==null&&d?(o.child=Fl(o,r.child,null,m),o.child=Fl(o,null,u,m)):Nn(r,o,u,m),o.memoizedState=v.state,r=o.child):r=Mr(r,o,m),r}function cS(r,o,u,d){return pu(),o.flags|=256,Nn(r,o,u,d),o.child}var oy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ly(r){return{baseLanes:r,cachePool:Xw()}}function cy(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=Ji),r}function uS(r,o,u){var d=o.pendingProps,m=!1,v=(o.flags&128)!==0,A;if((A=v)||(A=r!==null&&r.memoizedState===null?!1:(wn.current&2)!==0),A&&(m=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,r===null){if(ve){if(m?ca(o):ua(),ve){var k=Qe,H;if(H=k){t:{for(H=k,k=js;H.nodeType!==8;){if(!k){k=null;break t}if(H=ps(H.nextSibling),H===null){k=null;break t}}k=H}k!==null?(o.memoizedState={dehydrated:k,treeContext:yo!==null?{id:Ar,overflow:Rr}:null,retryLane:536870912,hydrationErrors:null},H=Di(18,null,null,0),H.stateNode=k,H.return=o,o.child=H,oi=o,Qe=null,H=!0):H=!1}H||bo(o)}if(k=o.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return $y(k)?o.lanes=32:o.lanes=536870912,null;Pr(o)}return k=d.children,d=d.fallback,m?(ua(),m=o.mode,k=md({mode:"hidden",children:k},m),d=mo(d,m,u,null),k.return=o,d.return=o,k.sibling=d,o.child=k,m=o.child,m.memoizedState=ly(u),m.childLanes=cy(r,A,u),o.memoizedState=oy,d):(ca(o),uy(o,k))}if(H=r.memoizedState,H!==null&&(k=H.dehydrated,k!==null)){if(v)o.flags&256?(ca(o),o.flags&=-257,o=hy(r,o,u)):o.memoizedState!==null?(ua(),o.child=r.child,o.flags|=128,o=null):(ua(),m=d.fallback,k=o.mode,d=md({mode:"visible",children:d.children},k),m=mo(m,k,u,null),m.flags|=2,d.return=o,m.return=o,d.sibling=m,o.child=d,Fl(o,r.child,null,u),d=o.child,d.memoizedState=ly(u),d.childLanes=cy(r,A,u),o.memoizedState=oy,o=m);else if(ca(o),$y(k)){if(A=k.nextSibling&&k.nextSibling.dataset,A)var Q=A.dgst;A=Q,d=Error(i(419)),d.stack="",d.digest=A,gu({value:d,source:null,stack:null}),o=hy(r,o,u)}else if(Cn||mu(r,o,u,!1),A=(u&r.childLanes)!==0,Cn||A){if(A=Me,A!==null&&(d=u&-u,d=(d&42)!==0?1:bt(d),d=(d&(A.suspendedLanes|u))!==0?0:d,d!==0&&d!==H.retryLane))throw H.retryLane=d,kl(r,d),Oi(A,r,d),eS;k.data==="$?"||Dy(),o=hy(r,o,u)}else k.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=H.treeContext,Qe=ps(k.nextSibling),oi=o,ve=!0,_o=null,js=!1,r!==null&&(Xi[Qi++]=Ar,Xi[Qi++]=Rr,Xi[Qi++]=yo,Ar=r.id,Rr=r.overflow,yo=o),o=uy(o,d.children),o.flags|=4096);return o}return m?(ua(),m=d.fallback,k=o.mode,H=r.child,Q=H.sibling,d=xr(H,{mode:"hidden",children:d.children}),d.subtreeFlags=H.subtreeFlags&65011712,Q!==null?m=xr(Q,m):(m=mo(m,k,u,null),m.flags|=2),m.return=o,d.return=o,d.sibling=m,o.child=d,d=m,m=o.child,k=r.child.memoizedState,k===null?k=ly(u):(H=k.cachePool,H!==null?(Q=bn._currentValue,H=H.parent!==Q?{parent:Q,pool:Q}:H):H=Xw(),k={baseLanes:k.baseLanes|u,cachePool:H}),m.memoizedState=k,m.childLanes=cy(r,A,u),o.memoizedState=oy,d):(ca(o),u=r.child,r=u.sibling,u=xr(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,r!==null&&(A=o.deletions,A===null?(o.deletions=[r],o.flags|=16):A.push(r)),o.child=u,o.memoizedState=null,u)}function uy(r,o){return o=md({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function md(r,o){return r=Di(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function hy(r,o,u){return Fl(o,r.child,null,u),r=uy(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function hS(r,o,u){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),Dm(r.return,o,u)}function fy(r,o,u,d,m){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=m)}function fS(r,o,u){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(Nn(r,o,d.children,u),d=wn.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&hS(r,u,o);else if(r.tag===19)hS(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(ut(wn,d),m){case"forwards":for(u=o.child,m=null;u!==null;)r=u.alternate,r!==null&&fd(r)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),fy(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(r=m.alternate,r!==null&&fd(r)===null){o.child=m;break}r=m.sibling,m.sibling=u,u=m,m=r}fy(o,!0,u,null,v);break;case"together":fy(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Mr(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),ga|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(mu(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,u=xr(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=xr(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function dy(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Xf(r)))}function GO(r,o,u){switch(o.tag){case 3:Ut(o,o.stateNode.containerInfo),sa(o,bn,r.memoizedState.cache),pu();break;case 27:case 5:Be(o);break;case 4:Ut(o,o.stateNode.containerInfo);break;case 10:sa(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(ca(o),o.flags|=128,null):(u&o.child.childLanes)!==0?uS(r,o,u):(ca(o),r=Mr(r,o,u),r!==null?r.sibling:null);ca(o);break;case 19:var m=(r.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(mu(r,o,u,!1),d=(u&o.childLanes)!==0),m){if(d)return fS(r,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ut(wn,wn.current),d)break;return null;case 22:case 23:return o.lanes=0,rS(r,o,u);case 24:sa(o,bn,r.memoizedState.cache)}return Mr(r,o,u)}function dS(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)Cn=!0;else{if(!dy(r,u)&&(o.flags&128)===0)return Cn=!1,GO(r,o,u);Cn=(r.flags&131072)!==0}else Cn=!1,ve&&(o.flags&1048576)!==0&&Hw(o,Yf,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var d=o.elementType,m=d._init;if(d=m(d._payload),o.type=d,typeof d=="function")Tm(d)?(r=xo(d,r),o.tag=1,o=lS(null,o,d,r,u)):(o.tag=0,o=ay(null,o,d,r,u));else{if(d!=null){if(m=d.$$typeof,m===W){o.tag=11,o=nS(null,o,d,r,u);break t}else if(m===M){o.tag=14,o=iS(null,o,d,r,u);break t}}throw o=rt(d)||d,Error(i(306,o,""))}}return o;case 0:return ay(r,o,o.type,o.pendingProps,u);case 1:return d=o.type,m=xo(d,o.pendingProps),lS(r,o,d,m,u);case 3:t:{if(Ut(o,o.stateNode.containerInfo),r===null)throw Error(i(387));d=o.pendingProps;var v=o.memoizedState;m=v.element,Lm(r,o),Su(o,d,null,u);var A=o.memoizedState;if(d=A.cache,sa(o,bn,d),d!==v.cache&&km(o,[bn],u,!0),Tu(),d=A.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=cS(r,o,d,u);break t}else if(d!==m){m=Ki(Error(i(424)),o),gu(m),o=cS(r,o,d,u);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Qe=ps(r.firstChild),oi=o,ve=!0,_o=null,js=!0,u=WT(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(pu(),d===m){o=Mr(r,o,u);break t}Nn(r,o,d,u)}o=o.child}return o;case 26:return gd(r,o),r===null?(u=yE(o.type,null,o.pendingProps,null))?o.memoizedState=u:ve||(u=o.type,r=o.pendingProps,d=kd(xt.current).createElement(u),d[yt]=o,d[Tt]=r,Vn(d,u,r),Ue(d),o.stateNode=d):o.memoizedState=yE(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Be(o),r===null&&ve&&(d=o.stateNode=pE(o.type,o.pendingProps,xt.current),oi=o,js=!0,m=Qe,_a(o.type)?(Gy=m,Qe=ps(d.firstChild)):Qe=m),Nn(r,o,o.pendingProps.children,u),gd(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&ve&&((m=d=Qe)&&(d=wN(d,o.type,o.pendingProps,js),d!==null?(o.stateNode=d,oi=o,Qe=ps(d.firstChild),js=!1,m=!0):m=!1),m||bo(o)),Be(o),m=o.type,v=o.pendingProps,A=r!==null?r.memoizedProps:null,d=v.children,Hy(m,v)?d=null:A!==null&&Hy(m,A)&&(o.flags|=32),o.memoizedState!==null&&(m=zm(r,o,jO,null,null,u),Wu._currentValue=m),gd(r,o),Nn(r,o,d,u),o.child;case 6:return r===null&&ve&&((r=u=Qe)&&(u=TN(u,o.pendingProps,js),u!==null?(o.stateNode=u,oi=o,Qe=null,r=!0):r=!1),r||bo(o)),null;case 13:return uS(r,o,u);case 4:return Ut(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=Fl(o,null,d,u):Nn(r,o,d,u),o.child;case 11:return nS(r,o,o.type,o.pendingProps,u);case 7:return Nn(r,o,o.pendingProps,u),o.child;case 8:return Nn(r,o,o.pendingProps.children,u),o.child;case 12:return Nn(r,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,sa(o,o.type,d.value),Nn(r,o,d.children,u),o.child;case 9:return m=o.type._context,d=o.pendingProps.children,To(o),m=Wn(m),d=d(m),o.flags|=1,Nn(r,o,d,u),o.child;case 14:return iS(r,o,o.type,o.pendingProps,u);case 15:return sS(r,o,o.type,o.pendingProps,u);case 19:return fS(r,o,u);case 31:return d=o.pendingProps,u=o.mode,d={mode:d.mode,children:d.children},r===null?(u=md(d,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=xr(r.child,d),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return rS(r,o,u);case 24:return To(o),d=Wn(bn),r===null?(m=Im(),m===null&&(m=Me,v=Pm(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=u),m=v),o.memoizedState={parent:d,cache:m},Nm(o),sa(o,bn,m)):((r.lanes&u)!==0&&(Lm(r,o),Su(o,null,null,u),Tu()),m=r.memoizedState,v=o.memoizedState,m.parent!==d?(m={parent:d,cache:d},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),sa(o,bn,d)):(d=v.cache,sa(o,bn,d),d!==m.cache&&km(o,[bn],u,!0))),Nn(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Ir(r){r.flags|=4}function pS(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!TE(o)){if(o=Zi.current,o!==null&&((ce&4194048)===ce?Us!==null:(ce&62914560)!==ce&&(ce&536870912)===0||o!==Us))throw bu=Om,Qw;r.flags|=8192}}function yd(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?se():536870912,r.lanes|=o,Wl|=o)}function ku(r,o){if(!ve)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Ge(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(o)for(var m=r.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=u,o}function KO(r,o,u){var d=o.pendingProps;switch(Am(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(o),null;case 1:return Ge(o),null;case 3:return u=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Dr(bn),gn(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(du(o)?Ir(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,$w())),Ge(o),null;case 26:return u=o.memoizedState,r===null?(Ir(o),u!==null?(Ge(o),pS(o,u)):(Ge(o),o.flags&=-16777217)):u?u!==r.memoizedState?(Ir(o),Ge(o),pS(o,u)):(Ge(o),o.flags&=-16777217):(r.memoizedProps!==d&&Ir(o),Ge(o),o.flags&=-16777217),null;case 27:mn(o),u=xt.current;var m=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Ir(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Ge(o),null}r=_t.current,du(o)?qw(o):(r=pE(m,d,u),o.stateNode=r,Ir(o))}return Ge(o),null;case 5:if(mn(o),u=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Ir(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Ge(o),null}if(r=_t.current,du(o))qw(o);else{switch(m=kd(xt.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?m.createElement(u,{is:d.is}):m.createElement(u)}}r[yt]=o,r[Tt]=d;t:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break t;for(;m.sibling===null;){if(m.return===null||m.return===o)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=r;t:switch(Vn(r,u,d),u){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Ir(o)}}return Ge(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&Ir(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(r=xt.current,du(o)){if(r=o.stateNode,u=o.memoizedProps,d=null,m=oi,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}r[yt]=o,r=!!(r.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||oE(r.nodeValue,u)),r||bo(o)}else r=kd(r).createTextNode(d),r[yt]=o,o.stateNode=r}return Ge(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=du(o),d!==null&&d.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[yt]=o}else pu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ge(o),m=!1}else m=$w(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Pr(o),o):(Pr(o),null)}if(Pr(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=d!==null,r=r!==null&&r.memoizedState!==null,u){d=o.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==m&&(d.flags|=2048)}return u!==r&&u&&(o.child.flags|=8192),yd(o,o.updateQueue),Ge(o),null;case 4:return gn(),r===null&&By(o.stateNode.containerInfo),Ge(o),null;case 10:return Dr(o.type),Ge(o),null;case 19:if(pt(wn),m=o.memoizedState,m===null)return Ge(o),null;if(d=(o.flags&128)!==0,v=m.rendering,v===null)if(d)ku(m,!1);else{if(Ze!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(v=fd(r),v!==null){for(o.flags|=128,ku(m,!1),r=v.updateQueue,o.updateQueue=r,yd(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)zw(u,r),u=u.sibling;return ut(wn,wn.current&1|2),o.child}r=r.sibling}m.tail!==null&&qe()>bd&&(o.flags|=128,d=!0,ku(m,!1),o.lanes=4194304)}else{if(!d)if(r=fd(v),r!==null){if(o.flags|=128,d=!0,r=r.updateQueue,o.updateQueue=r,yd(o,r),ku(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!ve)return Ge(o),null}else 2*qe()-m.renderingStartTime>bd&&u!==536870912&&(o.flags|=128,d=!0,ku(m,!1),o.lanes=4194304);m.isBackwards?(v.sibling=o.child,o.child=v):(r=m.last,r!==null?r.sibling=v:o.child=v,m.last=v)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=qe(),o.sibling=null,r=wn.current,ut(wn,d?r&1|2:r&1),o):(Ge(o),null);case 22:case 23:return Pr(o),Um(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(Ge(o),o.subtreeFlags&6&&(o.flags|=8192)):Ge(o),u=o.updateQueue,u!==null&&yd(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),r!==null&&pt(So),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Dr(bn),Ge(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function YO(r,o){switch(Am(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Dr(bn),gn(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return mn(o),null;case 13:if(Pr(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));pu()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return pt(wn),null;case 4:return gn(),null;case 10:return Dr(o.type),null;case 22:case 23:return Pr(o),Um(),r!==null&&pt(So),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Dr(bn),null;case 25:return null;default:return null}}function gS(r,o){switch(Am(o),o.tag){case 3:Dr(bn),gn();break;case 26:case 27:case 5:mn(o);break;case 4:gn();break;case 13:Pr(o);break;case 19:pt(wn);break;case 10:Dr(o.type);break;case 22:case 23:Pr(o),Um(),r!==null&&pt(So);break;case 24:Dr(bn)}}function Pu(r,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&r)===r){d=void 0;var v=u.create,A=u.inst;d=v(),A.destroy=d}u=u.next}while(u!==m)}}catch(k){Pe(o,o.return,k)}}function ha(r,o,u){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var v=m.next;d=v;do{if((d.tag&r)===r){var A=d.inst,k=A.destroy;if(k!==void 0){A.destroy=void 0,m=o;var H=u,Q=k;try{Q()}catch(st){Pe(m,H,st)}}}d=d.next}while(d!==v)}}catch(st){Pe(o,o.return,st)}}function mS(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{iT(o,u)}catch(d){Pe(r,r.return,d)}}}function yS(r,o,u){u.props=xo(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(d){Pe(r,o,d)}}function Mu(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof u=="function"?r.refCleanup=u(d):u.current=d}}catch(m){Pe(r,o,m)}}function Fs(r,o){var u=r.ref,d=r.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(m){Pe(r,o,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){Pe(r,o,m)}else u.current=null}function vS(r){var o=r.type,u=r.memoizedProps,d=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break t;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(m){Pe(r,r.return,m)}}function py(r,o,u){try{var d=r.stateNode;mN(d,r.type,u,o),d[Tt]=o}catch(m){Pe(r,r.return,m)}}function _S(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&_a(r.type)||r.tag===4}function gy(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||_S(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&_a(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function my(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Dd));else if(d!==4&&(d===27&&_a(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(my(r,o,u),r=r.sibling;r!==null;)my(r,o,u),r=r.sibling}function vd(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(d!==4&&(d===27&&_a(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(vd(r,o,u),r=r.sibling;r!==null;)vd(r,o,u),r=r.sibling}function bS(r){var o=r.stateNode,u=r.memoizedProps;try{for(var d=r.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);Vn(o,d,u),o[yt]=r,o[Tt]=u}catch(v){Pe(r,r.return,v)}}var Or=!1,sn=!1,yy=!1,wS=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function XO(r,o){if(r=r.containerInfo,Fy=Ld,r=Mw(r),gm(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break t}var A=0,k=-1,H=-1,Q=0,st=0,lt=r,J=null;e:for(;;){for(var tt;lt!==u||m!==0&&lt.nodeType!==3||(k=A+m),lt!==v||d!==0&&lt.nodeType!==3||(H=A+d),lt.nodeType===3&&(A+=lt.nodeValue.length),(tt=lt.firstChild)!==null;)J=lt,lt=tt;for(;;){if(lt===r)break e;if(J===u&&++Q===m&&(k=A),J===v&&++st===d&&(H=A),(tt=lt.nextSibling)!==null)break;lt=J,J=lt.parentNode}lt=tt}u=k===-1||H===-1?null:{start:k,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(zy={focusedElem:r,selectionRange:u},Ld=!1,Dn=o;Dn!==null;)if(o=Dn,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,Dn=r;else for(;Dn!==null;){switch(o=Dn,v=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,u=o,m=v.memoizedProps,v=v.memoizedState,d=u.stateNode;try{var Vt=xo(u.type,m,u.elementType===u.type);r=d.getSnapshotBeforeUpdate(Vt,v),d.__reactInternalSnapshotBeforeUpdate=r}catch(Pt){Pe(u,u.return,Pt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)Wy(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Wy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,Dn=r;break}Dn=o.return}}function TS(r,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:fa(r,u),d&4&&Pu(5,u);break;case 1:if(fa(r,u),d&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(A){Pe(u,u.return,A)}else{var m=xo(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(m,o,r.__reactInternalSnapshotBeforeUpdate)}catch(A){Pe(u,u.return,A)}}d&64&&mS(u),d&512&&Mu(u,u.return);break;case 3:if(fa(r,u),d&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{iT(r,o)}catch(A){Pe(u,u.return,A)}}break;case 27:o===null&&d&4&&bS(u);case 26:case 5:fa(r,u),o===null&&d&4&&vS(u),d&512&&Mu(u,u.return);break;case 12:fa(r,u);break;case 13:fa(r,u),d&4&&xS(r,u),d&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=rN.bind(null,u),SN(r,u))));break;case 22:if(d=u.memoizedState!==null||Or,!d){o=o!==null&&o.memoizedState!==null||sn,m=Or;var v=sn;Or=d,(sn=o)&&!v?da(r,u,(u.subtreeFlags&8772)!==0):fa(r,u),Or=m,sn=v}break;case 30:break;default:fa(r,u)}}function SS(r){var o=r.alternate;o!==null&&(r.alternate=null,SS(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&he(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Fe=null,mi=!1;function Nr(r,o,u){for(u=u.child;u!==null;)ES(r,o,u),u=u.sibling}function ES(r,o,u){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ae,u)}catch{}switch(u.tag){case 26:sn||Fs(u,o),Nr(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:sn||Fs(u,o);var d=Fe,m=mi;_a(u.type)&&(Fe=u.stateNode,mi=!1),Nr(r,o,u),Fu(u.stateNode),Fe=d,mi=m;break;case 5:sn||Fs(u,o);case 6:if(d=Fe,m=mi,Fe=null,Nr(r,o,u),Fe=d,mi=m,Fe!==null)if(mi)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(u.stateNode)}catch(v){Pe(u,o,v)}else try{Fe.removeChild(u.stateNode)}catch(v){Pe(u,o,v)}break;case 18:Fe!==null&&(mi?(r=Fe,fE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),Yu(r)):fE(Fe,u.stateNode));break;case 4:d=Fe,m=mi,Fe=u.stateNode.containerInfo,mi=!0,Nr(r,o,u),Fe=d,mi=m;break;case 0:case 11:case 14:case 15:sn||ha(2,u,o),sn||ha(4,u,o),Nr(r,o,u);break;case 1:sn||(Fs(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&yS(u,o,d)),Nr(r,o,u);break;case 21:Nr(r,o,u);break;case 22:sn=(d=sn)||u.memoizedState!==null,Nr(r,o,u),sn=d;break;default:Nr(r,o,u)}}function xS(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Yu(r)}catch(u){Pe(o,o.return,u)}}function QO(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new wS),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new wS),o;default:throw Error(i(435,r.tag))}}function vy(r,o){var u=QO(r);o.forEach(function(d){var m=aN.bind(null,r,d);u.has(d)||(u.add(d),d.then(m,m))})}function ki(r,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d],v=r,A=o,k=A;t:for(;k!==null;){switch(k.tag){case 27:if(_a(k.type)){Fe=k.stateNode,mi=!1;break t}break;case 5:Fe=k.stateNode,mi=!1;break t;case 3:case 4:Fe=k.stateNode.containerInfo,mi=!0;break t}k=k.return}if(Fe===null)throw Error(i(160));ES(v,A,m),Fe=null,mi=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)AS(o,r),o=o.sibling}var ds=null;function AS(r,o){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ki(o,r),Pi(r),d&4&&(ha(3,r,r.return),Pu(3,r),ha(5,r,r.return));break;case 1:ki(o,r),Pi(r),d&512&&(sn||u===null||Fs(u,u.return)),d&64&&Or&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var m=ds;if(ki(o,r),Pi(r),d&512&&(sn||u===null||Fs(u,u.return)),d&4){var v=u!==null?u.memoizedState:null;if(d=r.memoizedState,u===null)if(d===null)if(r.stateNode===null){t:{d=r.type,u=r.memoizedProps,m=m.ownerDocument||m;e:switch(d){case"title":v=m.getElementsByTagName("title")[0],(!v||v[cn]||v[yt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(d),m.head.insertBefore(v,m.querySelector("head > title"))),Vn(v,d,u),v[yt]=r,Ue(v),d=v;break t;case"link":var A=bE("link","href",m).get(d+(u.href||""));if(A){for(var k=0;k<A.length;k++)if(v=A[k],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(k,1);break e}}v=m.createElement(d),Vn(v,d,u),m.head.appendChild(v);break;case"meta":if(A=bE("meta","content",m).get(d+(u.content||""))){for(k=0;k<A.length;k++)if(v=A[k],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(k,1);break e}}v=m.createElement(d),Vn(v,d,u),m.head.appendChild(v);break;default:throw Error(i(468,d))}v[yt]=r,Ue(v),d=v}r.stateNode=d}else wE(m,r.type,r.stateNode);else r.stateNode=_E(m,d,r.memoizedProps);else v!==d?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,d===null?wE(m,r.type,r.stateNode):_E(m,d,r.memoizedProps)):d===null&&r.stateNode!==null&&py(r,r.memoizedProps,u.memoizedProps)}break;case 27:ki(o,r),Pi(r),d&512&&(sn||u===null||Fs(u,u.return)),u!==null&&d&4&&py(r,r.memoizedProps,u.memoizedProps);break;case 5:if(ki(o,r),Pi(r),d&512&&(sn||u===null||Fs(u,u.return)),r.flags&32){m=r.stateNode;try{qi(m,"")}catch(tt){Pe(r,r.return,tt)}}d&4&&r.stateNode!=null&&(m=r.memoizedProps,py(r,m,u!==null?u.memoizedProps:m)),d&1024&&(yy=!0);break;case 6:if(ki(o,r),Pi(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,u=r.stateNode;try{u.nodeValue=d}catch(tt){Pe(r,r.return,tt)}}break;case 3:if(Id=null,m=ds,ds=Pd(o.containerInfo),ki(o,r),ds=m,Pi(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Yu(o.containerInfo)}catch(tt){Pe(r,r.return,tt)}yy&&(yy=!1,RS(r));break;case 4:d=ds,ds=Pd(r.stateNode.containerInfo),ki(o,r),Pi(r),ds=d;break;case 12:ki(o,r),Pi(r);break;case 13:ki(o,r),Pi(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ey=qe()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,vy(r,d)));break;case 22:m=r.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,Q=Or,st=sn;if(Or=Q||m,sn=st||H,ki(o,r),sn=st,Or=Q,Pi(r),d&8192)t:for(o=r.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(u===null||H||Or||sn||Ao(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){H=u=o;try{if(v=H.stateNode,m)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{k=H.stateNode;var lt=H.memoizedProps.style,J=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;k.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(tt){Pe(H,H.return,tt)}}}else if(o.tag===6){if(u===null){H=o;try{H.stateNode.nodeValue=m?"":H.memoizedProps}catch(tt){Pe(H,H.return,tt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,vy(r,u))));break;case 19:ki(o,r),Pi(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,vy(r,d)));break;case 30:break;case 21:break;default:ki(o,r),Pi(r)}}function Pi(r){var o=r.flags;if(o&2){try{for(var u,d=r.return;d!==null;){if(_S(d)){u=d;break}d=d.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var m=u.stateNode,v=gy(r);vd(r,v,m);break;case 5:var A=u.stateNode;u.flags&32&&(qi(A,""),u.flags&=-33);var k=gy(r);vd(r,k,A);break;case 3:case 4:var H=u.stateNode.containerInfo,Q=gy(r);my(r,Q,H);break;default:throw Error(i(161))}}catch(st){Pe(r,r.return,st)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function RS(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;RS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function fa(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)TS(r,o.alternate,o),o=o.sibling}function Ao(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:ha(4,o,o.return),Ao(o);break;case 1:Fs(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&yS(o,o.return,u),Ao(o);break;case 27:Fu(o.stateNode);case 26:case 5:Fs(o,o.return),Ao(o);break;case 22:o.memoizedState===null&&Ao(o);break;case 30:Ao(o);break;default:Ao(o)}r=r.sibling}}function da(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,m=r,v=o,A=v.flags;switch(v.tag){case 0:case 11:case 15:da(m,v,u),Pu(4,v);break;case 1:if(da(m,v,u),d=v,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){Pe(d,d.return,Q)}if(d=v,m=d.updateQueue,m!==null){var k=d.stateNode;try{var H=m.shared.hiddenCallbacks;if(H!==null)for(m.shared.hiddenCallbacks=null,m=0;m<H.length;m++)nT(H[m],k)}catch(Q){Pe(d,d.return,Q)}}u&&A&64&&mS(v),Mu(v,v.return);break;case 27:bS(v);case 26:case 5:da(m,v,u),u&&d===null&&A&4&&vS(v),Mu(v,v.return);break;case 12:da(m,v,u);break;case 13:da(m,v,u),u&&A&4&&xS(m,v);break;case 22:v.memoizedState===null&&da(m,v,u),Mu(v,v.return);break;case 30:break;default:da(m,v,u)}o=o.sibling}}function _y(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&yu(u))}function by(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&yu(r))}function zs(r,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)CS(r,o,u,d),o=o.sibling}function CS(r,o,u,d){var m=o.flags;switch(o.tag){case 0:case 11:case 15:zs(r,o,u,d),m&2048&&Pu(9,o);break;case 1:zs(r,o,u,d);break;case 3:zs(r,o,u,d),m&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&yu(r)));break;case 12:if(m&2048){zs(r,o,u,d),r=o.stateNode;try{var v=o.memoizedProps,A=v.id,k=v.onPostCommit;typeof k=="function"&&k(A,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){Pe(o,o.return,H)}}else zs(r,o,u,d);break;case 13:zs(r,o,u,d);break;case 23:break;case 22:v=o.stateNode,A=o.alternate,o.memoizedState!==null?v._visibility&2?zs(r,o,u,d):Iu(r,o):v._visibility&2?zs(r,o,u,d):(v._visibility|=2,zl(r,o,u,d,(o.subtreeFlags&10256)!==0)),m&2048&&_y(A,o);break;case 24:zs(r,o,u,d),m&2048&&by(o.alternate,o);break;default:zs(r,o,u,d)}}function zl(r,o,u,d,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=r,A=o,k=u,H=d,Q=A.flags;switch(A.tag){case 0:case 11:case 15:zl(v,A,k,H,m),Pu(8,A);break;case 23:break;case 22:var st=A.stateNode;A.memoizedState!==null?st._visibility&2?zl(v,A,k,H,m):Iu(v,A):(st._visibility|=2,zl(v,A,k,H,m)),m&&Q&2048&&_y(A.alternate,A);break;case 24:zl(v,A,k,H,m),m&&Q&2048&&by(A.alternate,A);break;default:zl(v,A,k,H,m)}o=o.sibling}}function Iu(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,d=o,m=d.flags;switch(d.tag){case 22:Iu(u,d),m&2048&&_y(d.alternate,d);break;case 24:Iu(u,d),m&2048&&by(d.alternate,d);break;default:Iu(u,d)}o=o.sibling}}var Ou=8192;function Hl(r){if(r.subtreeFlags&Ou)for(r=r.child;r!==null;)DS(r),r=r.sibling}function DS(r){switch(r.tag){case 26:Hl(r),r.flags&Ou&&r.memoizedState!==null&&LN(ds,r.memoizedState,r.memoizedProps);break;case 5:Hl(r);break;case 3:case 4:var o=ds;ds=Pd(r.stateNode.containerInfo),Hl(r),ds=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=Ou,Ou=16777216,Hl(r),Ou=o):Hl(r));break;default:Hl(r)}}function kS(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Nu(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];Dn=d,MS(d,r)}kS(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)PS(r),r=r.sibling}function PS(r){switch(r.tag){case 0:case 11:case 15:Nu(r),r.flags&2048&&ha(9,r,r.return);break;case 3:Nu(r);break;case 12:Nu(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,_d(r)):Nu(r);break;default:Nu(r)}}function _d(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];Dn=d,MS(d,r)}kS(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:ha(8,o,o.return),_d(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,_d(o));break;default:_d(o)}r=r.sibling}}function MS(r,o){for(;Dn!==null;){var u=Dn;switch(u.tag){case 0:case 11:case 15:ha(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:yu(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,Dn=d;else t:for(u=r;Dn!==null;){d=Dn;var m=d.sibling,v=d.return;if(SS(d),d===u){Dn=null;break t}if(m!==null){m.return=v,Dn=m;break t}Dn=v}}}var ZO={getCacheForType:function(r){var o=Wn(bn),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u}},JO=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Me=null,Jt=null,ce=0,xe=0,Mi=null,pa=!1,ql=!1,wy=!1,Lr=0,Ze=0,ga=0,Ro=0,Ty=0,Ji=0,Wl=0,Lu=null,yi=null,Sy=!1,Ey=0,bd=1/0,wd=null,ma=null,Ln=0,ya=null,$l=null,Gl=0,xy=0,Ay=null,IS=null,Vu=0,Ry=null;function Ii(){if((Ee&2)!==0&&ce!==0)return ce&-ce;if($.T!==null){var r=Ol;return r!==0?r:Oy()}return ye()}function OS(){Ji===0&&(Ji=(ce&536870912)===0||ve?Gt():536870912);var r=Zi.current;return r!==null&&(r.flags|=32),Ji}function Oi(r,o,u){(r===Me&&(xe===2||xe===9)||r.cancelPendingCommit!==null)&&(Kl(r,0),va(r,ce,Ji,!1)),be(r,u),((Ee&2)===0||r!==Me)&&(r===Me&&((Ee&2)===0&&(Ro|=u),Ze===4&&va(r,ce,Ji,!1)),Hs(r))}function NS(r,o,u){if((Ee&6)!==0)throw Error(i(327));var d=!u&&(o&124)===0&&(o&r.expiredLanes)===0||Ct(r,o),m=d?nN(r,o):ky(r,o,!0),v=d;do{if(m===0){ql&&!d&&va(r,o,0,!1);break}else{if(u=r.current.alternate,v&&!tN(u)){m=ky(r,o,!1),v=!1;continue}if(m===2){if(v=o,r.errorRecoveryDisabledLanes&v)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;t:{var k=r;m=Lu;var H=k.current.memoizedState.isDehydrated;if(H&&(Kl(k,A).flags|=256),A=ky(k,A,!1),A!==2){if(wy&&!H){k.errorRecoveryDisabledLanes|=v,Ro|=v,m=4;break t}v=yi,yi=m,v!==null&&(yi===null?yi=v:yi.push.apply(yi,v))}m=A}if(v=!1,m!==2)continue}}if(m===1){Kl(r,0),va(r,o,0,!0);break}t:{switch(d=r,v=m,v){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:va(d,o,Ji,!pa);break t;case 2:yi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(m=Ey+300-qe(),10<m)){if(va(d,o,Ji,!pa),vt(d,0,!0)!==0)break t;d.timeoutHandle=uE(LS.bind(null,d,u,yi,wd,Sy,o,Ji,Ro,Wl,pa,v,2,-0,0),m);break t}LS(d,u,yi,wd,Sy,o,Ji,Ro,Wl,pa,v,0,-0,0)}}break}while(!0);Hs(r)}function LS(r,o,u,d,m,v,A,k,H,Q,st,lt,J,tt){if(r.timeoutHandle=-1,lt=o.subtreeFlags,(lt&8192||(lt&16785408)===16785408)&&(qu={stylesheets:null,count:0,unsuspend:NN},DS(o),lt=VN(),lt!==null)){r.cancelPendingCommit=lt(HS.bind(null,r,o,v,u,d,m,A,k,H,st,1,J,tt)),va(r,v,A,!Q);return}HS(r,o,v,u,d,m,A,k,H)}function tN(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var m=u[d],v=m.getSnapshot;m=m.value;try{if(!Ci(v(),m))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function va(r,o,u,d){o&=~Ty,o&=~Ro,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var m=o;0<m;){var v=31-Ne(m),A=1<<v;d[v]=-1,m&=~A}u!==0&&de(r,u,o)}function Td(){return(Ee&6)===0?(Bu(0),!1):!0}function Cy(){if(Jt!==null){if(xe===0)var r=Jt.return;else r=Jt,Cr=wo=null,Wm(r),Ul=null,Cu=0,r=Jt;for(;r!==null;)gS(r.alternate,r),r=r.return;Jt=null}}function Kl(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,vN(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Cy(),Me=r,Jt=u=xr(r.current,null),ce=o,xe=0,Mi=null,pa=!1,ql=Ct(r,o),wy=!1,Wl=Ji=Ty=Ro=ga=Ze=0,yi=Lu=null,Sy=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var m=31-Ne(d),v=1<<m;o|=r[m],d&=~v}return Lr=o,qf(),u}function VS(r,o){Yt=null,$.H=cd,o===_u||o===Jf?(o=tT(),xe=3):o===Qw?(o=tT(),xe=4):xe=o===eS?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Mi=o,Jt===null&&(Ze=1,pd(r,Ki(o,r.current)))}function BS(){var r=$.H;return $.H=cd,r===null?cd:r}function jS(){var r=$.A;return $.A=ZO,r}function Dy(){Ze=4,pa||(ce&4194048)!==ce&&Zi.current!==null||(ql=!0),(ga&134217727)===0&&(Ro&134217727)===0||Me===null||va(Me,ce,Ji,!1)}function ky(r,o,u){var d=Ee;Ee|=2;var m=BS(),v=jS();(Me!==r||ce!==o)&&(wd=null,Kl(r,o)),o=!1;var A=Ze;t:do try{if(xe!==0&&Jt!==null){var k=Jt,H=Mi;switch(xe){case 8:Cy(),A=6;break t;case 3:case 2:case 9:case 6:Zi.current===null&&(o=!0);var Q=xe;if(xe=0,Mi=null,Yl(r,k,H,Q),u&&ql){A=0;break t}break;default:Q=xe,xe=0,Mi=null,Yl(r,k,H,Q)}}eN(),A=Ze;break}catch(st){VS(r,st)}while(!0);return o&&r.shellSuspendCounter++,Cr=wo=null,Ee=d,$.H=m,$.A=v,Jt===null&&(Me=null,ce=0,qf()),A}function eN(){for(;Jt!==null;)US(Jt)}function nN(r,o){var u=Ee;Ee|=2;var d=BS(),m=jS();Me!==r||ce!==o?(wd=null,bd=qe()+500,Kl(r,o)):ql=Ct(r,o);t:do try{if(xe!==0&&Jt!==null){o=Jt;var v=Mi;e:switch(xe){case 1:xe=0,Mi=null,Yl(r,o,v,1);break;case 2:case 9:if(Zw(v)){xe=0,Mi=null,FS(o);break}o=function(){xe!==2&&xe!==9||Me!==r||(xe=7),Hs(r)},v.then(o,o);break t;case 3:xe=7;break t;case 4:xe=5;break t;case 7:Zw(v)?(xe=0,Mi=null,FS(o)):(xe=0,Mi=null,Yl(r,o,v,7));break;case 5:var A=null;switch(Jt.tag){case 26:A=Jt.memoizedState;case 5:case 27:var k=Jt;if(!A||TE(A)){xe=0,Mi=null;var H=k.sibling;if(H!==null)Jt=H;else{var Q=k.return;Q!==null?(Jt=Q,Sd(Q)):Jt=null}break e}}xe=0,Mi=null,Yl(r,o,v,5);break;case 6:xe=0,Mi=null,Yl(r,o,v,6);break;case 8:Cy(),Ze=6;break t;default:throw Error(i(462))}}iN();break}catch(st){VS(r,st)}while(!0);return Cr=wo=null,$.H=d,$.A=m,Ee=u,Jt!==null?0:(Me=null,ce=0,qf(),Ze)}function iN(){for(;Jt!==null&&!je();)US(Jt)}function US(r){var o=dS(r.alternate,r,Lr);r.memoizedProps=r.pendingProps,o===null?Sd(r):Jt=o}function FS(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=oS(u,o,o.pendingProps,o.type,void 0,ce);break;case 11:o=oS(u,o,o.pendingProps,o.type.render,o.ref,ce);break;case 5:Wm(o);default:gS(u,o),o=Jt=zw(o,Lr),o=dS(u,o,Lr)}r.memoizedProps=r.pendingProps,o===null?Sd(r):Jt=o}function Yl(r,o,u,d){Cr=wo=null,Wm(o),Ul=null,Cu=0;var m=o.return;try{if($O(r,m,o,u,ce)){Ze=1,pd(r,Ki(u,r.current)),Jt=null;return}}catch(v){if(m!==null)throw Jt=m,v;Ze=1,pd(r,Ki(u,r.current)),Jt=null;return}o.flags&32768?(ve||d===1?r=!0:ql||(ce&536870912)!==0?r=!1:(pa=r=!0,(d===2||d===9||d===3||d===6)&&(d=Zi.current,d!==null&&d.tag===13&&(d.flags|=16384))),zS(o,r)):Sd(o)}function Sd(r){var o=r;do{if((o.flags&32768)!==0){zS(o,pa);return}r=o.return;var u=KO(o.alternate,o,Lr);if(u!==null){Jt=u;return}if(o=o.sibling,o!==null){Jt=o;return}Jt=o=r}while(o!==null);Ze===0&&(Ze=5)}function zS(r,o){do{var u=YO(r.alternate,r);if(u!==null){u.flags&=32767,Jt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){Jt=r;return}Jt=r=u}while(r!==null);Ze=6,Jt=null}function HS(r,o,u,d,m,v,A,k,H){r.cancelPendingCommit=null;do Ed();while(Ln!==0);if((Ee&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(v=o.lanes|o.childLanes,v|=bm,Hn(r,u,v,A,k,H),r===Me&&(Jt=Me=null,ce=0),$l=o,ya=r,Gl=u,xy=v,Ay=m,IS=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,oN(We,function(){return KS(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=$.T,$.T=null,m=Z.p,Z.p=2,A=Ee,Ee|=4;try{XO(r,o,u)}finally{Ee=A,Z.p=m,$.T=d}}Ln=1,qS(),WS(),$S()}}function qS(){if(Ln===1){Ln=0;var r=ya,o=$l,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var d=Z.p;Z.p=2;var m=Ee;Ee|=4;try{AS(o,r);var v=zy,A=Mw(r.containerInfo),k=v.focusedElem,H=v.selectionRange;if(A!==k&&k&&k.ownerDocument&&Pw(k.ownerDocument.documentElement,k)){if(H!==null&&gm(k)){var Q=H.start,st=H.end;if(st===void 0&&(st=Q),"selectionStart"in k)k.selectionStart=Q,k.selectionEnd=Math.min(st,k.value.length);else{var lt=k.ownerDocument||document,J=lt&&lt.defaultView||window;if(J.getSelection){var tt=J.getSelection(),Vt=k.textContent.length,Pt=Math.min(H.start,Vt),ke=H.end===void 0?Pt:Math.min(H.end,Vt);!tt.extend&&Pt>ke&&(A=ke,ke=Pt,Pt=A);var G=kw(k,Pt),q=kw(k,ke);if(G&&q&&(tt.rangeCount!==1||tt.anchorNode!==G.node||tt.anchorOffset!==G.offset||tt.focusNode!==q.node||tt.focusOffset!==q.offset)){var X=lt.createRange();X.setStart(G.node,G.offset),tt.removeAllRanges(),Pt>ke?(tt.addRange(X),tt.extend(q.node,q.offset)):(X.setEnd(q.node,q.offset),tt.addRange(X))}}}}for(lt=[],tt=k;tt=tt.parentNode;)tt.nodeType===1&&lt.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<lt.length;k++){var at=lt[k];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}Ld=!!Fy,zy=Fy=null}finally{Ee=m,Z.p=d,$.T=u}}r.current=o,Ln=2}}function WS(){if(Ln===2){Ln=0;var r=ya,o=$l,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var d=Z.p;Z.p=2;var m=Ee;Ee|=4;try{TS(r,o.alternate,o)}finally{Ee=m,Z.p=d,$.T=u}}Ln=3}}function $S(){if(Ln===4||Ln===3){Ln=0,Ei();var r=ya,o=$l,u=Gl,d=IS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ln=5:(Ln=0,$l=ya=null,GS(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(ma=null),Dt(u),o=o.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ae,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=$.T,m=Z.p,Z.p=2,$.T=null;try{for(var v=r.onRecoverableError,A=0;A<d.length;A++){var k=d[A];v(k.value,{componentStack:k.stack})}}finally{$.T=o,Z.p=m}}(Gl&3)!==0&&Ed(),Hs(r),m=r.pendingLanes,(u&4194090)!==0&&(m&42)!==0?r===Ry?Vu++:(Vu=0,Ry=r):Vu=0,Bu(0)}}function GS(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,yu(o)))}function Ed(r){return qS(),WS(),$S(),KS()}function KS(){if(Ln!==5)return!1;var r=ya,o=xy;xy=0;var u=Dt(Gl),d=$.T,m=Z.p;try{Z.p=32>u?32:u,$.T=null,u=Ay,Ay=null;var v=ya,A=Gl;if(Ln=0,$l=ya=null,Gl=0,(Ee&6)!==0)throw Error(i(331));var k=Ee;if(Ee|=4,PS(v.current),CS(v,v.current,A,u),Ee=k,Bu(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ae,v)}catch{}return!0}finally{Z.p=m,$.T=d,GS(r,o)}}function YS(r,o,u){o=Ki(u,o),o=ry(r.stateNode,o,2),r=oa(r,o,2),r!==null&&(be(r,2),Hs(r))}function Pe(r,o,u){if(r.tag===3)YS(r,r,u);else for(;o!==null;){if(o.tag===3){YS(o,r,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ma===null||!ma.has(d))){r=Ki(u,r),u=JT(2),d=oa(o,u,2),d!==null&&(tS(u,d,o,r),be(d,2),Hs(d));break}}o=o.return}}function Py(r,o,u){var d=r.pingCache;if(d===null){d=r.pingCache=new JO;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(wy=!0,m.add(u),r=sN.bind(null,r,o,u),o.then(r,r))}function sN(r,o,u){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,Me===r&&(ce&u)===u&&(Ze===4||Ze===3&&(ce&62914560)===ce&&300>qe()-Ey?(Ee&2)===0&&Kl(r,0):Ty|=u,Wl===ce&&(Wl=0)),Hs(r)}function XS(r,o){o===0&&(o=se()),r=kl(r,o),r!==null&&(be(r,o),Hs(r))}function rN(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),XS(r,u)}function aN(r,o){var u=0;switch(r.tag){case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),XS(r,u)}function oN(r,o){return He(r,o)}var xd=null,Xl=null,My=!1,Ad=!1,Iy=!1,Co=0;function Hs(r){r!==Xl&&r.next===null&&(Xl===null?xd=Xl=r:Xl=Xl.next=r),Ad=!0,My||(My=!0,cN())}function Bu(r,o){if(!Iy&&Ad){Iy=!0;do for(var u=!1,d=xd;d!==null;){if(r!==0){var m=d.pendingLanes;if(m===0)var v=0;else{var A=d.suspendedLanes,k=d.pingedLanes;v=(1<<31-Ne(42|r)+1)-1,v&=m&~(A&~k),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,tE(d,v))}else v=ce,v=vt(d,d===Me?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||Ct(d,v)||(u=!0,tE(d,v));d=d.next}while(u);Iy=!1}}function lN(){QS()}function QS(){Ad=My=!1;var r=0;Co!==0&&(yN()&&(r=Co),Co=0);for(var o=qe(),u=null,d=xd;d!==null;){var m=d.next,v=ZS(d,o);v===0?(d.next=null,u===null?xd=m:u.next=m,m===null&&(Xl=u)):(u=d,(r!==0||(v&3)!==0)&&(Ad=!0)),d=m}Bu(r)}function ZS(r,o){for(var u=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var A=31-Ne(v),k=1<<A,H=m[A];H===-1?((k&u)===0||(k&d)!==0)&&(m[A]=$t(k,o)):H<=o&&(r.expiredLanes|=k),v&=~k}if(o=Me,u=ce,u=vt(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,u===0||r===o&&(xe===2||xe===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Si(d),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Ct(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(d!==null&&Si(d),Dt(u)){case 2:case 8:u=zn;break;case 32:u=We;break;case 268435456:u=ui;break;default:u=We}return d=JS.bind(null,r),u=He(u,d),r.callbackPriority=o,r.callbackNode=u,o}return d!==null&&d!==null&&Si(d),r.callbackPriority=2,r.callbackNode=null,2}function JS(r,o){if(Ln!==0&&Ln!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Ed()&&r.callbackNode!==u)return null;var d=ce;return d=vt(r,r===Me?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(NS(r,d,o),ZS(r,qe()),r.callbackNode!=null&&r.callbackNode===u?JS.bind(null,r):null)}function tE(r,o){if(Ed())return null;NS(r,o,!0)}function cN(){_N(function(){(Ee&6)!==0?He(me,lN):QS()})}function Oy(){return Co===0&&(Co=Gt()),Co}function eE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:vl(""+r)}function nE(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function uN(r,o,u,d,m){if(o==="submit"&&u&&u.stateNode===m){var v=eE((m[Tt]||null).action),A=d.submitter;A&&(o=(o=A[Tt]||null)?eE(o.formAction):A.getAttribute("formAction"),o!==null&&(v=o,A=null));var k=new _l("action","action",null,d,m);r.push({event:k,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Co!==0){var H=A?nE(m,A):new FormData(m);ty(u,{pending:!0,data:H,method:m.method,action:v},null,H)}}else typeof v=="function"&&(k.preventDefault(),H=A?nE(m,A):new FormData(m),ty(u,{pending:!0,data:H,method:m.method,action:v},v,H))},currentTarget:m}]})}}for(var Ny=0;Ny<_m.length;Ny++){var Ly=_m[Ny],hN=Ly.toLowerCase(),fN=Ly[0].toUpperCase()+Ly.slice(1);fs(hN,"on"+fN)}fs(Nw,"onAnimationEnd"),fs(Lw,"onAnimationIteration"),fs(Vw,"onAnimationStart"),fs("dblclick","onDoubleClick"),fs("focusin","onFocus"),fs("focusout","onBlur"),fs(DO,"onTransitionRun"),fs(kO,"onTransitionStart"),fs(PO,"onTransitionCancel"),fs(Bw,"onTransitionEnd"),Kt("onMouseEnter",["mouseout","mouseover"]),Kt("onMouseLeave",["mouseout","mouseover"]),Kt("onPointerEnter",["pointerout","pointerover"]),Kt("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ju));function iE(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],m=d.event;d=d.listeners;t:{var v=void 0;if(o)for(var A=d.length-1;0<=A;A--){var k=d[A],H=k.instance,Q=k.currentTarget;if(k=k.listener,H!==v&&m.isPropagationStopped())break t;v=k,m.currentTarget=Q;try{v(m)}catch(st){dd(st)}m.currentTarget=null,v=H}else for(A=0;A<d.length;A++){if(k=d[A],H=k.instance,Q=k.currentTarget,k=k.listener,H!==v&&m.isPropagationStopped())break t;v=k,m.currentTarget=Q;try{v(m)}catch(st){dd(st)}m.currentTarget=null,v=H}}}}function te(r,o){var u=o[Xe];u===void 0&&(u=o[Xe]=new Set);var d=r+"__bubble";u.has(d)||(sE(o,r,2,!1),u.add(d))}function Vy(r,o,u){var d=0;o&&(d|=4),sE(u,r,d,o)}var Rd="_reactListening"+Math.random().toString(36).slice(2);function By(r){if(!r[Rd]){r[Rd]=!0,ta.forEach(function(u){u!=="selectionchange"&&(dN.has(u)||Vy(u,!1,r),Vy(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Rd]||(o[Rd]=!0,Vy("selectionchange",!1,o))}}function sE(r,o,u,d){switch(CE(o)){case 2:var m=UN;break;case 8:m=FN;break;default:m=Zy}u=m.bind(null,o,u,r),m=void 0,!$i||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(o,u,{capture:!0,passive:m}):r.addEventListener(o,u,!0):m!==void 0?r.addEventListener(o,u,{passive:m}):r.addEventListener(o,u,!1)}function jy(r,o,u,d,m){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)t:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var k=d.stateNode.containerInfo;if(k===m)break;if(A===4)for(A=d.return;A!==null;){var H=A.tag;if((H===3||H===4)&&A.stateNode.containerInfo===m)return;A=A.return}for(;k!==null;){if(A=qn(k),A===null)return;if(H=A.tag,H===5||H===6||H===26||H===27){d=v=A;continue t}k=k.parentNode}}d=d.return}Df(function(){var Q=v,st=Wi(u),lt=[];t:{var J=jw.get(r);if(J!==void 0){var tt=_l,Vt=r;switch(r){case"keypress":if(Os(u)===0)break t;case"keydown":case"keyup":tt=xl;break;case"focusin":Vt="focus",tt=Tl;break;case"focusout":Vt="blur",tt=Tl;break;case"beforeblur":case"afterblur":tt=Tl;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Vf;break;case Nw:case Lw:case Vw:tt=Sl;break;case Bw:tt=jf;break;case"scroll":case"scrollend":tt=kf;break;case"wheel":tt=Al;break;case"copy":case"cut":case"paste":tt=El;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=cu;break;case"toggle":case"beforetoggle":tt=Ff}var Pt=(o&4)!==0,ke=!Pt&&(r==="scroll"||r==="scrollend"),G=Pt?J!==null?J+"Capture":null:J;Pt=[];for(var q=Q,X;q!==null;){var at=q;if(X=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||X===null||G===null||(at=ao(q,G),at!=null&&Pt.push(Uu(q,at,X))),ke)break;q=q.return}0<Pt.length&&(J=new tt(J,Vt,null,u,st),lt.push({event:J,listeners:Pt}))}}if((o&7)===0){t:{if(J=r==="mouseover"||r==="pointerover",tt=r==="mouseout"||r==="pointerout",J&&u!==_r&&(Vt=u.relatedTarget||u.fromElement)&&(qn(Vt)||Vt[pe]))break t;if((tt||J)&&(J=st.window===st?st:(J=st.ownerDocument)?J.defaultView||J.parentWindow:window,tt?(Vt=u.relatedTarget||u.toElement,tt=Q,Vt=Vt?qn(Vt):null,Vt!==null&&(ke=a(Vt),Pt=Vt.tag,Vt!==ke||Pt!==5&&Pt!==27&&Pt!==6)&&(Vt=null)):(tt=null,Vt=Q),tt!==Vt)){if(Pt=Gi,at="onMouseLeave",G="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(Pt=cu,at="onPointerLeave",G="onPointerEnter",q="pointer"),ke=tt==null?J:zi(tt),X=Vt==null?J:zi(Vt),J=new Pt(at,q+"leave",tt,u,st),J.target=ke,J.relatedTarget=X,at=null,qn(st)===Q&&(Pt=new Pt(G,q+"enter",Vt,u,st),Pt.target=X,Pt.relatedTarget=ke,at=Pt),ke=at,tt&&Vt)e:{for(Pt=tt,G=Vt,q=0,X=Pt;X;X=Ql(X))q++;for(X=0,at=G;at;at=Ql(at))X++;for(;0<q-X;)Pt=Ql(Pt),q--;for(;0<X-q;)G=Ql(G),X--;for(;q--;){if(Pt===G||G!==null&&Pt===G.alternate)break e;Pt=Ql(Pt),G=Ql(G)}Pt=null}else Pt=null;tt!==null&&rE(lt,J,tt,Pt,!1),Vt!==null&&ke!==null&&rE(lt,ke,Vt,Pt,!0)}}t:{if(J=Q?zi(Q):window,tt=J.nodeName&&J.nodeName.toLowerCase(),tt==="select"||tt==="input"&&J.type==="file")var St=Ew;else if(_n(J))if(xw)St=AO;else{St=EO;var Qt=SO}else tt=J.nodeName,!tt||tt.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&nu(Q.elementType)&&(St=Ew):St=xO;if(St&&(St=St(r,Q))){Er(lt,St,u,st);break t}Qt&&Qt(r,J,Q),r==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&na(J,"number",J.value)}switch(Qt=Q?zi(Q):window,r){case"focusin":(_n(Qt)||Qt.contentEditable==="true")&&(Rl=Qt,mm=Q,fu=null);break;case"focusout":fu=mm=Rl=null;break;case"mousedown":ym=!0;break;case"contextmenu":case"mouseup":case"dragend":ym=!1,Iw(lt,u,st);break;case"selectionchange":if(CO)break;case"keydown":case"keyup":Iw(lt,u,st)}var Rt;if(Vs)t:{switch(r){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else oe?et(r,u)&&(Nt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Nt="onCompositionStart");Nt&&(x&&u.locale!=="ko"&&(oe||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&oe&&(Rt=su()):(Is=st,ia="value"in Is?Is.value:Is.textContent,oe=!0)),Qt=Cd(Q,Nt),0<Qt.length&&(Nt=new ou(Nt,r,null,u,st),lt.push({event:Nt,listeners:Qt}),Rt?Nt.data=Rt:(Rt=gt(u),Rt!==null&&(Nt.data=Rt)))),(Rt=w?vn(r,u):le(r,u))&&(Nt=Cd(Q,"onBeforeInput"),0<Nt.length&&(Qt=new ou("onBeforeInput","beforeinput",null,u,st),lt.push({event:Qt,listeners:Nt}),Qt.data=Rt)),uN(lt,r,Q,u,st)}iE(lt,o)})}function Uu(r,o,u){return{instance:r,listener:o,currentTarget:u}}function Cd(r,o){for(var u=o+"Capture",d=[];r!==null;){var m=r,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=ao(r,u),m!=null&&d.unshift(Uu(r,m,v)),m=ao(r,o),m!=null&&d.push(Uu(r,m,v))),r.tag===3)return d;r=r.return}return[]}function Ql(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function rE(r,o,u,d,m){for(var v=o._reactName,A=[];u!==null&&u!==d;){var k=u,H=k.alternate,Q=k.stateNode;if(k=k.tag,H!==null&&H===d)break;k!==5&&k!==26&&k!==27||Q===null||(H=Q,m?(Q=ao(u,v),Q!=null&&A.unshift(Uu(u,Q,H))):m||(Q=ao(u,v),Q!=null&&A.push(Uu(u,Q,H)))),u=u.return}A.length!==0&&r.push({event:o,listeners:A})}var pN=/\r\n?/g,gN=/\u0000|\uFFFD/g;function aE(r){return(typeof r=="string"?r:""+r).replace(pN,`
`).replace(gN,"")}function oE(r,o){return o=aE(o),aE(r)===o}function Dd(){}function De(r,o,u,d,m,v){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||qi(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&qi(r,""+d);break;case"className":Ps(r,"class",d);break;case"tabIndex":Ps(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ps(r,u,d);break;case"style":eu(r,d,v);break;case"data":if(o!=="object"){Ps(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=vl(""+d),r.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(o!=="input"&&De(r,o,"name",m.name,m,null),De(r,o,"formEncType",m.formEncType,m,null),De(r,o,"formMethod",m.formMethod,m,null),De(r,o,"formTarget",m.formTarget,m,null)):(De(r,o,"encType",m.encType,m,null),De(r,o,"method",m.method,m,null),De(r,o,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=vl(""+d),r.setAttribute(u,d);break;case"onClick":d!=null&&(r.onclick=Dd);break;case"onScroll":d!=null&&te("scroll",r);break;case"onScrollEnd":d!=null&&te("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}u=vl(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""+d):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":d===!0?r.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,d):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(u,d):r.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(u):r.setAttribute(u,d);break;case"popover":te("beforetoggle",r),te("toggle",r),Hi(r,"popover",d);break;case"xlinkActuate":In(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":In(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":In(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":In(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":In(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":In(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":In(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":In(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":In(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Hi(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=cm.get(u)||u,Hi(r,u,d))}}function Uy(r,o,u,d,m,v){switch(u){case"style":eu(r,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof d=="string"?qi(r,d):(typeof d=="number"||typeof d=="bigint")&&qi(r,""+d);break;case"onScroll":d!=null&&te("scroll",r);break;case"onScrollEnd":d!=null&&te("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Dd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mr.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),o=u.slice(2,m?u.length-7:void 0),v=r[Tt]||null,v=v!=null?v[u]:null,typeof v=="function"&&r.removeEventListener(o,v,m),typeof d=="function")){typeof v!="function"&&v!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,d,m);break t}u in r?r[u]=d:d===!0?r.setAttribute(u,""):Hi(r,u,d)}}}function Vn(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":te("error",r),te("load",r);var d=!1,m=!1,v;for(v in u)if(u.hasOwnProperty(v)){var A=u[v];if(A!=null)switch(v){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:De(r,o,v,A,u,null)}}m&&De(r,o,"srcSet",u.srcSet,u,null),d&&De(r,o,"src",u.src,u,null);return;case"input":te("invalid",r);var k=v=A=m=null,H=null,Q=null;for(d in u)if(u.hasOwnProperty(d)){var st=u[d];if(st!=null)switch(d){case"name":m=st;break;case"type":A=st;break;case"checked":H=st;break;case"defaultChecked":Q=st;break;case"value":v=st;break;case"defaultValue":k=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,o));break;default:De(r,o,d,st,u,null)}}io(r,v,k,H,Q,A,m,!1),yl(r);return;case"select":te("invalid",r),d=A=v=null;for(m in u)if(u.hasOwnProperty(m)&&(k=u[m],k!=null))switch(m){case"value":v=k;break;case"defaultValue":A=k;break;case"multiple":d=k;default:De(r,o,m,k,u,null)}o=v,u=A,r.multiple=!!d,o!=null?vr(r,!!d,o,!1):u!=null&&vr(r,!!d,u,!0);return;case"textarea":te("invalid",r),v=m=d=null;for(A in u)if(u.hasOwnProperty(A)&&(k=u[A],k!=null))switch(A){case"value":d=k;break;case"defaultValue":m=k;break;case"children":v=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:De(r,o,A,k,u,null)}so(r,d,m,v),yl(r);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(d=u[H],d!=null))switch(H){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:De(r,o,H,d,u,null)}return;case"dialog":te("beforetoggle",r),te("toggle",r),te("cancel",r),te("close",r);break;case"iframe":case"object":te("load",r);break;case"video":case"audio":for(d=0;d<ju.length;d++)te(ju[d],r);break;case"image":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"embed":case"source":case"link":te("error",r),te("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in u)if(u.hasOwnProperty(Q)&&(d=u[Q],d!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:De(r,o,Q,d,u,null)}return;default:if(nu(o)){for(st in u)u.hasOwnProperty(st)&&(d=u[st],d!==void 0&&Uy(r,o,st,d,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(d=u[k],d!=null&&De(r,o,k,d,u,null))}function mN(r,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,A=null,k=null,H=null,Q=null,st=null;for(tt in u){var lt=u[tt];if(u.hasOwnProperty(tt)&&lt!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":H=lt;default:d.hasOwnProperty(tt)||De(r,o,tt,null,d,lt)}}for(var J in d){var tt=d[J];if(lt=u[J],d.hasOwnProperty(J)&&(tt!=null||lt!=null))switch(J){case"type":v=tt;break;case"name":m=tt;break;case"checked":Q=tt;break;case"defaultChecked":st=tt;break;case"value":A=tt;break;case"defaultValue":k=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,o));break;default:tt!==lt&&De(r,o,J,tt,d,lt)}}Ri(r,A,k,H,Q,st,v,m);return;case"select":tt=A=k=J=null;for(v in u)if(H=u[v],u.hasOwnProperty(v)&&H!=null)switch(v){case"value":break;case"multiple":tt=H;default:d.hasOwnProperty(v)||De(r,o,v,null,d,H)}for(m in d)if(v=d[m],H=u[m],d.hasOwnProperty(m)&&(v!=null||H!=null))switch(m){case"value":J=v;break;case"defaultValue":k=v;break;case"multiple":A=v;default:v!==H&&De(r,o,m,v,d,H)}o=k,u=A,d=tt,J!=null?vr(r,!!u,J,!1):!!d!=!!u&&(o!=null?vr(r,!!u,o,!0):vr(r,!!u,u?[]:"",!1));return;case"textarea":tt=J=null;for(k in u)if(m=u[k],u.hasOwnProperty(k)&&m!=null&&!d.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:De(r,o,k,null,d,m)}for(A in d)if(m=d[A],v=u[A],d.hasOwnProperty(A)&&(m!=null||v!=null))switch(A){case"value":J=m;break;case"defaultValue":tt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==v&&De(r,o,A,m,d,v)}Re(r,J,tt);return;case"option":for(var Vt in u)if(J=u[Vt],u.hasOwnProperty(Vt)&&J!=null&&!d.hasOwnProperty(Vt))switch(Vt){case"selected":r.selected=!1;break;default:De(r,o,Vt,null,d,J)}for(H in d)if(J=d[H],tt=u[H],d.hasOwnProperty(H)&&J!==tt&&(J!=null||tt!=null))switch(H){case"selected":r.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:De(r,o,H,J,d,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in u)J=u[Pt],u.hasOwnProperty(Pt)&&J!=null&&!d.hasOwnProperty(Pt)&&De(r,o,Pt,null,d,J);for(Q in d)if(J=d[Q],tt=u[Q],d.hasOwnProperty(Q)&&J!==tt&&(J!=null||tt!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,o));break;default:De(r,o,Q,J,d,tt)}return;default:if(nu(o)){for(var ke in u)J=u[ke],u.hasOwnProperty(ke)&&J!==void 0&&!d.hasOwnProperty(ke)&&Uy(r,o,ke,void 0,d,J);for(st in d)J=d[st],tt=u[st],!d.hasOwnProperty(st)||J===tt||J===void 0&&tt===void 0||Uy(r,o,st,J,d,tt);return}}for(var G in u)J=u[G],u.hasOwnProperty(G)&&J!=null&&!d.hasOwnProperty(G)&&De(r,o,G,null,d,J);for(lt in d)J=d[lt],tt=u[lt],!d.hasOwnProperty(lt)||J===tt||J==null&&tt==null||De(r,o,lt,J,d,tt)}var Fy=null,zy=null;function kd(r){return r.nodeType===9?r:r.ownerDocument}function lE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cE(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Hy(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var qy=null;function yN(){var r=window.event;return r&&r.type==="popstate"?r===qy?!1:(qy=r,!0):(qy=null,!1)}var uE=typeof setTimeout=="function"?setTimeout:void 0,vN=typeof clearTimeout=="function"?clearTimeout:void 0,hE=typeof Promise=="function"?Promise:void 0,_N=typeof queueMicrotask=="function"?queueMicrotask:typeof hE<"u"?function(r){return hE.resolve(null).then(r).catch(bN)}:uE;function bN(r){setTimeout(function(){throw r})}function _a(r){return r==="head"}function fE(r,o){var u=o,d=0,m=0;do{var v=u.nextSibling;if(r.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<d&&8>d){u=d;var A=r.ownerDocument;if(u&1&&Fu(A.documentElement),u&2&&Fu(A.body),u&4)for(u=A.head,Fu(u),A=u.firstChild;A;){var k=A.nextSibling,H=A.nodeName;A[cn]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&A.rel.toLowerCase()==="stylesheet"||u.removeChild(A),A=k}}if(m===0){r.removeChild(v),Yu(o);return}m--}else u==="$"||u==="$?"||u==="$!"?m++:d=u.charCodeAt(0)-48;else d=0;u=v}while(u);Yu(o)}function Wy(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Wy(u),he(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function wN(r,o,u,d){for(;r.nodeType===1;){var m=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[cn])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=ps(r.nextSibling),r===null)break}return null}function TN(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=ps(r.nextSibling),r===null))return null;return r}function $y(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function SN(r,o){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function ps(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var Gy=null;function dE(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}function pE(r,o,u){switch(o=kd(u),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Fu(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);he(r)}var ts=new Map,gE=new Set;function Pd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Vr=Z.d;Z.d={f:EN,r:xN,D:AN,C:RN,L:CN,m:DN,X:PN,S:kN,M:MN};function EN(){var r=Vr.f(),o=Td();return r||o}function xN(r){var o=Fi(r);o!==null&&o.tag===5&&o.type==="form"?NT(o):Vr.r(r)}var Zl=typeof document>"u"?null:document;function mE(r,o,u){var d=Zl;if(d&&typeof o=="string"&&o){var m=un(o);m='link[rel="'+r+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),gE.has(m)||(gE.add(m),r={rel:r,crossOrigin:u,href:o},d.querySelector(m)===null&&(o=d.createElement("link"),Vn(o,"link",r),Ue(o),d.head.appendChild(o)))}}function AN(r){Vr.D(r),mE("dns-prefetch",r,null)}function RN(r,o){Vr.C(r,o),mE("preconnect",r,o)}function CN(r,o,u){Vr.L(r,o,u);var d=Zl;if(d&&r&&o){var m='link[rel="preload"][as="'+un(o)+'"]';o==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+un(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+un(u.imageSizes)+'"]')):m+='[href="'+un(r)+'"]';var v=m;switch(o){case"style":v=Jl(r);break;case"script":v=tc(r)}ts.has(v)||(r=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),ts.set(v,r),d.querySelector(m)!==null||o==="style"&&d.querySelector(zu(v))||o==="script"&&d.querySelector(Hu(v))||(o=d.createElement("link"),Vn(o,"link",r),Ue(o),d.head.appendChild(o)))}}function DN(r,o){Vr.m(r,o);var u=Zl;if(u&&r){var d=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+un(d)+'"][href="'+un(r)+'"]',v=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=tc(r)}if(!ts.has(v)&&(r=p({rel:"modulepreload",href:r},o),ts.set(v,r),u.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Hu(v)))return}d=u.createElement("link"),Vn(d,"link",r),Ue(d),u.head.appendChild(d)}}}function kN(r,o,u){Vr.S(r,o,u);var d=Zl;if(d&&r){var m=xn(d).hoistableStyles,v=Jl(r);o=o||"default";var A=m.get(v);if(!A){var k={loading:0,preload:null};if(A=d.querySelector(zu(v)))k.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},u),(u=ts.get(v))&&Ky(r,u);var H=A=d.createElement("link");Ue(H),Vn(H,"link",r),H._p=new Promise(function(Q,st){H.onload=Q,H.onerror=st}),H.addEventListener("load",function(){k.loading|=1}),H.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Md(A,o,d)}A={type:"stylesheet",instance:A,count:1,state:k},m.set(v,A)}}}function PN(r,o){Vr.X(r,o);var u=Zl;if(u&&r){var d=xn(u).hoistableScripts,m=tc(r),v=d.get(m);v||(v=u.querySelector(Hu(m)),v||(r=p({src:r,async:!0},o),(o=ts.get(m))&&Yy(r,o),v=u.createElement("script"),Ue(v),Vn(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(m,v))}}function MN(r,o){Vr.M(r,o);var u=Zl;if(u&&r){var d=xn(u).hoistableScripts,m=tc(r),v=d.get(m);v||(v=u.querySelector(Hu(m)),v||(r=p({src:r,async:!0,type:"module"},o),(o=ts.get(m))&&Yy(r,o),v=u.createElement("script"),Ue(v),Vn(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(m,v))}}function yE(r,o,u,d){var m=(m=xt.current)?Pd(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Jl(u.href),u=xn(m).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Jl(u.href);var v=xn(m).hoistableStyles,A=v.get(r);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,A),(v=m.querySelector(zu(r)))&&!v._p&&(A.instance=v,A.state.loading=5),ts.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ts.set(r,u),v||IN(m,r,u,A.state))),o&&d===null)throw Error(i(528,""));return A}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=tc(u),u=xn(m).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Jl(r){return'href="'+un(r)+'"'}function zu(r){return'link[rel="stylesheet"]['+r+"]"}function vE(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function IN(r,o,u,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Vn(o,"link",u),Ue(o),r.head.appendChild(o))}function tc(r){return'[src="'+un(r)+'"]'}function Hu(r){return"script[async]"+r}function _E(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+un(u.href)+'"]');if(d)return o.instance=d,Ue(d),d;var m=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Ue(d),Vn(d,"style",m),Md(d,u.precedence,r),o.instance=d;case"stylesheet":m=Jl(u.href);var v=r.querySelector(zu(m));if(v)return o.state.loading|=4,o.instance=v,Ue(v),v;d=vE(u),(m=ts.get(m))&&Ky(d,m),v=(r.ownerDocument||r).createElement("link"),Ue(v);var A=v;return A._p=new Promise(function(k,H){A.onload=k,A.onerror=H}),Vn(v,"link",d),o.state.loading|=4,Md(v,u.precedence,r),o.instance=v;case"script":return v=tc(u.src),(m=r.querySelector(Hu(v)))?(o.instance=m,Ue(m),m):(d=u,(m=ts.get(v))&&(d=p({},u),Yy(d,m)),r=r.ownerDocument||r,m=r.createElement("script"),Ue(m),Vn(m,"link",d),r.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Md(d,u.precedence,r));return o.instance}function Md(r,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,v=m,A=0;A<d.length;A++){var k=d[A];if(k.dataset.precedence===o)v=k;else if(v!==m)break}v?v.parentNode.insertBefore(r,v.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function Ky(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Yy(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Id=null;function bE(r,o,u){if(Id===null){var d=new Map,m=Id=new Map;m.set(u,d)}else m=Id,d=m.get(u),d||(d=new Map,m.set(u,d));if(d.has(r))return d;for(d.set(r,null),u=u.getElementsByTagName(r),m=0;m<u.length;m++){var v=u[m];if(!(v[cn]||v[yt]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(o)||"";A=r+A;var k=d.get(A);k?k.push(v):d.set(A,[v])}}return d}function wE(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function ON(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function TE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var qu=null;function NN(){}function LN(r,o,u){if(qu===null)throw Error(i(475));var d=qu;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Jl(u.href),v=r.querySelector(zu(m));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=Od.bind(d),r.then(d,d)),o.state.loading|=4,o.instance=v,Ue(v);return}v=r.ownerDocument||r,u=vE(u),(m=ts.get(m))&&Ky(u,m),v=v.createElement("link"),Ue(v);var A=v;A._p=new Promise(function(k,H){A.onload=k,A.onerror=H}),Vn(v,"link",u),o.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=Od.bind(d),r.addEventListener("load",o),r.addEventListener("error",o))}}function VN(){if(qu===null)throw Error(i(475));var r=qu;return r.stylesheets&&r.count===0&&Xy(r,r.stylesheets),0<r.count?function(o){var u=setTimeout(function(){if(r.stylesheets&&Xy(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u)}}:null}function Od(){if(this.count--,this.count===0){if(this.stylesheets)Xy(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Nd=null;function Xy(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Nd=new Map,o.forEach(BN,r),Nd=null,Od.call(r))}function BN(r,o){if(!(o.state.loading&4)){var u=Nd.get(r);if(u)var d=u.get(null);else{u=new Map,Nd.set(r,u);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var A=m[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),d=A)}d&&u.set(null,d)}m=o.instance,A=m.getAttribute("data-precedence"),v=u.get(A)||d,v===d&&u.set(null,m),u.set(A,m),this.count++,d=Od.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),v?v.parentNode.insertBefore(m,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),o.state.loading|=4}}var Wu={$$typeof:B,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function jN(r,o,u,d,m,v,A,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.hiddenUpdates=qt(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function SE(r,o,u,d,m,v,A,k,H,Q,st,lt){return r=new jN(r,o,u,A,k,H,Q,lt),o=1,v===!0&&(o|=24),v=Di(3,null,null,o),r.current=v,v.stateNode=r,o=Pm(),o.refCount++,r.pooledCache=o,o.refCount++,v.memoizedState={element:d,isDehydrated:u,cache:o},Nm(v),r}function EE(r){return r?(r=Pl,r):Pl}function xE(r,o,u,d,m,v){m=EE(m),d.context===null?d.context=m:d.pendingContext=m,d=aa(o),d.payload={element:u},v=v===void 0?null:v,v!==null&&(d.callback=v),u=oa(r,d,o),u!==null&&(Oi(u,r,o),wu(u,r,o))}function AE(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function Qy(r,o){AE(r,o),(r=r.alternate)&&AE(r,o)}function RE(r){if(r.tag===13){var o=kl(r,67108864);o!==null&&Oi(o,r,67108864),Qy(r,67108864)}}var Ld=!0;function UN(r,o,u,d){var m=$.T;$.T=null;var v=Z.p;try{Z.p=2,Zy(r,o,u,d)}finally{Z.p=v,$.T=m}}function FN(r,o,u,d){var m=$.T;$.T=null;var v=Z.p;try{Z.p=8,Zy(r,o,u,d)}finally{Z.p=v,$.T=m}}function Zy(r,o,u,d){if(Ld){var m=Jy(d);if(m===null)jy(r,o,d,Vd,u),DE(r,d);else if(HN(m,r,o,u,d))d.stopPropagation();else if(DE(r,d),o&4&&-1<zN.indexOf(r)){for(;m!==null;){var v=Fi(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=Ot(v.pendingLanes);if(A!==0){var k=v;for(k.pendingLanes|=2,k.entangledLanes|=2;A;){var H=1<<31-Ne(A);k.entanglements[1]|=H,A&=~H}Hs(v),(Ee&6)===0&&(bd=qe()+500,Bu(0))}}break;case 13:k=kl(v,2),k!==null&&Oi(k,v,2),Td(),Qy(v,2)}if(v=Jy(d),v===null&&jy(r,o,d,Vd,u),v===m)break;m=v}m!==null&&d.stopPropagation()}else jy(r,o,d,null,u)}}function Jy(r){return r=Wi(r),tv(r)}var Vd=null;function tv(r){if(Vd=null,r=qn(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Vd=r,null}function CE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xi()){case me:return 2;case zn:return 8;case We:case us:return 32;case ui:return 268435456;default:return 32}default:return 32}}var ev=!1,ba=null,wa=null,Ta=null,$u=new Map,Gu=new Map,Sa=[],zN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DE(r,o){switch(r){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":$u.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gu.delete(o.pointerId)}}function Ku(r,o,u,d,m,v){return r===null||r.nativeEvent!==v?(r={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Fi(o),o!==null&&RE(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),r)}function HN(r,o,u,d,m){switch(o){case"focusin":return ba=Ku(ba,r,o,u,d,m),!0;case"dragenter":return wa=Ku(wa,r,o,u,d,m),!0;case"mouseover":return Ta=Ku(Ta,r,o,u,d,m),!0;case"pointerover":var v=m.pointerId;return $u.set(v,Ku($u.get(v)||null,r,o,u,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Gu.set(v,Ku(Gu.get(v)||null,r,o,u,d,m)),!0}return!1}function kE(r){var o=qn(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,Le(r.priority,function(){if(u.tag===13){var d=Ii();d=bt(d);var m=kl(u,d);m!==null&&Oi(m,u,d),Qy(u,d)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Bd(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=Jy(r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);_r=d,u.target.dispatchEvent(d),_r=null}else return o=Fi(u),o!==null&&RE(o),r.blockedOn=u,!1;o.shift()}return!0}function PE(r,o,u){Bd(r)&&u.delete(o)}function qN(){ev=!1,ba!==null&&Bd(ba)&&(ba=null),wa!==null&&Bd(wa)&&(wa=null),Ta!==null&&Bd(Ta)&&(Ta=null),$u.forEach(PE),Gu.forEach(PE)}function jd(r,o){r.blockedOn===o&&(r.blockedOn=null,ev||(ev=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qN)))}var Ud=null;function ME(r){Ud!==r&&(Ud=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ud===r&&(Ud=null);for(var o=0;o<r.length;o+=3){var u=r[o],d=r[o+1],m=r[o+2];if(typeof d!="function"){if(tv(d||u)===null)continue;break}var v=Fi(u);v!==null&&(r.splice(o,3),o-=3,ty(v,{pending:!0,data:m,method:u.method,action:d},d,m))}}))}function Yu(r){function o(H){return jd(H,r)}ba!==null&&jd(ba,r),wa!==null&&jd(wa,r),Ta!==null&&jd(Ta,r),$u.forEach(o),Gu.forEach(o);for(var u=0;u<Sa.length;u++){var d=Sa[u];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Sa.length&&(u=Sa[0],u.blockedOn===null);)kE(u),u.blockedOn===null&&Sa.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var m=u[d],v=u[d+1],A=m[Tt]||null;if(typeof v=="function")A||ME(u);else if(A){var k=null;if(v&&v.hasAttribute("formAction")){if(m=v,A=v[Tt]||null)k=A.formAction;else if(tv(m)!==null)continue}else k=A.action;typeof k=="function"?u[d+1]=k:(u.splice(d,3),d-=3),ME(u)}}}function nv(r){this._internalRoot=r}Fd.prototype.render=nv.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,d=Ii();xE(u,d,r,o,null,null)},Fd.prototype.unmount=nv.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;xE(r.current,2,null,r,null,null),Td(),o[pe]=null}};function Fd(r){this._internalRoot=r}Fd.prototype.unstable_scheduleHydration=function(r){if(r){var o=ye();r={blockedOn:null,target:r,priority:o};for(var u=0;u<Sa.length&&o!==0&&o<Sa[u].priority;u++);Sa.splice(u,0,r),u===0&&kE(r)}};var IE=t.version;if(IE!=="19.1.0")throw Error(i(527,IE,"19.1.0"));Z.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var WN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{ae=zd.inject(WN),Zt=zd}catch{}}return Qu.createRoot=function(r,o){if(!s(r))throw Error(i(299));var u=!1,d="",m=YT,v=XT,A=QT,k=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks)),o=SE(r,1,!1,null,null,u,d,m,v,A,k,null),r[pe]=o.current,By(r),new nv(o)},Qu.hydrateRoot=function(r,o,u){if(!s(r))throw Error(i(299));var d=!1,m="",v=YT,A=XT,k=QT,H=null,Q=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(H=u.unstable_transitionCallbacks),u.formState!==void 0&&(Q=u.formState)),o=SE(r,1,!0,o,u??null,d,m,v,A,k,H,Q),o.context=EE(null),u=o.current,d=Ii(),d=bt(d),m=aa(d),m.callback=null,oa(u,m,d),u=d,o.current.lanes=u,be(o,u),Hs(o),r[pe]=o.current,By(r),new Fd(o)},Qu.version="19.1.0",Qu}var HE;function i2(){if(HE)return rv.exports;HE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rv.exports=n2(),rv.exports}var s2=i2(),Zu={},qE;function r2(){if(qE)return Zu;qE=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.parse=l,Zu.serialize=f;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,b){const T=new a,S=_.length;if(S<2)return T;const E=(b==null?void 0:b.decode)||p;let C=0;do{const V=_.indexOf("=",C);if(V===-1)break;const B=_.indexOf(";",C),W=B===-1?S:B;if(V>W){C=_.lastIndexOf(";",V-1)+1;continue}const F=c(_,C,V),K=h(_,V,F),M=_.slice(F,K);if(T[M]===void 0){let D=c(_,V+1,W),P=h(_,W,D);const j=E(_.slice(D,P));T[M]=j}C=W+1}while(C<S);return T}function c(_,b,T){do{const S=_.charCodeAt(b);if(S!==32&&S!==9)return b}while(++b<T);return T}function h(_,b,T){for(;b>T;){const S=_.charCodeAt(--b);if(S!==32&&S!==9)return b+1}return T}function f(_,b,T){const S=(T==null?void 0:T.encode)||encodeURIComponent;if(!e.test(_))throw new TypeError(`argument name is invalid: ${_}`);const E=S(b);if(!t.test(E))throw new TypeError(`argument val is invalid: ${b}`);let C=_+"="+E;if(!T)return C;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);C+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);C+="; Domain="+T.domain}if(T.path){if(!i.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);C+="; Path="+T.path}if(T.expires){if(!y(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);C+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(C+="; HttpOnly"),T.secure&&(C+="; Secure"),T.partitioned&&(C+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return C}function p(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return s.call(_)==="[object Date]"}return Zu}r2();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var WE="popstate";function a2(e={}){function t(s,a){let{pathname:l="/",search:c="",hash:h=""}=al(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),n_("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=s.location.href,f=h.indexOf("#");c=f===-1?h:h.slice(0,f)}return c+"#"+(typeof a=="string"?a:Dh(a))}function i(s,a){ls(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return l2(t,n,i,e)}function ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ls(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function o2(){return Math.random().toString(36).substring(2,10)}function $E(e,t){return{usr:e.state,key:e.key,idx:t}}function n_(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?al(t):t,state:n,key:t&&t.key||i||o2()}}function Dh({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function al(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function l2(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,c="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function y(){c="POP";let E=p(),C=E==null?null:E-f;f=E,h&&h({action:c,location:S.location,delta:C})}function _(E,C){c="PUSH";let V=n_(S.location,E,C);n&&n(V,E),f=p()+1;let B=$E(V,f),W=S.createHref(V);try{l.pushState(B,"",W)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(W)}a&&h&&h({action:c,location:S.location,delta:1})}function b(E,C){c="REPLACE";let V=n_(S.location,E,C);n&&n(V,E),f=p();let B=$E(V,f),W=S.createHref(V);l.replaceState(B,"",W),a&&h&&h({action:c,location:S.location,delta:0})}function T(E){let C=s.location.origin!=="null"?s.location.origin:s.location.href,V=typeof E=="string"?E:Dh(E);return V=V.replace(/ $/,"%20"),ze(C,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,C)}let S={get action(){return c},get location(){return e(s,l)},listen(E){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(WE,y),h=E,()=>{s.removeEventListener(WE,y),h=null}},createHref(E){return t(s,E)},createURL:T,encodeLocation(E){let C=T(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:b,go(E){return l.go(E)}};return S}function k1(e,t,n="/"){return c2(e,t,n,!1)}function c2(e,t,n,i){let s=typeof t=="string"?al(t):t,a=$r(s.pathname||"/",n);if(a==null)return null;let l=P1(e);u2(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=w2(a);c=_2(l[h],f,i)}return c}function P1(e,t=[],n=[],i=""){let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(ze(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=Wr([i,h.relativePath]),p=n.concat(h);a.children&&a.children.length>0&&(ze(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),P1(a.children,t,p,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:y2(f,a.index),routesMeta:p})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of M1(a.path))s(a,l,h)}),t}function M1(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=M1(i.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function u2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:v2(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var h2=/^:[\w-]+$/,f2=3,d2=2,p2=1,g2=10,m2=-2,GE=e=>e==="*";function y2(e,t){let n=e.split("/"),i=n.length;return n.some(GE)&&(i+=m2),t&&(i+=d2),n.filter(s=>!GE(s)).reduce((s,a)=>s+(h2.test(a)?f2:a===""?p2:g2),i)}function v2(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function _2(e,t,n=!1){let{routesMeta:i}=e,s={},a="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],f=c===i.length-1,p=a==="/"?t:t.slice(a.length)||"/",y=Lp({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),_=h.route;if(!y&&f&&n&&!i[i.length-1].route.index&&(y=Lp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:Wr([a,y.pathname]),pathnameBase:x2(Wr([a,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(a=Wr([a,y.pathnameBase]))}return l}function Lp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=b2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:y},_)=>{if(p==="*"){let T=c[_]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const b=c[_];return y&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:e}}function b2(e,t=!1,n=!0){ls(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function w2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ls(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $r(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function T2(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?al(e):e;return{pathname:n?n.startsWith("/")?n:S2(n,t):t,search:A2(i),hash:R2(s)}}function S2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function cv(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function d0(e){let t=E2(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function p0(e,t,n,i=!1){let s;typeof e=="string"?s=al(e):(s={...e},ze(!s.pathname||!s.pathname.includes("?"),cv("?","pathname","search",s)),ze(!s.pathname||!s.pathname.includes("#"),cv("#","pathname","hash",s)),ze(!s.search||!s.search.includes("#"),cv("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let y=t.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;s.pathname=_.join("/")}c=y>=0?t[y]:"/"}let h=T2(s,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var Wr=e=>e.join("/").replace(/\/\/+/g,"/"),x2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),A2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,R2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function C2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var I1=["POST","PUT","PATCH","DELETE"];new Set(I1);var D2=["GET",...I1];new Set(D2);var Bc=I.createContext(null);Bc.displayName="DataRouter";var Sg=I.createContext(null);Sg.displayName="DataRouterState";var O1=I.createContext({isTransitioning:!1});O1.displayName="ViewTransition";var k2=I.createContext(new Map);k2.displayName="Fetchers";var P2=I.createContext(null);P2.displayName="Await";var Rs=I.createContext(null);Rs.displayName="Navigation";var rf=I.createContext(null);rf.displayName="Location";var dr=I.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var g0=I.createContext(null);g0.displayName="RouteError";function M2(e,{relative:t}={}){ze(jc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=I.useContext(Rs),{hash:s,pathname:a,search:l}=af(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:Wr([n,a])),i.createHref({pathname:c,search:l,hash:s})}function jc(){return I.useContext(rf)!=null}function pr(){return ze(jc(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(rf).location}var N1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L1(e){I.useContext(Rs).static||I.useLayoutEffect(e)}function Cs(){let{isDataRoute:e}=I.useContext(dr);return e?W2():I2()}function I2(){ze(jc(),"useNavigate() may be used only in the context of a <Router> component.");let e=I.useContext(Bc),{basename:t,navigator:n}=I.useContext(Rs),{matches:i}=I.useContext(dr),{pathname:s}=pr(),a=JSON.stringify(d0(i)),l=I.useRef(!1);return L1(()=>{l.current=!0}),I.useCallback((h,f={})=>{if(ls(l.current,N1),!l.current)return;if(typeof h=="number"){n.go(h);return}let p=p0(h,JSON.parse(a),s,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Wr([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,a,s,e])}I.createContext(null);function af(e,{relative:t}={}){let{matches:n}=I.useContext(dr),{pathname:i}=pr(),s=JSON.stringify(d0(n));return I.useMemo(()=>p0(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function O2(e,t){return V1(e,t)}function V1(e,t,n,i){var V;ze(jc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=I.useContext(Rs),{matches:l}=I.useContext(dr),c=l[l.length-1],h=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let B=y&&y.path||"";B1(f,!y||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let _=pr(),b;if(t){let B=typeof t=="string"?al(t):t;ze(p==="/"||((V=B.pathname)==null?void 0:V.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${B.pathname}" was given in the \`location\` prop.`),b=B}else b=_;let T=b.pathname||"/",S=T;if(p!=="/"){let B=p.replace(/^\//,"").split("/");S="/"+T.replace(/^\//,"").split("/").slice(B.length).join("/")}let E=!a&&n&&n.matches&&n.matches.length>0?n.matches:k1(e,{pathname:S});ls(y||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ls(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=j2(E&&E.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Wr([p,s.encodeLocation?s.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?p:Wr([p,s.encodeLocation?s.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,n,i);return t&&C?I.createElement(rf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function N2(){let e=q2(),t=C2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:a},"ErrorBoundary")," or"," ",I.createElement("code",{style:a},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),n?I.createElement("pre",{style:s},n):null,l)}var L2=I.createElement(N2,null),V2=class extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?I.createElement(dr.Provider,{value:this.props.routeContext},I.createElement(g0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function B2({routeContext:e,match:t,children:n}){let i=I.useContext(Bc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(dr.Provider,{value:e},n)}function j2(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);ze(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:y}=n,_=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,f,p)=>{let y,_=!1,b=null,T=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||L2,l&&(c<0&&p===0?(B1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):c===p&&(_=!0,T=f.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,p+1)),E=()=>{let C;return y?C=b:_?C=T:f.route.Component?C=I.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=h,I.createElement(B2,{match:f,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:C})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?I.createElement(V2,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):E()},null)}function m0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U2(e){let t=I.useContext(Bc);return ze(t,m0(e)),t}function F2(e){let t=I.useContext(Sg);return ze(t,m0(e)),t}function z2(e){let t=I.useContext(dr);return ze(t,m0(e)),t}function y0(e){let t=z2(e),n=t.matches[t.matches.length-1];return ze(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function H2(){return y0("useRouteId")}function q2(){var i;let e=I.useContext(g0),t=F2("useRouteError"),n=y0("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function W2(){let{router:e}=U2("useNavigate"),t=y0("useNavigate"),n=I.useRef(!1);return L1(()=>{n.current=!0}),I.useCallback(async(s,a={})=>{ls(n.current,N1),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var KE={};function B1(e,t,n){!t&&!KE[e]&&(KE[e]=!0,ls(!1,n))}I.memo($2);function $2({routes:e,future:t,state:n}){return V1(e,void 0,n,t)}function j1({to:e,replace:t,state:n,relative:i}){ze(jc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=I.useContext(Rs);ls(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=I.useContext(dr),{pathname:l}=pr(),c=Cs(),h=p0(e,d0(a),l,i==="path"),f=JSON.stringify(h);return I.useEffect(()=>{c(JSON.parse(f),{replace:t,state:n,relative:i})},[c,f,i,t,n]),null}function gs(e){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function G2({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){ze(!jc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=al(n));let{pathname:h="/",search:f="",hash:p="",state:y=null,key:_="default"}=n,b=I.useMemo(()=>{let T=$r(h,l);return T==null?null:{location:{pathname:T,search:f,hash:p,state:y,key:_},navigationType:i}},[l,h,f,p,y,_,i]);return ls(b!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:I.createElement(Rs.Provider,{value:c},I.createElement(rf.Provider,{children:t,value:b}))}function K2({children:e,location:t}){return O2(i_(e),t)}function i_(e,t=[]){let n=[];return I.Children.forEach(e,(i,s)=>{if(!I.isValidElement(i))return;let a=[...t,s];if(i.type===I.Fragment){n.push.apply(n,i_(i.props.children,a));return}ze(i.type===gs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=i_(i.props.children,a)),n.push(l)}),n}var mp="get",yp="application/x-www-form-urlencoded";function Eg(e){return e!=null&&typeof e.tagName=="string"}function Y2(e){return Eg(e)&&e.tagName.toLowerCase()==="button"}function X2(e){return Eg(e)&&e.tagName.toLowerCase()==="form"}function Q2(e){return Eg(e)&&e.tagName.toLowerCase()==="input"}function Z2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function J2(e,t){return e.button===0&&(!t||t==="_self")&&!Z2(e)}var Hd=null;function tL(){if(Hd===null)try{new FormData(document.createElement("form"),0),Hd=!1}catch{Hd=!0}return Hd}var eL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uv(e){return e!=null&&!eL.has(e)?(ls(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yp}"`),null):e}function nL(e,t){let n,i,s,a,l;if(X2(e)){let c=e.getAttribute("action");i=c?$r(c,t):null,n=e.getAttribute("method")||mp,s=uv(e.getAttribute("enctype"))||yp,a=new FormData(e)}else if(Y2(e)||Q2(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||c.getAttribute("action");if(i=h?$r(h,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||mp,s=uv(e.getAttribute("formenctype"))||uv(c.getAttribute("enctype"))||yp,a=new FormData(c,e),!tL()){let{name:f,type:p,value:y}=e;if(p==="image"){let _=f?`${f}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else f&&a.append(f,y)}}else{if(Eg(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mp,i=null,s=yp,l=e}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:l}}function v0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function iL(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sL(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function rL(e,t,n){let i=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await iL(a,n);return l.links?l.links():[]}return[]}));return cL(i.flat(1).filter(sL).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function YE(e,t,n,i,s,a){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,c=(h,f)=>{var p;return n[f].pathname!==h.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==h.params["*"]};return a==="assets"?t.filter((h,f)=>l(h,f)||c(h,f)):a==="data"?t.filter((h,f)=>{var y;let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function aL(e,t,{includeHydrateFallback:n}={}){return oL(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function oL(e){return[...new Set(e)]}function lL(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function cL(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let a=JSON.stringify(lL(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function uL(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&$r(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function U1(){let e=I.useContext(Bc);return v0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function hL(){let e=I.useContext(Sg);return v0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var _0=I.createContext(void 0);_0.displayName="FrameworkContext";function F1(){let e=I.useContext(_0);return v0(e,"You must render this element inside a <HydratedRouter> element"),e}function fL(e,t){let n=I.useContext(_0),[i,s]=I.useState(!1),[a,l]=I.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:y}=t,_=I.useRef(null);I.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let S=C=>{C.forEach(V=>{l(V.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return _.current&&E.observe(_.current),()=>{E.disconnect()}}},[e]),I.useEffect(()=>{if(i){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[i]);let b=()=>{s(!0)},T=()=>{s(!1),l(!1)};return n?e!=="intent"?[a,_,{}]:[a,_,{onFocus:Ju(c,b),onBlur:Ju(h,T),onMouseEnter:Ju(f,b),onMouseLeave:Ju(p,T),onTouchStart:Ju(y,b)}]:[!1,_,{}]}function Ju(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function dL({page:e,...t}){let{router:n}=U1(),i=I.useMemo(()=>k1(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?I.createElement(gL,{page:e,matches:i,...t}):null}function pL(e){let{manifest:t,routeModules:n}=F1(),[i,s]=I.useState([]);return I.useEffect(()=>{let a=!1;return rL(e,t,n).then(l=>{a||s(l)}),()=>{a=!0}},[e,t,n]),i}function gL({page:e,matches:t,...n}){let i=pr(),{manifest:s,routeModules:a}=F1(),{basename:l}=U1(),{loaderData:c,matches:h}=hL(),f=I.useMemo(()=>YE(e,t,h,s,i,"data"),[e,t,h,s,i]),p=I.useMemo(()=>YE(e,t,h,s,i,"assets"),[e,t,h,s,i]),y=I.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let T=new Set,S=!1;if(t.forEach(C=>{var B;let V=s.routes[C.route.id];!V||!V.hasLoader||(!f.some(W=>W.route.id===C.route.id)&&C.route.id in c&&((B=a[C.route.id])!=null&&B.shouldRevalidate)||V.hasClientLoader?S=!0:T.add(C.route.id))}),T.size===0)return[];let E=uL(e,l);return S&&T.size>0&&E.searchParams.set("_routes",t.filter(C=>T.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[l,c,i,s,f,t,e,a]),_=I.useMemo(()=>aL(p,s),[p,s]),b=pL(p);return I.createElement(I.Fragment,null,y.map(T=>I.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),_.map(T=>I.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),b.map(({key:T,link:S})=>I.createElement("link",{key:T,...S})))}function mL(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var z1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z1&&(window.__reactRouterVersion="7.5.0")}catch{}function yL({basename:e,children:t,window:n}){let i=I.useRef();i.current==null&&(i.current=a2({window:n,v5Compat:!0}));let s=i.current,[a,l]=I.useState({action:s.action,location:s.location}),c=I.useCallback(h=>{I.startTransition(()=>l(h))},[l]);return I.useLayoutEffect(()=>s.listen(c),[s,c]),I.createElement(G2,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var H1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Da=I.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:f,preventScrollReset:p,viewTransition:y,..._},b){let{basename:T}=I.useContext(Rs),S=typeof f=="string"&&H1.test(f),E,C=!1;if(typeof f=="string"&&S&&(E=f,z1))try{let P=new URL(window.location.href),j=f.startsWith("//")?new URL(P.protocol+f):new URL(f),U=$r(j.pathname,T);j.origin===P.origin&&U!=null?f=U+j.search+j.hash:C=!0}catch{ls(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=M2(f,{relative:s}),[B,W,F]=fL(i,_),K=wL(f,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:y});function M(P){t&&t(P),P.defaultPrevented||K(P)}let D=I.createElement("a",{..._,...F,href:E||V,onClick:C||a?t:M,ref:mL(b,W),target:h,"data-discover":!S&&n==="render"?"true":void 0});return B&&!S?I.createElement(I.Fragment,null,D,I.createElement(dL,{page:V})):D});Da.displayName="Link";var vL=I.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...f},p){let y=af(l,{relative:f.relative}),_=pr(),b=I.useContext(Sg),{navigator:T,basename:S}=I.useContext(Rs),E=b!=null&&AL(y)&&c===!0,C=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,V=_.pathname,B=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(V=V.toLowerCase(),B=B?B.toLowerCase():null,C=C.toLowerCase()),B&&S&&(B=$r(B,S)||B);const W=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let F=V===C||!s&&V.startsWith(C)&&V.charAt(W)==="/",K=B!=null&&(B===C||!s&&B.startsWith(C)&&B.charAt(C.length)==="/"),M={isActive:F,isPending:K,isTransitioning:E},D=F?t:void 0,P;typeof i=="function"?P=i(M):P=[i,F?"active":null,K?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let j=typeof a=="function"?a(M):a;return I.createElement(Da,{...f,"aria-current":D,className:P,ref:p,style:j,to:l,viewTransition:c},typeof h=="function"?h(M):h)});vL.displayName="NavLink";var _L=I.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:a,method:l=mp,action:c,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:y,..._},b)=>{let T=EL(),S=xL(c,{relative:f}),E=l.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&H1.test(c),V=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let W=B.nativeEvent.submitter,F=(W==null?void 0:W.getAttribute("formmethod"))||l;T(W||B.currentTarget,{fetcherKey:t,method:F,navigate:n,replace:s,state:a,relative:f,preventScrollReset:p,viewTransition:y})};return I.createElement("form",{ref:b,method:E,action:S,onSubmit:i?h:V,..._,"data-discover":!C&&e==="render"?"true":void 0})});_L.displayName="Form";function bL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q1(e){let t=I.useContext(Bc);return ze(t,bL(e)),t}function wL(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Cs(),h=pr(),f=af(e,{relative:a});return I.useCallback(p=>{if(J2(p,t)){p.preventDefault();let y=n!==void 0?n:Dh(h)===Dh(f);c(e,{replace:y,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,f,n,i,t,e,s,a,l])}var TL=0,SL=()=>`__${String(++TL)}__`;function EL(){let{router:e}=q1("useSubmit"),{basename:t}=I.useContext(Rs),n=H2();return I.useCallback(async(i,s={})=>{let{action:a,method:l,encType:c,formData:h,body:f}=nL(i,t);if(s.navigate===!1){let p=s.fetcherKey||SL();await e.fetch(p,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function xL(e,{relative:t}={}){let{basename:n}=I.useContext(Rs),i=I.useContext(dr);ze(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...af(e||".",{relative:t})},l=pr();if(e==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Wr([n,a.pathname])),Dh(a)}function AL(e,t={}){let n=I.useContext(O1);ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=q1("useViewTransitionState"),s=af(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=$r(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=$r(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Lp(s.pathname,l)!=null||Lp(s.pathname,a)!=null}new TextEncoder;const RL=()=>{};var XE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},CL=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=e[n++];t[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=e[n++],l=e[n++],c=e[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const a=e[n++],l=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return t.join("")},$1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const a=e[s],l=s+1<e.length,c=l?e[s+1]:0,h=s+2<e.length,f=h?e[s+2]:0,p=a>>2,y=(a&3)<<4|c>>4;let _=(c&15)<<2|f>>6,b=f&63;h||(b=64,l||(_=64)),i.push(n[p],n[y],n[_],n[b])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(W1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):CL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const a=n[e.charAt(s++)],c=s<e.length?n[e.charAt(s)]:0;++s;const f=s<e.length?n[e.charAt(s)]:64;++s;const y=s<e.length?n[e.charAt(s)]:64;if(++s,a==null||c==null||f==null||y==null)throw new DL;const _=a<<2|c>>4;if(i.push(_),f!==64){const b=c<<4&240|f>>2;if(i.push(b),y!==64){const T=f<<6&192|y;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class DL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kL=function(e){const t=W1(e);return $1.encodeByteArray(t,!0)},Vp=function(e){return kL(e).replace(/\./g,"")},G1=function(e){try{return $1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=()=>PL().__FIREBASE_DEFAULTS__,IL=()=>{if(typeof process>"u"||typeof XE>"u")return;const e=XE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},OL=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&G1(e[1]);return t&&JSON.parse(t)},xg=()=>{try{return RL()||ML()||IL()||OL()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},K1=e=>{var t,n;return(n=(t=xg())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},NL=e=>{const t=K1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Y1=()=>{var e;return(e=xg())===null||e===void 0?void 0:e.config},X1=e=>{var t;return(t=xg())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Vp(JSON.stringify(n)),Vp(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ti())}function jL(){var e;const t=(e=xg())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q1(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function FL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zL(){const e=ti();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function HL(){return!jL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z1(){try{return typeof indexedDB=="object"}catch{return!1}}function J1(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;t(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}function qL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="FirebaseError";class Ds extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=WL,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ol.prototype.create)}}class ol{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,a=this.errors[t],l=a?$L(a,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Ds(s,c,i)}}function $L(e,t){return e.replace(GL,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const GL=/\{\$([^}]+)}/g;function KL(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Gr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const a=e[s],l=t[s];if(QE(a)&&QE(l)){if(!Gr(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function QE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function YL(e,t){const n=new XL(e,t);return n.subscribe.bind(n)}class XL{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");QL(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=hv),s.error===void 0&&(s.error=hv),s.complete===void 0&&(s.complete=hv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QL(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function hv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=1e3,JL=2,tV=4*60*60*1e3,eV=.5;function ZE(e,t=ZL,n=JL){const i=t*Math.pow(n,e),s=Math.round(eV*i*(Math.random()-.5)*2);return Math.min(tV,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(e){return e&&e._delegate?e._delegate:e}class Ts{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new LL;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(sV(t))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(t=No){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=No){return this.instances.has(t)}getOptions(t=No){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);i===c&&l.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:iV(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=No){return this.component?this.component.multipleInstances?t:No:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iV(e){return e===No?void 0:e}function sV(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new nV(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ee||(ee={}));const aV={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},oV=ee.INFO,lV={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},cV=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=lV[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ag{constructor(t){this.name=t,this._logLevel=oV,this._logHandler=cV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ee))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...t),this._logHandler(this,ee.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...t),this._logHandler(this,ee.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...t),this._logHandler(this,ee.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...t),this._logHandler(this,ee.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...t),this._logHandler(this,ee.ERROR,...t)}}const uV=(e,t)=>t.some(n=>e instanceof n);let JE,tx;function hV(){return JE||(JE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fV(){return tx||(tx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tD=new WeakMap,s_=new WeakMap,eD=new WeakMap,fv=new WeakMap,b0=new WeakMap;function dV(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{n(Va(e.result)),s()},l=()=>{i(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&tD.set(n,e)}).catch(()=>{}),b0.set(t,e),t}function pV(e){if(s_.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});s_.set(e,t)}let r_={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return s_.get(e);if(t==="objectStoreNames")return e.objectStoreNames||eD.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Va(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function gV(e){r_=e(r_)}function mV(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(dv(this),t,...n);return eD.set(i,t.sort?t.sort():[t]),Va(i)}:fV().includes(e)?function(...t){return e.apply(dv(this),t),Va(tD.get(this))}:function(...t){return Va(e.apply(dv(this),t))}}function yV(e){return typeof e=="function"?mV(e):(e instanceof IDBTransaction&&pV(e),uV(e,hV())?new Proxy(e,r_):e)}function Va(e){if(e instanceof IDBRequest)return dV(e);if(fv.has(e))return fv.get(e);const t=yV(e);return t!==e&&(fv.set(e,t),b0.set(t,e)),t}const dv=e=>b0.get(e);function nD(e,t,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(e,t),c=Va(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Va(l.result),h.oldVersion,h.newVersion,Va(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const vV=["get","getKey","getAll","getAllKeys","count"],_V=["put","add","delete","clear"],pv=new Map;function ex(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(pv.get(t))return pv.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=_V.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||vV.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&h.done]))[0]};return pv.set(t,a),a}gV(e=>({...e,get:(t,n,i)=>ex(t,n)||e.get(t,n,i),has:(t,n)=>!!ex(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wV(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function wV(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const a_="@firebase/app",nx="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new Ag("@firebase/app"),TV="@firebase/app-compat",SV="@firebase/analytics-compat",EV="@firebase/analytics",xV="@firebase/app-check-compat",AV="@firebase/app-check",RV="@firebase/auth",CV="@firebase/auth-compat",DV="@firebase/database",kV="@firebase/data-connect",PV="@firebase/database-compat",MV="@firebase/functions",IV="@firebase/functions-compat",OV="@firebase/installations",NV="@firebase/installations-compat",LV="@firebase/messaging",VV="@firebase/messaging-compat",BV="@firebase/performance",jV="@firebase/performance-compat",UV="@firebase/remote-config",FV="@firebase/remote-config-compat",zV="@firebase/storage",HV="@firebase/storage-compat",qV="@firebase/firestore",WV="@firebase/vertexai",$V="@firebase/firestore-compat",GV="firebase",KV="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="[DEFAULT]",YV={[a_]:"fire-core",[TV]:"fire-core-compat",[EV]:"fire-analytics",[SV]:"fire-analytics-compat",[AV]:"fire-app-check",[xV]:"fire-app-check-compat",[RV]:"fire-auth",[CV]:"fire-auth-compat",[DV]:"fire-rtdb",[kV]:"fire-data-connect",[PV]:"fire-rtdb-compat",[MV]:"fire-fn",[IV]:"fire-fn-compat",[OV]:"fire-iid",[NV]:"fire-iid-compat",[LV]:"fire-fcm",[VV]:"fire-fcm-compat",[BV]:"fire-perf",[jV]:"fire-perf-compat",[UV]:"fire-rc",[FV]:"fire-rc-compat",[zV]:"fire-gcs",[HV]:"fire-gcs-compat",[qV]:"fire-fst",[$V]:"fire-fst-compat",[WV]:"fire-vertex","fire-js":"fire-js",[GV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=new Map,XV=new Map,l_=new Map;function ix(e,t){try{e.container.addComponent(t)}catch(n){Kr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function or(e){const t=e.name;if(l_.has(t))return Kr.debug(`There were multiple attempts to register component ${t}.`),!1;l_.set(t,e);for(const n of Bp.values())ix(n,e);for(const n of XV.values())ix(n,e);return!0}function ll(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ys(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ba=new ol("app","Firebase",QV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ba.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=KV;function iD(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:o_,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw Ba.create("bad-app-name",{appName:String(s)});if(n||(n=Y1()),!n)throw Ba.create("no-options");const a=Bp.get(s);if(a){if(Gr(n,a.options)&&Gr(i,a.config))return a;throw Ba.create("duplicate-app",{appName:s})}const l=new rV(s);for(const h of l_.values())l.addComponent(h);const c=new ZV(n,i,l);return Bp.set(s,c),c}function w0(e=o_){const t=Bp.get(e);if(!t&&e===o_&&Y1())return iD();if(!t)throw Ba.create("no-app",{appName:e});return t}function as(e,t,n){var i;let s=(i=YV[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Kr.warn(c.join(" "));return}or(new Ts(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV="firebase-heartbeat-database",tB=1,kh="firebase-heartbeat-store";let gv=null;function sD(){return gv||(gv=nD(JV,tB,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(kh)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ba.create("idb-open",{originalErrorMessage:e.message})})),gv}async function eB(e){try{const n=(await sD()).transaction(kh),i=await n.objectStore(kh).get(rD(e));return await n.done,i}catch(t){if(t instanceof Ds)Kr.warn(t.message);else{const n=Ba.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Kr.warn(n.message)}}}async function sx(e,t){try{const i=(await sD()).transaction(kh,"readwrite");await i.objectStore(kh).put(t,rD(e)),await i.done}catch(n){if(n instanceof Ds)Kr.warn(n.message);else{const i=Ba.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kr.warn(i.message)}}}function rD(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=1024,iB=30;class sB{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aB(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=rx();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>iB){const l=oB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Kr.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rx(),{heartbeatsToSend:i,unsentEntries:s}=rB(this._heartbeatsCache.heartbeats),a=Vp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Kr.warn(n),""}}}function rx(){return new Date().toISOString().substring(0,10)}function rB(e,t=nB){const n=[];let i=e.slice();for(const s of e){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),ax(n)>t){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ax(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class aB{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z1()?J1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return sx(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return sx(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function ax(e){return Vp(JSON.stringify({version:2,heartbeats:e})).length}function oB(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lB(e){or(new Ts("platform-logger",t=>new bV(t),"PRIVATE")),or(new Ts("heartbeat",t=>new sB(t),"PRIVATE")),as(a_,nx,e),as(a_,nx,"esm2017"),as("fire-js","")}lB("");function T0(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function aD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cB=aD,oD=new ol("auth","Firebase",aD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=new Ag("@firebase/auth");function uB(e,...t){jp.logLevel<=ee.WARN&&jp.warn(`Auth (${Uc}): ${e}`,...t)}function vp(e,...t){jp.logLevel<=ee.ERROR&&jp.error(`Auth (${Uc}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(e,...t){throw E0(e,...t)}function bs(e,...t){return E0(e,...t)}function S0(e,t,n){const i=Object.assign(Object.assign({},cB()),{[t]:n});return new ol("auth","Firebase",i).create(t,{appName:e.name})}function $o(e){return S0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hB(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&lr(e,"argument-error"),S0(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function E0(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return oD.create(e,...t)}function Bt(e,t,...n){if(!e)throw E0(t,...n)}function Hr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw vp(t),new Error(t)}function Yr(e,t){e||Hr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function fB(){return ox()==="http:"||ox()==="https:"}function ox(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fB()||Q1()||"connection"in navigator)?navigator.onLine:!0}function pB(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,n){this.shortDelay=t,this.longDelay=n,Yr(n>t,"Short delay should be less than long delay!"),this.isMobile=BL()||FL()}get(){return dB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(e,t){Yr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yB=new lf(3e4,6e4);function A0(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Fc(e,t,n,i,s={}){return cD(e,s,async()=>{let a={},l={};i&&(t==="GET"?l=i:a={body:JSON.stringify(i)});const c=of(Object.assign({key:e.config.apiKey},l)).slice(1),h=await e._getAdditionalHeaders();h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode);const f=Object.assign({method:t,headers:h},a);return UL()||(f.referrerPolicy="no-referrer"),lD.fetch()(await uD(e,e.config.apiHost,n,c),f)})}async function cD(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},gB),t);try{const s=new _B(e),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw qd(e,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw qd(e,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw qd(e,"email-already-in-use",l);if(h==="USER_DISABLED")throw qd(e,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw S0(e,p,f);lr(e,p)}}catch(s){if(s instanceof Ds)throw s;lr(e,"network-request-failed",{message:String(s)})}}async function vB(e,t,n,i,s={}){const a=await Fc(e,t,n,i,s);return"mfaPendingCredential"in a&&lr(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function uD(e,t,n,i){const s=`${t}${n}?${i}`,a=e,l=a.config.emulator?x0(e.config,s):`${e.config.apiScheme}://${s}`;return mB.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class _B{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(bs(this.auth,"network-request-failed")),yB.get())})}}function qd(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=bs(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bB(e,t){return Fc(e,"POST","/v1/accounts:delete",t)}async function Up(e,t){return Fc(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function wB(e,t=!1){const n=ei(e),i=await n.getIdToken(t),s=R0(i);Bt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:gh(mv(s.auth_time)),issuedAtTime:gh(mv(s.iat)),expirationTime:gh(mv(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function mv(e){return Number(e)*1e3}function R0(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return vp("JWT malformed, contained fewer than 3 sections"),null;try{const s=G1(n);return s?JSON.parse(s):(vp("Failed to decode base64 JWT payload"),null)}catch(s){return vp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function lx(e){const t=R0(e);return Bt(t,"internal-error"),Bt(typeof t.exp<"u","internal-error"),Bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Ds&&TB(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function TB({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gh(this.lastLoginAt),this.creationTime=gh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fp(e){var t;const n=e.auth,i=await e.getIdToken(),s=await Ph(e,Up(n,{idToken:i}));Bt(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?hD(a.providerUserInfo):[],c=xB(e.providerData,l),h=e.isAnonymous,f=!(e.email&&a.passwordHash)&&!(c!=null&&c.length),p=h?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new u_(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function EB(e){const t=ei(e);await Fp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function xB(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function hD(e){return e.map(t=>{var{providerId:n}=t,i=T0(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AB(e,t){const n=await cD(e,{},async()=>{const i=of({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=e.config,l=await uD(e,s,"/v1/token",`key=${a}`),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",lD.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RB(e,t){return Fc(e,"POST","/v2/accounts:revokeToken",A0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Bt(t.idToken,"internal-error"),Bt(typeof t.idToken<"u","internal-error"),Bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):lx(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Bt(t.length!==0,"internal-error");const n=lx(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await AB(t,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,l=new fc;return i&&(Bt(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(Bt(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),a&&(Bt(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new fc,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(e,t){Bt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class vs{constructor(t){var{uid:n,auth:i,stsTokenManager:s}=t,a=T0(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new u_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await Ph(this,this.stsTokenManager.getToken(this.auth,t));return Bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return wB(this,t)}reload(){return EB(this)}_assign(t){this!==t&&(Bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new vs(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Fp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ys(this.auth.app))return Promise.reject($o(this.auth));const t=await this.getIdToken();return await Ph(this,bB(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,s,a,l,c,h,f,p;const y=(i=n.displayName)!==null&&i!==void 0?i:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,b=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,T=(l=n.photoURL)!==null&&l!==void 0?l:void 0,S=(c=n.tenantId)!==null&&c!==void 0?c:void 0,E=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,C=(f=n.createdAt)!==null&&f!==void 0?f:void 0,V=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:B,emailVerified:W,isAnonymous:F,providerData:K,stsTokenManager:M}=n;Bt(B&&M,t,"internal-error");const D=fc.fromJSON(this.name,M);Bt(typeof B=="string",t,"internal-error"),xa(y,t.name),xa(_,t.name),Bt(typeof W=="boolean",t,"internal-error"),Bt(typeof F=="boolean",t,"internal-error"),xa(b,t.name),xa(T,t.name),xa(S,t.name),xa(E,t.name),xa(C,t.name),xa(V,t.name);const P=new vs({uid:B,auth:t,email:_,emailVerified:W,displayName:y,isAnonymous:F,photoURL:T,phoneNumber:b,tenantId:S,stsTokenManager:D,createdAt:C,lastLoginAt:V});return K&&Array.isArray(K)&&(P.providerData=K.map(j=>Object.assign({},j))),E&&(P._redirectEventId=E),P}static async _fromIdTokenResponse(t,n,i=!1){const s=new fc;s.updateFromServerResponse(n);const a=new vs({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Fp(a),a}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];Bt(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?hD(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new fc;c.updateFromIdToken(i);const h=new vs({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new u_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=new Map;function qr(e){Yr(e instanceof Function,"Expected a class definition");let t=cx.get(e);return t?(Yr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,cx.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}fD.type="NONE";const ux=fD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(e,t,n){return`firebase:${e}:${t}:${n}`}class dc{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=_p(this.userKey,s.apiKey,a),this.fullPersistenceKey=_p("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Up(this.auth,{idToken:t}).catch(()=>{});return n?vs._fromGetAccountInfoResponse(this.auth,n,t):null}return vs._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new dc(qr(ux),t,i);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=s[0]||qr(ux);const l=_p(i,t.config.apiKey,t.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){let y;if(typeof p=="string"){const _=await Up(t,{idToken:p}).catch(()=>{});if(!_)break;y=await vs._fromGetAccountInfoResponse(t,_,p)}else y=vs._fromJSON(t,p);f!==a&&(c=y),a=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new dc(a,t,i):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new dc(a,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mD(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dD(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vD(t))return"Blackberry";if(_D(t))return"Webos";if(pD(t))return"Safari";if((t.includes("chrome/")||gD(t))&&!t.includes("edge/"))return"Chrome";if(yD(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function dD(e=ti()){return/firefox\//i.test(e)}function pD(e=ti()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gD(e=ti()){return/crios\//i.test(e)}function mD(e=ti()){return/iemobile/i.test(e)}function yD(e=ti()){return/android/i.test(e)}function vD(e=ti()){return/blackberry/i.test(e)}function _D(e=ti()){return/webos/i.test(e)}function C0(e=ti()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function CB(e=ti()){var t;return C0(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function DB(){return zL()&&document.documentMode===10}function bD(e=ti()){return C0(e)||yD(e)||_D(e)||vD(e)||/windows phone/i.test(e)||mD(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(e,t=[]){let n;switch(e){case"Browser":n=hx(ti());break;case"Worker":n=`${hx(ti())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=a=>new Promise((l,c)=>{try{const h=t(a);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PB(e,t={}){return Fc(e,"GET","/v2/passwordPolicy",A0(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=6;class IB{constructor(t){var n,i,s,a;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:MB,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=t.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,s,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,h),this.validatePasswordCharacterOptions(t,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fx(this),this.idTokenSubscription=new fx(this),this.beforeStateQueue=new kB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=qr(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await dc.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Up(this,{idToken:t}),i=await vs._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ys(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Fp(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=pB()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ys(this.app))return Promise.reject($o(this));const n=t?ei(t):null;return n&&Bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ys(this.app)?Promise.reject($o(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ys(this.app)?Promise.reject($o(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await PB(this),n=new IB(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ol("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await RB(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&qr(t)||this._popupRedirectResolver;Bt(n,this,"argument-error"),this.redirectPersistenceManager=await dc.create(this,[qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=t.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=t.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;if(ys(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&uB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function cf(e){return ei(e)}class fx{constructor(t){this.auth=t,this.observer=null,this.addObserver=YL(n=>this.observer=n)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NB(e){D0=e}function LB(e){return D0.loadJS(e)}function VB(){return D0.gapiScript}function BB(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(e,t){const n=ll(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Gr(a,t??{}))return s;lr(s,"already-initialized")}return n.initialize({options:t})}function UB(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(qr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function FB(e,t,n){const i=cf(e);Bt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,a=TD(t),{host:l,port:c}=zB(t),h=c===null?"":`:${c}`,f={url:`${a}//${l}${h}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Bt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Bt(Gr(f,i.config.emulator)&&Gr(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,HB()}function TD(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function zB(e){const t=TD(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:dx(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:dx(l)}}}function dx(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function HB(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(t){return Hr("not implemented")}_linkToIdToken(t,n){return Hr("not implemented")}_getReauthenticationResolver(t){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(e,t){return vB(e,"POST","/v1/accounts:signInWithIdp",A0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB="http://localhost";class Qo extends SD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Qo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=n,a=T0(n,["providerId","signInMethod"]);if(!i||!s)return null;const l=new Qo(i,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const n=this.buildRequest();return pc(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,pc(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,pc(t,n)}buildRequest(){const t={requestUri:qB,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=of(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends k0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends uf{constructor(){super("facebook.com")}static credential(t){return Qo._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ka.credentialFromTaggedObject(t)}static credentialFromError(t){return ka.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ka.credential(t.oauthAccessToken)}catch{return null}}}ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";ka.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends uf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Qo._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return zr.credential(n,i)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends uf{constructor(){super("github.com")}static credential(t){return Qo._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pa.credentialFromTaggedObject(t)}static credentialFromError(t){return Pa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pa.credential(t.oauthAccessToken)}catch{return null}}}Pa.GITHUB_SIGN_IN_METHOD="github.com";Pa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends uf{constructor(){super("twitter.com")}static credential(t,n){return Qo._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ma.credentialFromTaggedObject(t)}static credentialFromError(t){return Ma.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ma.credential(n,i)}catch{return null}}}Ma.TWITTER_SIGN_IN_METHOD="twitter.com";Ma.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const a=await vs._fromIdTokenResponse(t,i,s),l=px(i);return new wc({user:a,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=px(i);return new wc({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function px(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends Ds{constructor(t,n,i,s){var a;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,zp.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new zp(t,n,i,s)}}function ED(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?zp._fromErrorAndOperation(e,a,t,i):a})}async function WB(e,t,n=!1){const i=await Ph(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return wc._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $B(e,t,n=!1){const{auth:i}=e;if(ys(i.app))return Promise.reject($o(i));const s="reauthenticate";try{const a=await Ph(e,ED(i,s,t,e),n);Bt(a.idToken,i,"internal-error");const l=R0(a.idToken);Bt(l,i,"internal-error");const{sub:c}=l;return Bt(e.uid===c,i,"user-mismatch"),wc._forOperation(e,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&lr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GB(e,t,n=!1){if(ys(e.app))return Promise.reject($o(e));const i="signIn",s=await ED(e,i,t),a=await wc._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(a.user),a}function KB(e,t,n,i){return ei(e).onIdTokenChanged(t,n,i)}function YB(e,t,n){return ei(e).beforeAuthStateChanged(t,n)}function XB(e){return ei(e).signOut()}const Hp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hp,"1"),this.storage.removeItem(Hp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=1e3,ZB=10;class AD extends xD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bD(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);DB()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,ZB):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},QB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}AD.type="LOCAL";const JB=AD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD extends xD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}RD.type="SESSION";const CD=RD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new Rg(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(n.origin,a)),h=await tj(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const f=P0("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(_.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(){return window}function nj(e){Qs().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){return typeof Qs().WorkerGlobalScope<"u"&&typeof Qs().importScripts=="function"}async function ij(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sj(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function rj(){return DD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="firebaseLocalStorageDb",aj=1,qp="firebaseLocalStorage",PD="fbase_key";class hf{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cg(e,t){return e.transaction([qp],t?"readwrite":"readonly").objectStore(qp)}function oj(){const e=indexedDB.deleteDatabase(kD);return new hf(e).toPromise()}function h_(){const e=indexedDB.open(kD,aj);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(qp,{keyPath:PD})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(qp)?t(i):(i.close(),await oj(),t(await h_()))})})}async function gx(e,t,n){const i=Cg(e,!0).put({[PD]:t,value:n});return new hf(i).toPromise()}async function lj(e,t){const n=Cg(e,!1).get(t),i=await new hf(n).toPromise();return i===void 0?null:i.value}function mx(e,t){const n=Cg(e,!0).delete(t);return new hf(n).toPromise()}const cj=800,uj=3;class MD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h_(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>uj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rg._getInstance(rj()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await ij(),!this.activeServiceWorker)return;this.sender=new ej(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await h_();return await gx(t,Hp,"1"),await mx(t,Hp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>gx(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>lj(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>mx(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const a=Cg(s,!1).getAll();return new hf(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MD.type="LOCAL";const hj=MD;new lf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(e,t){return t?qr(t):(Bt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends SD{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return pc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return pc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return pc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function fj(e){return GB(e.auth,new M0(e),e.bypassAuthState)}function dj(e){const{auth:t,user:n}=e;return Bt(n,t,"internal-error"),$B(n,new M0(e),e.bypassAuthState)}async function pj(e){const{auth:t,user:n}=e;return Bt(n,t,"internal-error"),WB(n,new M0(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t,n,i,s,a=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:l,type:c}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fj;case"linkViaPopup":case"linkViaRedirect":return pj;case"reauthViaPopup":case"reauthViaRedirect":return dj;default:lr(this.auth,"internal-error")}}resolve(t){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=new lf(2e3,1e4);async function mj(e,t,n){if(ys(e.app))return Promise.reject(bs(e,"operation-not-supported-in-this-environment"));const i=cf(e);hB(e,t,k0);const s=ID(i,n);return new jo(i,"signInViaPopup",t,s).executeNotNull()}class jo extends OD{constructor(t,n,i,s,a){super(t,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Bt(t,this.auth,"internal-error"),t}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const t=P0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gj.get())};t()}}jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="pendingRedirect",bp=new Map;class vj extends OD{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=bp.get(this.auth._key());if(!t){try{const i=await _j(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}bp.set(this.auth._key(),t)}return this.bypassAuthState||bp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _j(e,t){const n=Tj(t),i=wj(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function bj(e,t){bp.set(e._key(),t)}function wj(e){return qr(e._redirectPersistence)}function Tj(e){return _p(yj,e.config.apiKey,e.name)}async function Sj(e,t){return await cf(e)._initializationPromise,ND(e,t,!1)}async function ND(e,t,n=!1){if(ys(e.app))return Promise.reject($o(e));const i=cf(e),s=ID(i,t),l=await new vj(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=10*60*1e3;class xj{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Aj(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!LD(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(bs(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Ej&&this.cachedEventUids.clear(),this.cachedEventUids.has(yx(t))}saveEventToCache(t){this.cachedEventUids.add(yx(t)),this.lastProcessedEventTime=Date.now()}}function yx(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function LD({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Aj(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LD(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(e,t={}){return Fc(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dj=/^https?/;async function kj(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Rj(e);for(const n of t)try{if(Pj(n))return}catch{}lr(e,"unauthorized-domain")}function Pj(e){const t=c_(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const l=new URL(e);return l.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!Dj.test(n))return!1;if(Cj.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=new lf(3e4,6e4);function vx(){const e=Qs().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Ij(e){return new Promise((t,n)=>{var i,s,a;function l(){vx(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vx(),n(bs(e,"network-request-failed"))},timeout:Mj.get()})}if(!((s=(i=Qs().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((a=Qs().gapi)===null||a===void 0)&&a.load)l();else{const c=BB("iframefcb");return Qs()[c]=()=>{gapi.load?l():n(bs(e,"network-request-failed"))},LB(`${VB()}?onload=${c}`).catch(h=>n(h))}}).catch(t=>{throw wp=null,t})}let wp=null;function Oj(e){return wp=wp||Ij(e),wp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=new lf(5e3,15e3),Lj="__/auth/iframe",Vj="emulator/auth/iframe",Bj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uj(e){const t=e.config;Bt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?x0(t,Vj):`https://${e.config.authDomain}/${Lj}`,i={apiKey:t.apiKey,appName:e.name,v:Uc},s=jj.get(e.config.apiHost);s&&(i.eid=s);const a=e._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${of(i).slice(1)}`}async function Fj(e){const t=await Oj(e),n=Qs().gapi;return Bt(n,e,"internal-error"),t.open({where:document.body,url:Uj(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bj,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const l=bs(e,"network-request-failed"),c=Qs().setTimeout(()=>{a(l)},Nj.get());function h(){Qs().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hj=500,qj=600,Wj="_blank",$j="http://localhost";class _x{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Gj(e,t,n,i=Hj,s=qj){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},zj),{width:i.toString(),height:s.toString(),top:a,left:l}),f=ti().toLowerCase();n&&(c=gD(f)?Wj:n),dD(f)&&(t=t||$j,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[b,T])=>`${_}${b}=${T},`,"");if(CB(f)&&c!=="_self")return Kj(t||"",c),new _x(null);const y=window.open(t||"",c,p);Bt(y,e,"popup-blocked");try{y.focus()}catch{}return new _x(y)}function Kj(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj="__/auth/handler",Xj="emulator/auth/handler",Qj=encodeURIComponent("fac");async function bx(e,t,n,i,s,a){Bt(e.config.authDomain,e,"auth-domain-config-required"),Bt(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Uc,eventId:s};if(t instanceof k0){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",KL(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof uf){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await e._getAppCheckToken(),f=h?`#${Qj}=${encodeURIComponent(h)}`:"";return`${Zj(e)}?${of(c).slice(1)}${f}`}function Zj({config:e}){return e.emulator?x0(e,Xj):`https://${e.authDomain}/${Yj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="webStorageSupport";class Jj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CD,this._completeRedirectFn=ND,this._overrideRedirectResult=bj}async _openPopup(t,n,i,s){var a;Yr((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await bx(t,n,i,c_(),s);return Gj(t,l,P0())}async _openRedirect(t,n,i,s){await this._originValidation(t);const a=await bx(t,n,i,c_(),s);return nj(a),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Yr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await Fj(t),i=new xj(t);return n.register("authEvent",s=>(Bt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(yv,{type:yv},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[yv];l!==void 0&&n(!!l),lr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kj(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return bD()||pD()||C0()}}const tU=Jj;var wx="@firebase/auth",Tx="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iU(e){or(new Ts("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;Bt(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wD(e)},f=new OB(i,s,a,h);return UB(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),or(new Ts("auth-internal",t=>{const n=cf(t.getProvider("auth").getImmediate());return(i=>new eU(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(wx,Tx,nU(e)),as(wx,Tx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=5*60,rU=X1("authIdTokenMaxAge")||sU;let Sx=null;const aU=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>rU)return;const s=n==null?void 0:n.token;Sx!==s&&(Sx=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function oU(e=w0()){const t=ll(e,"auth");if(t.isInitialized())return t.getImmediate();const n=jB(e,{popupRedirectResolver:tU,persistence:[hj,JB,CD]}),i=X1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=aU(a.toString());YB(n,l,()=>l(n.currentUser)),KB(n,c=>l(c))}}const s=K1("auth");return s&&FB(n,`http://${s}`),n}function lU(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}NB({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const a=bs("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",lU().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iU("Browser");var Ex=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ja,VD;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,D){function P(){}P.prototype=D.prototype,M.D=D.prototype,M.prototype=new P,M.prototype.constructor=M,M.C=function(j,U,L){for(var N=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)N[rt-2]=arguments[rt];return D.prototype[U].apply(j,N)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,D,P){P||(P=0);var j=Array(16);if(typeof D=="string")for(var U=0;16>U;++U)j[U]=D.charCodeAt(P++)|D.charCodeAt(P++)<<8|D.charCodeAt(P++)<<16|D.charCodeAt(P++)<<24;else for(U=0;16>U;++U)j[U]=D[P++]|D[P++]<<8|D[P++]<<16|D[P++]<<24;D=M.g[0],P=M.g[1],U=M.g[2];var L=M.g[3],N=D+(L^P&(U^L))+j[0]+3614090360&4294967295;D=P+(N<<7&4294967295|N>>>25),N=L+(U^D&(P^U))+j[1]+3905402710&4294967295,L=D+(N<<12&4294967295|N>>>20),N=U+(P^L&(D^P))+j[2]+606105819&4294967295,U=L+(N<<17&4294967295|N>>>15),N=P+(D^U&(L^D))+j[3]+3250441966&4294967295,P=U+(N<<22&4294967295|N>>>10),N=D+(L^P&(U^L))+j[4]+4118548399&4294967295,D=P+(N<<7&4294967295|N>>>25),N=L+(U^D&(P^U))+j[5]+1200080426&4294967295,L=D+(N<<12&4294967295|N>>>20),N=U+(P^L&(D^P))+j[6]+2821735955&4294967295,U=L+(N<<17&4294967295|N>>>15),N=P+(D^U&(L^D))+j[7]+4249261313&4294967295,P=U+(N<<22&4294967295|N>>>10),N=D+(L^P&(U^L))+j[8]+1770035416&4294967295,D=P+(N<<7&4294967295|N>>>25),N=L+(U^D&(P^U))+j[9]+2336552879&4294967295,L=D+(N<<12&4294967295|N>>>20),N=U+(P^L&(D^P))+j[10]+4294925233&4294967295,U=L+(N<<17&4294967295|N>>>15),N=P+(D^U&(L^D))+j[11]+2304563134&4294967295,P=U+(N<<22&4294967295|N>>>10),N=D+(L^P&(U^L))+j[12]+1804603682&4294967295,D=P+(N<<7&4294967295|N>>>25),N=L+(U^D&(P^U))+j[13]+4254626195&4294967295,L=D+(N<<12&4294967295|N>>>20),N=U+(P^L&(D^P))+j[14]+2792965006&4294967295,U=L+(N<<17&4294967295|N>>>15),N=P+(D^U&(L^D))+j[15]+1236535329&4294967295,P=U+(N<<22&4294967295|N>>>10),N=D+(U^L&(P^U))+j[1]+4129170786&4294967295,D=P+(N<<5&4294967295|N>>>27),N=L+(P^U&(D^P))+j[6]+3225465664&4294967295,L=D+(N<<9&4294967295|N>>>23),N=U+(D^P&(L^D))+j[11]+643717713&4294967295,U=L+(N<<14&4294967295|N>>>18),N=P+(L^D&(U^L))+j[0]+3921069994&4294967295,P=U+(N<<20&4294967295|N>>>12),N=D+(U^L&(P^U))+j[5]+3593408605&4294967295,D=P+(N<<5&4294967295|N>>>27),N=L+(P^U&(D^P))+j[10]+38016083&4294967295,L=D+(N<<9&4294967295|N>>>23),N=U+(D^P&(L^D))+j[15]+3634488961&4294967295,U=L+(N<<14&4294967295|N>>>18),N=P+(L^D&(U^L))+j[4]+3889429448&4294967295,P=U+(N<<20&4294967295|N>>>12),N=D+(U^L&(P^U))+j[9]+568446438&4294967295,D=P+(N<<5&4294967295|N>>>27),N=L+(P^U&(D^P))+j[14]+3275163606&4294967295,L=D+(N<<9&4294967295|N>>>23),N=U+(D^P&(L^D))+j[3]+4107603335&4294967295,U=L+(N<<14&4294967295|N>>>18),N=P+(L^D&(U^L))+j[8]+1163531501&4294967295,P=U+(N<<20&4294967295|N>>>12),N=D+(U^L&(P^U))+j[13]+2850285829&4294967295,D=P+(N<<5&4294967295|N>>>27),N=L+(P^U&(D^P))+j[2]+4243563512&4294967295,L=D+(N<<9&4294967295|N>>>23),N=U+(D^P&(L^D))+j[7]+1735328473&4294967295,U=L+(N<<14&4294967295|N>>>18),N=P+(L^D&(U^L))+j[12]+2368359562&4294967295,P=U+(N<<20&4294967295|N>>>12),N=D+(P^U^L)+j[5]+4294588738&4294967295,D=P+(N<<4&4294967295|N>>>28),N=L+(D^P^U)+j[8]+2272392833&4294967295,L=D+(N<<11&4294967295|N>>>21),N=U+(L^D^P)+j[11]+1839030562&4294967295,U=L+(N<<16&4294967295|N>>>16),N=P+(U^L^D)+j[14]+4259657740&4294967295,P=U+(N<<23&4294967295|N>>>9),N=D+(P^U^L)+j[1]+2763975236&4294967295,D=P+(N<<4&4294967295|N>>>28),N=L+(D^P^U)+j[4]+1272893353&4294967295,L=D+(N<<11&4294967295|N>>>21),N=U+(L^D^P)+j[7]+4139469664&4294967295,U=L+(N<<16&4294967295|N>>>16),N=P+(U^L^D)+j[10]+3200236656&4294967295,P=U+(N<<23&4294967295|N>>>9),N=D+(P^U^L)+j[13]+681279174&4294967295,D=P+(N<<4&4294967295|N>>>28),N=L+(D^P^U)+j[0]+3936430074&4294967295,L=D+(N<<11&4294967295|N>>>21),N=U+(L^D^P)+j[3]+3572445317&4294967295,U=L+(N<<16&4294967295|N>>>16),N=P+(U^L^D)+j[6]+76029189&4294967295,P=U+(N<<23&4294967295|N>>>9),N=D+(P^U^L)+j[9]+3654602809&4294967295,D=P+(N<<4&4294967295|N>>>28),N=L+(D^P^U)+j[12]+3873151461&4294967295,L=D+(N<<11&4294967295|N>>>21),N=U+(L^D^P)+j[15]+530742520&4294967295,U=L+(N<<16&4294967295|N>>>16),N=P+(U^L^D)+j[2]+3299628645&4294967295,P=U+(N<<23&4294967295|N>>>9),N=D+(U^(P|~L))+j[0]+4096336452&4294967295,D=P+(N<<6&4294967295|N>>>26),N=L+(P^(D|~U))+j[7]+1126891415&4294967295,L=D+(N<<10&4294967295|N>>>22),N=U+(D^(L|~P))+j[14]+2878612391&4294967295,U=L+(N<<15&4294967295|N>>>17),N=P+(L^(U|~D))+j[5]+4237533241&4294967295,P=U+(N<<21&4294967295|N>>>11),N=D+(U^(P|~L))+j[12]+1700485571&4294967295,D=P+(N<<6&4294967295|N>>>26),N=L+(P^(D|~U))+j[3]+2399980690&4294967295,L=D+(N<<10&4294967295|N>>>22),N=U+(D^(L|~P))+j[10]+4293915773&4294967295,U=L+(N<<15&4294967295|N>>>17),N=P+(L^(U|~D))+j[1]+2240044497&4294967295,P=U+(N<<21&4294967295|N>>>11),N=D+(U^(P|~L))+j[8]+1873313359&4294967295,D=P+(N<<6&4294967295|N>>>26),N=L+(P^(D|~U))+j[15]+4264355552&4294967295,L=D+(N<<10&4294967295|N>>>22),N=U+(D^(L|~P))+j[6]+2734768916&4294967295,U=L+(N<<15&4294967295|N>>>17),N=P+(L^(U|~D))+j[13]+1309151649&4294967295,P=U+(N<<21&4294967295|N>>>11),N=D+(U^(P|~L))+j[4]+4149444226&4294967295,D=P+(N<<6&4294967295|N>>>26),N=L+(P^(D|~U))+j[11]+3174756917&4294967295,L=D+(N<<10&4294967295|N>>>22),N=U+(D^(L|~P))+j[2]+718787259&4294967295,U=L+(N<<15&4294967295|N>>>17),N=P+(L^(U|~D))+j[9]+3951481745&4294967295,M.g[0]=M.g[0]+D&4294967295,M.g[1]=M.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+L&4294967295}i.prototype.u=function(M,D){D===void 0&&(D=M.length);for(var P=D-this.blockSize,j=this.B,U=this.h,L=0;L<D;){if(U==0)for(;L<=P;)s(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<D;)if(j[U++]=M.charCodeAt(L++),U==this.blockSize){s(this,j),U=0;break}}else for(;L<D;)if(j[U++]=M[L++],U==this.blockSize){s(this,j),U=0;break}}this.h=U,this.o+=D},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var D=1;D<M.length-8;++D)M[D]=0;var P=8*this.o;for(D=M.length-8;D<M.length;++D)M[D]=P&255,P/=256;for(this.u(M),M=Array(16),D=P=0;4>D;++D)for(var j=0;32>j;j+=8)M[P++]=this.g[D]>>>j&255;return M};function a(M,D){var P=c;return Object.prototype.hasOwnProperty.call(P,M)?P[M]:P[M]=D(M)}function l(M,D){this.h=D;for(var P=[],j=!0,U=M.length-1;0<=U;U--){var L=M[U]|0;j&&L==D||(P[U]=L,j=!1)}this.g=P}var c={};function h(M){return-128<=M&&128>M?a(M,function(D){return new l([D|0],0>D?-1:0)}):new l([M|0],0>M?-1:0)}function f(M){if(isNaN(M)||!isFinite(M))return y;if(0>M)return E(f(-M));for(var D=[],P=1,j=0;M>=P;j++)D[j]=M/P|0,P*=4294967296;return new l(D,0)}function p(M,D){if(M.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(M.charAt(0)=="-")return E(p(M.substring(1),D));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=f(Math.pow(D,8)),j=y,U=0;U<M.length;U+=8){var L=Math.min(8,M.length-U),N=parseInt(M.substring(U,U+L),D);8>L?(L=f(Math.pow(D,L)),j=j.j(L).add(f(N))):(j=j.j(P),j=j.add(f(N)))}return j}var y=h(0),_=h(1),b=h(16777216);e=l.prototype,e.m=function(){if(S(this))return-E(this).m();for(var M=0,D=1,P=0;P<this.g.length;P++){var j=this.i(P);M+=(0<=j?j:4294967296+j)*D,D*=4294967296}return M},e.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(T(this))return"0";if(S(this))return"-"+E(this).toString(M);for(var D=f(Math.pow(M,6)),P=this,j="";;){var U=W(P,D).g;P=C(P,U.j(D));var L=((0<P.g.length?P.g[0]:P.h)>>>0).toString(M);if(P=U,T(P))return L+j;for(;6>L.length;)L="0"+L;j=L+j}},e.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function T(M){if(M.h!=0)return!1;for(var D=0;D<M.g.length;D++)if(M.g[D]!=0)return!1;return!0}function S(M){return M.h==-1}e.l=function(M){return M=C(this,M),S(M)?-1:T(M)?0:1};function E(M){for(var D=M.g.length,P=[],j=0;j<D;j++)P[j]=~M.g[j];return new l(P,~M.h).add(_)}e.abs=function(){return S(this)?E(this):this},e.add=function(M){for(var D=Math.max(this.g.length,M.g.length),P=[],j=0,U=0;U<=D;U++){var L=j+(this.i(U)&65535)+(M.i(U)&65535),N=(L>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);j=N>>>16,L&=65535,N&=65535,P[U]=N<<16|L}return new l(P,P[P.length-1]&-2147483648?-1:0)};function C(M,D){return M.add(E(D))}e.j=function(M){if(T(this)||T(M))return y;if(S(this))return S(M)?E(this).j(E(M)):E(E(this).j(M));if(S(M))return E(this.j(E(M)));if(0>this.l(b)&&0>M.l(b))return f(this.m()*M.m());for(var D=this.g.length+M.g.length,P=[],j=0;j<2*D;j++)P[j]=0;for(j=0;j<this.g.length;j++)for(var U=0;U<M.g.length;U++){var L=this.i(j)>>>16,N=this.i(j)&65535,rt=M.i(U)>>>16,dt=M.i(U)&65535;P[2*j+2*U]+=N*dt,V(P,2*j+2*U),P[2*j+2*U+1]+=L*dt,V(P,2*j+2*U+1),P[2*j+2*U+1]+=N*rt,V(P,2*j+2*U+1),P[2*j+2*U+2]+=L*rt,V(P,2*j+2*U+2)}for(j=0;j<D;j++)P[j]=P[2*j+1]<<16|P[2*j];for(j=D;j<2*D;j++)P[j]=0;return new l(P,0)};function V(M,D){for(;(M[D]&65535)!=M[D];)M[D+1]+=M[D]>>>16,M[D]&=65535,D++}function B(M,D){this.g=M,this.h=D}function W(M,D){if(T(D))throw Error("division by zero");if(T(M))return new B(y,y);if(S(M))return D=W(E(M),D),new B(E(D.g),E(D.h));if(S(D))return D=W(M,E(D)),new B(E(D.g),D.h);if(30<M.g.length){if(S(M)||S(D))throw Error("slowDivide_ only works with positive integers.");for(var P=_,j=D;0>=j.l(M);)P=F(P),j=F(j);var U=K(P,1),L=K(j,1);for(j=K(j,2),P=K(P,2);!T(j);){var N=L.add(j);0>=N.l(M)&&(U=U.add(P),L=N),j=K(j,1),P=K(P,1)}return D=C(M,U.j(D)),new B(U,D)}for(U=y;0<=M.l(D);){for(P=Math.max(1,Math.floor(M.m()/D.m())),j=Math.ceil(Math.log(P)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),L=f(P),N=L.j(D);S(N)||0<N.l(M);)P-=j,L=f(P),N=L.j(D);T(L)&&(L=_),U=U.add(L),M=C(M,N)}return new B(U,M)}e.A=function(M){return W(this,M).h},e.and=function(M){for(var D=Math.max(this.g.length,M.g.length),P=[],j=0;j<D;j++)P[j]=this.i(j)&M.i(j);return new l(P,this.h&M.h)},e.or=function(M){for(var D=Math.max(this.g.length,M.g.length),P=[],j=0;j<D;j++)P[j]=this.i(j)|M.i(j);return new l(P,this.h|M.h)},e.xor=function(M){for(var D=Math.max(this.g.length,M.g.length),P=[],j=0;j<D;j++)P[j]=this.i(j)^M.i(j);return new l(P,this.h^M.h)};function F(M){for(var D=M.g.length+1,P=[],j=0;j<D;j++)P[j]=M.i(j)<<1|M.i(j-1)>>>31;return new l(P,M.h)}function K(M,D){var P=D>>5;D%=32;for(var j=M.g.length-P,U=[],L=0;L<j;L++)U[L]=0<D?M.i(L+P)>>>D|M.i(L+P+1)<<32-D:M.i(L+P);return new l(U,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,VD=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,ja=l}).apply(typeof Ex<"u"?Ex:typeof self<"u"?self:typeof window<"u"?window:{});var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BD,ah,jD,Tp,f_,UD,FD,zD;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,w,x){return g==Array.prototype||g==Object.prototype||(g[w]=x.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wd=="object"&&Wd];for(var w=0;w<g.length;++w){var x=g[w];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=n(this);function s(g,w){if(w)t:{var x=i;g=g.split(".");for(var O=0;O<g.length-1;O++){var Y=g[O];if(!(Y in x))break t;x=x[Y]}g=g[g.length-1],O=x[g],w=w(O),w!=O&&w!=null&&t(x,g,{configurable:!0,writable:!0,value:w})}}function a(g,w){g instanceof String&&(g+="");var x=0,O=!1,Y={next:function(){if(!O&&x<g.length){var et=x++;return{value:w(et,g[et]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(g){return g||function(){return a(this,function(w,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(g){var w=typeof g;return w=w!="object"?w:g?Array.isArray(g)?"array":w:"null",w=="array"||w=="object"&&typeof g.length=="number"}function f(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function p(g,w,x){return g.call.apply(g.bind,arguments)}function y(g,w,x){if(!g)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,O),g.apply(w,Y)}}return function(){return g.apply(w,arguments)}}function _(g,w,x){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,_.apply(null,arguments)}function b(g,w){var x=Array.prototype.slice.call(arguments,1);return function(){var O=x.slice();return O.push.apply(O,arguments),g.apply(this,O)}}function T(g,w){function x(){}x.prototype=w.prototype,g.aa=w.prototype,g.prototype=new x,g.prototype.constructor=g,g.Qb=function(O,Y,et){for(var gt=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)gt[oe-2]=arguments[oe];return w.prototype[Y].apply(O,gt)}}function S(g){const w=g.length;if(0<w){const x=Array(w);for(let O=0;O<w;O++)x[O]=g[O];return x}return[]}function E(g,w){for(let x=1;x<arguments.length;x++){const O=arguments[x];if(h(O)){const Y=g.length||0,et=O.length||0;g.length=Y+et;for(let gt=0;gt<et;gt++)g[Y+gt]=O[gt]}else g.push(O)}}class C{constructor(w,x){this.i=w,this.j=x,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function V(g){return/^[\s\xa0]*$/.test(g)}function B(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function W(g){return W[" "](g),g}W[" "]=function(){};var F=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function K(g,w,x){for(const O in g)w.call(x,g[O],O,g)}function M(g,w){for(const x in g)w.call(void 0,g[x],x,g)}function D(g){const w={};for(const x in g)w[x]=g[x];return w}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(g,w){let x,O;for(let Y=1;Y<arguments.length;Y++){O=arguments[Y];for(x in O)g[x]=O[x];for(let et=0;et<P.length;et++)x=P[et],Object.prototype.hasOwnProperty.call(O,x)&&(g[x]=O[x])}}function U(g){var w=1;g=g.split(":");const x=[];for(;0<w&&g.length;)x.push(g.shift()),w--;return g.length&&x.push(g.join(":")),x}function L(g){c.setTimeout(()=>{throw g},0)}function N(){var g=Et;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class rt{constructor(){this.h=this.g=null}add(w,x){const O=dt.get();O.set(w,x),this.h?this.h.next=O:this.g=O,this.h=O}}var dt=new C(()=>new $,g=>g.reset());class ${constructor(){this.next=this.g=this.h=null}set(w,x){this.h=w,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,ot=!1,Et=new rt,z=()=>{const g=c.Promise.resolve(void 0);Z=()=>{g.then(nt)}};var nt=()=>{for(var g;g=N();){try{g.h.call(g.g)}catch(x){L(x)}var w=dt;w.j(g),100>w.h&&(w.h++,g.next=w.g,w.g=g)}ot=!1};function pt(){this.s=this.s,this.C=this.C}pt.prototype.s=!1,pt.prototype.ma=function(){this.s||(this.s=!0,this.N())},pt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var _t=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const x=()=>{};c.addEventListener("test",x,w),c.removeEventListener("test",x,w)}catch{}return g}();function It(g,w){if(ut.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var x=this.type=g.type,O=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget){if(F){t:{try{W(w.nodeName);var Y=!0;break t}catch{}Y=!1}Y||(w=null)}}else x=="mouseover"?w=g.fromElement:x=="mouseout"&&(w=g.toElement);this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:xt[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&It.aa.h.call(this)}}T(It,ut);var xt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function gn(g,w,x,O,Y){this.listener=g,this.proxy=null,this.src=w,this.type=x,this.capture=!!O,this.ha=Y,this.key=++Ut,this.da=this.fa=!1}function Be(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function mn(g){this.src=g,this.g={},this.h=0}mn.prototype.add=function(g,w,x,O,Y){var et=g.toString();g=this.g[et],g||(g=this.g[et]=[],this.h++);var gt=He(g,w,O,Y);return-1<gt?(w=g[gt],x||(w.fa=!1)):(w=new gn(w,this.src,et,!!O,Y),w.fa=x,g.push(w)),w};function ii(g,w){var x=w.type;if(x in g.g){var O=g.g[x],Y=Array.prototype.indexOf.call(O,w,void 0),et;(et=0<=Y)&&Array.prototype.splice.call(O,Y,1),et&&(Be(w),g.g[x].length==0&&(delete g.g[x],g.h--))}}function He(g,w,x,O){for(var Y=0;Y<g.length;++Y){var et=g[Y];if(!et.da&&et.listener==w&&et.capture==!!x&&et.ha==O)return Y}return-1}var Si="closure_lm_"+(1e6*Math.random()|0),je={};function Ei(g,w,x,O,Y){if(Array.isArray(w)){for(var et=0;et<w.length;et++)Ei(g,w[et],x,O,Y);return null}return x=hi(x),g&&g[_e]?g.K(w,x,f(O)?!!O.capture:!1,Y):qe(g,w,x,!1,O,Y)}function qe(g,w,x,O,Y,et){if(!w)throw Error("Invalid event type");var gt=f(Y)?!!Y.capture:!!Y,oe=ui(g);if(oe||(g[Si]=oe=new mn(g)),x=oe.add(w,x,O,gt,et),x.proxy)return x;if(O=xi(),x.proxy=O,O.src=g,O.listener=x,g.addEventListener)_t||(Y=gt),Y===void 0&&(Y=!1),g.addEventListener(w.toString(),O,Y);else if(g.attachEvent)g.attachEvent(We(w.toString()),O);else if(g.addListener&&g.removeListener)g.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return x}function xi(){function g(x){return w.call(g.src,g.listener,x)}const w=us;return g}function me(g,w,x,O,Y){if(Array.isArray(w))for(var et=0;et<w.length;et++)me(g,w[et],x,O,Y);else O=f(O)?!!O.capture:!!O,x=hi(x),g&&g[_e]?(g=g.i,w=String(w).toString(),w in g.g&&(et=g.g[w],x=He(et,x,O,Y),-1<x&&(Be(et[x]),Array.prototype.splice.call(et,x,1),et.length==0&&(delete g.g[w],g.h--)))):g&&(g=ui(g))&&(w=g.g[w.toString()],g=-1,w&&(g=He(w,x,O,Y)),(x=-1<g?w[g]:null)&&zn(x))}function zn(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[_e])ii(w.i,g);else{var x=g.type,O=g.proxy;w.removeEventListener?w.removeEventListener(x,O,g.capture):w.detachEvent?w.detachEvent(We(x),O):w.addListener&&w.removeListener&&w.removeListener(O),(x=ui(w))?(ii(x,g),x.h==0&&(x.src=null,w[Si]=null)):Be(g)}}}function We(g){return g in je?je[g]:je[g]="on"+g}function us(g,w){if(g.da)g=!0;else{w=new It(w,this);var x=g.listener,O=g.ha||g.src;g.fa&&zn(g),g=x.call(O,w)}return g}function ui(g){return g=g[Si],g instanceof mn?g:null}var Ui="__closure_events_fn_"+(1e9*Math.random()>>>0);function hi(g){return typeof g=="function"?g:(g[Ui]||(g[Ui]=function(w){return g.handleEvent(w)}),g[Ui])}function ae(){pt.call(this),this.i=new mn(this),this.M=this,this.F=null}T(ae,pt),ae.prototype[_e]=!0,ae.prototype.removeEventListener=function(g,w,x,O){me(this,g,w,x,O)};function Zt(g,w){var x,O=g.F;if(O)for(x=[];O;O=O.F)x.push(O);if(g=g.M,O=w.type||w,typeof w=="string")w=new ut(w,g);else if(w instanceof ut)w.target=w.target||g;else{var Y=w;w=new ut(O,g),j(w,Y)}if(Y=!0,x)for(var et=x.length-1;0<=et;et--){var gt=w.g=x[et];Y=$e(gt,O,!0,w)&&Y}if(gt=w.g=g,Y=$e(gt,O,!0,w)&&Y,Y=$e(gt,O,!1,w)&&Y,x)for(et=0;et<x.length;et++)gt=w.g=x[et],Y=$e(gt,O,!1,w)&&Y}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var g=this.i,w;for(w in g.g){for(var x=g.g[w],O=0;O<x.length;O++)Be(x[O]);delete g.g[w],g.h--}}this.F=null},ae.prototype.K=function(g,w,x,O){return this.i.add(String(g),w,!1,x,O)},ae.prototype.L=function(g,w,x,O){return this.i.add(String(g),w,!0,x,O)};function $e(g,w,x,O){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();for(var Y=!0,et=0;et<w.length;++et){var gt=w[et];if(gt&&!gt.da&&gt.capture==x){var oe=gt.listener,vn=gt.ha||gt.src;gt.fa&&ii(g.i,gt),Y=oe.call(vn,O)!==!1&&Y}}return Y&&!O.defaultPrevented}function Ne(g,w,x){if(typeof g=="function")x&&(g=_(g,x));else if(g&&typeof g.handleEvent=="function")g=_(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(g,w||0)}function ks(g){g.g=Ne(()=>{g.g=null,g.i&&(g.i=!1,ks(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class si extends pt{constructor(w,x){super(),this.m=w,this.l=x,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ks(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function it(g){pt.call(this),this.h=g,this.g={}}T(it,pt);var mt=[];function At(g){K(g.g,function(w,x){this.g.hasOwnProperty(x)&&zn(w)},g),g.g={}}it.prototype.N=function(){it.aa.N.call(this),At(this)},it.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ot=c.JSON.stringify,vt=c.JSON.parse,Ct=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function $t(){}$t.prototype.h=null;function Gt(g){return g.h||(g.h=g.i())}function se(){}var qt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function be(){ut.call(this,"d")}T(be,ut);function Hn(){ut.call(this,"c")}T(Hn,ut);var de={},en=null;function bt(){return en=en||new ae}de.La="serverreachability";function Dt(g){ut.call(this,de.La,g)}T(Dt,ut);function ye(g){const w=bt();Zt(w,new Dt(w))}de.STAT_EVENT="statevent";function Le(g,w){ut.call(this,de.STAT_EVENT,g),this.stat=w}T(Le,ut);function ht(g){const w=bt();Zt(w,new Le(w,g))}de.Ma="timingevent";function yt(g,w){ut.call(this,de.Ma,g),this.size=w}T(yt,ut);function Tt(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},w)}function pe(){this.g=!0}pe.prototype.xa=function(){this.g=!1};function Xe(g,w,x,O,Y,et){g.info(function(){if(g.g)if(et)for(var gt="",oe=et.split("&"),vn=0;vn<oe.length;vn++){var le=oe[vn].split("=");if(1<le.length){var Rn=le[0];le=le[1];var _n=Rn.split("_");gt=2<=_n.length&&_n[1]=="type"?gt+(Rn+"="+le+"&"):gt+(Rn+"=redacted&")}}else gt=null;else gt=et;return"XMLHTTP REQ ("+O+") [attempt "+Y+"]: "+w+`
`+x+`
`+gt})}function fi(g,w,x,O,Y,et,gt){g.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Y+"]: "+w+`
`+x+`
`+et+" "+gt})}function yn(g,w,x,O){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+cn(g,x)+(O?" "+O:"")})}function ln(g,w){g.info(function(){return"TIMEOUT: "+w})}pe.prototype.info=function(){};function cn(g,w){if(!g.g)return w;if(!w)return null;try{var x=JSON.parse(w);if(x){for(g=0;g<x.length;g++)if(Array.isArray(x[g])){var O=x[g];if(!(2>O.length)){var Y=O[1];if(Array.isArray(Y)&&!(1>Y.length)){var et=Y[0];if(et!="noop"&&et!="stop"&&et!="close")for(var gt=1;gt<Y.length;gt++)Y[gt]=""}}}}return Ot(x)}catch{return w}}var he={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fi;function zi(){}T(zi,$t),zi.prototype.g=function(){return new XMLHttpRequest},zi.prototype.i=function(){return{}},Fi=new zi;function xn(g,w,x,O){this.j=g,this.i=w,this.l=x,this.R=O||1,this.U=new it(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ue}function Ue(){this.i=null,this.g="",this.h=!1}var ta={},mr={};function di(g,w,x){g.L=1,g.v=so(Ri(w)),g.m=x,g.P=!0,Kt(g,null)}function Kt(g,w){g.F=Date.now(),Ai(g),g.A=Ri(g.v);var x=g.A,O=g.R;Array.isArray(O)||(O=[String(O)]),iu(x.i,"t",O),g.C=0,x=g.j.J,g.h=new Ue,g.g=jf(g.j,x?w:null,!g.m),0<g.O&&(g.M=new si(_(g.Y,g,g.g),g.O)),w=g.U,x=g.g,O=g.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(mt[0]=Y.toString()),Y=mt);for(var et=0;et<Y.length;et++){var gt=Ei(x,Y[et],O||w.handleEvent,!1,w.h||w);if(!gt)break;w.g[gt.key]=gt}w=g.H?D(g.H):{},g.m?(g.u||(g.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,w)):(g.u="GET",g.g.ea(g.A,g.u,null,w)),ye(),Xe(g.i,g.u,g.A,g.l,g.R,g.m)}xn.prototype.ca=function(g){g=g.target;const w=this.M;w&&Gi(g)==3?w.j():this.Y(g)},xn.prototype.Y=function(g){try{if(g==this.g)t:{const _n=Gi(this.g);var w=this.g.Ba();const Er=this.g.Z();if(!(3>_n)&&(_n!=3||this.g&&(this.h.h||this.g.oa()||Pf(this.g)))){this.J||_n!=4||w==7||(w==8||0>=Er?ye(3):ye(2)),Hi(this);var x=this.g.Z();this.X=x;e:if(pi(this)){var O=Pf(this.g);g="";var Y=O.length,et=Gi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),Ps(this);var gt="";break e}this.h.i=new c.TextDecoder}for(w=0;w<Y;w++)this.h.h=!0,g+=this.h.i.decode(O[w],{stream:!(et&&w==Y-1)});O.length=0,this.h.g+=g,this.C=0,gt=this.h.g}else gt=this.g.oa();if(this.o=x==200,fi(this.i,this.u,this.A,this.l,this.R,_n,x),this.o){if(this.T&&!this.K){e:{if(this.g){var oe,vn=this.g;if((oe=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(oe)){var le=oe;break e}}le=null}if(x=le)yn(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eo(this,x);else{this.o=!1,this.s=3,ht(12),In(this),Ps(this);break t}}if(this.P){x=!0;let On;for(;!this.J&&this.C<gt.length;)if(On=ea(this,gt),On==mr){_n==4&&(this.s=4,ht(14),x=!1),yn(this.i,this.l,null,"[Incomplete Response]");break}else if(On==ta){this.s=4,ht(15),yn(this.i,this.l,gt,"[Invalid Chunk]"),x=!1;break}else yn(this.i,this.l,On,null),eo(this,On);if(pi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_n!=4||gt.length!=0||this.h.h||(this.s=1,ht(16),x=!1),this.o=this.o&&x,!x)yn(this.i,this.l,gt,"[Invalid Chunked Response]"),In(this),Ps(this);else if(0<gt.length&&!this.W){this.W=!0;var Rn=this.j;Rn.g==this&&Rn.ba&&!Rn.M&&(Rn.j.info("Great, no buffering proxy detected. Bytes received: "+gt.length),fo(Rn),Rn.M=!0,ht(11))}}else yn(this.i,this.l,gt,null),eo(this,gt);_n==4&&In(this),this.o&&!this.J&&(_n==4?Lf(this.j,this):(this.o=!1,Ai(this)))}else hm(this.g),x==400&&0<gt.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),In(this),Ps(this)}}}catch{}finally{}};function pi(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function ea(g,w){var x=g.C,O=w.indexOf(`
`,x);return O==-1?mr:(x=Number(w.substring(x,O)),isNaN(x)?ta:(O+=1,O+x>w.length?mr:(w=w.slice(O,O+x),g.C=O+x,w)))}xn.prototype.cancel=function(){this.J=!0,In(this)};function Ai(g){g.S=Date.now()+g.I,dl(g,g.I)}function dl(g,w){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Tt(_(g.ba,g),w)}function Hi(g){g.B&&(c.clearTimeout(g.B),g.B=null)}xn.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(ln(this.i,this.A),this.L!=2&&(ye(),ht(17)),In(this),this.s=2,Ps(this)):dl(this,this.S-g)};function Ps(g){g.j.G==0||g.J||Lf(g.j,g)}function In(g){Hi(g);var w=g.M;w&&typeof w.ma=="function"&&w.ma(),g.M=null,At(g.U),g.g&&(w=g.g,g.g=null,w.abort(),w.ma())}function eo(g,w){try{var x=g.j;if(x.G!=0&&(x.g==g||Zc(x.h,g))){if(!g.K&&Zc(x.h,g)&&x.G==3){try{var O=x.Da.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Y=O;if(Y[0]==0){t:if(!x.u){if(x.g)if(x.g.F+3e3<g.F)xl(x),Sl(x);else break t;lu(x),ht(18)}}else x.za=Y[1],0<x.za-x.T&&37500>Y[2]&&x.F&&x.v==0&&!x.C&&(x.C=Tt(_(x.Za,x),6e3));if(1>=gl(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Sr(x,11)}else if((g.K||x.g==g)&&xl(x),!V(w))for(Y=x.Da.g.parse(w),w=0;w<Y.length;w++){let le=Y[w];if(x.T=le[0],le=le[1],x.G==2)if(le[0]=="c"){x.K=le[1],x.ia=le[2];const Rn=le[3];Rn!=null&&(x.la=Rn,x.j.info("VER="+x.la));const _n=le[4];_n!=null&&(x.Aa=_n,x.j.info("SVER="+x.Aa));const Er=le[5];Er!=null&&typeof Er=="number"&&0<Er&&(O=1.5*Er,x.L=O,x.j.info("backChannelRequestTimeoutMs_="+O)),O=x;const On=g.g;if(On){const Bs=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bs){var et=O.h;et.g||Bs.indexOf("spdy")==-1&&Bs.indexOf("quic")==-1&&Bs.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(ml(et,et.h),et.h=null))}if(O.D){const uu=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;uu&&(O.ya=uu,Re(O.I,O.D,uu))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-g.F,x.j.info("Handshake RTT: "+x.R+"ms")),O=x;var gt=g;if(O.qa=Bf(O,O.J?O.ia:null,O.W),gt.K){ri(O.h,gt);var oe=gt,vn=O.L;vn&&(oe.I=vn),oe.B&&(Hi(oe),Ai(oe)),O.g=gt}else Of(O);0<x.i.length&&El(x)}else le[0]!="stop"&&le[0]!="close"||Sr(x,7);else x.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?Sr(x,7):au(x):le[0]!="noop"&&x.l&&x.l.ta(le),x.v=0)}}ye(4)}catch{}}var Rf=class{constructor(g,w){this.g=g,this.map=w}};function yr(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pl(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function gl(g){return g.h?1:g.g?g.g.size:0}function Zc(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function ml(g,w){g.g?g.g.add(w):g.h=w}function ri(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}yr.prototype.cancel=function(){if(this.i=Jc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Jc(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const x of g.g.values())w=w.concat(x.D);return w}return S(g.i)}function om(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var w=[],x=g.length,O=0;O<x;O++)w.push(g[O]);return w}w=[],x=0;for(O in g)w[x++]=g[O];return w}function yl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var w=[];g=g.length;for(var x=0;x<g;x++)w.push(x);return w}w=[],x=0;for(const O in g)w[x++]=O;return w}}}function tu(g,w){if(g.forEach&&typeof g.forEach=="function")g.forEach(w,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,w,void 0);else for(var x=yl(g),O=om(g),Y=O.length,et=0;et<Y;et++)w.call(void 0,O[et],x&&x[et],g)}var no=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lm(g,w){if(g){g=g.split("&");for(var x=0;x<g.length;x++){var O=g[x].indexOf("="),Y=null;if(0<=O){var et=g[x].substring(0,O);Y=g[x].substring(O+1)}else et=g[x];w(et,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function un(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof un){this.h=g.h,io(this,g.j),this.o=g.o,this.g=g.g,na(this,g.s),this.l=g.l;var w=g.i,x=new _r;x.i=w.i,w.g&&(x.g=new Map(w.g),x.h=w.h),vr(this,x),this.m=g.m}else g&&(w=String(g).match(no))?(this.h=!1,io(this,w[1]||"",!0),this.o=qi(w[2]||""),this.g=qi(w[3]||"",!0),na(this,w[4]),this.l=qi(w[5]||"",!0),vr(this,w[6]||"",!0),this.m=qi(w[7]||"")):(this.h=!1,this.i=new _r(null,this.h))}un.prototype.toString=function(){var g=[],w=this.j;w&&g.push(ro(w,eu,!0),":");var x=this.g;return(x||w=="file")&&(g.push("//"),(w=this.o)&&g.push(ro(w,eu,!0),"@"),g.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&g.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&g.push("/"),g.push(ro(x,x.charAt(0)=="/"?cm:nu,!0))),(x=this.i.toString())&&g.push("?",x),(x=this.m)&&g.push("#",ro(x,vl)),g.join("")};function Ri(g){return new un(g)}function io(g,w,x){g.j=x?qi(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function na(g,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);g.s=w}else g.s=null}function vr(g,w,x){w instanceof _r?(g.i=w,Df(g.i,g.h)):(x||(w=ro(w,um)),g.i=new _r(w,g.h))}function Re(g,w,x){g.i.set(w,x)}function so(g){return Re(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function qi(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ro(g,w,x){return typeof g=="string"?(g=encodeURI(g).replace(w,Cf),x&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Cf(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var eu=/[#\/\?@]/g,nu=/[#\?:]/g,cm=/[#\?]/g,um=/[#\?@]/g,vl=/#/g;function _r(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function Wi(g){g.g||(g.g=new Map,g.h=0,g.i&&lm(g.i,function(w,x){g.add(decodeURIComponent(w.replace(/\+/g," ")),x)}))}e=_r.prototype,e.add=function(g,w){Wi(this),this.i=null,g=Ms(this,g);var x=this.g.get(g);return x||this.g.set(g,x=[]),x.push(w),this.h+=1,this};function br(g,w){Wi(g),w=Ms(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function wr(g,w){return Wi(g),w=Ms(g,w),g.g.has(w)}e.forEach=function(g,w){Wi(this),this.g.forEach(function(x,O){x.forEach(function(Y){g.call(w,Y,O,this)},this)},this)},e.na=function(){Wi(this);const g=Array.from(this.g.values()),w=Array.from(this.g.keys()),x=[];for(let O=0;O<w.length;O++){const Y=g[O];for(let et=0;et<Y.length;et++)x.push(w[O])}return x},e.V=function(g){Wi(this);let w=[];if(typeof g=="string")wr(this,g)&&(w=w.concat(this.g.get(Ms(this,g))));else{g=Array.from(this.g.values());for(let x=0;x<g.length;x++)w=w.concat(g[x])}return w},e.set=function(g,w){return Wi(this),this.i=null,g=Ms(this,g),wr(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},e.get=function(g,w){return g?(g=this.V(g),0<g.length?String(g[0]):w):w};function iu(g,w,x){br(g,w),0<x.length&&(g.i=null,g.g.set(Ms(g,w),S(x)),g.h+=x.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(var x=0;x<w.length;x++){var O=w[x];const et=encodeURIComponent(String(O)),gt=this.V(O);for(O=0;O<gt.length;O++){var Y=et;gt[O]!==""&&(Y+="="+encodeURIComponent(String(gt[O]))),g.push(Y)}}return this.i=g.join("&")};function Ms(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function Df(g,w){w&&!g.j&&(Wi(g),g.i=null,g.g.forEach(function(x,O){var Y=O.toLowerCase();O!=Y&&(br(this,O),iu(this,Y,x))},g)),g.j=w}function ao(g,w){const x=new pe;if(c.Image){const O=new Image;O.onload=b($i,x,"TestLoadImage: loaded",!0,w,O),O.onerror=b($i,x,"TestLoadImage: error",!1,w,O),O.onabort=b($i,x,"TestLoadImage: abort",!1,w,O),O.ontimeout=b($i,x,"TestLoadImage: timeout",!1,w,O),c.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=g}else w(!1)}function hs(g,w){const x=new pe,O=new AbortController,Y=setTimeout(()=>{O.abort(),$i(x,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:O.signal}).then(et=>{clearTimeout(Y),et.ok?$i(x,"TestPingServer: ok",!0,w):$i(x,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Y),$i(x,"TestPingServer: error",!1,w)})}function $i(g,w,x,O,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),O(x)}catch{}}function oo(){this.g=new Ct}function Is(g,w,x){const O=x||"";try{tu(g,function(Y,et){let gt=Y;f(Y)&&(gt=Ot(Y)),w.push(O+et+"="+encodeURIComponent(gt))})}catch(Y){throw w.push(O+"type="+encodeURIComponent("_badmap")),Y}}function ia(g){this.l=g.Ub||null,this.j=g.eb||!1}T(ia,$t),ia.prototype.g=function(){return new Tr(this.l,this.j)},ia.prototype.i=function(g){return function(){return g}}({});function Tr(g,w){ae.call(this),this.D=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Tr,ae),e=Tr.prototype,e.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=w,this.readyState=1,Ns(this)},e.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(w.body=g),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},e.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ns(this)),this.g&&(this.readyState=3,Ns(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;su(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function su(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}e.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?Os(this):Ns(this),this.readyState==3&&su(this)}},e.Ra=function(g){this.g&&(this.response=this.responseText=g,Os(this))},e.Qa=function(g){this.g&&(this.response=g,Os(this))},e.ga=function(){this.g&&Os(this)};function Os(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ns(g)}e.setRequestHeader=function(g,w){this.u.append(g,w)},e.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var x=w.next();!x.done;)x=x.value,g.push(x[0]+": "+x[1]),x=w.next();return g.join(`\r
`)};function Ns(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ru(g){let w="";return K(g,function(x,O){w+=O,w+=":",w+=x,w+=`\r
`}),w}function An(g,w,x){t:{for(O in x){var O=!1;break t}O=!0}O||(x=ru(x),typeof g=="string"?x!=null&&encodeURIComponent(String(x)):Re(g,w,x))}function we(g){ae.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(we,ae);var _l=/^https?$/i,lo=["POST","PUT"];e=we.prototype,e.Ha=function(g){this.J=g},e.ea=function(g,w,x,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fi.g(),this.v=this.o?Gt(this.o):Gt(Fi),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(et){kf(this,et);return}if(g=x||"",x=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Y in O)x.set(Y,O[Y]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const et of O.keys())x.set(et,O.get(et));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(x.keys()).find(et=>et.toLowerCase()=="content-type"),Y=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(lo,w,void 0))||O||Y||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,gt]of x)this.g.setRequestHeader(et,gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{co(this),this.u=!0,this.g.send(g),this.u=!1}catch(et){kf(this,et)}};function kf(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.m=5,bl(g),Ls(g)}function bl(g){g.A||(g.A=!0,Zt(g,"complete"),Zt(g,"error"))}e.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Zt(this,"complete"),Zt(this,"abort"),Ls(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ls(this,!0)),we.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?wl(this):this.bb())},e.bb=function(){wl(this)};function wl(g){if(g.h&&typeof l<"u"&&(!g.v[1]||Gi(g)!=4||g.Z()!=2)){if(g.u&&Gi(g)==4)Ne(g.Ea,0,g);else if(Zt(g,"readystatechange"),Gi(g)==4){g.h=!1;try{const gt=g.Z();t:switch(gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var x;if(!(x=w)){var O;if(O=gt===0){var Y=String(g.D).match(no)[1]||null;!Y&&c.self&&c.self.location&&(Y=c.self.location.protocol.slice(0,-1)),O=!_l.test(Y?Y.toLowerCase():"")}x=O}if(x)Zt(g,"complete"),Zt(g,"success");else{g.m=6;try{var et=2<Gi(g)?g.g.statusText:""}catch{et=""}g.l=et+" ["+g.Z()+"]",bl(g)}}finally{Ls(g)}}}}function Ls(g,w){if(g.g){co(g);const x=g.g,O=g.v[0]?()=>{}:null;g.g=null,g.v=null,w||Zt(g,"ready");try{x.onreadystatechange=O}catch{}}}function co(g){g.I&&(c.clearTimeout(g.I),g.I=null)}e.isActive=function(){return!!this.g};function Gi(g){return g.g?g.g.readyState:0}e.Z=function(){try{return 2<Gi(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),vt(w)}};function Pf(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function hm(g){const w={};g=(g.g&&2<=Gi(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<g.length;O++){if(V(g[O]))continue;var x=U(g[O]);const Y=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const et=w[Y]||[];w[Y]=et,et.push(x)}M(w,function(O){return O.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function uo(g,w,x){return x&&x.internalChannelParams&&x.internalChannelParams[g]||w}function Tl(g){this.Aa=0,this.i=[],this.j=new pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=uo("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=uo("baseRetryDelayMs",5e3,g),this.cb=uo("retryDelaySeedMs",1e4,g),this.Wa=uo("forwardChannelMaxRetries",2,g),this.wa=uo("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new yr(g&&g.concurrentRequestLimit),this.Da=new oo,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Tl.prototype,e.la=8,e.G=1,e.connect=function(g,w,x,O){ht(0),this.W=g,this.H=w||{},x&&O!==void 0&&(this.H.OSID=x,this.H.OAID=O),this.F=this.X,this.I=Bf(this,null,this.W),El(this)};function au(g){if(Mf(g),g.G==3){var w=g.U++,x=Ri(g.I);if(Re(x,"SID",g.K),Re(x,"RID",w),Re(x,"TYPE","terminate"),ho(g,x),w=new xn(g,g.j,w),w.L=2,w.v=so(Ri(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!x&&c.Image&&(new Image().src=w.v,x=!0),x||(w.g=jf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Ai(w)}Vf(g)}function Sl(g){g.g&&(fo(g),g.g.cancel(),g.g=null)}function Mf(g){Sl(g),g.u&&(c.clearTimeout(g.u),g.u=null),xl(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function El(g){if(!pl(g.h)&&!g.s){g.s=!0;var w=g.Ga;Z||z(),ot||(Z(),ot=!0),Et.add(w,g),g.B=0}}function fm(g,w){return gl(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=w.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Tt(_(g.Ga,g,w),cu(g,g.B)),g.B++,!0)}e.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Y=new xn(this,this.j,g);let et=this.o;if(this.S&&(et?(et=D(et),j(et,this.S)):et=this.S),this.m!==null||this.O||(Y.H=et,et=null),this.P)t:{for(var w=0,x=0;x<this.i.length;x++){e:{var O=this.i[x];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break e}O=void 0}if(O===void 0)break;if(w+=O,4096<w){w=x;break t}if(w===4096||x===this.i.length-1){w=x+1;break t}}w=1e3}else w=1e3;w=If(this,Y,w),x=Ri(this.I),Re(x,"RID",g),Re(x,"CVER",22),this.D&&Re(x,"X-HTTP-Session-Id",this.D),ho(this,x),et&&(this.O?w="headers="+encodeURIComponent(String(ru(et)))+"&"+w:this.m&&An(x,this.m,et)),ml(this.h,Y),this.Ua&&Re(x,"TYPE","init"),this.P?(Re(x,"$req",w),Re(x,"SID","null"),Y.T=!0,di(Y,x,null)):di(Y,x,w),this.G=2}}else this.G==3&&(g?ou(this,g):this.i.length==0||pl(this.h)||ou(this))};function ou(g,w){var x;w?x=w.l:x=g.U++;const O=Ri(g.I);Re(O,"SID",g.K),Re(O,"RID",x),Re(O,"AID",g.T),ho(g,O),g.m&&g.o&&An(O,g.m,g.o),x=new xn(g,g.j,x,g.B+1),g.m===null&&(x.H=g.o),w&&(g.i=w.D.concat(g.i)),w=If(g,x,1e3),x.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),ml(g.h,x),di(x,O,w)}function ho(g,w){g.H&&K(g.H,function(x,O){Re(w,O,x)}),g.l&&tu({},function(x,O){Re(w,O,x)})}function If(g,w,x){x=Math.min(g.i.length,x);var O=g.l?_(g.l.Na,g.l,g):null;t:{var Y=g.i;let et=-1;for(;;){const gt=["count="+x];et==-1?0<x?(et=Y[0].g,gt.push("ofs="+et)):et=0:gt.push("ofs="+et);let oe=!0;for(let vn=0;vn<x;vn++){let le=Y[vn].g;const Rn=Y[vn].map;if(le-=et,0>le)et=Math.max(0,Y[vn].g-100),oe=!1;else try{Is(Rn,gt,"req"+le+"_")}catch{O&&O(Rn)}}if(oe){O=gt.join("&");break t}}}return g=g.i.splice(0,x),w.D=g,O}function Of(g){if(!g.g&&!g.u){g.Y=1;var w=g.Fa;Z||z(),ot||(Z(),ot=!0),Et.add(w,g),g.v=0}}function lu(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Tt(_(g.Fa,g),cu(g,g.v)),g.v++,!0)}e.Fa=function(){if(this.u=null,Nf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Tt(_(this.ab,this),g)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Sl(this),Nf(this))};function fo(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function Nf(g){g.g=new xn(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var w=Ri(g.qa);Re(w,"RID","rpc"),Re(w,"SID",g.K),Re(w,"AID",g.T),Re(w,"CI",g.F?"0":"1"),!g.F&&g.ja&&Re(w,"TO",g.ja),Re(w,"TYPE","xmlhttp"),ho(g,w),g.m&&g.o&&An(w,g.m,g.o),g.L&&(g.g.I=g.L);var x=g.g;g=g.ia,x.L=1,x.v=so(Ri(w)),x.m=null,x.P=!0,Kt(x,g)}e.Za=function(){this.C!=null&&(this.C=null,Sl(this),lu(this),ht(19))};function xl(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function Lf(g,w){var x=null;if(g.g==w){xl(g),fo(g),g.g=null;var O=2}else if(Zc(g.h,w))x=w.D,ri(g.h,w),O=1;else return;if(g.G!=0){if(w.o)if(O==1){x=w.m?w.m.length:0,w=Date.now()-w.F;var Y=g.B;O=bt(),Zt(O,new yt(O,x)),El(g)}else Of(g);else if(Y=w.s,Y==3||Y==0&&0<w.X||!(O==1&&fm(g,w)||O==2&&lu(g)))switch(x&&0<x.length&&(w=g.h,w.i=w.i.concat(x)),Y){case 1:Sr(g,5);break;case 4:Sr(g,10);break;case 3:Sr(g,6);break;default:Sr(g,2)}}}function cu(g,w){let x=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(x*=2),x*w}function Sr(g,w){if(g.j.info("Error code "+w),w==2){var x=_(g.fb,g),O=g.Xa;const Y=!O;O=new un(O||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||io(O,"https"),so(O),Y?ao(O.toString(),x):hs(O.toString(),x)}else ht(2);g.G=0,g.l&&g.l.sa(w),Vf(g),Mf(g)}e.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Vf(g){if(g.G=0,g.ka=[],g.l){const w=Jc(g.h);(w.length!=0||g.i.length!=0)&&(E(g.ka,w),E(g.ka,g.i),g.h.i.length=0,S(g.i),g.i.length=0),g.l.ra()}}function Bf(g,w,x){var O=x instanceof un?Ri(x):new un(x);if(O.g!="")w&&(O.g=w+"."+O.g),na(O,O.s);else{var Y=c.location;O=Y.protocol,w=w?w+"."+Y.hostname:Y.hostname,Y=+Y.port;var et=new un(null);O&&io(et,O),w&&(et.g=w),Y&&na(et,Y),x&&(et.l=x),O=et}return x=g.D,w=g.ya,x&&w&&Re(O,x,w),Re(O,"VER",g.la),ho(g,O),O}function jf(g,w,x){if(w&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Ca&&!g.pa?new we(new ia({eb:x})):new we(g.pa),w.Ha(g.J),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uf(){}e=Uf.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Al(){}Al.prototype.g=function(g,w){return new ai(g,w)};function ai(g,w){ae.call(this),this.g=new Tl(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(g?g["X-WebChannel-Client-Profile"]=w.va:g={"X-WebChannel-Client-Profile":w.va}),this.g.S=g,(g=w&&w.Sb)&&!V(g)&&(this.g.m=g),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.g.D=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new Vs(this)}T(ai,ae),ai.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ai.prototype.close=function(){au(this.g)},ai.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var x={};x.__data__=g,g=x}else this.u&&(x={},x.__data__=Ot(g),g=x);w.i.push(new Rf(w.Ya++,g)),w.G==3&&El(w)},ai.prototype.N=function(){this.g.l=null,delete this.j,au(this.g),delete this.g,ai.aa.N.call(this)};function Ff(g){be.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){t:{for(const x in w){g=x;break t}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}T(Ff,be);function zf(){Hn.call(this),this.status=1}T(zf,Hn);function Vs(g){this.g=g}T(Vs,Uf),Vs.prototype.ua=function(){Zt(this.g,"a")},Vs.prototype.ta=function(g){Zt(this.g,new Ff(g))},Vs.prototype.sa=function(g){Zt(this.g,new zf)},Vs.prototype.ra=function(){Zt(this.g,"b")},Al.prototype.createWebChannel=Al.prototype.g,ai.prototype.send=ai.prototype.o,ai.prototype.open=ai.prototype.m,ai.prototype.close=ai.prototype.close,zD=function(){return new Al},FD=function(){return bt()},UD=de,f_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},he.NO_ERROR=0,he.TIMEOUT=8,he.HTTP_ERROR=6,Tp=he,qn.COMPLETE="complete",jD=qn,se.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",ae.prototype.listen=ae.prototype.K,ah=se,we.prototype.listenOnce=we.prototype.L,we.prototype.getLastError=we.prototype.Ka,we.prototype.getLastErrorCode=we.prototype.Ba,we.prototype.getStatus=we.prototype.Z,we.prototype.getResponseJson=we.prototype.Oa,we.prototype.getResponseText=we.prototype.oa,we.prototype.send=we.prototype.ea,we.prototype.setWithCredentials=we.prototype.Ha,BD=we}).apply(typeof Wd<"u"?Wd:typeof self<"u"?self:typeof window<"u"?window:{});const xx="@firebase/firestore",Ax="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new Ag("@firebase/firestore");function ic(){return Zo.logLevel}function wt(e,...t){if(Zo.logLevel<=ee.DEBUG){const n=t.map(I0);Zo.debug(`Firestore (${zc}): ${e}`,...n)}}function Xr(e,...t){if(Zo.logLevel<=ee.ERROR){const n=t.map(I0);Zo.error(`Firestore (${zc}): ${e}`,...n)}}function Tc(e,...t){if(Zo.logLevel<=ee.WARN){const n=t.map(I0);Zo.warn(`Firestore (${zc}): ${e}`,...n)}}function I0(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(e="Unexpected state"){const t=`FIRESTORE (${zc}) INTERNAL ASSERTION FAILED: `+e;throw Xr(t),new Error(t)}function Se(e,t){e||jt()}function Ht(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends Ds{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Xn.UNAUTHENTICATED))}shutdown(){}}class uU{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hU{constructor(t){this.t=t,this.currentUser=Xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Se(this.o===void 0);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let a=new Ua;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ua,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ua)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Se(typeof i.accessToken=="string"),new HD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Se(t===null||typeof t=="string"),new Xn(t)}}class fU{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Xn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class dU{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new fU(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pU{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ys(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Se(this.o===void 0);const i=a=>{a.error!=null&&wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,wt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const s=a=>{wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Rx(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new Rx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=gU(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<n&&(i+=t.charAt(s[a]%62))}return i}}function Xt(e,t){return e<t?-1:e>t?1:0}function d_(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),s=t.codePointAt(n);if(i!==s){if(i<128&&s<128)return Xt(i,s);{const a=qD(),l=mU(a.encode(Cx(e,n)),a.encode(Cx(t,n)));return l!==0?l:Xt(i,s)}}n+=i>65535?2:1}return Xt(e.length,t.length)}function Cx(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function mU(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Xt(e[n],t[n]);return Xt(e.length,t.length)}function Sc(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=-62135596800,kx=1e6;class Sn{static now(){return Sn.fromMillis(Date.now())}static fromDate(t){return Sn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*kx);return new Sn(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new kt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new kt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Dx)throw new kt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new kt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kx}_compareTo(t){return this.seconds===t.seconds?Xt(this.nanoseconds,t.nanoseconds):Xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Dx;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{static fromTimestamp(t){return new zt(t)}static min(){return new zt(new Sn(0,0))}static max(){return new zt(new Sn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="__name__";class Ks{constructor(t,n,i){n===void 0?n=0:n>t.length&&jt(),i===void 0?i=t.length-n:i>t.length-n&&jt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Ks.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ks?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const a=Ks.compareSegments(t.get(s),n.get(s));if(a!==0)return a}return Xt(t.length,n.length)}static compareSegments(t,n){const i=Ks.isNumericId(t),s=Ks.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Ks.extractNumericId(t).compare(Ks.extractNumericId(n)):d_(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ja.fromString(t.substring(4,t.length-2))}}class tn extends Ks{construct(t,n,i){return new tn(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new kt(ft.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new tn(n)}static emptyPath(){return new tn([])}}const yU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends Ks{construct(t,n,i){return new Un(t,n,i)}static isValidIdentifier(t){return yU.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Px}static keyField(){return new Un([Px])}static fromServerFormat(t){const n=[];let i="",s=0;const a=()=>{if(i.length===0)throw new kt(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new kt(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new kt(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new kt(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Un(n)}static emptyPath(){return new Un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t){this.path=t}static fromPath(t){return new Mt(tn.fromString(t))}static fromName(t){return new Mt(tn.fromString(t).popFirst(5))}static empty(){return new Mt(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&tn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return tn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Mt(new tn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=-1;function vU(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=zt.fromTimestamp(i===1e9?new Sn(n+1,0):new Sn(n,i));return new za(s,Mt.empty(),t)}function _U(e){return new za(e.readTime,e.key,Mh)}class za{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new za(zt.min(),Mt.empty(),Mh)}static max(){return new za(zt.max(),Mt.empty(),Mh)}}function bU(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Mt.comparator(e.documentKey,t.documentKey),n!==0?n:Xt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(e){if(e.code!==ft.FAILED_PRECONDITION||e.message!==wU)throw e;wt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ct((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ct?n:ct.resolve(n)}catch(n){return ct.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ct.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ct.reject(n)}static resolve(t){return new ct((n,i)=>{n(t)})}static reject(t){return new ct((n,i)=>{i(t)})}static waitFor(t){return new ct((n,i)=>{let s=0,a=0,l=!1;t.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&n()},h=>i(h))}),l=!0,a===s&&n()})}static or(t){let n=ct.resolve(!1);for(const i of t)n=n.next(s=>s?ct.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,a)=>{i.push(n.call(this,s,a))}),this.waitFor(i)}static mapArray(t,n){return new ct((i,s)=>{const a=t.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const f=h;n(t[f]).next(p=>{l[f]=p,++c,c===a&&i(l)},p=>s(p))}})}static doWhile(t,n){return new ct((i,s)=>{const a=()=>{t()===!0?n().next(()=>{a()},s):i()};a()})}}function SU(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Dg.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=-1;function kg(e){return e==null}function Wp(e){return e===0&&1/e==-1/0}function EU(e){return typeof e=="number"&&Number.isInteger(e)&&!Wp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="";function xU(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Mx(t)),t=AU(e.get(n),t);return Mx(t)}function AU(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const a=e.charAt(s);switch(a){case"\0":n+="";break;case $D:n+="";break;default:n+=a}}return n}function Mx(e){return e+$D+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function GD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,n){this.comparator=t,this.root=n||jn.EMPTY}insert(t,n){return new Ye(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(t){return new Ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new $d(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new $d(this.root,t,this.comparator,!1)}getReverseIterator(){return new $d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new $d(this.root,t,this.comparator,!0)}}class $d{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?i(t.key,n):1,n&&s&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class jn{constructor(t,n,i,s,a){this.key=t,this.value=n,this.color=i??jn.RED,this.left=s??jn.EMPTY,this.right=a??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,a){return new jn(t??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const a=i(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,n,i),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return jn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw jt();const t=this.left.check();if(t!==this.right.check())throw jt();return t+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw jt()}get value(){throw jt()}get color(){throw jt()}get left(){throw jt()}get right(){throw jt()}copy(t,n,i,s,a){return this}insert(t,n,i){return new jn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.comparator=t,this.data=new Ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ox(this.data.getIterator())}getIteratorFrom(t){return new Ox(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof En)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new En(this.comparator);return n.data=t,n}}class Ox{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t){this.fields=t,t.sort(Un.comparator)}static empty(){return new Ni([])}unionWith(t){let n=new En(Un.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Ni(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Sc(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new KD("Invalid base64 string: "+a):a}}(t);return new Fn(n)}static fromUint8Array(t){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(t);return new Fn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const RU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(e){if(Se(!!e),typeof e=="string"){let t=0;const n=RU.exec(e);if(Se(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:an(e.seconds),nanos:an(e.nanos)}}function an(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function qa(e){return typeof e=="string"?Fn.fromBase64String(e):Fn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="server_timestamp",XD="__type__",QD="__previous_value__",ZD="__local_write_time__";function N0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[XD])===null||n===void 0?void 0:n.stringValue)===YD}function Pg(e){const t=e.mapValue.fields[QD];return N0(t)?Pg(t):t}function Ih(e){const t=Ha(e.mapValue.fields[ZD].timestampValue);return new Sn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(t,n,i,s,a,l,c,h,f){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}const $p="(default)";class Oh{constructor(t,n){this.projectId=t,this.database=n||$p}static empty(){return new Oh("","")}get isDefaultDatabase(){return this.database===$p}isEqual(t){return t instanceof Oh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="__type__",DU="__max__",Gd={mapValue:{}},tk="__vector__",Gp="value";function Wa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?N0(e)?4:PU(e)?9007199254740991:kU(e)?10:11:jt()}function cr(e,t){if(e===t)return!0;const n=Wa(e);if(n!==Wa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ih(e).isEqual(Ih(t));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ha(s.timestampValue),c=Ha(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,a){return qa(s.bytesValue).isEqual(qa(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,a){return an(s.geoPointValue.latitude)===an(a.geoPointValue.latitude)&&an(s.geoPointValue.longitude)===an(a.geoPointValue.longitude)}(e,t);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return an(s.integerValue)===an(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=an(s.doubleValue),c=an(a.doubleValue);return l===c?Wp(l)===Wp(c):isNaN(l)&&isNaN(c)}return!1}(e,t);case 9:return Sc(e.arrayValue.values||[],t.arrayValue.values||[],cr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(Ix(l)!==Ix(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!cr(l[h],c[h])))return!1;return!0}(e,t);default:return jt()}}function Nh(e,t){return(e.values||[]).find(n=>cr(n,t))!==void 0}function Ec(e,t){if(e===t)return 0;const n=Wa(e),i=Wa(t);if(n!==i)return Xt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xt(e.booleanValue,t.booleanValue);case 2:return function(a,l){const c=an(a.integerValue||a.doubleValue),h=an(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(e,t);case 3:return Nx(e.timestampValue,t.timestampValue);case 4:return Nx(Ih(e),Ih(t));case 5:return d_(e.stringValue,t.stringValue);case 6:return function(a,l){const c=qa(a),h=qa(l);return c.compareTo(h)}(e.bytesValue,t.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const p=Xt(c[f],h[f]);if(p!==0)return p}return Xt(c.length,h.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,l){const c=Xt(an(a.latitude),an(l.latitude));return c!==0?c:Xt(an(a.longitude),an(l.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Lx(e.arrayValue,t.arrayValue);case 10:return function(a,l){var c,h,f,p;const y=a.fields||{},_=l.fields||{},b=(c=y[Gp])===null||c===void 0?void 0:c.arrayValue,T=(h=_[Gp])===null||h===void 0?void 0:h.arrayValue,S=Xt(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0);return S!==0?S:Lx(b,T)}(e.mapValue,t.mapValue);case 11:return function(a,l){if(a===Gd.mapValue&&l===Gd.mapValue)return 0;if(a===Gd.mapValue)return 1;if(l===Gd.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const _=d_(h[y],p[y]);if(_!==0)return _;const b=Ec(c[h[y]],f[p[y]]);if(b!==0)return b}return Xt(h.length,p.length)}(e.mapValue,t.mapValue);default:throw jt()}}function Nx(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Xt(e,t);const n=Ha(e),i=Ha(t),s=Xt(n.seconds,i.seconds);return s!==0?s:Xt(n.nanos,i.nanos)}function Lx(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const a=Ec(n[s],i[s]);if(a)return a}return Xt(n.length,i.length)}function xc(e){return p_(e)}function p_(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ha(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return qa(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Mt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const a of n.values||[])s?s=!1:i+=",",i+=p_(a);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of i)a?a=!1:s+=",",s+=`${l}:${p_(n.fields[l])}`;return s+"}"}(e.mapValue):jt()}function Sp(e){switch(Wa(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Pg(e);return t?16+Sp(t):16;case 5:return 2*e.stringValue.length;case 6:return qa(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+Sp(a),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return Qa(i.fields,(a,l)=>{s+=a.length+Sp(l)}),s}(e.mapValue);default:throw jt()}}function g_(e){return!!e&&"integerValue"in e}function L0(e){return!!e&&"arrayValue"in e}function Vx(e){return!!e&&"nullValue"in e}function Bx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ep(e){return!!e&&"mapValue"in e}function kU(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[JD])===null||n===void 0?void 0:n.stringValue)===tk}function mh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Qa(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=mh(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=mh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function PU(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===DU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t){this.value=t}static empty(){return new bi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Ep(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=mh(n)}setAll(t){let n=Un.emptyPath(),i={},s=[];t.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=mh(l):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,s)}delete(t){const n=this.field(t.popLast());Ep(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return cr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];Ep(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){Qa(n,(s,a)=>t[s]=a);for(const s of i)delete t[s]}clone(){return new bi(mh(this.value))}}function ek(e){const t=[];return Qa(e.fields,(n,i)=>{const s=new Un([n]);if(Ep(i)){const a=ek(i.mapValue).fields;if(a.length===0)t.push(s);else for(const l of a)t.push(s.child(l))}else t.push(s)}),new Ni(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t,n,i,s,a,l,c){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(t){return new Qn(t,0,zt.min(),zt.min(),zt.min(),bi.empty(),0)}static newFoundDocument(t,n,i,s){return new Qn(t,1,n,zt.min(),i,s,0)}static newNoDocument(t,n){return new Qn(t,2,n,zt.min(),zt.min(),bi.empty(),0)}static newUnknownDocument(t,n){return new Qn(t,3,n,zt.min(),zt.min(),bi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=bi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,n){this.position=t,this.inclusive=n}}function jx(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const a=t[s],l=e.position[s];if(a.field.isKeyField()?i=Mt.comparator(Mt.fromName(l.referenceValue),n.key):i=Ec(l,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ux(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!cr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(t,n="asc"){this.field=t,this.dir=n}}function MU(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{}class Tn extends nk{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new OU(t,n,i):n==="array-contains"?new VU(t,i):n==="in"?new BU(t,i):n==="not-in"?new jU(t,i):n==="array-contains-any"?new UU(t,i):new Tn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new NU(t,i):new LU(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ec(n,this.value)):n!==null&&Wa(this.value)===Wa(n)&&this.matchesComparison(Ec(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return jt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends nk{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new ur(t,n)}matches(t){return ik(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ik(e){return e.op==="and"}function sk(e){return IU(e)&&ik(e)}function IU(e){for(const t of e.filters)if(t instanceof ur)return!1;return!0}function m_(e){if(e instanceof Tn)return e.field.canonicalString()+e.op.toString()+xc(e.value);if(sk(e))return e.filters.map(t=>m_(t)).join(",");{const t=e.filters.map(n=>m_(n)).join(",");return`${e.op}(${t})`}}function rk(e,t){return e instanceof Tn?function(i,s){return s instanceof Tn&&i.op===s.op&&i.field.isEqual(s.field)&&cr(i.value,s.value)}(e,t):e instanceof ur?function(i,s){return s instanceof ur&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,l,c)=>a&&rk(l,s.filters[c]),!0):!1}(e,t):void jt()}function ak(e){return e instanceof Tn?function(n){return`${n.field.canonicalString()} ${n.op} ${xc(n.value)}`}(e):e instanceof ur?function(n){return n.op.toString()+" {"+n.getFilters().map(ak).join(" ,")+"}"}(e):"Filter"}class OU extends Tn{constructor(t,n,i){super(t,n,i),this.key=Mt.fromName(i.referenceValue)}matches(t){const n=Mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class NU extends Tn{constructor(t,n){super(t,"in",n),this.keys=ok("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class LU extends Tn{constructor(t,n){super(t,"not-in",n),this.keys=ok("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function ok(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Mt.fromName(i.referenceValue))}class VU extends Tn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return L0(n)&&Nh(n.arrayValue,this.value)}}class BU extends Tn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Nh(this.value.arrayValue,n)}}class jU extends Tn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Nh(this.value.arrayValue,n)}}class UU extends Tn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!L0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Nh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(t,n=null,i=[],s=[],a=null,l=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function Fx(e,t=null,n=[],i=[],s=null,a=null,l=null){return new FU(e,t,n,i,s,a,l)}function V0(e){const t=Ht(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>m_(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),kg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>xc(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>xc(i)).join(",")),t.le=n}return t.le}function B0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!MU(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!rk(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ux(e.startAt,t.startAt)&&Ux(e.endAt,t.endAt)}function y_(e){return Mt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t,n=null,i=[],s=[],a=null,l="F",c=null,h=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function zU(e,t,n,i,s,a,l,c){return new Mg(e,t,n,i,s,a,l,c)}function j0(e){return new Mg(e)}function zx(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function HU(e){return e.collectionGroup!==null}function yh(e){const t=Ht(e);if(t.he===null){t.he=[];const n=new Set;for(const a of t.explicitOrderBy)t.he.push(a),n.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new En(Un.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.he.push(new Yp(a,i))}),n.has(Un.keyField().canonicalString())||t.he.push(new Yp(Un.keyField(),i))}return t.he}function Zs(e){const t=Ht(e);return t.Pe||(t.Pe=qU(t,yh(e))),t.Pe}function qU(e,t){if(e.limitType==="F")return Fx(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Yp(s.field,a)});const n=e.endAt?new Kp(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Kp(e.startAt.position,e.startAt.inclusive):null;return Fx(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function v_(e,t,n){return new Mg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ig(e,t){return B0(Zs(e),Zs(t))&&e.limitType===t.limitType}function lk(e){return`${V0(Zs(e))}|lt:${e.limitType}`}function sc(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>ak(s)).join(", ")}]`),kg(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>xc(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>xc(s)).join(",")),`Target(${i})`}(Zs(e))}; limitType=${e.limitType})`}function Og(e,t){return t.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Mt.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(e,t)&&function(i,s){for(const a of yh(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(l,c,h){const f=jx(l,c,h);return l.inclusive?f<=0:f<0}(i.startAt,yh(i),s)||i.endAt&&!function(l,c,h){const f=jx(l,c,h);return l.inclusive?f>=0:f>0}(i.endAt,yh(i),s))}(e,t)}function WU(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ck(e){return(t,n)=>{let i=!1;for(const s of yh(e)){const a=$U(s,t,n);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function $U(e,t,n){const i=e.field.isKeyField()?Mt.comparator(t.key,n.key):function(a,l,c){const h=l.data.field(a),f=c.data.field(a);return h!==null&&f!==null?Ec(h,f):jt()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return jt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return void(s[a]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Qa(this.inner,(n,i)=>{for(const[s,a]of i)t(s,a)})}isEmpty(){return GD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=new Ye(Mt.comparator);function Qr(){return GU}const uk=new Ye(Mt.comparator);function oh(...e){let t=uk;for(const n of e)t=t.insert(n.key,n);return t}function hk(e){let t=uk;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Uo(){return vh()}function fk(){return vh()}function vh(){return new cl(e=>e.toString(),(e,t)=>e.isEqual(t))}const KU=new Ye(Mt.comparator),YU=new En(Mt.comparator);function ie(...e){let t=YU;for(const n of e)t=t.add(n);return t}const XU=new En(Xt);function QU(){return XU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wp(t)?"-0":t}}function dk(e){return{integerValue:""+e}}function ZU(e,t){return EU(t)?dk(t):U0(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(){this._=void 0}}function JU(e,t,n){return e instanceof Lh?function(s,a){const l={fields:{[XD]:{stringValue:YD},[ZD]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&N0(a)&&(a=Pg(a)),a&&(l.fields[QD]=a),{mapValue:l}}(n,t):e instanceof Ac?gk(e,t):e instanceof Vh?mk(e,t):function(s,a){const l=pk(s,a),c=Hx(l)+Hx(s.Ie);return g_(l)&&g_(s.Ie)?dk(c):U0(s.serializer,c)}(e,t)}function t4(e,t,n){return e instanceof Ac?gk(e,t):e instanceof Vh?mk(e,t):n}function pk(e,t){return e instanceof Xp?function(i){return g_(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class Lh extends Ng{}class Ac extends Ng{constructor(t){super(),this.elements=t}}function gk(e,t){const n=yk(t);for(const i of e.elements)n.some(s=>cr(s,i))||n.push(i);return{arrayValue:{values:n}}}class Vh extends Ng{constructor(t){super(),this.elements=t}}function mk(e,t){let n=yk(t);for(const i of e.elements)n=n.filter(s=>!cr(s,i));return{arrayValue:{values:n}}}class Xp extends Ng{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function Hx(e){return an(e.integerValue||e.doubleValue)}function yk(e){return L0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(t,n){this.field=t,this.transform=n}}function e4(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Ac&&s instanceof Ac||i instanceof Vh&&s instanceof Vh?Sc(i.elements,s.elements,cr):i instanceof Xp&&s instanceof Xp?cr(i.Ie,s.Ie):i instanceof Lh&&s instanceof Lh}(e.transform,t.transform)}class n4{constructor(t,n){this.version=t,this.transformResults=n}}class Js{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Js}static exists(t){return new Js(void 0,t)}static updateTime(t){return new Js(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xp(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Lg{}function _k(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new wk(e.key,Js.none()):new ff(e.key,e.data,Js.none());{const n=e.data,i=bi.empty();let s=new En(Un.comparator);for(let a of t.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?i.delete(a):i.set(a,l),s=s.add(a)}return new Za(e.key,i,new Ni(s.toArray()),Js.none())}}function i4(e,t,n){e instanceof ff?function(s,a,l){const c=s.value.clone(),h=Wx(s.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(e,t,n):e instanceof Za?function(s,a,l){if(!xp(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=Wx(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(bk(s)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(e,t,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,n)}function _h(e,t,n,i){return e instanceof ff?function(a,l,c,h){if(!xp(a.precondition,l))return c;const f=a.value.clone(),p=$x(a.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(e,t,n,i):e instanceof Za?function(a,l,c,h){if(!xp(a.precondition,l))return c;const f=$x(a.fieldTransforms,h,l),p=l.data;return p.setAll(bk(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(e,t,n,i):function(a,l,c){return xp(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(e,t,n)}function s4(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),a=pk(i.transform,s||null);a!=null&&(n===null&&(n=bi.empty()),n.set(i.field,a))}return n||null}function qx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Sc(i,s,(a,l)=>e4(a,l))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ff extends Lg{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Za extends Lg{constructor(t,n,i,s,a=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function bk(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Wx(e,t,n){const i=new Map;Se(e.length===n.length);for(let s=0;s<n.length;s++){const a=e[s],l=a.transform,c=t.data.field(a.field);i.set(a.field,t4(l,c,n[s]))}return i}function $x(e,t,n){const i=new Map;for(const s of e){const a=s.transform,l=n.data.field(s.field);i.set(s.field,JU(a,l,t))}return i}class wk extends Lg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r4 extends Lg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(t.key)&&i4(a,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=_h(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=_h(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=fk();return this.mutations.forEach(s=>{const a=t.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const h=_k(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(zt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ie())}isEqual(t){return this.batchId===t.batchId&&Sc(this.mutations,t.mutations,(n,i)=>qx(n,i))&&Sc(this.baseMutations,t.baseMutations,(n,i)=>qx(n,i))}}class F0{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){Se(t.mutations.length===i.length);let s=function(){return KU}();const a=t.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,i[l].version);return new F0(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,ue;function c4(e){switch(e){case ft.OK:return jt();case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0;default:return jt()}}function Tk(e){if(e===void 0)return Xr("GRPC error has no .code"),ft.UNKNOWN;switch(e){case dn.OK:return ft.OK;case dn.CANCELLED:return ft.CANCELLED;case dn.UNKNOWN:return ft.UNKNOWN;case dn.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case dn.INTERNAL:return ft.INTERNAL;case dn.UNAVAILABLE:return ft.UNAVAILABLE;case dn.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case dn.NOT_FOUND:return ft.NOT_FOUND;case dn.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case dn.ABORTED:return ft.ABORTED;case dn.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case dn.DATA_LOSS:return ft.DATA_LOSS;default:return jt()}}(ue=dn||(dn={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=new ja([4294967295,4294967295],0);function Gx(e){const t=qD().encode(e),n=new VD;return n.update(t),new Uint8Array(n.digest())}function Kx(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ja([n,i],0),new ja([s,a],0)]}class z0{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new lh(`Invalid padding: ${n}`);if(i<0)throw new lh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new lh(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new lh(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=ja.fromNumber(this.Ee)}Ae(t,n,i){let s=t.add(n.multiply(ja.fromNumber(i)));return s.compare(u4)===1&&(s=new ja([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=Gx(t),[i,s]=Kx(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(i,s,a);if(!this.Re(l))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new z0(a,s,n);return i.forEach(c=>l.insert(c)),l}insert(t){if(this.Ee===0)return;const n=Gx(t),[i,s]=Kx(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(i,s,a);this.Ve(l)}}Ve(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(t,n,i,s,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,df.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Vg(zt.min(),s,new Ye(Xt),Qr(),ie())}}class df{constructor(t,n,i,s,a){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new df(i,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(t,n,i,s){this.me=t,this.removedTargetIds=n,this.key=i,this.fe=s}}class Sk{constructor(t,n){this.targetId=t,this.ge=n}}class Ek{constructor(t,n,i=Fn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class Yx{constructor(){this.pe=0,this.ye=Xx(),this.we=Fn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=ie(),n=ie(),i=ie();return this.ye.forEach((s,a)=>{switch(a){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:jt()}}),new df(this.we,this.Se,t,n,i)}Me(){this.be=!1,this.ye=Xx()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Se(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class h4{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Qr(),this.$e=Kd(),this.Ue=Kd(),this.Ke=new Ye(Xt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const i=this.He(n);switch(t.state){case 0:this.Je(n)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(t.resumeToken));break;default:jt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((i,s)=>{this.Je(s)&&n(s)})}Ze(t){const n=t.targetId,i=t.ge.count,s=this.Xe(n);if(s){const a=s.target;if(y_(a))if(i===0){const l=new Mt(a.path);this.ze(n,l,Qn.newNoDocument(l,zt.min()))}else Se(i===1);else{const l=this.et(n);if(l!==i){const c=this.tt(t),h=c?this.nt(c,t,l):1;if(h!==0){this.Ye(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=qa(i).toUint8Array()}catch(h){if(h instanceof KD)return Tc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new z0(l,s,a)}catch(h){return Tc(h instanceof lh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(t,n,i){return n.ge.count===i-this.st(t,n.targetId)?0:2}st(t,n){const i=this.ke.getRemoteKeysForTarget(n);let s=0;return i.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(c)||(this.ze(n,a,null),s++)}),s}ot(t){const n=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&y_(c.target)){const h=new Mt(c.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,Qn.newNoDocument(h,t))}a.ve&&(n.set(l,a.Fe()),a.Me())}});let i=ie();this.Ue.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const f=this.Xe(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(t));const s=new Vg(t,n,this.Ke,this.Qe,i);return this.Qe=Qr(),this.$e=Kd(),this.Ue=Kd(),this.Ke=new Ye(Xt),s}Ge(t,n){if(!this.Je(t))return;const i=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,i){if(!this.Je(t))return;const s=this.He(t);this.ut(t,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new Yx,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new En(Xt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new En(Xt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||wt("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Yx),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Kd(){return new Ye(Mt.comparator)}function Xx(){return new Ye(Mt.comparator)}const f4={asc:"ASCENDING",desc:"DESCENDING"},d4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p4={and:"AND",or:"OR"};class g4{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function __(e,t){return e.useProto3Json||kg(t)?t:{value:t}}function Qp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xk(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function m4(e,t){return Qp(e,t.toTimestamp())}function tr(e){return Se(!!e),zt.fromTimestamp(function(n){const i=Ha(n);return new Sn(i.seconds,i.nanos)}(e))}function H0(e,t){return b_(e,t).canonicalString()}function b_(e,t){const n=function(s){return new tn(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Ak(e){const t=tn.fromString(e);return Se(Pk(t)),t}function w_(e,t){return H0(e.databaseId,t.path)}function vv(e,t){const n=Ak(t);if(n.get(1)!==e.databaseId.projectId)throw new kt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new kt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Mt(Ck(n))}function Rk(e,t){return H0(e.databaseId,t)}function y4(e){const t=Ak(e);return t.length===4?tn.emptyPath():Ck(t)}function T_(e){return new tn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ck(e){return Se(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Qx(e,t,n){return{name:w_(e,t),fields:n.value.mapValue.fields}}function v4(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:jt()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(Se(p===void 0||typeof p=="string"),Fn.fromBase64String(p||"")):(Se(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Fn.fromUint8Array(p||new Uint8Array))}(e,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(f){const p=f.code===void 0?ft.UNKNOWN:Tk(f.code);return new kt(p,f.message||"")}(l);n=new Ek(i,s,a,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=vv(e,i.document.name),a=tr(i.document.updateTime),l=i.document.createTime?tr(i.document.createTime):zt.min(),c=new bi({mapValue:{fields:i.document.fields}}),h=Qn.newFoundDocument(s,a,l,c),f=i.targetIds||[],p=i.removedTargetIds||[];n=new Ap(f,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=vv(e,i.document),a=i.readTime?tr(i.readTime):zt.min(),l=Qn.newNoDocument(s,a),c=i.removedTargetIds||[];n=new Ap([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=vv(e,i.document),a=i.removedTargetIds||[];n=new Ap([],a,s,null)}else{if(!("filter"in t))return jt();{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,l=new l4(s,a),c=i.targetId;n=new Sk(c,l)}}return n}function _4(e,t){let n;if(t instanceof ff)n={update:Qx(e,t.key,t.value)};else if(t instanceof wk)n={delete:w_(e,t.key)};else if(t instanceof Za)n={update:Qx(e,t.key,t.data),updateMask:C4(t.fieldMask)};else{if(!(t instanceof r4))return jt();n={verify:w_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(a,l){const c=l.transform;if(c instanceof Lh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ac)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Vh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Xp)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw jt()}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:m4(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:jt()}(e,t.precondition)),n}function b4(e,t){return e&&e.length>0?(Se(t!==void 0),e.map(n=>function(s,a){let l=s.updateTime?tr(s.updateTime):tr(a);return l.isEqual(zt.min())&&(l=tr(a)),new n4(l,s.transformResults||[])}(n,t))):[]}function w4(e,t){return{documents:[Rk(e,t.path)]}}function T4(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Rk(e,s);const a=function(f){if(f.length!==0)return kk(ur.create(f,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(p=>function(_){return{field:rc(_.field),direction:x4(_.dir)}}(p))}(t.orderBy);l&&(n.structuredQuery.orderBy=l);const c=__(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{ht:n,parent:s}}function S4(e){let t=y4(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Se(i===1);const p=n.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let a=[];n.where&&(a=function(y){const _=Dk(y);return _ instanceof ur&&sk(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(_=>function(T){return new Yp(ac(T.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,kg(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(y){const _=!!y.before,b=y.values||[];return new Kp(b,_)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const _=!y.before,b=y.values||[];return new Kp(b,_)}(n.endAt)),zU(t,s,l,a,c,"F",h,f)}function E4(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Dk(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ac(n.unaryFilter.field);return Tn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=ac(n.unaryFilter.field);return Tn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ac(n.unaryFilter.field);return Tn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ac(n.unaryFilter.field);return Tn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return jt()}}(e):e.fieldFilter!==void 0?function(n){return Tn.create(ac(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ur.create(n.compositeFilter.filters.map(i=>Dk(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return jt()}}(n.compositeFilter.op))}(e):jt()}function x4(e){return f4[e]}function A4(e){return d4[e]}function R4(e){return p4[e]}function rc(e){return{fieldPath:e.canonicalString()}}function ac(e){return Un.fromServerFormat(e.fieldPath)}function kk(e){return e instanceof Tn?function(n){if(n.op==="=="){if(Bx(n.value))return{unaryFilter:{field:rc(n.field),op:"IS_NAN"}};if(Vx(n.value))return{unaryFilter:{field:rc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bx(n.value))return{unaryFilter:{field:rc(n.field),op:"IS_NOT_NAN"}};if(Vx(n.value))return{unaryFilter:{field:rc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rc(n.field),op:A4(n.op),value:n.value}}}(e):e instanceof ur?function(n){const i=n.getFilters().map(s=>kk(s));return i.length===1?i[0]:{compositeFilter:{op:R4(n.op),filters:i}}}(e):jt()}function C4(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Pk(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,n,i,s,a=zt.min(),l=zt.min(),c=Fn.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new Ia(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(t){this.Tt=t}}function k4(e){const t=S4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?v_(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.Tn=new M4}addToCollectionParentIndex(t,n){return this.Tn.add(n),ct.resolve()}getCollectionParents(t,n){return ct.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return ct.resolve()}deleteFieldIndex(t,n){return ct.resolve()}deleteAllFieldIndexes(t){return ct.resolve()}createTargetIndexes(t,n){return ct.resolve()}getDocumentsMatchingTarget(t,n){return ct.resolve(null)}getIndexType(t,n){return ct.resolve(0)}getFieldIndexes(t,n){return ct.resolve([])}getNextCollectionGroupToUpdate(t){return ct.resolve(null)}getMinOffset(t,n){return ct.resolve(za.min())}getMinOffsetFromCollectionGroup(t,n){return ct.resolve(za.min())}updateCollectionGroup(t,n,i){return ct.resolve()}updateIndexEntries(t,n){return ct.resolve()}}class M4{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new En(tn.comparator),a=!s.has(i);return this.index[n]=s.add(i),a}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new En(tn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mk=41943040;class _i{static withCacheSize(t){return new _i(t,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(Mk,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Rc(0)}static Kn(){return new Rc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="LruGarbageCollector",I4=1048576;function tA([e,t],[n,i]){const s=Xt(e,n);return s===0?Xt(t,i):s}class O4{constructor(t){this.Hn=t,this.buffer=new En(tA),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();tA(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class N4{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){wt(Jx,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qc(n)?wt(Jx,"Ignoring IndexedDB error during garbage collection: ",n):await Hc(n)}await this.er(3e5)})}}class L4{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return ct.resolve(Dg.ae);const i=new O4(n);return this.tr.forEachTarget(t,s=>i.Zn(s.sequenceNumber)).next(()=>this.tr.rr(t,s=>i.Zn(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.tr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(wt("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(Zx)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zx):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let i,s,a,l,c,h,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(t,s))).next(y=>(i=y,c=Date.now(),this.removeTargets(t,i,n))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(f=Date.now(),ic()<=ee.DEBUG&&wt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y})))}}function V4(e,t){return new L4(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.changes=new cl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ct.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&_h(i.mutation,s,Ni.empty(),Sn.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,ie()).next(()=>i))}getLocalViewOfDocuments(t,n,i=ie()){const s=Uo();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(a=>{let l=oh();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const i=Uo();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,ie()))}populateOverlays(t,n,i){const s=[];return i.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(t,s).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(t,n,i,s){let a=Qr();const l=vh(),c=function(){return vh()}();return n.forEach((h,f)=>{const p=i.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof Za)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),_h(p.mutation,f,p.mutation.getFieldMask(),Sn.now())):l.set(f.key,Ni.empty())}),this.recalculateAndSaveOverlays(t,a).next(h=>(h.forEach((f,p)=>l.set(f,p)),n.forEach((f,p)=>{var y;return c.set(f,new j4(p,(y=l.get(f))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(t,n){const i=vh();let s=new Ye((l,c)=>l-c),a=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=i.get(h)||Ni.empty();p=c.applyToLocalView(f,p),i.set(h,p);const y=(s.get(c.batchId)||ie()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,p=h.value,y=fk();p.forEach(_=>{if(!a.has(_)){const b=_k(n.get(_),i.get(_));b!==null&&y.set(_,b),a=a.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,y))}return ct.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(l){return Mt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):HU(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-a.size):ct.resolve(Uo());let c=Mh,h=a;return l.next(f=>ct.forEach(f,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(p)?ct.resolve():this.remoteDocumentCache.getEntry(t,p).next(_=>{h=h.insert(p,_)}))).next(()=>this.populateOverlays(t,f,a)).next(()=>this.computeViews(t,h,f,ie())).next(p=>({batchId:c,changes:hk(p)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Mt(n)).next(i=>{let s=oh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const a=n.collectionGroup;let l=oh();return this.indexManager.getCollectionParents(t,a).next(c=>ct.forEach(c,h=>{const f=function(y,_){return new Mg(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,f,i,s).next(p=>{p.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,n,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,a,s))).next(l=>{a.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Qn.newInvalidDocument(p)))});let c=oh();return l.forEach((h,f)=>{const p=a.get(h);p!==void 0&&_h(p.mutation,f,Ni.empty(),Sn.now()),Og(n,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return ct.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:tr(s.createTime)}}(n)),ct.resolve()}getNamedQuery(t,n){return ct.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:k4(s.bundledQuery),readTime:tr(s.readTime)}}(n)),ct.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.overlays=new Ye(Mt.comparator),this.Rr=new Map}getOverlay(t,n){return ct.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Uo();return ct.forEach(n,s=>this.getOverlay(t,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,a)=>{this.Et(t,n,a)}),ct.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.Rr.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),ct.resolve()}getOverlaysForCollection(t,n,i){const s=Uo(),a=n.length+1,l=new Mt(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>i&&s.set(h.getKey(),h)}return ct.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let a=new Ye((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=a.get(f.largestBatchId);p===null&&(p=Uo(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Uo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=s)););return ct.resolve(c)}Et(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(i.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new o4(n,i));let a=this.Rr.get(n);a===void 0&&(a=ie(),this.Rr.set(n,a)),this.Rr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(t){return ct.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ct.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.Vr=new En(Pn.mr),this.gr=new En(Pn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const i=new Pn(t,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.wr(new Pn(t,n))}Sr(t,n){t.forEach(i=>this.removeReference(i,n))}br(t){const n=new Mt(new tn([])),i=new Pn(n,t),s=new Pn(n,t+1),a=[];return this.gr.forEachInRange([i,s],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new Mt(new tn([])),i=new Pn(n,t),s=new Pn(n,t+1);let a=ie();return this.gr.forEachInRange([i,s],l=>{a=a.add(l.key)}),a}containsKey(t){const n=new Pn(t,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Pn{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return Mt.comparator(t.key,n.key)||Xt(t.Cr,n.Cr)}static pr(t,n){return Xt(t.Cr,n.Cr)||Mt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new En(Pn.mr)}checkEmpty(t){return ct.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new a4(a,n,i,s);this.mutationQueue.push(l);for(const c of s)this.Mr=this.Mr.add(new Pn(c.key,a)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return ct.resolve(l)}lookupMutationBatch(t,n){return ct.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.Nr(i),a=s<0?0:s;return ct.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(this.mutationQueue.length===0?O0:this.Fr-1)}getAllMutationBatches(t){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Pn(n,0),s=new Pn(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,s],l=>{const c=this.Or(l.Cr);a.push(c)}),ct.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new En(Xt);return n.forEach(s=>{const a=new Pn(s,0),l=new Pn(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{i=i.add(c.Cr)})}),ct.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let a=i;Mt.isDocumentKey(a)||(a=a.child(""));const l=new Pn(new Mt(a),0);let c=new En(Xt);return this.Mr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(h.Cr)),!0)},l),ct.resolve(this.Br(c))}Br(t){const n=[];return t.forEach(i=>{const s=this.Or(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){Se(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ct.forEach(n.mutations,s=>{const a=new Pn(s.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,n){const i=new Pn(n,0),s=this.Mr.firstAfterOrEqual(i);return ct.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,ct.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(t){this.kr=t,this.docs=function(){return new Ye(Mt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return ct.resolve(i?i.document.mutableCopy():Qn.newInvalidDocument(n))}getEntries(t,n){let i=Qr();return n.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():Qn.newInvalidDocument(s))}),ct.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let a=Qr();const l=n.path,c=new Mt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||bU(_U(p),i)<=0||(s.has(p.key)||Og(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return ct.resolve(a)}getAllFromCollectionGroup(t,n,i,s){jt()}qr(t,n){return ct.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new $4(this)}getSize(t){return ct.resolve(this.size)}}class $4 extends B4{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(t,s)):this.Ir.removeEntry(i)}),ct.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(t){this.persistence=t,this.Qr=new cl(n=>V0(n),B0),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new q0,this.targetCount=0,this.Kr=Rc.Un()}forEachTarget(t,n){return this.Qr.forEach((i,s)=>n(s)),ct.resolve()}getLastRemoteSnapshotVersion(t){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ct.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),ct.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new Rc(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,ct.resolve()}updateTargetData(t,n){return this.zn(n),ct.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ct.resolve()}removeTargets(t,n,i){let s=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),ct.waitFor(a).next(()=>s)}getTargetCount(t){return ct.resolve(this.targetCount)}getTargetData(t,n){const i=this.Qr.get(n)||null;return ct.resolve(i)}addMatchingKeys(t,n,i){return this.Ur.yr(n,i),ct.resolve()}removeMatchingKeys(t,n,i){this.Ur.Sr(n,i);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(t,l))}),ct.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),ct.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Ur.vr(n);return ct.resolve(i)}containsKey(t,n){return ct.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Dg(0),this.zr=!1,this.zr=!0,this.jr=new H4,this.referenceDelegate=t(this),this.Hr=new G4(this),this.indexManager=new P4,this.remoteDocumentCache=function(s){return new W4(s)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new D4(n),this.Yr=new F4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new z4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Wr[t.toKey()];return i||(i=new q4(n,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,i){wt("MemoryPersistence","Starting transaction:",t);const s=new K4(this.Gr.next());return this.referenceDelegate.Zr(),i(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(t,n){return ct.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,n)))}}class K4 extends TU{constructor(t){super(),this.currentSequenceNumber=t}}class W0{constructor(t){this.persistence=t,this.ti=new q0,this.ni=null}static ri(t){return new W0(t)}get ii(){if(this.ni)return this.ni;throw jt()}addReference(t,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),ct.resolve()}removeReference(t,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),ct.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),ct.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.ii,i=>{const s=Mt.fromPath(i);return this.si(t,s).next(a=>{a||n.removeEntry(s,zt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return ct.or([()=>ct.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Zp{constructor(t,n){this.persistence=t,this.oi=new cl(i=>xU(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=V4(this,n)}static ri(t,n){return new Zp(t,n)}Zr(){}Xr(t){return ct.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}sr(t){let n=0;return this.rr(t,i=>{n++}).next(()=>n)}rr(t,n){return ct.forEach(this.oi,(i,s)=>this.ar(t,i,s).next(a=>a?ct.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(t,l=>this.ar(t,l,n).next(c=>{c||(i++,a.removeEntry(l,zt.min()))})).next(()=>a.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),ct.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),ct.resolve()}removeReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),ct.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),ct.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Sp(t.data.value)),n}ar(t,n,i){return ct.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.oi.get(n);return ct.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Hi=i,this.Ji=s}static Yi(t,n){let i=ie(),s=ie();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new $0(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return HL()?8:SU(ti())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,i,s){const a={result:null};return this.rs(t,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(t,n,s,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new Y4;return this._s(t,n,l).next(c=>{if(a.result=c,this.Xi)return this.us(t,n,l,c.size)})}).next(()=>a.result)}us(t,n,i,s){return i.documentReadCount<this.es?(ic()<=ee.DEBUG&&wt("QueryEngine","SDK will not create cache indexes for query:",sc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ct.resolve()):(ic()<=ee.DEBUG&&wt("QueryEngine","Query:",sc(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ts*s?(ic()<=ee.DEBUG&&wt("QueryEngine","The SDK decides to create cache indexes for query:",sc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Zs(n))):ct.resolve())}rs(t,n){if(zx(n))return ct.resolve(null);let i=Zs(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=v_(n,null,"F"),i=Zs(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const l=ie(...a);return this.ns.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,i).next(h=>{const f=this.cs(n,c);return this.ls(n,f,l,h.readTime)?this.rs(t,v_(n,null,"F")):this.hs(t,f,n,h)}))})))}ss(t,n,i,s){return zx(n)||s.isEqual(zt.min())?ct.resolve(null):this.ns.getDocuments(t,i).next(a=>{const l=this.cs(n,a);return this.ls(n,l,i,s)?ct.resolve(null):(ic()<=ee.DEBUG&&wt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),sc(n)),this.hs(t,l,n,vU(s,Mh)).next(c=>c))})}cs(t,n){let i=new En(ck(t));return n.forEach((s,a)=>{Og(t,a)&&(i=i.add(a))}),i}ls(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(t,n,i){return ic()<=ee.DEBUG&&wt("QueryEngine","Using full collection scan to execute query:",sc(n)),this.ns.getDocumentsMatchingQuery(t,n,za.min(),i)}hs(t,n,i,s){return this.ns.getDocumentsMatchingQuery(t,i,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="LocalStore",Q4=3e8;class Z4{constructor(t,n,i,s){this.persistence=t,this.Ps=n,this.serializer=s,this.Ts=new Ye(Xt),this.Is=new cl(a=>V0(a),B0),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new U4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function J4(e,t,n,i){return new Z4(e,t,n,i)}async function Ok(e,t){const n=Ht(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,n.As(t),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],c=[];let h=ie();for(const f of s){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of a){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:c}))})})}function tF(e,t){const n=Ht(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,f,p){const y=f.batch,_=y.keys();let b=ct.resolve();return _.forEach(T=>{b=b.next(()=>p.getEntry(h,T)).next(S=>{const E=f.docVersions.get(T);Se(E!==null),S.version.compareTo(E)<0&&(y.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),p.addEntry(S)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(n,i,t,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=ie();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function Nk(e){const t=Ht(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function eF(e,t){const n=Ht(e),i=t.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const c=[];t.targetChanges.forEach((p,y)=>{const _=s.get(y);if(!_)return;c.push(n.Hr.removeMatchingKeys(a,p.removedDocuments,y).next(()=>n.Hr.addMatchingKeys(a,p.addedDocuments,y)));let b=_.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(y)!==null?b=b.withResumeToken(Fn.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,i)),s=s.insert(y,b),function(S,E,C){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=Q4?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(_,b,p)&&c.push(n.Hr.updateTargetData(a,b))});let h=Qr(),f=ie();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))}),c.push(nF(a,l,t.documentUpdates).next(p=>{h=p.Vs,f=p.fs})),!i.isEqual(zt.min())){const p=n.Hr.getLastRemoteSnapshotVersion(a).next(y=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));c.push(p)}return ct.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,f)).next(()=>h)}).then(a=>(n.Ts=s,a))}function nF(e,t,n){let i=ie(),s=ie();return n.forEach(a=>i=i.add(a)),t.getEntries(e,i).next(a=>{let l=Qr();return n.forEach((c,h)=>{const f=a.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(zt.min())?(t.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(h),l=l.insert(c,h)):wt(G0,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{Vs:l,fs:s}})}function iF(e,t){const n=Ht(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=O0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function sF(e,t){const n=Ht(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Hr.getTargetData(i,t).next(a=>a?(s=a,ct.resolve(s)):n.Hr.allocateTargetId(i).next(l=>(s=new Ia(t,l,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(t,i.targetId)),i})}async function S_(e,t,n){const i=Ht(e),s=i.Ts.get(t),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!qc(l))throw l;wt(G0,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ts=i.Ts.remove(t),i.Is.delete(s.target)}function eA(e,t,n){const i=Ht(e);let s=zt.min(),a=ie();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const y=Ht(h),_=y.Is.get(p);return _!==void 0?ct.resolve(y.Ts.get(_)):y.Hr.getTargetData(f,p)}(i,l,Zs(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(l,t,n?s:zt.min(),n?a:ie())).next(c=>(rF(i,WU(t),c),{documents:c,gs:a})))}function rF(e,t,n){let i=e.Es.get(t)||zt.min();n.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),e.Es.set(t,i)}class nA{constructor(){this.activeTargetIds=QU()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class aF{constructor(){this.ho=new nA,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,i){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new nA,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="ConnectivityMonitor";class sA{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){wt(iA,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){wt(iA,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd=null;function E_(){return Yd===null?Yd=function(){return 268435456+Math.round(2147483648*Math.random())}():Yd++,"0x"+Yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="RestConnection",lF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cF{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database===$p?`project_id=${i}`:`project_id=${i}&database_id=${s}`}So(t,n,i,s,a){const l=E_(),c=this.bo(t,n.toUriEncodedString());wt(_v,`Sending RPC '${t}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,a),this.vo(t,c,h,i).then(f=>(wt(_v,`Received RPC '${t}' ${l}: `,f),f),f=>{throw Tc(_v,`RPC '${t}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}Co(t,n,i,s,a,l){return this.So(t,n,i,s,a)}Do(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}bo(t,n){const i=lF[t];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="WebChannelConnection";class hF extends cF{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,i,s){const a=E_();return new Promise((l,c)=>{const h=new BD;h.setWithCredentials(!0),h.listenOnce(jD.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Tp.NO_ERROR:const p=h.getResponseJson();wt(Gn,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case Tp.TIMEOUT:wt(Gn,`RPC '${t}' ${a} timed out`),c(new kt(ft.DEADLINE_EXCEEDED,"Request time out"));break;case Tp.HTTP_ERROR:const y=h.getStatus();if(wt(Gn,`RPC '${t}' ${a} failed with status:`,y,"response text:",h.getResponseText()),y>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const b=_==null?void 0:_.error;if(b&&b.status&&b.message){const T=function(E){const C=E.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(C)>=0?C:ft.UNKNOWN}(b.status);c(new kt(T,b.message))}else c(new kt(ft.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new kt(ft.UNAVAILABLE,"Connection failed."));break;default:jt()}}finally{wt(Gn,`RPC '${t}' ${a} completed.`)}});const f=JSON.stringify(s);wt(Gn,`RPC '${t}' ${a} sending request:`,s),h.send(n,"POST",f,i,15)})}Wo(t,n,i){const s=E_(),a=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=zD(),c=FD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=a.join("");wt(Gn,`Creating RPC '${t}' stream ${s}: ${p}`,h);const y=l.createWebChannel(p,h);let _=!1,b=!1;const T=new uF({Fo:E=>{b?wt(Gn,`Not sending because RPC '${t}' stream ${s} is closed:`,E):(_||(wt(Gn,`Opening RPC '${t}' stream ${s} transport.`),y.open(),_=!0),wt(Gn,`RPC '${t}' stream ${s} sending:`,E),y.send(E))},Mo:()=>y.close()}),S=(E,C,V)=>{E.listen(C,B=>{try{V(B)}catch(W){setTimeout(()=>{throw W},0)}})};return S(y,ah.EventType.OPEN,()=>{b||(wt(Gn,`RPC '${t}' stream ${s} transport opened.`),T.Qo())}),S(y,ah.EventType.CLOSE,()=>{b||(b=!0,wt(Gn,`RPC '${t}' stream ${s} transport closed`),T.Uo())}),S(y,ah.EventType.ERROR,E=>{b||(b=!0,Tc(Gn,`RPC '${t}' stream ${s} transport errored:`,E),T.Uo(new kt(ft.UNAVAILABLE,"The operation could not be completed")))}),S(y,ah.EventType.MESSAGE,E=>{var C;if(!b){const V=E.data[0];Se(!!V);const B=V,W=(B==null?void 0:B.error)||((C=B[0])===null||C===void 0?void 0:C.error);if(W){wt(Gn,`RPC '${t}' stream ${s} received error:`,W);const F=W.status;let K=function(P){const j=dn[P];if(j!==void 0)return Tk(j)}(F),M=W.message;K===void 0&&(K=ft.INTERNAL,M="Unknown error status: "+F+" with message "+W.message),b=!0,T.Uo(new kt(K,M)),y.close()}else wt(Gn,`RPC '${t}' stream ${s} received:`,V),T.Ko(V)}}),S(c,UD.STAT_EVENT,E=>{E.stat===f_.PROXY?wt(Gn,`RPC '${t}' stream ${s} detected buffering proxy`):E.stat===f_.NOPROXY&&wt(Gn,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function bv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(e){return new g4(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(t,n,i=1e3,s=1.5,a=6e4){this.Ti=t,this.timerId=n,this.Go=i,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-i);s>0&&wt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="PersistentStream";class Vk{constructor(t,n,i,s,a,l,c,h){this.Ti=t,this.n_=i,this.r_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Lk(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===ft.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.i_===n&&this.V_(i,s)},i=>{t(()=>{const s=new kt(ft.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(s)})})}V_(t,n){const i=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{i(()=>this.m_(s))}),this.stream.onMessage(s=>{i(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return wt(rA,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(wt(rA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fF extends Vk{constructor(t,n,i,s,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=v4(this.serializer,t),i=function(a){if(!("targetChange"in a))return zt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?zt.min():l.readTime?tr(l.readTime):zt.min()}(t);return this.listener.p_(n,i)}y_(t){const n={};n.database=T_(this.serializer),n.addTarget=function(a,l){let c;const h=l.target;if(c=y_(h)?{documents:w4(a,h)}:{query:T4(a,h).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=xk(a,l.resumeToken);const f=__(a,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(zt.min())>0){c.readTime=Qp(a,l.snapshotVersion.toTimestamp());const f=__(a,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,t);const i=E4(this.serializer,t);i&&(n.labels=i),this.I_(n)}w_(t){const n={};n.database=T_(this.serializer),n.removeTarget=t,this.I_(n)}}class dF extends Vk{constructor(t,n,i,s,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Se(!!t.streamToken),this.lastStreamToken=t.streamToken,Se(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Se(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=b4(t.writeResults,t.commitTime),i=tr(t.commitTime);return this.listener.v_(i,n)}C_(){const t={};t.database=T_(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>_4(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{}class gF extends pF{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new kt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(t,b_(n,i),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new kt(ft.UNKNOWN,a.toString())})}Co(t,n,i,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(t,b_(n,i),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new kt(ft.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class mF{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Xr(n),this.N_=!1):wt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="RemoteStore";class yF{constructor(t,n,i,s,a){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{i.enqueueAndForget(async()=>{ul(this)&&(wt(Jo,"Restarting streams for network reachability change."),await async function(h){const f=Ht(h);f.W_.add(4),await pf(f),f.j_.set("Unknown"),f.W_.delete(4),await jg(f)}(this))})}),this.j_=new mF(i,s)}}async function jg(e){if(ul(e))for(const t of e.G_)await t(!0)}async function pf(e){for(const t of e.G_)await t(!1)}function Bk(e,t){const n=Ht(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Q0(n)?X0(n):Wc(n).c_()&&Y0(n,t))}function K0(e,t){const n=Ht(e),i=Wc(n);n.K_.delete(t),i.c_()&&jk(n,t),n.K_.size===0&&(i.c_()?i.P_():ul(n)&&n.j_.set("Unknown"))}function Y0(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(zt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wc(e).y_(t)}function jk(e,t){e.H_.Ne(t),Wc(e).w_(t)}function X0(e){e.H_=new h4({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Wc(e).start(),e.j_.B_()}function Q0(e){return ul(e)&&!Wc(e).u_()&&e.K_.size>0}function ul(e){return Ht(e).W_.size===0}function Uk(e){e.H_=void 0}async function vF(e){e.j_.set("Online")}async function _F(e){e.K_.forEach((t,n)=>{Y0(e,t)})}async function bF(e,t){Uk(e),Q0(e)?(e.j_.q_(t),X0(e)):e.j_.set("Unknown")}async function wF(e,t,n){if(e.j_.set("Online"),t instanceof Ek&&t.state===2&&t.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.K_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.K_.delete(c),s.H_.removeTarget(c))}(e,t)}catch(i){wt(Jo,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Jp(e,i)}else if(t instanceof Ap?e.H_.We(t):t instanceof Sk?e.H_.Ze(t):e.H_.je(t),!n.isEqual(zt.min()))try{const i=await Nk(e.localStore);n.compareTo(i)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.K_.get(f);p&&a.K_.set(f,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,f)=>{const p=a.K_.get(h);if(!p)return;a.K_.set(h,p.withResumeToken(Fn.EMPTY_BYTE_STRING,p.snapshotVersion)),jk(a,h);const y=new Ia(p.target,h,f,p.sequenceNumber);Y0(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(i){wt(Jo,"Failed to raise snapshot:",i),await Jp(e,i)}}async function Jp(e,t,n){if(!qc(t))throw t;e.W_.add(1),await pf(e),e.j_.set("Offline"),n||(n=()=>Nk(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{wt(Jo,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await jg(e)})}function Fk(e,t){return t().catch(n=>Jp(e,n,t))}async function Ug(e){const t=Ht(e),n=$a(t);let i=t.U_.length>0?t.U_[t.U_.length-1].batchId:O0;for(;TF(t);)try{const s=await iF(t.localStore,i);if(s===null){t.U_.length===0&&n.P_();break}i=s.batchId,SF(t,s)}catch(s){await Jp(t,s)}zk(t)&&Hk(t)}function TF(e){return ul(e)&&e.U_.length<10}function SF(e,t){e.U_.push(t);const n=$a(e);n.c_()&&n.S_&&n.b_(t.mutations)}function zk(e){return ul(e)&&!$a(e).u_()&&e.U_.length>0}function Hk(e){$a(e).start()}async function EF(e){$a(e).C_()}async function xF(e){const t=$a(e);for(const n of e.U_)t.b_(n.mutations)}async function AF(e,t,n){const i=e.U_.shift(),s=F0.from(i,t,n);await Fk(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Ug(e)}async function RF(e,t){t&&$a(e).S_&&await async function(i,s){if(function(l){return c4(l)&&l!==ft.ABORTED}(s.code)){const a=i.U_.shift();$a(i).h_(),await Fk(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Ug(i)}}(e,t),zk(e)&&Hk(e)}async function aA(e,t){const n=Ht(e);n.asyncQueue.verifyOperationInProgress(),wt(Jo,"RemoteStore received new credentials");const i=ul(n);n.W_.add(3),await pf(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await jg(n)}async function CF(e,t){const n=Ht(e);t?(n.W_.delete(2),await jg(n)):t||(n.W_.add(2),await pf(n),n.j_.set("Unknown"))}function Wc(e){return e.J_||(e.J_=function(n,i,s){const a=Ht(n);return a.M_(),new fF(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(e.datastore,e.asyncQueue,{xo:vF.bind(null,e),No:_F.bind(null,e),Lo:bF.bind(null,e),p_:wF.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),Q0(e)?X0(e):e.j_.set("Unknown")):(await e.J_.stop(),Uk(e))})),e.J_}function $a(e){return e.Y_||(e.Y_=function(n,i,s){const a=Ht(n);return a.M_(),new dF(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:EF.bind(null,e),Lo:RF.bind(null,e),D_:xF.bind(null,e),v_:AF.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await Ug(e)):(await e.Y_.stop(),e.U_.length>0&&(wt(Jo,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))})),e.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(t,n,i,s,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,a){const l=Date.now()+i,c=new Z0(t,n,l,s,a);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new kt(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function J0(e,t){if(Xr("AsyncQueue",`${t}: ${e}`),qc(e))return new kt(ft.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{static emptySet(t){return new gc(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Mt.comparator(n.key,i.key):(n,i)=>Mt.comparator(n.key,i.key),this.keyedMap=oh(),this.sortedSet=new Ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof gc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new gc;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.Z_=new Ye(Mt.comparator)}track(t){const n=t.doc.key,i=this.Z_.get(n);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(n):t.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):jt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Cc{constructor(t,n,i,s,a,l,c,h,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,n,i,s,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Cc(t,n,gc.emptySet(n),l,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ig(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class kF{constructor(){this.queries=lA(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const s=Ht(n),a=s.queries;s.queries=lA(),a.forEach((l,c)=>{for(const h of c.ta)h.onError(i)})})(this,new kt(ft.ABORTED,"Firestore shutting down"))}}function lA(){return new cl(e=>lk(e),Ig)}async function PF(e,t){const n=Ht(e);let i=3;const s=t.query;let a=n.queries.get(s);a?!a.na()&&t.ra()&&(i=2):(a=new DF,i=t.ra()?0:1);try{switch(i){case 0:a.ea=await n.onListen(s,!0);break;case 1:a.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=J0(l,`Initialization of query '${sc(t.query)}' failed`);return void t.onError(c)}n.queries.set(s,a),a.ta.push(t),t.sa(n.onlineState),a.ea&&t.oa(a.ea)&&tb(n)}async function MF(e,t){const n=Ht(e),i=t.query;let s=3;const a=n.queries.get(i);if(a){const l=a.ta.indexOf(t);l>=0&&(a.ta.splice(l,1),a.ta.length===0?s=t.ra()?0:1:!a.na()&&t.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function IF(e,t){const n=Ht(e);let i=!1;for(const s of t){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.ta)c.oa(s)&&(i=!0);l.ea=s}}i&&tb(n)}function OF(e,t,n){const i=Ht(e),s=i.queries.get(t);if(s)for(const a of s.ta)a.onError(n);i.queries.delete(t)}function tb(e){e.ia.forEach(t=>{t.next()})}var x_,cA;(cA=x_||(x_={}))._a="default",cA.Cache="cache";class NF{constructor(t,n,i){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Cc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Cc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==x_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t){this.key=t}}class Wk{constructor(t){this.key=t}}class LF{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ie(),this.mutatedKeys=ie(),this.ya=ck(t),this.wa=new gc(this.ya)}get Sa(){return this.fa}ba(t,n){const i=n?n.Da:new oA,s=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,y)=>{const _=s.get(p),b=Og(this.query,y)?y:null,T=!!_&&this.mutatedKeys.has(_.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let E=!1;_&&b?_.data.isEqual(b.data)?T!==S&&(i.track({type:3,doc:b}),E=!0):this.va(_,b)||(i.track({type:2,doc:b}),E=!0,(h&&this.ya(b,h)>0||f&&this.ya(b,f)<0)&&(c=!0)):!_&&b?(i.track({type:0,doc:b}),E=!0):_&&!b&&(i.track({type:1,doc:_}),E=!0,(h||f)&&(c=!0)),E&&(b?(l=l.add(b),a=S?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{wa:l,Da:i,ls:c,mutatedKeys:a}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const a=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const l=t.Da.X_();l.sort((p,y)=>function(b,T){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt()}};return S(b)-S(T)}(p.type,y.type)||this.ya(p.doc,y.doc)),this.Ca(i),s=s!=null&&s;const c=n&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,f=h!==this.ga;return this.ga=h,l.length!==0||f?{snapshot:new Cc(this.query,t.wa,a,l,t.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new oA,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=ie(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return t.forEach(i=>{this.pa.has(i)||n.push(new Wk(i))}),this.pa.forEach(i=>{t.has(i)||n.push(new qk(i))}),n}Oa(t){this.fa=t.gs,this.pa=ie();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Cc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const eb="SyncEngine";class VF{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class BF{constructor(t){this.key=t,this.Ba=!1}}class jF{constructor(t,n,i,s,a,l){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new cl(c=>lk(c),Ig),this.qa=new Map,this.Qa=new Set,this.$a=new Ye(Mt.comparator),this.Ua=new Map,this.Ka=new q0,this.Wa={},this.Ga=new Map,this.za=Rc.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function UF(e,t,n=!0){const i=Qk(e);let s;const a=i.ka.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await $k(i,t,n,!0),s}async function FF(e,t){const n=Qk(e);await $k(n,t,!0,!1)}async function $k(e,t,n,i){const s=await sF(e.localStore,Zs(t)),a=s.targetId,l=e.sharedClientState.addLocalQueryTarget(a,n);let c;return i&&(c=await zF(e,t,a,l==="current",s.resumeToken)),e.isPrimaryClient&&n&&Bk(e.remoteStore,s),c}async function zF(e,t,n,i,s){e.Ha=(y,_,b)=>async function(S,E,C,V){let B=E.view.ba(C);B.ls&&(B=await eA(S.localStore,E.query,!1).then(({documents:M})=>E.view.ba(M,B)));const W=V&&V.targetChanges.get(E.targetId),F=V&&V.targetMismatches.get(E.targetId)!=null,K=E.view.applyChanges(B,S.isPrimaryClient,W,F);return hA(S,E.targetId,K.Ma),K.snapshot}(e,y,_,b);const a=await eA(e.localStore,t,!0),l=new LF(t,a.gs),c=l.ba(a.documents),h=df.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),f=l.applyChanges(c,e.isPrimaryClient,h);hA(e,n,f.Ma);const p=new VF(t,n,l);return e.ka.set(t,p),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),f.snapshot}async function HF(e,t,n){const i=Ht(e),s=i.ka.get(t),a=i.qa.get(s.targetId);if(a.length>1)return i.qa.set(s.targetId,a.filter(l=>!Ig(l,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await S_(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&K0(i.remoteStore,s.targetId),A_(i,s.targetId)}).catch(Hc)):(A_(i,s.targetId),await S_(i.localStore,s.targetId,!0))}async function qF(e,t){const n=Ht(e),i=n.ka.get(t),s=n.qa.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),K0(n.remoteStore,i.targetId))}async function WF(e,t,n){const i=ZF(e);try{const s=await function(l,c){const h=Ht(l),f=Sn.now(),p=c.reduce((b,T)=>b.add(T.key),ie());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let T=Qr(),S=ie();return h.ds.getEntries(b,p).next(E=>{T=E,T.forEach((C,V)=>{V.isValidDocument()||(S=S.add(C))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,T)).next(E=>{y=E;const C=[];for(const V of c){const B=s4(V,y.get(V.key).overlayedDocument);B!=null&&C.push(new Za(V.key,B,ek(B.value.mapValue),Js.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,C,c)}).next(E=>{_=E;const C=E.applyToLocalDocumentSet(y,S);return h.documentOverlayCache.saveOverlays(b,E.batchId,C)})}).then(()=>({batchId:_.batchId,changes:hk(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let f=l.Wa[l.currentUser.toKey()];f||(f=new Ye(Xt)),f=f.insert(c,h),l.Wa[l.currentUser.toKey()]=f}(i,s.batchId,n),await gf(i,s.changes),await Ug(i.remoteStore)}catch(s){const a=J0(s,"Failed to persist write");n.reject(a)}}async function Gk(e,t){const n=Ht(e);try{const i=await eF(n.localStore,t);t.targetChanges.forEach((s,a)=>{const l=n.Ua.get(a);l&&(Se(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?Se(l.Ba):s.removedDocuments.size>0&&(Se(l.Ba),l.Ba=!1))}),await gf(n,i,t)}catch(i){await Hc(i)}}function uA(e,t,n){const i=Ht(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.ka.forEach((a,l)=>{const c=l.view.sa(t);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=Ht(l);h.onlineState=c;let f=!1;h.queries.forEach((p,y)=>{for(const _ of y.ta)_.sa(c)&&(f=!0)}),f&&tb(h)}(i.eventManager,t),s.length&&i.La.p_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function $F(e,t,n){const i=Ht(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Ua.get(t),a=s&&s.key;if(a){let l=new Ye(Mt.comparator);l=l.insert(a,Qn.newNoDocument(a,zt.min()));const c=ie().add(a),h=new Vg(zt.min(),new Map,new Ye(Xt),l,c);await Gk(i,h),i.$a=i.$a.remove(a),i.Ua.delete(t),nb(i)}else await S_(i.localStore,t,!1).then(()=>A_(i,t,n)).catch(Hc)}async function GF(e,t){const n=Ht(e),i=t.batch.batchId;try{const s=await tF(n.localStore,t);Yk(n,i,null),Kk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await gf(n,s)}catch(s){await Hc(s)}}async function KF(e,t,n){const i=Ht(e);try{const s=await function(l,c){const h=Ht(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,c).next(y=>(Se(y!==null),p=y.keys(),h.mutationQueue.removeMutationBatch(f,y))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,t);Yk(i,t,n),Kk(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await gf(i,s)}catch(s){await Hc(s)}}function Kk(e,t){(e.Ga.get(t)||[]).forEach(n=>{n.resolve()}),e.Ga.delete(t)}function Yk(e,t,n){const i=Ht(e);let s=i.Wa[i.currentUser.toKey()];if(s){const a=s.get(t);a&&(n?a.reject(n):a.resolve(),s=s.remove(t)),i.Wa[i.currentUser.toKey()]=s}}function A_(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.qa.get(t))e.ka.delete(i),n&&e.La.Ja(i,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach(i=>{e.Ka.containsKey(i)||Xk(e,i)})}function Xk(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(K0(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),nb(e))}function hA(e,t,n){for(const i of n)i instanceof qk?(e.Ka.addReference(i.key,t),YF(e,i)):i instanceof Wk?(wt(eb,"Document no longer in limbo: "+i.key),e.Ka.removeReference(i.key,t),e.Ka.containsKey(i.key)||Xk(e,i.key)):jt()}function YF(e,t){const n=t.key,i=n.path.canonicalString();e.$a.get(n)||e.Qa.has(i)||(wt(eb,"New document in limbo: "+n),e.Qa.add(i),nb(e))}function nb(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new Mt(tn.fromString(t)),i=e.za.next();e.Ua.set(i,new BF(n)),e.$a=e.$a.insert(n,i),Bk(e.remoteStore,new Ia(Zs(j0(n.path)),i,"TargetPurposeLimboResolution",Dg.ae))}}async function gf(e,t,n){const i=Ht(e),s=[],a=[],l=[];i.ka.isEmpty()||(i.ka.forEach((c,h)=>{l.push(i.Ha(h,t,n).then(f=>{var p;if((f||n)&&i.isPrimaryClient){const y=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(f){s.push(f);const y=$0.Yi(h.targetId,f);a.push(y)}}))}),await Promise.all(l),i.La.p_(s),await async function(h,f){const p=Ht(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ct.forEach(f,_=>ct.forEach(_.Hi,b=>p.persistence.referenceDelegate.addReference(y,_.targetId,b)).next(()=>ct.forEach(_.Ji,b=>p.persistence.referenceDelegate.removeReference(y,_.targetId,b)))))}catch(y){if(!qc(y))throw y;wt(G0,"Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const b=p.Ts.get(_),T=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(T);p.Ts=p.Ts.insert(_,S)}}}(i.localStore,a))}async function XF(e,t){const n=Ht(e);if(!n.currentUser.isEqual(t)){wt(eb,"User change. New user:",t.toKey());const i=await Ok(n.localStore,t);n.currentUser=t,function(a,l){a.Ga.forEach(c=>{c.forEach(h=>{h.reject(new kt(ft.CANCELLED,l))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await gf(n,i.Rs)}}function QF(e,t){const n=Ht(e),i=n.Ua.get(t);if(i&&i.Ba)return ie().add(i.key);{let s=ie();const a=n.qa.get(t);if(!a)return s;for(const l of a){const c=n.ka.get(l);s=s.unionWith(c.view.Sa)}return s}}function Qk(e){const t=Ht(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QF.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$F.bind(null,t),t.La.p_=IF.bind(null,t.eventManager),t.La.Ja=OF.bind(null,t.eventManager),t}function ZF(e){const t=Ht(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GF.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KF.bind(null,t),t}class tg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Bg(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return J4(this.persistence,new X4,t.initialUser,this.serializer)}Xa(t){return new Ik(W0.ri,this.serializer)}Za(t){return new aF}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tg.provider={build:()=>new tg};class JF extends tg{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Se(this.persistence.referenceDelegate instanceof Zp);const i=this.persistence.referenceDelegate.garbageCollector;return new N4(i,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new Ik(i=>Zp.ri(i,n),this.serializer)}}class R_{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>uA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=XF.bind(null,this.syncEngine),await CF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new kF}()}createDatastore(t){const n=Bg(t.databaseInfo.databaseId),i=function(a){return new hF(a)}(t.databaseInfo);return function(a,l,c,h){return new gF(a,l,c,h)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,a,l,c){return new yF(i,s,a,l,c)}(this.localStore,this.datastore,t.asyncQueue,n=>uA(this.syncEngine,n,0),function(){return sA.D()?new sA:new oF}())}createSyncEngine(t,n){return function(s,a,l,c,h,f,p){const y=new jF(s,a,l,c,h,f);return p&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const a=Ht(s);wt(Jo,"RemoteStore shutting down."),a.W_.add(5),await pf(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}R_.provider={build:()=>new R_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Xr("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="FirestoreClient";class ez{constructor(t,n,i,s,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Xn.UNAUTHENTICATED,this.clientId=WD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{wt(Ga,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(wt(Ga,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=J0(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function wv(e,t){e.asyncQueue.verifyOperationInProgress(),wt(Ga,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await Ok(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function fA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await nz(e);wt(Ga,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>aA(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>aA(t.remoteStore,s)),e._onlineComponents=t}async function nz(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){wt(Ga,"Using user provided OfflineComponentProvider");try{await wv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===ft.FAILED_PRECONDITION||s.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Tc("Error using user provided cache. Falling back to memory cache: "+n),await wv(e,new tg)}}else wt(Ga,"Using default OfflineComponentProvider"),await wv(e,new JF(void 0));return e._offlineComponents}async function Zk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(wt(Ga,"Using user provided OnlineComponentProvider"),await fA(e,e._uninitializedComponentsProvider._online)):(wt(Ga,"Using default OnlineComponentProvider"),await fA(e,new R_))),e._onlineComponents}function iz(e){return Zk(e).then(t=>t.syncEngine)}async function sz(e){const t=await Zk(e),n=t.eventManager;return n.onListen=UF.bind(null,t.syncEngine),n.onUnlisten=HF.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=FF.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=qF.bind(null,t.syncEngine),n}function rz(e,t,n={}){const i=new Ua;return e.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,f){const p=new tz({next:_=>{p.su(),l.enqueueAndForget(()=>MF(a,y));const b=_.docs.has(c);!b&&_.fromCache?f.reject(new kt(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&_.fromCache&&h&&h.source==="server"?f.reject(new kt(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new NF(j0(c.path),p,{includeMetadataChanges:!0,Ta:!0});return PF(a,y)}(await sz(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(e,t,n){if(!n)throw new kt(ft.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function oz(e,t,n,i){if(t===!0&&i===!0)throw new kt(ft.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function pA(e){if(!Mt.isDocumentKey(e))throw new kt(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ib(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":jt()}function tl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new kt(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ib(e);throw new kt(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="firestore.googleapis.com",gA=!0;class mA{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new kt(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tP,this.ssl=gA}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:gA;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Mk;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<I4)throw new kt(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}oz("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jk((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new kt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new kt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new kt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sb{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new kt(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new kt(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new cU;switch(i.type){case"firstParty":return new dU(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new kt(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=dA.get(n);i&&(wt("ComponentProvider","Removing Datastore"),dA.delete(n),i.terminate())}(this),Promise.resolve()}}function lz(e,t,n,i={}){var s;const a=(e=tl(e,sb))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),c=`${t}:${n}`;a.host!==tP&&a.host!==c&&Tc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:i});if(!Gr(h,l)&&(e._setSettings(h),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Xn.MOCK_USER;else{f=VL(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new kt(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Xn(y)}e._authCredentials=new uU(new HD(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new rb(this.firestore,t,this._query)}}class Vi{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bh(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Vi(this.firestore,t,this._key)}}class Bh extends rb{constructor(t,n,i){super(t,n,j0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Vi(this.firestore,null,new Mt(t))}withConverter(t){return new Bh(this.firestore,t,this._path)}}function Ss(e,t,...n){if(e=ei(e),arguments.length===1&&(t=WD.newId()),az("doc","path",t),e instanceof sb){const i=tn.fromString(t,...n);return pA(i),new Vi(e,null,new Mt(i))}{if(!(e instanceof Vi||e instanceof Bh))throw new kt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(tn.fromString(t,...n));return pA(i),new Vi(e.firestore,e instanceof Bh?e.converter:null,new Mt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="AsyncQueue";class vA{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Lk(this,"async_queue_retry"),this.Su=()=>{const i=bv();i&&wt(yA,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=t;const n=bv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=bv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ua;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!qc(t))throw t;wt(yA,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw Xr("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(t,n,i){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const s=Z0.createAndSchedule(this,t,n,i,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&jt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Fg extends sb{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new vA,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new vA(t),this._firestoreClient=void 0,await t}}}function cz(e,t){const n=typeof e=="object"?e:w0(),i=typeof e=="string"?e:$p,s=ll(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=NL("firestore");a&&lz(s,...a)}return s}function eP(e){if(e._terminated)throw new kt(ft.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||uz(e),e._firestoreClient}function uz(e){var t,n,i;const s=e._freezeSettings(),a=function(c,h,f,p){return new CU(c,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Jk(p.experimentalLongPollingOptions),p.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new ez(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dc(Fn.fromBase64String(t))}catch(n){throw new kt(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Dc(Fn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new kt(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new kt(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new kt(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Xt(this._lat,t._lat)||Xt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=/^__.*__$/;class fz{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Za(t,this.data,this.fieldMask,n,this.fieldTransforms):new ff(t,this.data,n,this.fieldTransforms)}}class nP{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Za(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function iP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt()}}class Hg{constructor(t,n,i,s,a,l){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Hg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.ku({path:i,Qu:!1});return s.$u(t),s}Uu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.ku({path:i,Qu:!1});return s.Bu(),s}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return eg(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(iP(this.Lu)&&hz.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class dz{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Bg(t)}ju(t,n,i,s=!1){return new Hg({Lu:t,methodName:n,zu:i,path:Un.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sP(e){const t=e._freezeSettings(),n=Bg(e._databaseId);return new dz(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pz(e,t,n,i,s,a={}){const l=e.ju(a.merge||a.mergeFields?2:0,t,n,s);ub("Data must be an object, but it was:",l,i);const c=rP(i,l);let h,f;if(a.merge)h=new Ni(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const y of a.mergeFields){const _=C_(t,y,n);if(!l.contains(_))throw new kt(ft.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);oP(p,_)||p.push(_)}h=new Ni(p),f=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,f=l.fieldTransforms;return new fz(new bi(c),h,f)}class qg extends mf{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qg}}function gz(e,t,n){return new Hg({Lu:3,zu:t.settings.zu,methodName:e._methodName,Qu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class lb extends mf{_toFieldTransform(t){return new vk(t.path,new Lh)}isEqual(t){return t instanceof lb}}class cb extends mf{constructor(t,n){super(t),this.Hu=n}_toFieldTransform(t){const n=gz(this,t,!0),i=this.Hu.map(a=>yf(a,n)),s=new Ac(i);return new vk(t.path,s)}isEqual(t){return t instanceof cb&&Gr(this.Hu,t.Hu)}}function mz(e,t,n,i){const s=e.ju(1,t,n);ub("Data must be an object, but it was:",s,i);const a=[],l=bi.empty();Qa(i,(h,f)=>{const p=hb(t,h,n);f=ei(f);const y=s.Uu(p);if(f instanceof qg)a.push(p);else{const _=yf(f,y);_!=null&&(a.push(p),l.set(p,_))}});const c=new Ni(a);return new nP(l,c,s.fieldTransforms)}function yz(e,t,n,i,s,a){const l=e.ju(1,t,n),c=[C_(t,i,n)],h=[s];if(a.length%2!=0)throw new kt(ft.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)c.push(C_(t,a[_])),h.push(a[_+1]);const f=[],p=bi.empty();for(let _=c.length-1;_>=0;--_)if(!oP(f,c[_])){const b=c[_];let T=h[_];T=ei(T);const S=l.Uu(b);if(T instanceof qg)f.push(b);else{const E=yf(T,S);E!=null&&(f.push(b),p.set(b,E))}}const y=new Ni(f);return new nP(p,y,l.fieldTransforms)}function yf(e,t){if(aP(e=ei(e)))return ub("Unsupported field value:",t,e),rP(e,t);if(e instanceof mf)return function(i,s){if(!iP(s.Lu))throw s.Wu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(i,s){const a=[];let l=0;for(const c of i){let h=yf(c,s.Ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(e,t)}return function(i,s){if((i=ei(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ZU(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Sn.fromDate(i);return{timestampValue:Qp(s.serializer,a)}}if(i instanceof Sn){const a=new Sn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Qp(s.serializer,a)}}if(i instanceof ab)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Dc)return{bytesValue:xk(s.serializer,i._byteString)};if(i instanceof Vi){const a=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:H0(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof ob)return function(l,c){return{mapValue:{fields:{[JD]:{stringValue:tk},[Gp]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Wu("VectorValues must only contain numeric values.");return U0(c.serializer,f)})}}}}}}(i,s);throw s.Wu(`Unsupported field value: ${ib(i)}`)}(e,t)}function rP(e,t){const n={};return GD(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qa(e,(i,s)=>{const a=yf(s,t.qu(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function aP(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Sn||e instanceof ab||e instanceof Dc||e instanceof Vi||e instanceof mf||e instanceof ob)}function ub(e,t,n){if(!aP(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=ib(n);throw i==="an object"?t.Wu(e+" a custom object"):t.Wu(e+" "+i)}}function C_(e,t,n){if((t=ei(t))instanceof zg)return t._internalPath;if(typeof t=="string")return hb(e,t);throw eg("Field path arguments must be of type string or ",e,!1,void 0,n)}const vz=new RegExp("[~\\*/\\[\\]]");function hb(e,t,n){if(t.search(vz)>=0)throw eg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new zg(...t.split("."))._internalPath}catch{throw eg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function eg(e,t,n,i,s){const a=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new kt(ft.INVALID_ARGUMENT,c+e+h)}function oP(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(t,n,i,s,a){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _z(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(cP("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _z extends lP{data(){return super.data()}}function cP(e,t){return typeof t=="string"?hb(e,t):t instanceof zg?t._internalPath:t._delegate._internalPath}class bz{convertValue(t,n="none"){switch(Wa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return an(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(qa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw jt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Qa(t,(s,a)=>{i[s]=this.convertValue(a,n)}),i}convertVectorValue(t){var n,i,s;const a=(s=(i=(n=t.fields)===null||n===void 0?void 0:n[Gp].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>an(l.doubleValue));return new ob(a)}convertGeoPoint(t){return new ab(an(t.latitude),an(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Pg(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ih(t));default:return null}}convertTimestamp(t){const n=Ha(t);return new Sn(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=tn.fromString(t);Se(Pk(i));const s=new Oh(i.get(1),i.get(3)),a=new Mt(i.popFirst(5));return s.isEqual(n)||Xr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class uP extends lP{constructor(t,n,i,s,a,l){super(t,n,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Sz(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(cP("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Sz extends uP{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(e){e=tl(e,Vi);const t=tl(e.firestore,Fg);return rz(eP(t),e._key).then(n=>Az(t,e,n))}class Ez extends bz{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dc(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Vi(this.firestore,null,n)}}function xz(e,t,n){e=tl(e,Vi);const i=tl(e.firestore,Fg),s=wz(e.converter,t);return hP(i,[pz(sP(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,Js.none())])}function Wg(e,t,n,...i){e=tl(e,Vi);const s=tl(e.firestore,Fg),a=sP(s);let l;return l=typeof(t=ei(t))=="string"||t instanceof zg?yz(a,"updateDoc",e._key,t,n,i):mz(a,"updateDoc",e._key,t),hP(s,[l.toMutation(e._key,Js.exists(!0))])}function hP(e,t){return function(i,s){const a=new Ua;return i.asyncQueue.enqueueAndForget(async()=>WF(await iz(i),s,a)),a.promise}(eP(e),t)}function Az(e,t,n){const i=n.docs.get(t._key),s=new Ez(e);return new uP(e,s,t._key,i,new Tz(n.hasPendingWrites,n.fromCache),t.converter)}function Rz(){return new lb("serverTimestamp")}function fP(...e){return new cb("arrayUnion",e)}(function(t,n=!0){(function(s){zc=s})(Uc),or(new Ts("firestore",(i,{instanceIdentifier:s,options:a})=>{const l=i.getProvider("app").getImmediate(),c=new Fg(new hU(i.getProvider("auth-internal")),new pU(l,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new kt(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oh(f.options.projectId,p)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),as(xx,Ax,t),as(xx,Ax,"esm2017")})();var Cz="firebase",Dz="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(Cz,Dz,"app");const dP="@firebase/installations",fb="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=1e4,gP=`w:${fb}`,mP="FIS_v2",kz="https://firebaseinstallations.googleapis.com/v1",Pz=60*60*1e3,Mz="installations",Iz="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},el=new ol(Mz,Iz,Oz);function yP(e){return e instanceof Ds&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP({projectId:e}){return`${kz}/projects/${e}/installations`}function _P(e){return{token:e.token,requestStatus:2,expiresIn:Lz(e.expiresIn),creationTime:Date.now()}}async function bP(e,t){const i=(await t.json()).error;return el.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function wP({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Nz(e,{refreshToken:t}){const n=wP(e);return n.append("Authorization",Vz(t)),n}async function TP(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Lz(e){return Number(e.replace("s","000"))}function Vz(e){return`${mP} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bz({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=vP(e),s=wP(e),a=t.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={fid:n,authVersion:mP,appId:e.appId,sdkVersion:gP},c={method:"POST",headers:s,body:JSON.stringify(l)},h=await TP(()=>fetch(i,c));if(h.ok){const f=await h.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:_P(f.authToken)}}else throw await bP("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uz=/^[cdef][\w-]{21}$/,D_="";function Fz(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=zz(e);return Uz.test(n)?n:D_}catch{return D_}}function zz(e){return jz(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new Map;function xP(e,t){const n=$g(e);AP(n,t),Hz(n,t)}function AP(e,t){const n=EP.get(e);if(n)for(const i of n)i(t)}function Hz(e,t){const n=qz();n&&n.postMessage({key:e,fid:t}),Wz()}let Fo=null;function qz(){return!Fo&&"BroadcastChannel"in self&&(Fo=new BroadcastChannel("[Firebase] FID Change"),Fo.onmessage=e=>{AP(e.data.key,e.data.fid)}),Fo}function Wz(){EP.size===0&&Fo&&(Fo.close(),Fo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z="firebase-installations-database",Gz=1,nl="firebase-installations-store";let Tv=null;function db(){return Tv||(Tv=nD($z,Gz,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(nl)}}})),Tv}async function ng(e,t){const n=$g(e),s=(await db()).transaction(nl,"readwrite"),a=s.objectStore(nl),l=await a.get(n);return await a.put(t,n),await s.done,(!l||l.fid!==t.fid)&&xP(e,t.fid),t}async function RP(e){const t=$g(e),i=(await db()).transaction(nl,"readwrite");await i.objectStore(nl).delete(t),await i.done}async function Gg(e,t){const n=$g(e),s=(await db()).transaction(nl,"readwrite"),a=s.objectStore(nl),l=await a.get(n),c=t(l);return c===void 0?await a.delete(n):await a.put(c,n),await s.done,c&&(!l||l.fid!==c.fid)&&xP(e,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(e){let t;const n=await Gg(e.appConfig,i=>{const s=Kz(i),a=Yz(e,s);return t=a.registrationPromise,a.installationEntry});return n.fid===D_?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function Kz(e){const t=e||{fid:Fz(),registrationStatus:0};return CP(t)}function Yz(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(el.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=Xz(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Qz(e)}:{installationEntry:t}}async function Xz(e,t){try{const n=await Bz(e,t);return ng(e.appConfig,n)}catch(n){throw yP(n)&&n.customData.serverCode===409?await RP(e.appConfig):await ng(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function Qz(e){let t=await _A(e.appConfig);for(;t.registrationStatus===1;)await SP(100),t=await _A(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await pb(e);return i||n}return t}function _A(e){return Gg(e,t=>{if(!t)throw el.create("installation-not-found");return CP(t)})}function CP(e){return Zz(e)?{fid:e.fid,registrationStatus:0}:e}function Zz(e){return e.registrationStatus===1&&e.registrationTime+pP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jz({appConfig:e,heartbeatServiceProvider:t},n){const i=t3(e,n),s=Nz(e,n),a=t.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={installation:{sdkVersion:gP,appId:e.appId}},c={method:"POST",headers:s,body:JSON.stringify(l)},h=await TP(()=>fetch(i,c));if(h.ok){const f=await h.json();return _P(f)}else throw await bP("Generate Auth Token",h)}function t3(e,{fid:t}){return`${vP(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(e,t=!1){let n;const i=await Gg(e.appConfig,a=>{if(!DP(a))throw el.create("not-registered");const l=a.authToken;if(!t&&i3(l))return a;if(l.requestStatus===1)return n=e3(e,t),a;{if(!navigator.onLine)throw el.create("app-offline");const c=r3(a);return n=n3(e,c),c}});return n?await n:i.authToken}async function e3(e,t){let n=await bA(e.appConfig);for(;n.authToken.requestStatus===1;)await SP(100),n=await bA(e.appConfig);const i=n.authToken;return i.requestStatus===0?gb(e,t):i}function bA(e){return Gg(e,t=>{if(!DP(t))throw el.create("not-registered");const n=t.authToken;return a3(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function n3(e,t){try{const n=await Jz(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await ng(e.appConfig,i),n}catch(n){if(yP(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await RP(e.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ng(e.appConfig,i)}throw n}}function DP(e){return e!==void 0&&e.registrationStatus===2}function i3(e){return e.requestStatus===2&&!s3(e)}function s3(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Pz}function r3(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function a3(e){return e.requestStatus===1&&e.requestTime+pP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o3(e){const t=e,{installationEntry:n,registrationPromise:i}=await pb(t);return i?i.catch(console.error):gb(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(e,t=!1){const n=e;return await c3(n),(await gb(n,t)).token}async function c3(e){const{registrationPromise:t}=await pb(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(e){if(!e||!e.options)throw Sv("App Configuration");if(!e.name)throw Sv("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Sv(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Sv(e){return el.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="installations",h3="installations-internal",f3=e=>{const t=e.getProvider("app").getImmediate(),n=u3(t),i=ll(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},d3=e=>{const t=e.getProvider("app").getImmediate(),n=ll(t,kP).getImmediate();return{getId:()=>o3(n),getToken:s=>l3(n,s)}};function p3(){or(new Ts(kP,f3,"PUBLIC")),or(new Ts(h3,d3,"PRIVATE"))}p3();as(dP,fb);as(dP,fb,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="analytics",g3="firebase_id",m3="origin",y3=60*1e3,v3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new Ag("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Bi=new ol("analytics","Analytics",_3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(e){if(!e.startsWith(mb)){const t=Bi.create("invalid-gtag-resource",{gtagURL:e});return Ti.warn(t.message),""}return e}function PP(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function w3(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function T3(e,t){const n=w3("firebase-js-sdk-policy",{createScriptURL:b3}),i=document.createElement("script"),s=`${mb}?l=${e}&id=${t}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function S3(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function E3(e,t,n,i,s,a){const l=i[s];try{if(l)await t[l];else{const h=(await PP(n)).find(f=>f.measurementId===s);h&&await t[h.appId]}}catch(c){Ti.error(c)}e("config",s,a)}async function x3(e,t,n,i,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const c=await PP(n);for(const h of l){const f=c.find(y=>y.measurementId===h),p=f&&t[f.appId];if(p)a.push(p);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),e("event",i,s||{})}catch(a){Ti.error(a)}}function A3(e,t,n,i){async function s(a,...l){try{if(a==="event"){const[c,h]=l;await x3(e,t,n,c,h)}else if(a==="config"){const[c,h]=l;await E3(e,t,n,i,c,h)}else if(a==="consent"){const[c,h]=l;e("consent",c,h)}else if(a==="get"){const[c,h,f]=l;e("get",c,h,f)}else if(a==="set"){const[c]=l;e("set",c)}else e(a,...l)}catch(c){Ti.error(c)}}return s}function R3(e,t,n,i,s){let a=function(...l){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=A3(a,e,t,n),{gtagCore:a,wrappedGtag:window[s]}}function C3(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(mb)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=30,k3=1e3;class P3{constructor(t={},n=k3){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const MP=new P3;function M3(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function I3(e){var t;const{appId:n,apiKey:i}=e,s={method:"GET",headers:M3(i)},a=v3.replace("{app-id}",n),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let c="";try{const h=await l.json();!((t=h.error)===null||t===void 0)&&t.message&&(c=h.error.message)}catch{}throw Bi.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function O3(e,t=MP,n){const{appId:i,apiKey:s,measurementId:a}=e.options;if(!i)throw Bi.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:i};throw Bi.create("no-api-key")}const l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new V3;return setTimeout(async()=>{c.abort()},y3),IP({appId:i,apiKey:s,measurementId:a},l,c,t)}async function IP(e,{throttleEndTimeMillis:t,backoffCount:n},i,s=MP){var a;const{appId:l,measurementId:c}=e;try{await N3(i,t)}catch(h){if(c)return Ti.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:c};throw h}try{const h=await I3(e);return s.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!L3(f)){if(s.deleteThrottleMetadata(l),c)return Ti.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:c};throw h}const p=Number((a=f==null?void 0:f.customData)===null||a===void 0?void 0:a.httpStatus)===503?ZE(n,s.intervalMillis,D3):ZE(n,s.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return s.setThrottleMetadata(l,y),Ti.debug(`Calling attemptFetch again in ${p} millis`),IP(e,y,i,s)}}function N3(e,t){return new Promise((n,i)=>{const s=Math.max(t-Date.now(),0),a=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(a),i(Bi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function L3(e){if(!(e instanceof Ds)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class V3{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function B3(e,t,n,i,s){if(s&&s.global){e("event",n,i);return}else{const a=await t,l=Object.assign(Object.assign({},i),{send_to:a});e("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(){if(Z1())try{await J1()}catch(e){return Ti.warn(Bi.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ti.warn(Bi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function U3(e,t,n,i,s,a,l){var c;const h=O3(e);h.then(b=>{n[b.measurementId]=b.appId,e.options.measurementId&&b.measurementId!==e.options.measurementId&&Ti.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Ti.error(b)),t.push(h);const f=j3().then(b=>{if(b)return i.getId()}),[p,y]=await Promise.all([h,f]);C3(a)||T3(a,p.measurementId),s("js",new Date);const _=(c=l==null?void 0:l.config)!==null&&c!==void 0?c:{};return _[m3]="firebase",_.update=!0,y!=null&&(_[g3]=y),s("config",p.measurementId,_),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(t){this.app=t}_delete(){return delete bh[this.app.options.appId],Promise.resolve()}}let bh={},wA=[];const TA={};let Ev="dataLayer",z3="gtag",SA,OP,EA=!1;function H3(){const e=[];if(Q1()&&e.push("This is a browser extension environment."),qL()||e.push("Cookies are not available."),e.length>0){const t=e.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=Bi.create("invalid-analytics-context",{errorInfo:t});Ti.warn(n.message)}}function q3(e,t,n){H3();const i=e.options.appId;if(!i)throw Bi.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ti.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Bi.create("no-api-key");if(bh[i]!=null)throw Bi.create("already-exists",{id:i});if(!EA){S3(Ev);const{wrappedGtag:a,gtagCore:l}=R3(bh,wA,TA,Ev,z3);OP=a,SA=l,EA=!0}return bh[i]=U3(e,wA,TA,t,SA,Ev,n),new F3(e)}function W3(e=w0()){e=ei(e);const t=ll(e,ig);return t.isInitialized()?t.getImmediate():$3(e)}function $3(e,t={}){const n=ll(e,ig);if(n.isInitialized()){const s=n.getImmediate();if(Gr(t,n.getOptions()))return s;throw Bi.create("already-initialized")}return n.initialize({options:t})}function G3(e,t,n,i){e=ei(e),B3(OP,bh[e.app.options.appId],t,n,i).catch(s=>Ti.error(s))}const xA="@firebase/analytics",AA="0.10.12";function K3(){or(new Ts(ig,(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return q3(i,s,n)},"PUBLIC")),or(new Ts("analytics-internal",e,"PRIVATE")),as(xA,AA),as(xA,AA,"esm2017");function e(t){try{const n=t.getProvider(ig).getImmediate();return{logEvent:(i,s,a)=>G3(n,i,s,a)}}catch(n){throw Bi.create("interop-component-reg-failed",{reason:n})}}}K3();const Y3={apiKey:"AIzaSyARvah7E7kRKD09seeiQSzTb1BIuCWUyVE",authDomain:"next-rep-e58cd.firebaseapp.com",projectId:"next-rep-e58cd",storageBucket:"next-rep-e58cd.firebasestorage.app",messagingSenderId:"6118694283",appId:"1:6118694283:web:fc89b6174edffe7795638e",measurementId:"G-2QWPTRVPQQ"},yb=iD(Y3);W3(yb);const ci=oU(yb),Es=cz(yb),X3=new zr;function Q3(){const e=Cs(),[t,n]=I.useState(null),[i,s]=I.useState(!1),[a,l]=I.useState(!1);I.useEffect(()=>{(async()=>{try{s(!0);const _=await Sj(ci);if(_){const b=_.user;await h(b),e("/dashboard")}}catch(_){console.error("Error processing redirect result:",_),c(_)}finally{s(!1),l(!0)}})();const y=ci.onAuthStateChanged(_=>{_&&e("/dashboard")});return()=>y()},[e]);const c=p=>{console.log("Auth error code:",p.code),console.log("Auth error message:",p.message),p.code==="auth/requests-from-referer-https://pmin574.github.io-are-blocked."?n("This domain is currently blocked by Firebase. Please check Firebase Console settings."):p.code==="auth/unauthorized-domain"?n("This domain is not authorized for Firebase Authentication. Please add your domain in Firebase Console."):p.code==="auth/operation-not-allowed"?n("Google sign-in is not enabled for this project. Please enable it in Firebase Console."):p.code==="auth/configuration-not-found"?n("Authentication configuration error. Please check Firebase Console settings."):p.code==="auth/invalid-api-key"?n("Invalid Firebase API key. Please check your configuration."):p.code==="auth/popup-blocked"?n("Login popup was blocked. Please allow popups for this site."):p.code==="auth/popup-closed-by-user"?n("Login popup was closed. Please try again."):p.code==="auth/cancelled-popup-request"?n(null):p.code==="auth/network-request-failed"?n("Network error. Please check your internet connection."):n(`Authentication error: ${p.message}`)},h=async p=>{if(!p)return;const y=Ss(Es,"users",p.uid);if(!(await hr(y)).exists())try{await xz(y,{uid:p.uid,displayName:p.displayName,email:p.email,photoURL:p.photoURL,createdAt:Rz(),workouts:[],exercises:[],goals:[],weightLogs:[]}),console.log("New user document created!")}catch(b){throw console.error("Error creating user document:",b),b}},f=async()=>{n(null),s(!0);try{console.log("Attempting sign-in with popup...");const p=await mj(ci,X3);console.log("Sign-in with popup successful");const y=p.user;await h(y),e("/dashboard")}catch(p){console.error("Error with popup sign-in:",p),c(p),s(!1)}};return!a&&i?R.jsx("div",{className:"login-page",children:R.jsx("div",{className:"login-container",children:R.jsx("div",{className:"loading-spinner",children:"Checking authentication..."})})}):R.jsxs("div",{className:"login-page",children:[R.jsxs("div",{className:"login-container",children:[R.jsxs("div",{className:"app-logo",children:[R.jsx("div",{className:"logo-icon",children:"NR"}),R.jsx("h1",{children:"NextRep"})]}),R.jsx("h2",{children:"Track Your Fitness Journey"}),R.jsx("p",{className:"login-description",children:"Log workouts, track your progress, and achieve your fitness goals with NextRep."}),t&&R.jsx("div",{className:"error-message",children:t}),R.jsx("button",{className:"login-button",onClick:f,disabled:i,children:i?"Signing in...":R.jsxs(R.Fragment,{children:[R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24px",height:"24px",children:[R.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),R.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),R.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),R.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign in with Google"]})}),R.jsx("div",{className:"login-footer",children:"Start tracking your fitness journey today"})]}),R.jsx("div",{className:"login-background-decoration"})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function vf(e){return e+.5|0}const Oa=(e,t,n)=>Math.max(Math.min(e,n),t);function ch(e){return Oa(vf(e*2.55),0,255)}function Fa(e){return Oa(vf(e*255),0,255)}function Fr(e){return Oa(vf(e/2.55)/100,0,1)}function RA(e){return Oa(vf(e*100),0,100)}const es={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},k_=[..."0123456789ABCDEF"],Z3=e=>k_[e&15],J3=e=>k_[(e&240)>>4]+k_[e&15],Xd=e=>(e&240)>>4===(e&15),t5=e=>Xd(e.r)&&Xd(e.g)&&Xd(e.b)&&Xd(e.a);function e5(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&es[e[1]]*17,g:255&es[e[2]]*17,b:255&es[e[3]]*17,a:t===5?es[e[4]]*17:255}:(t===7||t===9)&&(n={r:es[e[1]]<<4|es[e[2]],g:es[e[3]]<<4|es[e[4]],b:es[e[5]]<<4|es[e[6]],a:t===9?es[e[7]]<<4|es[e[8]]:255})),n}const n5=(e,t)=>e<255?t(e):"";function i5(e){var t=t5(e)?Z3:J3;return e?"#"+t(e.r)+t(e.g)+t(e.b)+n5(e.a,t):void 0}const s5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function NP(e,t,n){const i=t*Math.min(n,1-n),s=(a,l=(a+e/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function r5(e,t,n){const i=(s,a=(s+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function a5(e,t,n){const i=NP(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function o5(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function vb(e){const n=e.r/255,i=e.g/255,s=e.b/255,a=Math.max(n,i,s),l=Math.min(n,i,s),c=(a+l)/2;let h,f,p;return a!==l&&(p=a-l,f=c>.5?p/(2-a-l):p/(a+l),h=o5(n,i,s,p,a),h=h*60+.5),[h|0,f||0,c]}function _b(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Fa)}function bb(e,t,n){return _b(NP,e,t,n)}function l5(e,t,n){return _b(a5,e,t,n)}function c5(e,t,n){return _b(r5,e,t,n)}function LP(e){return(e%360+360)%360}function u5(e){const t=s5.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?ch(+t[5]):Fa(+t[5]));const s=LP(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=l5(s,a,l):t[1]==="hsv"?i=c5(s,a,l):i=bb(s,a,l),{r:i[0],g:i[1],b:i[2],a:n}}function h5(e,t){var n=vb(e);n[0]=LP(n[0]+t),n=bb(n),e.r=n[0],e.g=n[1],e.b=n[2]}function f5(e){if(!e)return;const t=vb(e),n=t[0],i=RA(t[1]),s=RA(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${Fr(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const CA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},DA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function d5(){const e={},t=Object.keys(DA),n=Object.keys(CA);let i,s,a,l,c;for(i=0;i<t.length;i++){for(l=c=t[i],s=0;s<n.length;s++)a=n[s],c=c.replace(a,CA[a]);a=parseInt(DA[l],16),e[c]=[a>>16&255,a>>8&255,a&255]}return e}let Qd;function p5(e){Qd||(Qd=d5(),Qd.transparent=[0,0,0,0]);const t=Qd[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const g5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function m5(e){const t=g5.exec(e);let n=255,i,s,a;if(t){if(t[7]!==i){const l=+t[7];n=t[8]?ch(l):Oa(l*255,0,255)}return i=+t[1],s=+t[3],a=+t[5],i=255&(t[2]?ch(i):Oa(i,0,255)),s=255&(t[4]?ch(s):Oa(s,0,255)),a=255&(t[6]?ch(a):Oa(a,0,255)),{r:i,g:s,b:a,a:n}}}function y5(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Fr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const xv=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,ec=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function v5(e,t,n){const i=ec(Fr(e.r)),s=ec(Fr(e.g)),a=ec(Fr(e.b));return{r:Fa(xv(i+n*(ec(Fr(t.r))-i))),g:Fa(xv(s+n*(ec(Fr(t.g))-s))),b:Fa(xv(a+n*(ec(Fr(t.b))-a))),a:e.a+n*(t.a-e.a)}}function Zd(e,t,n){if(e){let i=vb(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=bb(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function VP(e,t){return e&&Object.assign(t||{},e)}function kA(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Fa(e[3]))):(t=VP(e,{r:0,g:0,b:0,a:1}),t.a=Fa(t.a)),t}function _5(e){return e.charAt(0)==="r"?m5(e):u5(e)}class jh{constructor(t){if(t instanceof jh)return t;const n=typeof t;let i;n==="object"?i=kA(t):n==="string"&&(i=e5(t)||p5(t)||_5(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=VP(this._rgb);return t&&(t.a=Fr(t.a)),t}set rgb(t){this._rgb=kA(t)}rgbString(){return this._valid?y5(this._rgb):void 0}hexString(){return this._valid?i5(this._rgb):void 0}hslString(){return this._valid?f5(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let a;const l=n===a?.5:n,c=2*l-1,h=i.a-s.a,f=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;a=1-f,i.r=255&f*i.r+a*s.r+.5,i.g=255&f*i.g+a*s.g+.5,i.b=255&f*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=v5(this._rgb,t._rgb,n)),this}clone(){return new jh(this.rgb)}alpha(t){return this._rgb.a=Fa(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=vf(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Zd(this._rgb,2,t),this}darken(t){return Zd(this._rgb,2,-t),this}saturate(t){return Zd(this._rgb,1,t),this}desaturate(t){return Zd(this._rgb,1,-t),this}rotate(t){return h5(this._rgb,t),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Br(){}const b5=(()=>{let e=0;return()=>e++})();function Te(e){return e==null}function pn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function re(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ni(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function qs(e,t){return ni(e)?e:t}function ne(e,t){return typeof e>"u"?t:e}const w5=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ve(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Ae(e,t,n,i){let s,a,l;if(pn(e))for(a=e.length,s=0;s<a;s++)t.call(n,e[s],s);else if(re(e))for(l=Object.keys(e),a=l.length,s=0;s<a;s++)t.call(n,e[l[s]],l[s])}function sg(e,t){let n,i,s,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],a=t[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function rg(e){if(pn(e))return e.map(rg);if(re(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=rg(e[n[s]]);return t}return e}function BP(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function T5(e,t,n,i){if(!BP(e))return;const s=t[e],a=n[e];re(s)&&re(a)?Uh(s,a,i):t[e]=rg(a)}function Uh(e,t,n){const i=pn(t)?t:[t],s=i.length;if(!re(e))return e;n=n||{};const a=n.merger||T5;let l;for(let c=0;c<s;++c){if(l=i[c],!re(l))continue;const h=Object.keys(l);for(let f=0,p=h.length;f<p;++f)a(h[f],e,l,n)}return e}function wh(e,t){return Uh(e,t,{merger:S5})}function S5(e,t,n){if(!BP(e))return;const i=t[e],s=n[e];re(i)&&re(s)?wh(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=rg(s))}const PA={"":e=>e,x:e=>e.x,y:e=>e.y};function E5(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function x5(e){const t=E5(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function kc(e,t){return(PA[t]||(PA[t]=x5(t)))(e)}function wb(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Fh=e=>typeof e<"u",Ka=e=>typeof e=="function",MA=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function A5(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Mn=Math.PI,ws=2*Mn,R5=ws+Mn,ag=Number.POSITIVE_INFINITY,C5=Mn/180,_s=Mn/2,Do=Mn/4,IA=Mn*2/3,jP=Math.log10,er=Math.sign;function Th(e,t,n){return Math.abs(e-t)<n}function OA(e){const t=Math.round(e);e=Th(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(jP(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function D5(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,a)=>s-a).pop(),t}function k5(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function zh(e){return!k5(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function P5(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function M5(e,t,n){let i,s,a;for(i=0,s=e.length;i<s;i++)a=e[i][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function zo(e){return e*(Mn/180)}function I5(e){return e*(180/Mn)}function NA(e){if(!ni(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function O5(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*Mn&&(a+=ws),{angle:a,distance:s}}function P_(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function N5(e,t){return(e-t+R5)%ws-Mn}function Ys(e){return(e%ws+ws)%ws}function UP(e,t,n,i){const s=Ys(e),a=Ys(t),l=Ys(n),c=Ys(a-s),h=Ys(l-s),f=Ys(s-a),p=Ys(s-l);return s===a||s===l||i&&a===l||c>h&&f<p}function Li(e,t,n){return Math.max(t,Math.min(n,e))}function L5(e){return Li(e,-32768,32767)}function Na(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Tb(e,t,n){n=n||(l=>e[l]<t);let i=e.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,n(a)?s=a:i=a;return{lo:s,hi:i}}const Ho=(e,t,n,i)=>Tb(e,n,i?s=>{const a=e[s][t];return a<n||a===n&&e[s+1][t]===n}:s=>e[s][t]<n),V5=(e,t,n)=>Tb(e,n,i=>e[i][t]>=n);function B5(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const FP=["push","pop","shift","splice","unshift"];function j5(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),FP.forEach(n=>{const i="_onData"+wb(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return e._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...a)}),l}})})}function LA(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(FP.forEach(a=>{delete e[a]}),delete e._chartjs)}function zP(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const HP=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function qP(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,HP.call(window,()=>{i=!1,e.apply(t,n)}))}}function U5(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Sb=e=>e==="start"?"left":e==="end"?"right":"center",Kn=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,F5=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function z5(e,t,n){const i=t.length;let s=0,a=i;if(e._sorted){const{iScale:l,vScale:c,_parsed:h}=e,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,p=l.axis,{min:y,max:_,minDefined:b,maxDefined:T}=l.getUserBounds();if(b){if(s=Math.min(Ho(h,p,y).lo,n?i:Ho(t,p,l.getPixelForValue(y)).lo),f){const S=h.slice(0,s+1).reverse().findIndex(E=>!Te(E[c.axis]));s-=Math.max(0,S)}s=Li(s,0,i-1)}if(T){let S=Math.max(Ho(h,l.axis,_,!0).hi+1,n?0:Ho(t,p,l.getPixelForValue(_),!0).hi+1);if(f){const E=h.slice(S-1).findIndex(C=>!Te(C[c.axis]));S+=Math.max(0,E)}a=Li(S,s,i)-s}else a=i-s}return{start:s,count:a}}function H5(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),a}const Jd=e=>e===0||e===1,VA=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ws/n)),BA=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*ws/n)+1,Sh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*_s)+1,easeOutSine:e=>Math.sin(e*_s),easeInOutSine:e=>-.5*(Math.cos(Mn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Jd(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Jd(e)?e:VA(e,.075,.3),easeOutElastic:e=>Jd(e)?e:BA(e,.075,.3),easeInOutElastic(e){return Jd(e)?e:e<.5?.5*VA(e*2,.1125,.45):.5+.5*BA(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Sh.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Sh.easeInBounce(e*2)*.5:Sh.easeOutBounce(e*2-1)*.5+.5};function Eb(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function jA(e){return Eb(e)?e:new jh(e)}function Av(e){return Eb(e)?e:new jh(e).saturate(.5).darken(.1).hexString()}const q5=["x","y","borderWidth","radius","tension"],W5=["color","borderColor","backgroundColor"];function $5(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:W5},numbers:{type:"number",properties:q5}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function G5(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const UA=new Map;function K5(e,t){t=t||{};const n=e+JSON.stringify(t);let i=UA.get(n);return i||(i=new Intl.NumberFormat(e,t),UA.set(n,i)),i}function WP(e,t,n){return K5(t,n).format(e)}const Y5={values(e){return pn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,a=e;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),a=X5(e,n)}const l=jP(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),WP(e,i,h)}};function X5(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var $P={formatters:Y5};function Q5(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$P.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const il=Object.create(null),M_=Object.create(null);function Eh(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const a=n[i];e=e[a]||(e[a]=Object.create(null))}return e}function Rv(e,t,n){return typeof t=="string"?Uh(Eh(e,t),n):Uh(Eh(e,""),t)}class Z5{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Av(s.backgroundColor),this.hoverBorderColor=(i,s)=>Av(s.borderColor),this.hoverColor=(i,s)=>Av(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Rv(this,t,n)}get(t){return Eh(this,t)}describe(t,n){return Rv(M_,t,n)}override(t,n){return Rv(il,t,n)}route(t,n,i,s){const a=Eh(this,t),l=Eh(this,i),c="_"+n;Object.defineProperties(a,{[c]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[c],f=l[s];return re(h)?Object.assign({},f,h):ne(h,f)},set(h){this[c]=h}}})}apply(t){t.forEach(n=>n(this))}}var on=new Z5({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[$5,G5,Q5]);function J5(e){return!e||Te(e.size)||Te(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function FA(e,t,n,i,s){let a=t[s];return a||(a=t[s]=e.measureText(s).width,n.push(s)),a>i&&(i=a),i}function ko(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function zA(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function I_(e,t,n,i){GP(e,t,n,i,null)}function GP(e,t,n,i,s){let a,l,c,h,f,p,y,_;const b=t.pointStyle,T=t.rotation,S=t.radius;let E=(T||0)*C5;if(b&&typeof b=="object"&&(a=b.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(E),e.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),e.restore();return}if(!(isNaN(S)||S<=0)){switch(e.beginPath(),b){default:s?e.ellipse(n,i,s/2,S,0,0,ws):e.arc(n,i,S,0,ws),e.closePath();break;case"triangle":p=s?s/2:S,e.moveTo(n+Math.sin(E)*p,i-Math.cos(E)*S),E+=IA,e.lineTo(n+Math.sin(E)*p,i-Math.cos(E)*S),E+=IA,e.lineTo(n+Math.sin(E)*p,i-Math.cos(E)*S),e.closePath();break;case"rectRounded":f=S*.516,h=S-f,l=Math.cos(E+Do)*h,y=Math.cos(E+Do)*(s?s/2-f:h),c=Math.sin(E+Do)*h,_=Math.sin(E+Do)*(s?s/2-f:h),e.arc(n-y,i-c,f,E-Mn,E-_s),e.arc(n+_,i-l,f,E-_s,E),e.arc(n+y,i+c,f,E,E+_s),e.arc(n-_,i+l,f,E+_s,E+Mn),e.closePath();break;case"rect":if(!T){h=Math.SQRT1_2*S,p=s?s/2:h,e.rect(n-p,i-h,2*p,2*h);break}E+=Do;case"rectRot":y=Math.cos(E)*(s?s/2:S),l=Math.cos(E)*S,c=Math.sin(E)*S,_=Math.sin(E)*(s?s/2:S),e.moveTo(n-y,i-c),e.lineTo(n+_,i-l),e.lineTo(n+y,i+c),e.lineTo(n-_,i+l),e.closePath();break;case"crossRot":E+=Do;case"cross":y=Math.cos(E)*(s?s/2:S),l=Math.cos(E)*S,c=Math.sin(E)*S,_=Math.sin(E)*(s?s/2:S),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"star":y=Math.cos(E)*(s?s/2:S),l=Math.cos(E)*S,c=Math.sin(E)*S,_=Math.sin(E)*(s?s/2:S),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l),E+=Do,y=Math.cos(E)*(s?s/2:S),l=Math.cos(E)*S,c=Math.sin(E)*S,_=Math.sin(E)*(s?s/2:S),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"line":l=s?s/2:Math.cos(E)*S,c=Math.sin(E)*S,e.moveTo(n-l,i-c),e.lineTo(n+l,i+c);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(E)*(s?s/2:S),i+Math.sin(E)*S);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Hh(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Kg(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Yg(e){e.restore()}function t6(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function e6(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function n6(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Te(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function i6(e,t,n,i,s){if(s.strikethrough||s.underline){const a=e.measureText(i),l=t-a.actualBoundingBoxLeft,c=t+a.actualBoundingBoxRight,h=n-a.actualBoundingBoxAscent,f=n+a.actualBoundingBoxDescent,p=s.strikethrough?(h+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(l,p),e.lineTo(c,p),e.stroke()}}function s6(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function qh(e,t,n,i,s,a={}){const l=pn(t)?t:[t],c=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(e.save(),e.font=s.string,n6(e,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&s6(e,a.backdrop),c&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Te(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(f,n,i,a.maxWidth)),e.fillText(f,n,i,a.maxWidth),i6(e,n,i,f,a),i+=Number(s.lineHeight);e.restore()}function og(e,t){const{x:n,y:i,w:s,h:a,radius:l}=t;e.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*Mn,Mn,!0),e.lineTo(n,i+a-l.bottomLeft),e.arc(n+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,Mn,_s,!0),e.lineTo(n+s-l.bottomRight,i+a),e.arc(n+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,_s,0,!0),e.lineTo(n+s,i+l.topRight),e.arc(n+s-l.topRight,i+l.topRight,l.topRight,0,-_s,!0),e.lineTo(n+l.topLeft,i)}const r6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,a6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function o6(e,t){const n=(""+e).match(r6);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const l6=e=>+e||0;function KP(e,t){const n={},i=re(t),s=i?Object.keys(t):t,a=re(e)?i?l=>ne(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of s)n[l]=l6(a(l));return n}function YP(e){return KP(e,{top:"y",right:"x",bottom:"y",left:"x"})}function mc(e){return KP(e,["topLeft","topRight","bottomLeft","bottomRight"])}function cs(e){const t=YP(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Zn(e,t){e=e||{},t=t||on.font;let n=ne(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=ne(e.style,t.style);i&&!(""+i).match(a6)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:ne(e.family,t.family),lineHeight:o6(ne(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:ne(e.weight,t.weight),string:""};return s.string=J5(s),s}function tp(e,t,n,i){let s,a,l;for(s=0,a=e.length;s<a;++s)if(l=e[s],l!==void 0&&l!==void 0)return l}function c6(e,t,n){const{min:i,max:s}=e,a=w5(t,(s-i)/2),l=(c,h)=>n&&c===0?0:c+h;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function hl(e,t){return Object.assign(Object.create(e),t)}function xb(e,t=[""],n,i,s=()=>e[0]){const a=n||e;typeof i>"u"&&(i=JP("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:i,_getTarget:s,override:c=>xb([c,...e],t,a,i)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete e[0][h],!0},get(c,h){return QP(c,h,()=>y6(h,t,e,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,h){return qA(c).includes(h)},ownKeys(c){return qA(c)},set(c,h,f){const p=c._storage||(c._storage=s());return c[h]=p[h]=f,delete c._keys,!0}})}function Pc(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:XP(e,i),setContext:a=>Pc(e,a,n,i),override:a=>Pc(e.override(a),t,n,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete e[l],!0},get(a,l,c){return QP(a,l,()=>h6(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(a,l,c){return e[l]=c,delete a[l],!0}})}function XP(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Ka(n)?n:()=>n,isIndexable:Ka(i)?i:()=>i}}const u6=(e,t)=>e?e+wb(t):t,Ab=(e,t)=>re(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function QP(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function h6(e,t,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=e;let c=i[t];return Ka(c)&&l.isScriptable(t)&&(c=f6(t,c,e,n)),pn(c)&&c.length&&(c=d6(t,c,e,l.isIndexable)),Ab(t,c)&&(c=Pc(c,s,a&&a[t],l)),c}function f6(e,t,n,i){const{_proxy:s,_context:a,_subProxy:l,_stack:c}=n;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let h=t(a,l||i);return c.delete(e),Ab(e,h)&&(h=Rb(s._scopes,s,e,h)),h}function d6(e,t,n,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:c}=n;if(typeof a.index<"u"&&i(e))return t[a.index%t.length];if(re(t[0])){const h=t,f=s._scopes.filter(p=>p!==h);t=[];for(const p of h){const y=Rb(f,s,e,p);t.push(Pc(y,a,l&&l[e],c))}}return t}function ZP(e,t,n){return Ka(e)?e(t,n):e}const p6=(e,t)=>e===!0?t:typeof e=="string"?kc(t,e):void 0;function g6(e,t,n,i,s){for(const a of t){const l=p6(n,a);if(l){e.add(l);const c=ZP(l._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function Rb(e,t,n,i){const s=t._rootScopes,a=ZP(t._fallback,n,i),l=[...e,...s],c=new Set;c.add(i);let h=HA(c,l,n,a||n,i);return h===null||typeof a<"u"&&a!==n&&(h=HA(c,l,a,h,i),h===null)?!1:xb(Array.from(c),[""],s,a,()=>m6(t,n,i))}function HA(e,t,n,i,s){for(;n;)n=g6(e,t,n,i,s);return n}function m6(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return pn(s)&&re(n)?n:s||{}}function y6(e,t,n,i){let s;for(const a of t)if(s=JP(u6(a,e),n),typeof s<"u")return Ab(e,s)?Rb(n,i,e,s):s}function JP(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function qA(e){let t=e._keys;return t||(t=e._keys=v6(e._scopes)),t}function v6(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}const _6=Number.EPSILON||1e-14,Mc=(e,t)=>t<e.length&&!e[t].skip&&e[t],tM=e=>e==="x"?"y":"x";function b6(e,t,n,i){const s=e.skip?t:e,a=t,l=n.skip?t:n,c=P_(a,s),h=P_(l,a);let f=c/(c+h),p=h/(c+h);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const y=i*f,_=i*p;return{previous:{x:a.x-y*(l.x-s.x),y:a.y-y*(l.y-s.y)},next:{x:a.x+_*(l.x-s.x),y:a.y+_*(l.y-s.y)}}}function w6(e,t,n){const i=e.length;let s,a,l,c,h,f=Mc(e,0);for(let p=0;p<i-1;++p)if(h=f,f=Mc(e,p+1),!(!h||!f)){if(Th(t[p],0,_6)){n[p]=n[p+1]=0;continue}s=n[p]/t[p],a=n[p+1]/t[p],c=Math.pow(s,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),n[p]=s*l*t[p],n[p+1]=a*l*t[p])}}function T6(e,t,n="x"){const i=tM(n),s=e.length;let a,l,c,h=Mc(e,0);for(let f=0;f<s;++f){if(l=c,c=h,h=Mc(e,f+1),!c)continue;const p=c[n],y=c[i];l&&(a=(p-l[n])/3,c[`cp1${n}`]=p-a,c[`cp1${i}`]=y-a*t[f]),h&&(a=(h[n]-p)/3,c[`cp2${n}`]=p+a,c[`cp2${i}`]=y+a*t[f])}}function S6(e,t="x"){const n=tM(t),i=e.length,s=Array(i).fill(0),a=Array(i);let l,c,h,f=Mc(e,0);for(l=0;l<i;++l)if(c=h,h=f,f=Mc(e,l+1),!!h){if(f){const p=f[t]-h[t];s[l]=p!==0?(f[n]-h[n])/p:0}a[l]=c?f?er(s[l-1])!==er(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}w6(e,s,a),T6(e,a,t)}function ep(e,t,n){return Math.max(Math.min(e,n),t)}function E6(e,t){let n,i,s,a,l,c=Hh(e[0],t);for(n=0,i=e.length;n<i;++n)l=a,a=c,c=n<i-1&&Hh(e[n+1],t),a&&(s=e[n],l&&(s.cp1x=ep(s.cp1x,t.left,t.right),s.cp1y=ep(s.cp1y,t.top,t.bottom)),c&&(s.cp2x=ep(s.cp2x,t.left,t.right),s.cp2y=ep(s.cp2y,t.top,t.bottom)))}function x6(e,t,n,i,s){let a,l,c,h;if(t.spanGaps&&(e=e.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")S6(e,s);else{let f=i?e[e.length-1]:e[0];for(a=0,l=e.length;a<l;++a)c=e[a],h=b6(f,c,e[Math.min(a+1,l-(i?0:1))%l],t.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,f=c}t.capBezierPoints&&E6(e,n)}function Cb(){return typeof window<"u"&&typeof document<"u"}function Db(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function lg(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Xg=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function A6(e,t){return Xg(e).getPropertyValue(t)}const R6=["top","right","bottom","left"];function Go(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=R6[s];i[a]=parseFloat(e[t+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const C6=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function D6(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:a}=i;let l=!1,c,h;if(C6(s,a,e.target))c=s,h=a;else{const f=t.getBoundingClientRect();c=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:c,y:h,box:l}}function Lo(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=Xg(n),a=s.boxSizing==="border-box",l=Go(s,"padding"),c=Go(s,"border","width"),{x:h,y:f,box:p}=D6(e,n),y=l.left+(p&&c.left),_=l.top+(p&&c.top);let{width:b,height:T}=t;return a&&(b-=l.width+c.width,T-=l.height+c.height),{x:Math.round((h-y)/b*n.width/i),y:Math.round((f-_)/T*n.height/i)}}function k6(e,t,n){let i,s;if(t===void 0||n===void 0){const a=e&&Db(e);if(!a)t=e.clientWidth,n=e.clientHeight;else{const l=a.getBoundingClientRect(),c=Xg(a),h=Go(c,"border","width"),f=Go(c,"padding");t=l.width-f.width-h.width,n=l.height-f.height-h.height,i=lg(c.maxWidth,a,"clientWidth"),s=lg(c.maxHeight,a,"clientHeight")}}return{width:t,height:n,maxWidth:i||ag,maxHeight:s||ag}}const np=e=>Math.round(e*10)/10;function P6(e,t,n,i){const s=Xg(e),a=Go(s,"margin"),l=lg(s.maxWidth,e,"clientWidth")||ag,c=lg(s.maxHeight,e,"clientHeight")||ag,h=k6(e,t,n);let{width:f,height:p}=h;if(s.boxSizing==="content-box"){const _=Go(s,"border","width"),b=Go(s,"padding");f-=b.width+_.width,p-=b.height+_.height}return f=Math.max(0,f-a.width),p=Math.max(0,i?f/i:p-a.height),f=np(Math.min(f,l,h.maxWidth)),p=np(Math.min(p,c,h.maxHeight)),f&&!p&&(p=np(f/2)),(t!==void 0||n!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,f=np(Math.floor(p*i))),{width:f,height:p}}function WA(e,t,n){const i=t||1,s=Math.floor(e.height*i),a=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(e.currentDevicePixelRatio=i,l.height=s,l.width=a,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const M6=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Cb()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function $A(e,t){const n=A6(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Vo(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function I6(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function O6(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},l=Vo(e,s,n),c=Vo(s,a,n),h=Vo(a,t,n),f=Vo(l,c,n),p=Vo(c,h,n);return Vo(f,p,n)}const N6=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},L6=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function yc(e,t,n){return e?N6(t,n):L6()}function eM(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function nM(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function iM(e){return e==="angle"?{between:UP,compare:N5,normalize:Ys}:{between:Na,compare:(t,n)=>t-n,normalize:t=>t}}function GA({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function V6(e,t,n){const{property:i,start:s,end:a}=n,{between:l,normalize:c}=iM(i),h=t.length;let{start:f,end:p,loop:y}=e,_,b;if(y){for(f+=h,p+=h,_=0,b=h;_<b&&l(c(t[f%h][i]),s,a);++_)f--,p--;f%=h,p%=h}return p<f&&(p+=h),{start:f,end:p,loop:y,style:e.style}}function sM(e,t,n){if(!n)return[e];const{property:i,start:s,end:a}=n,l=t.length,{compare:c,between:h,normalize:f}=iM(i),{start:p,end:y,loop:_,style:b}=V6(e,t,n),T=[];let S=!1,E=null,C,V,B;const W=()=>h(s,B,C)&&c(s,B)!==0,F=()=>c(a,C)===0||h(a,B,C),K=()=>S||W(),M=()=>!S||F();for(let D=p,P=p;D<=y;++D)V=t[D%l],!V.skip&&(C=f(V[i]),C!==B&&(S=h(C,s,a),E===null&&K()&&(E=c(C,s)===0?D:P),E!==null&&M()&&(T.push(GA({start:E,end:D,loop:_,count:l,style:b})),E=null),P=D,B=C));return E!==null&&T.push(GA({start:E,end:y,loop:_,count:l,style:b})),T}function rM(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const a=sM(i[s],e.points,t);a.length&&n.push(...a)}return n}function B6(e,t,n,i){let s=0,a=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(a+=s);a>s&&e[a%t].skip;)a--;return a%=t,{start:s,end:a}}function j6(e,t,n,i){const s=e.length,a=[];let l=t,c=e[t],h;for(h=t+1;h<=n;++h){const f=e[h%s];f.skip||f.stop?c.skip||(i=!1,a.push({start:t%s,end:(h-1)%s,loop:i}),t=l=f.stop?h:null):(l=h,c.skip&&(t=h)),c=f}return l!==null&&a.push({start:t%s,end:l%s,loop:i}),a}function U6(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const a=!!e._loop,{start:l,end:c}=B6(n,s,a,i);if(i===!0)return KA(e,[{start:l,end:c,loop:a}],n,t);const h=c<l?c+s:c,f=!!e._fullLoop&&l===0&&c===s-1;return KA(e,j6(n,l,h,f),n,t)}function KA(e,t,n,i){return!i||!i.setContext||!n?t:F6(e,t,n,i)}function F6(e,t,n,i){const s=e._chart.getContext(),a=YA(e.options),{_datasetIndex:l,options:{spanGaps:c}}=e,h=n.length,f=[];let p=a,y=t[0].start,_=y;function b(T,S,E,C){const V=c?-1:1;if(T!==S){for(T+=h;n[T%h].skip;)T-=V;for(;n[S%h].skip;)S+=V;T%h!==S%h&&(f.push({start:T%h,end:S%h,loop:E,style:C}),p=C,y=S%h)}}for(const T of t){y=c?y:T.start;let S=n[y%h],E;for(_=y+1;_<=T.end;_++){const C=n[_%h];E=YA(i.setContext(hl(s,{type:"segment",p0:S,p1:C,p0DataIndex:(_-1)%h,p1DataIndex:_%h,datasetIndex:l}))),z6(E,p)&&b(y,_-1,T.loop,p),S=C,p=E}y<_-1&&b(y,_-1,T.loop,p)}return f}function YA(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function z6(e,t){if(!t)return!1;const n=[],i=function(s,a){return Eb(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class H6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const a=n.listeners[s],l=n.duration;a.forEach(c=>c({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=HP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,c=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),c=!0):(a[l]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,i,t,"progress")),a.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=a.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var jr=new H6;const XA="transparent",q6={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=jA(e||XA),s=i.valid&&jA(t||XA);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class W6{constructor(t,n,i,s){const a=n[i];s=tp([t.to,s,a,t.from]);const l=tp([t.from,a,s]);this._active=!0,this._fn=t.fn||q6[t.type||typeof l],this._easing=Sh[t.easing]||Sh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=tp([t.to,n,s,t.from]),this._from=tp([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,c=this._to;let h;if(this._active=a!==c&&(l||n<i),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=a;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(a,c,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class aM{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!re(t))return;const n=Object.keys(on.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!re(a))return;const l={};for(const c of n)l[c]=a[c];(pn(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(t,n){const i=n.options,s=G6(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&$6(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,n){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),l=Object.keys(n),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(t,n));continue}const p=n[f];let y=a[f];const _=i.get(f);if(y)if(_&&y.active()){y.update(_,p,c);continue}else y.cancel();if(!_||!_.duration){t[f]=p;continue}a[f]=y=new W6(_,t,f,p),s.push(y)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return jr.add(this._chart,i),!0}}function $6(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const a=e[i[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function G6(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function QA(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,a=n.max===void 0?t:0;return{start:i?a:s,end:i?s:a}}function K6(e,t,n){if(n===!1)return!1;const i=QA(e,n),s=QA(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function Y6(e){let t,n,i,s;return re(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function oM(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,a;for(s=0,a=i.length;s<a;++s)n.push(i[s].index);return n}function ZA(e,t,n,i={}){const s=e.keys,a=i.mode==="single";let l,c,h,f;if(t===null)return;let p=!1;for(l=0,c=s.length;l<c;++l){if(h=+s[l],h===n){if(p=!0,i.all)continue;break}f=e.values[h],ni(f)&&(a||t===0||er(t)===er(f))&&(t+=f)}return!p&&!i.all?0:t}function X6(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(e),c=new Array(l.length);let h,f,p;for(h=0,f=l.length;h<f;++h)p=l[h],c[h]={[s]:p,[a]:e[p]};return c}function Cv(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function Q6(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function Z6(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function J6(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function JA(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const a=e[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function tR(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:a,vScale:l,index:c}=i,h=a.axis,f=l.axis,p=Q6(a,l,i),y=t.length;let _;for(let b=0;b<y;++b){const T=t[b],{[h]:S,[f]:E}=T,C=T._stacks||(T._stacks={});_=C[f]=J6(s,p,S),_[c]=E,_._top=JA(_,l,!0,i.type),_._bottom=JA(_,l,!1,i.type);const V=_._visualValues||(_._visualValues={});V[c]=E}}function Dv(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function t9(e,t){return hl(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function e9(e,t,n){return hl(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function th(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const a=s._stacks;if(!a||a[i]===void 0||a[i][n]===void 0)return;delete a[i][n],a[i]._visualValues!==void 0&&a[i]._visualValues[n]!==void 0&&delete a[i]._visualValues[n]}}}const kv=e=>e==="reset"||e==="none",eR=(e,t)=>t?e:Object.assign({},e),n9=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:oM(n,!0),values:null};class vc{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Cv(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&th(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(y,_,b,T)=>y==="x"?_:y==="r"?T:b,a=n.xAxisID=ne(i.xAxisID,Dv(t,"x")),l=n.yAxisID=ne(i.yAxisID,Dv(t,"y")),c=n.rAxisID=ne(i.rAxisID,Dv(t,"r")),h=n.indexAxis,f=n.iAxisID=s(h,a,l,c),p=n.vAxisID=s(h,l,a,c);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&LA(this._data,this),t._stacked&&th(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(re(n)){const s=this._cachedMeta;this._data=X6(n,s)}else if(i!==n){if(i){LA(i,this);const s=this._cachedMeta;th(s),s._parsed=[]}n&&Object.isExtensible(n)&&j5(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=Cv(n.vScale,n),n.stack!==i.stack&&(s=!0,th(n),n.stack=i.stack),this._resyncElements(t),(s||a!==n._stacked)&&(tR(this,n._parsed),n._stacked=Cv(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,c=a.axis;let h=t===0&&n===s.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,y,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{pn(s[t])?_=this.parseArrayData(i,s,t,n):re(s[t])?_=this.parseObjectData(i,s,t,n):_=this.parsePrimitiveData(i,s,t,n);const b=()=>y[c]===null||f&&y[c]<f[c];for(p=0;p<n;++p)i._parsed[p+t]=y=_[p],h&&(b()&&(h=!1),f=y);i._sorted=h}l&&tR(this,_)}parsePrimitiveData(t,n,i,s){const{iScale:a,vScale:l}=t,c=a.axis,h=l.axis,f=a.getLabels(),p=a===l,y=new Array(s);let _,b,T;for(_=0,b=s;_<b;++_)T=_+i,y[_]={[c]:p||a.parse(f[T],T),[h]:l.parse(n[T],T)};return y}parseArrayData(t,n,i,s){const{xScale:a,yScale:l}=t,c=new Array(s);let h,f,p,y;for(h=0,f=s;h<f;++h)p=h+i,y=n[p],c[h]={x:a.parse(y[0],p),y:l.parse(y[1],p)};return c}parseObjectData(t,n,i,s){const{xScale:a,yScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=new Array(s);let p,y,_,b;for(p=0,y=s;p<y;++p)_=p+i,b=n[_],f[p]={x:a.parse(kc(b,c),_),y:l.parse(kc(b,h),_)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,a=this._cachedMeta,l=n[t.axis],c={keys:oM(s,!0),values:n._stacks[t.axis]._visualValues};return ZA(c,l,a.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const a=i[n.axis];let l=a===null?NaN:a;const c=s&&i._stacks[n.axis];s&&c&&(s.values=c,l=ZA(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&t===i.iScale,l=s.length,c=this._getOtherScale(t),h=n9(n,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=Z6(c);let _,b;function T(){b=s[_];const S=b[c.axis];return!ni(b[t.axis])||p>S||y<S}for(_=0;_<l&&!(!T()&&(this.updateRangeFromParsed(f,t,b,h),a));++_);if(a){for(_=l-1;_>=0;--_)if(!T()){this.updateRangeFromParsed(f,t,b,h);break}}return f}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=n.length;s<a;++s)l=n[s][t.axis],ni(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=Y6(ne(this.options.clip,K6(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],a=n.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||s.length-c,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,a,c,h),p=c;p<c+h;++p){const y=s[p];y.hidden||(y.active&&f?l.push(y):y.draw(t,a))}for(p=0;p<l.length;++p)l[p].draw(t,a)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=e9(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=t9(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",a=this._cachedDataOpts,l=t+"-"+n,c=a[l],h=this.enableOptionSharing&&Fh(i);if(c)return eR(c,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),y=s?[`${t}Hover`,"hover",t,""]:[t,""],_=f.getOptionScopes(this.getDataset(),p),b=Object.keys(on.elements[t]),T=()=>this.getContext(i,s,n),S=f.resolveNamedOptions(_,b,T,y);return S.$shared&&(S.$shared=h,a[l]=Object.freeze(eR(S,h))),S}_resolveAnimations(t,n,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${n}`,c=a[l];if(c)return c;let h;if(s.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,n),_=p.getOptionScopes(this.getDataset(),y);h=p.createResolver(_,this.getContext(t,i,n))}const f=new aM(s,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||kv(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(n,a)||a!==s;return this.updateSharedOptions(a,n,i),{sharedOptions:a,includeOptions:l}}updateElement(t,n,i,s){kv(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!kv(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[c,h,f]of this._syncList)this[c](h,f);this._syncList=[];const s=i.length,a=n.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,n,i=!0){const s=this._cachedMeta,a=s.data,l=t+n;let c;const h=f=>{for(f.length+=n,c=f.length-1;c>=l;c--)f[c]=f[c-n]};for(h(a),c=t;c<l;++c)a[c]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,n),i&&this.updateElements(a,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&th(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ft(vc,"defaults",{}),Ft(vc,"datasetElementType",null),Ft(vc,"dataElementType",null);function i9(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,a=n.length;s<a;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=zP(i.sort((s,a)=>s-a))}return e._cache.$bar}function s9(e){const t=e.iScale,n=i9(t,e.type);let i=t._length,s,a,l,c;const h=()=>{l===32767||l===-32768||(Fh(c)&&(i=Math.min(i,Math.abs(l-c)||i)),c=l)};for(s=0,a=n.length;s<a;++s)l=t.getPixelForValue(n[s]),h();for(c=void 0,s=0,a=t.ticks.length;s<a;++s)l=t.getPixelForTick(s),h();return i}function r9(e,t,n,i){const s=n.barThickness;let a,l;return Te(s)?(a=t.min*n.categoryPercentage,l=n.barPercentage):(a=s*i,l=1),{chunk:a/i,ratio:l,start:t.pixels[e]-a/2}}function a9(e,t,n,i){const s=t.pixels,a=s[e];let l=e>0?s[e-1]:null,c=e<s.length-1?s[e+1]:null;const h=n.categoryPercentage;l===null&&(l=a-(c===null?t.end-t.start:c-a)),c===null&&(c=a+a-l);const f=a-(a-Math.min(l,c))/2*h;return{chunk:Math.abs(c-l)/2*h/i,ratio:n.barPercentage,start:f}}function o9(e,t,n,i){const s=n.parse(e[0],i),a=n.parse(e[1],i),l=Math.min(s,a),c=Math.max(s,a);let h=l,f=c;Math.abs(l)>Math.abs(c)&&(h=c,f=l),t[n.axis]=f,t._custom={barStart:h,barEnd:f,start:s,end:a,min:l,max:c}}function lM(e,t,n,i){return pn(e)?o9(e,t,n,i):t[n.axis]=n.parse(e,i),t}function nR(e,t,n,i){const s=e.iScale,a=e.vScale,l=s.getLabels(),c=s===a,h=[];let f,p,y,_;for(f=n,p=n+i;f<p;++f)_=t[f],y={},y[s.axis]=c||s.parse(l[f],f),h.push(lM(_,y,a,f));return h}function Pv(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function l9(e,t,n){return e!==0?er(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function c9(e){let t,n,i,s,a;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",a="start"):(s="start",a="end"),{start:n,end:i,reverse:t,top:s,bottom:a}}function u9(e,t,n,i){let s=t.borderSkipped;const a={};if(!s){e.borderSkipped=a;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:h,top:f,bottom:p}=c9(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=f:(n._bottom||0)===i?s=p:(a[iR(p,l,c,h)]=!0,s=f)),a[iR(s,l,c,h)]=!0,e.borderSkipped=a}function iR(e,t,n,i){return i?(e=h9(e,t,n),e=sR(e,n,t)):e=sR(e,t,n),e}function h9(e,t,n){return e===t?n:e===n?t:e}function sR(e,t,n){return e==="start"?t:e==="end"?n:e}function f9(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Rp extends vc{parsePrimitiveData(t,n,i,s){return nR(t,n,i,s)}parseArrayData(t,n,i,s){return nR(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:a,vScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=a.axis==="x"?c:h,p=l.axis==="x"?c:h,y=[];let _,b,T,S;for(_=i,b=i+s;_<b;++_)S=n[_],T={},T[a.axis]=a.parse(kc(S,f),_),y.push(lM(kc(S,p),T,l,_));return y}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const a=i._custom;a&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,a=this.getParsed(t),l=a._custom,c=Pv(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),f=c.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:_}=this._getSharedOptions(n,s);for(let b=n;b<n+i;b++){const T=this.getParsed(b),S=a||Te(T[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(b),E=this._calculateBarIndexPixels(b,p),C=(T._stacks||{})[c.axis],V={horizontal:f,base:S.base,enableBorderRadius:!C||Pv(T._custom)||l===C._top||l===C._bottom,x:f?S.head:E.center,y:f?E.center:S.head,height:f?E.size:Math.abs(S.size),width:f?Math.abs(S.size):E.size};_&&(V.options=y||this.resolveDataElementOptions(b,t[b].active?"active":s));const B=V.options||t[b].options;u9(V,B,C,l),f9(V,B,p.ratio),this.updateElement(t[b],b,V,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=i.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(n),h=c&&c[i.axis],f=p=>{const y=p._parsed.find(b=>b[i.axis]===h),_=y&&y[p.vScale.axis];if(Te(_)||isNaN(_))return!0};for(const p of s)if(!(n!==void 0&&f(p))&&((a===!1||l.indexOf(p.stack)===-1||a===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const s=this._getStacks(t,i),a=n!==void 0?s.indexOf(n):-1;return a===-1?s.length-1:a}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let a,l;for(a=0,l=n.data.length;a<l;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const c=t.barThickness;return{min:c||s9(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:a,minBarLength:l}}=this,c=a||0,h=this.getParsed(t),f=h._custom,p=Pv(f);let y=h[n.axis],_=0,b=i?this.applyStack(n,h,i):y,T,S;b!==y&&(_=b-y,b=y),p&&(y=f.barStart,b=f.barEnd-f.barStart,y!==0&&er(y)!==er(f.barEnd)&&(_=0),_+=y);const E=!Te(a)&&!p?a:_;let C=n.getPixelForValue(E);if(this.chart.getDataVisibility(t)?T=n.getPixelForValue(_+b):T=C,S=T-C,Math.abs(S)<l){S=l9(S,n,c)*l,y===c&&(C-=S/2);const V=n.getPixelForDecimal(0),B=n.getPixelForDecimal(1),W=Math.min(V,B),F=Math.max(V,B);C=Math.max(Math.min(C,F),W),T=C+S,i&&!p&&(h._stacks[n.axis]._visualValues[s]=n.getValueForPixel(T)-n.getValueForPixel(C))}if(C===n.getPixelForValue(c)){const V=er(S)*n.getLineWidthForValue(c)/2;C+=V,S-=V}return{size:S,base:C,head:T,center:T+S/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,a=s.skipNull,l=ne(s.maxBarThickness,1/0);let c,h;if(n.grouped){const f=a?this._getStackCount(t):n.stackCount,p=s.barThickness==="flex"?a9(t,n,s,f):r9(t,n,s,f),y=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0);c=p.start+p.chunk*y+p.chunk/2,h=Math.min(l,p.chunk*p.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,n.min*n.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[n.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}Ft(Rp,"id","bar"),Ft(Rp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ft(Rp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Cp extends vc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=n,l=this.chart._animationsDisabled;let{start:c,count:h}=z5(n,s,l);this._drawStart=c,this._drawCount=h,H5(n)&&(c=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},t),this.updateElements(s,c,h,t)}updateElements(t,n,i,s){const a=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(n,s),_=l.axis,b=c.axis,{spanGaps:T,segment:S}=this.options,E=zh(T)?T:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||a||s==="none",V=n+i,B=t.length;let W=n>0&&this.getParsed(n-1);for(let F=0;F<B;++F){const K=t[F],M=C?K:{};if(F<n||F>=V){M.skip=!0;continue}const D=this.getParsed(F),P=Te(D[b]),j=M[_]=l.getPixelForValue(D[_],F),U=M[b]=a||P?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,D,h):D[b],F);M.skip=isNaN(j)||isNaN(U)||P,M.stop=F>0&&Math.abs(D[_]-W[_])>E,S&&(M.parsed=D,M.raw=f.data[F]),y&&(M.options=p||this.resolveDataElementOptions(F,K.active?"active":s)),C||this.updateElement(K,F,M,s),W=D}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Ft(Cp,"id","line"),Ft(Cp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ft(Cp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Po(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class kb{constructor(t){Ft(this,"options");this.options=t||{}}static override(t){Object.assign(kb.prototype,t)}init(){}formats(){return Po()}parse(){return Po()}format(){return Po()}add(){return Po()}diff(){return Po()}startOf(){return Po()}endOf(){return Po()}}var d9={_date:kb};function p9(e,t,n,i){const{controller:s,data:a,_sorted:l}=e,c=s._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&l&&a.length){const f=c._reversePixels?V5:Ho;if(i){if(s._sharedOptions){const p=a[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const _=f(a,t,n-y),b=f(a,t,n+y);return{lo:_.lo,hi:b.hi}}}}else{const p=f(a,t,n);if(h){const{vScale:y}=s._cachedMeta,{_parsed:_}=e,b=_.slice(0,p.lo+1).reverse().findIndex(S=>!Te(S[y.axis]));p.lo-=Math.max(0,b);const T=_.slice(p.hi).findIndex(S=>!Te(S[y.axis]));p.hi+=Math.max(0,T)}return p}}return{lo:0,hi:a.length-1}}function Qg(e,t,n,i,s){const a=e.getSortedVisibleDatasetMetas(),l=n[t];for(let c=0,h=a.length;c<h;++c){const{index:f,data:p}=a[c],{lo:y,hi:_}=p9(a[c],t,l,s);for(let b=y;b<=_;++b){const T=p[b];T.skip||i(T,f,b)}}}function g9(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const a=t?Math.abs(i.x-s.x):0,l=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Mv(e,t,n,i,s){const a=[];return!s&&!e.isPointInArea(t)||Qg(e,n,t,function(c,h,f){!s&&!Hh(c,e.chartArea,0)||c.inRange(t.x,t.y,i)&&a.push({element:c,datasetIndex:h,index:f})},!0),a}function m9(e,t,n,i){let s=[];function a(l,c,h){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:y}=O5(l,{x:t.x,y:t.y});UP(y,f,p)&&s.push({element:l,datasetIndex:c,index:h})}return Qg(e,n,t,a),s}function y9(e,t,n,i,s,a){let l=[];const c=g9(n);let h=Number.POSITIVE_INFINITY;function f(p,y,_){const b=p.inRange(t.x,t.y,s);if(i&&!b)return;const T=p.getCenterPoint(s);if(!(!!a||e.isPointInArea(T))&&!b)return;const E=c(t,T);E<h?(l=[{element:p,datasetIndex:y,index:_}],h=E):E===h&&l.push({element:p,datasetIndex:y,index:_})}return Qg(e,n,t,f),l}function Iv(e,t,n,i,s,a){return!a&&!e.isPointInArea(t)?[]:n==="r"&&!i?m9(e,t,n,s):y9(e,t,n,i,s,a)}function rR(e,t,n,i,s){const a=[],l=n==="x"?"inXRange":"inYRange";let c=!1;return Qg(e,n,t,(h,f,p)=>{h[l]&&h[l](t[n],s)&&(a.push({element:h,datasetIndex:f,index:p}),c=c||h.inRange(t.x,t.y,s))}),i&&!c?[]:a}var v9={modes:{index(e,t,n,i){const s=Lo(t,e),a=n.axis||"x",l=n.includeInvisible||!1,c=n.intersect?Mv(e,s,a,i,l):Iv(e,s,a,!1,i,l),h=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const p=c[0].index,y=f.data[p];y&&!y.skip&&h.push({element:y,datasetIndex:f.index,index:p})}),h):[]},dataset(e,t,n,i){const s=Lo(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;let c=n.intersect?Mv(e,s,a,i,l):Iv(e,s,a,!1,i,l);if(c.length>0){const h=c[0].datasetIndex,f=e.getDatasetMeta(h).data;c=[];for(let p=0;p<f.length;++p)c.push({element:f[p],datasetIndex:h,index:p})}return c},point(e,t,n,i){const s=Lo(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;return Mv(e,s,a,i,l)},nearest(e,t,n,i){const s=Lo(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;return Iv(e,s,a,n.intersect,i,l)},x(e,t,n,i){const s=Lo(t,e);return rR(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=Lo(t,e);return rR(e,s,"y",n.intersect,i)}}};const cM=["left","top","right","bottom"];function eh(e,t){return e.filter(n=>n.pos===t)}function aR(e,t){return e.filter(n=>cM.indexOf(n.pos)===-1&&n.box.axis===t)}function nh(e,t){return e.sort((n,i)=>{const s=t?i:n,a=t?n:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function _9(e){const t=[];let n,i,s,a,l,c;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:a,options:{stack:l,stackWeight:c=1}}=s,t.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:c});return t}function b9(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:a}=n;if(!i||!cM.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function w9(e,t){const n=b9(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let a,l,c;for(a=0,l=e.length;a<l;++a){c=e[a];const{fullSize:h}=c.box,f=n[c.stack],p=f&&c.stackWeight/f.weight;c.horizontal?(c.width=p?p*i:h&&t.availableWidth,c.height=s):(c.width=i,c.height=p?p*s:h&&t.availableHeight)}return n}function T9(e){const t=_9(e),n=nh(t.filter(f=>f.box.fullSize),!0),i=nh(eh(t,"left"),!0),s=nh(eh(t,"right")),a=nh(eh(t,"top"),!0),l=nh(eh(t,"bottom")),c=aR(t,"x"),h=aR(t,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:s.concat(h).concat(l).concat(c),chartArea:eh(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:a.concat(l).concat(c)}}function oR(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function uM(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function S9(e,t,n,i){const{pos:s,box:a}=n,l=e.maxPadding;if(!re(s)){n.size&&(e[s]-=n.size);const y=i[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?a.height:a.width),n.size=y.size/y.count,e[s]+=n.size}a.getPadding&&uM(l,a.getPadding());const c=Math.max(0,t.outerWidth-oR(l,e,"left","right")),h=Math.max(0,t.outerHeight-oR(l,e,"top","bottom")),f=c!==e.w,p=h!==e.h;return e.w=c,e.h=h,n.horizontal?{same:f,other:p}:{same:p,other:f}}function E9(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function x9(e,t){const n=t.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(t[l],n[l])}),a}return i(e?["left","right"]:["top","bottom"])}function uh(e,t,n,i){const s=[];let a,l,c,h,f,p;for(a=0,l=e.length,f=0;a<l;++a){c=e[a],h=c.box,h.update(c.width||t.w,c.height||t.h,x9(c.horizontal,t));const{same:y,other:_}=S9(t,n,c,i);f|=y&&s.length,p=p||_,h.fullSize||s.push(c)}return f&&uh(s,t,n,i)||p}function ip(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function lR(e,t,n,i){const s=n.padding;let{x:a,y:l}=t;for(const c of e){const h=c.box,f=i[c.stack]||{placed:0,weight:1},p=c.stackWeight/f.weight||1;if(c.horizontal){const y=t.w*p,_=f.size||h.height;Fh(f.start)&&(l=f.start),h.fullSize?ip(h,s.left,l,n.outerWidth-s.right-s.left,_):ip(h,t.left+f.placed,l,y,_),f.start=l,f.placed+=y,l=h.bottom}else{const y=t.h*p,_=f.size||h.width;Fh(f.start)&&(a=f.start),h.fullSize?ip(h,a,s.top,_,n.outerHeight-s.bottom-s.top):ip(h,a,t.top+f.placed,_,y),f.start=a,f.placed+=y,a=h.right}}t.x=a,t.y=l}var rs={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=cs(e.options.layout.padding),a=Math.max(t-s.width,0),l=Math.max(n-s.height,0),c=T9(e.boxes),h=c.vertical,f=c.horizontal;Ae(e.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=h.reduce((S,E)=>E.box.options&&E.box.options.display===!1?S:S+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},s);uM(_,cs(i));const b=Object.assign({maxPadding:_,w:a,h:l,x:s.left,y:s.top},s),T=w9(h.concat(f),y);uh(c.fullSize,b,y,T),uh(h,b,y,T),uh(f,b,y,T)&&uh(h,b,y,T),E9(b),lR(c.leftAndTop,b,y,T),b.x+=b.w,b.y+=b.h,lR(c.rightAndBottom,b,y,T),e.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Ae(c.chartArea,S=>{const E=S.box;Object.assign(E,e.chartArea),E.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class hM{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class A9 extends hM{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Dp="$chartjs",R9={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},cR=e=>e===null||e==="";function C9(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Dp]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",cR(s)){const a=$A(e,"width");a!==void 0&&(e.width=a)}if(cR(i))if(e.style.height==="")e.height=e.width/(t||2);else{const a=$A(e,"height");a!==void 0&&(e.height=a)}return e}const fM=M6?{passive:!0}:!1;function D9(e,t,n){e&&e.addEventListener(t,n,fM)}function k9(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,fM)}function P9(e,t){const n=R9[e.type]||e.type,{x:i,y:s}=Lo(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function cg(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function M9(e,t,n){const i=e.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||cg(c.addedNodes,i),l=l&&!cg(c.removedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function I9(e,t,n){const i=e.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||cg(c.removedNodes,i),l=l&&!cg(c.addedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Wh=new Map;let uR=0;function dM(){const e=window.devicePixelRatio;e!==uR&&(uR=e,Wh.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function O9(e,t){Wh.size||window.addEventListener("resize",dM),Wh.set(e,t)}function N9(e){Wh.delete(e),Wh.size||window.removeEventListener("resize",dM)}function L9(e,t,n){const i=e.canvas,s=i&&Db(i);if(!s)return;const a=qP((c,h)=>{const f=s.clientWidth;n(c,h),f<s.clientWidth&&n()},window),l=new ResizeObserver(c=>{const h=c[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||a(f,p)});return l.observe(s),O9(e,a),l}function Ov(e,t,n){n&&n.disconnect(),t==="resize"&&N9(e)}function V9(e,t,n){const i=e.canvas,s=qP(a=>{e.ctx!==null&&n(P9(a,e))},e);return D9(i,t,s),s}class B9 extends hM{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(C9(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Dp])return!1;const i=n[Dp].initial;["height","width"].forEach(a=>{const l=i[a];Te(l)?n.removeAttribute(a):n.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[Dp],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),l={attach:M9,detach:I9,resize:L9}[n]||V9;s[n]=l(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Ov,detach:Ov,resize:Ov}[n]||k9)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return P6(t,n,i,s)}isAttached(t){const n=t&&Db(t);return!!(n&&n.isConnected)}}function j9(e){return!Cb()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?A9:B9}var gp;let Ja=(gp=class{constructor(){Ft(this,"x");Ft(this,"y");Ft(this,"active",!1);Ft(this,"options");Ft(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return zh(this.x)&&zh(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}},Ft(gp,"defaults",{}),Ft(gp,"defaultRoutes"),gp);function U9(e,t){const n=e.options.ticks,i=F9(e),s=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?H9(t):[],l=a.length,c=a[0],h=a[l-1],f=[];if(l>s)return q9(t,f,a,l/s),f;const p=z9(a,t,s);if(l>0){let y,_;const b=l>1?Math.round((h-c)/(l-1)):null;for(sp(t,f,p,Te(b)?0:c-b,c),y=0,_=l-1;y<_;y++)sp(t,f,p,a[y],a[y+1]);return sp(t,f,p,h,Te(b)?t.length:h+b),f}return sp(t,f,p),f}function F9(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function z9(e,t,n){const i=W9(e),s=t.length/n;if(!i)return Math.max(s,1);const a=D5(i);for(let l=0,c=a.length-1;l<c;l++){const h=a[l];if(h>s)return h}return Math.max(s,1)}function H9(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function q9(e,t,n,i){let s=0,a=n[0],l;for(i=Math.ceil(i),l=0;l<e.length;l++)l===a&&(t.push(e[l]),s++,a=n[s*i])}function sp(e,t,n,i,s){const a=ne(i,0),l=Math.min(ne(s,e.length),e.length);let c=0,h,f,p;for(n=Math.ceil(n),s&&(h=s-i,n=h/Math.floor(h/n)),p=a;p<0;)c++,p=Math.round(a+c*n);for(f=Math.max(a,0);f<l;f++)f===p&&(t.push(e[f]),c++,p=Math.round(a+c*n))}function W9(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const $9=e=>e==="left"?"right":e==="right"?"left":e,hR=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,fR=(e,t)=>Math.min(t||e,e);function dR(e,t){const n=[],i=e.length/t,s=e.length;let a=0;for(;a<s;a+=i)n.push(e[Math.floor(a)]);return n}function G9(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),a=e._startPixel,l=e._endPixel,c=1e-6;let h=e.getPixelForTick(s),f;if(!(n&&(i===1?f=Math.max(h-a,l-h):t===0?f=(e.getPixelForTick(1)-h)/2:f=(h-e.getPixelForTick(s-1))/2,h+=s<t?f:-f,h<a-c||h>l+c)))return h}function K9(e,t){Ae(e,n=>{const i=n.gc,s=i.length/2;let a;if(s>t){for(a=0;a<s;++a)delete n.data[i[a]];i.splice(0,s)}})}function ih(e){return e.drawTicks?e.tickLength:0}function pR(e,t){if(!e.display)return 0;const n=Zn(e.font,t),i=cs(e.padding);return(pn(e.text)?e.text.length:1)*n.lineHeight+i.height}function Y9(e,t){return hl(e,{scale:t,type:"scale"})}function X9(e,t,n){return hl(e,{tick:n,index:t,type:"tick"})}function Q9(e,t,n){let i=Sb(e);return(n&&t!=="right"||!n&&t==="right")&&(i=$9(i)),i}function Z9(e,t,n,i){const{top:s,left:a,bottom:l,right:c,chart:h}=e,{chartArea:f,scales:p}=h;let y=0,_,b,T;const S=l-s,E=c-a;if(e.isHorizontal()){if(b=Kn(i,a,c),re(n)){const C=Object.keys(n)[0],V=n[C];T=p[C].getPixelForValue(V)+S-t}else n==="center"?T=(f.bottom+f.top)/2+S-t:T=hR(e,n,t);_=c-a}else{if(re(n)){const C=Object.keys(n)[0],V=n[C];b=p[C].getPixelForValue(V)-E+t}else n==="center"?b=(f.left+f.right)/2-E+t:b=hR(e,n,t);T=Kn(i,l,s),y=n==="left"?-_s:_s}return{titleX:b,titleY:T,maxWidth:_,rotation:y}}class $c extends Ja{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=qs(t,Number.POSITIVE_INFINITY),n=qs(n,Number.NEGATIVE_INFINITY),i=qs(i,Number.POSITIVE_INFINITY),s=qs(s,Number.NEGATIVE_INFINITY),{min:qs(t,i),max:qs(n,s),minDefined:ni(t),maxDefined:ni(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,f=c.length;h<f;++h)l=c[h].controller.getMinMax(this,t),s||(n=Math.min(n,l.min)),a||(i=Math.max(i,l.max));return n=a&&n>i?i:n,i=s&&n>i?n:i,{min:qs(n,qs(i,n)),max:qs(i,qs(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ve(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=c6(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?dR(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=U9(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ve(this.options.afterUpdate,[this])}beforeSetDimensions(){Ve(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ve(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ve(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ve(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i],a.label=Ve(n.callback,[a.value,i,t],this)}afterTickToLabelConversion(){Ve(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ve(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=fR(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,a=n.maxRotation;let l=s,c,h,f;if(!this._isVisible()||!n.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,b=Li(this.chart.width-y,0,this.maxWidth);c=t.offset?this.maxWidth/i:b/(i-1),y+6>c&&(c=b/(i-(t.offset?.5:1)),h=this.maxHeight-ih(t.grid)-n.padding-pR(t.title,this.chart.options.font),f=Math.sqrt(y*y+_*_),l=I5(Math.min(Math.asin(Li((p.highest.height+6)/c,-1,1)),Math.asin(Li(h/f,-1,1))-Math.asin(Li(_/f,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ve(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ve(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=pR(s,n.options.font);if(c?(t.width=this.maxWidth,t.height=ih(a)+h):(t.height=this.maxHeight,t.width=ih(a)+h),i.display&&this.ticks.length){const{first:f,last:p,widest:y,highest:_}=this._getLabelSizes(),b=i.padding*2,T=zo(this.labelRotation),S=Math.cos(T),E=Math.sin(T);if(c){const C=i.mirror?0:E*y.width+S*_.height;t.height=Math.min(this.maxHeight,t.height+C+b)}else{const C=i.mirror?0:S*y.width+E*_.height;t.width=Math.min(this.maxWidth,t.width+C+b)}this._calculatePadding(f,p,E,S)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:a,padding:l},position:c}=this.options,h=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,b=0;h?f?(_=s*t.width,b=i*n.height):(_=i*t.height,b=s*n.width):a==="start"?b=n.width:a==="end"?_=t.width:a!=="inner"&&(_=t.width/2,b=n.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-y+l)*this.width/(this.width-y),0)}else{let p=n.height/2,y=t.height/2;a==="start"?(p=0,y=t.height):a==="end"&&(p=n.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ve(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)Te(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=dR(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:a}=this,l=[],c=[],h=Math.floor(n/fR(n,i));let f=0,p=0,y,_,b,T,S,E,C,V,B,W,F;for(y=0;y<n;y+=h){if(T=t[y].label,S=this._resolveTickFontOptions(y),s.font=E=S.string,C=a[E]=a[E]||{data:{},gc:[]},V=S.lineHeight,B=W=0,!Te(T)&&!pn(T))B=FA(s,C.data,C.gc,B,T),W=V;else if(pn(T))for(_=0,b=T.length;_<b;++_)F=T[_],!Te(F)&&!pn(F)&&(B=FA(s,C.data,C.gc,B,F),W+=V);l.push(B),c.push(W),f=Math.max(B,f),p=Math.max(W,p)}K9(a,n);const K=l.indexOf(f),M=c.indexOf(p),D=P=>({width:l[P]||0,height:c[P]||0});return{first:D(0),last:D(n-1),widest:D(K),highest:D(M),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return L5(this._alignToPixels?ko(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=X9(this.getContext(),t,i))}return this.$context||(this.$context=Y9(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=zo(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,c=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>c*s?c/i:h/s:h*s<c*i?h/i:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:c}=s,h=a.offset,f=this.isHorizontal(),y=this.ticks.length+(h?1:0),_=ih(a),b=[],T=c.setContext(this.getContext()),S=T.display?T.width:0,E=S/2,C=function($){return ko(i,$,S)};let V,B,W,F,K,M,D,P,j,U,L,N;if(l==="top")V=C(this.bottom),M=this.bottom-_,P=V-E,U=C(t.top)+E,N=t.bottom;else if(l==="bottom")V=C(this.top),U=t.top,N=C(t.bottom)-E,M=V+E,P=this.top+_;else if(l==="left")V=C(this.right),K=this.right-_,D=V-E,j=C(t.left)+E,L=t.right;else if(l==="right")V=C(this.left),j=t.left,L=C(t.right)-E,K=V+E,D=this.left+_;else if(n==="x"){if(l==="center")V=C((t.top+t.bottom)/2+.5);else if(re(l)){const $=Object.keys(l)[0],Z=l[$];V=C(this.chart.scales[$].getPixelForValue(Z))}U=t.top,N=t.bottom,M=V+E,P=M+_}else if(n==="y"){if(l==="center")V=C((t.left+t.right)/2);else if(re(l)){const $=Object.keys(l)[0],Z=l[$];V=C(this.chart.scales[$].getPixelForValue(Z))}K=V-E,D=K-_,j=t.left,L=t.right}const rt=ne(s.ticks.maxTicksLimit,y),dt=Math.max(1,Math.ceil(y/rt));for(B=0;B<y;B+=dt){const $=this.getContext(B),Z=a.setContext($),ot=c.setContext($),Et=Z.lineWidth,z=Z.color,nt=ot.dash||[],pt=ot.dashOffset,ut=Z.tickWidth,_t=Z.tickColor,It=Z.tickBorderDash||[],xt=Z.tickBorderDashOffset;W=G9(this,B,h),W!==void 0&&(F=ko(i,W,Et),f?K=D=j=L=F:M=P=U=N=F,b.push({tx1:K,ty1:M,tx2:D,ty2:P,x1:j,y1:U,x2:L,y2:N,width:Et,color:z,borderDash:nt,borderDashOffset:pt,tickWidth:ut,tickColor:_t,tickBorderDash:It,tickBorderDashOffset:xt}))}return this._ticksLength=y,this._borderValue=V,b}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:f,padding:p,mirror:y}=a,_=ih(i.grid),b=_+p,T=y?-p:b,S=-zo(this.labelRotation),E=[];let C,V,B,W,F,K,M,D,P,j,U,L,N="middle";if(s==="top")K=this.bottom-T,M=this._getXAxisLabelAlignment();else if(s==="bottom")K=this.top+T,M=this._getXAxisLabelAlignment();else if(s==="left"){const dt=this._getYAxisLabelAlignment(_);M=dt.textAlign,F=dt.x}else if(s==="right"){const dt=this._getYAxisLabelAlignment(_);M=dt.textAlign,F=dt.x}else if(n==="x"){if(s==="center")K=(t.top+t.bottom)/2+b;else if(re(s)){const dt=Object.keys(s)[0],$=s[dt];K=this.chart.scales[dt].getPixelForValue($)+b}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")F=(t.left+t.right)/2-b;else if(re(s)){const dt=Object.keys(s)[0],$=s[dt];F=this.chart.scales[dt].getPixelForValue($)}M=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(h==="start"?N="top":h==="end"&&(N="bottom"));const rt=this._getLabelSizes();for(C=0,V=c.length;C<V;++C){B=c[C],W=B.label;const dt=a.setContext(this.getContext(C));D=this.getPixelForTick(C)+a.labelOffset,P=this._resolveTickFontOptions(C),j=P.lineHeight,U=pn(W)?W.length:1;const $=U/2,Z=dt.color,ot=dt.textStrokeColor,Et=dt.textStrokeWidth;let z=M;l?(F=D,M==="inner"&&(C===V-1?z=this.options.reverse?"left":"right":C===0?z=this.options.reverse?"right":"left":z="center"),s==="top"?f==="near"||S!==0?L=-U*j+j/2:f==="center"?L=-rt.highest.height/2-$*j+j:L=-rt.highest.height+j/2:f==="near"||S!==0?L=j/2:f==="center"?L=rt.highest.height/2-$*j:L=rt.highest.height-U*j,y&&(L*=-1),S!==0&&!dt.showLabelBackdrop&&(F+=j/2*Math.sin(S))):(K=D,L=(1-U)*j/2);let nt;if(dt.showLabelBackdrop){const pt=cs(dt.backdropPadding),ut=rt.heights[C],_t=rt.widths[C];let It=L-pt.top,xt=0-pt.left;switch(N){case"middle":It-=ut/2;break;case"bottom":It-=ut;break}switch(M){case"center":xt-=_t/2;break;case"right":xt-=_t;break;case"inner":C===V-1?xt-=_t:C>0&&(xt-=_t/2);break}nt={left:xt,top:It,width:_t+pt.width,height:ut+pt.height,color:dt.backdropColor}}E.push({label:W,font:P,textOffset:L,options:{rotation:S,color:Z,strokeColor:ot,strokeWidth:Et,textAlign:z,textBaseline:N,translation:[F,K],backdrop:nt}})}return E}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-zo(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),c=t+a,h=l.widest.width;let f,p;return n==="left"?s?(p=this.right+a,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-c,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p=this.left)):n==="right"?s?(p=this.left+a,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+c,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:a,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,a,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const c=(h,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(n.display)for(a=0,l=s.length;a<l;++a){const h=s[a];n.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,y,_;this.isHorizontal()?(f=ko(t,this.left,l)-l/2,p=ko(t,this.right,c)+c/2,y=_=h):(y=ko(t,this.top,l)-l/2,_=ko(t,this.bottom,c)+c/2,f=p=h),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(f,y),n.lineTo(p,_),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Kg(i,s);const a=this.getLabelItems(t);for(const l of a){const c=l.options,h=l.font,f=l.label,p=l.textOffset;qh(i,f,0,p,h,c)}s&&Yg(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const a=Zn(i.font),l=cs(i.padding),c=i.align;let h=a.lineHeight/2;n==="bottom"||n==="center"||re(n)?(h+=l.bottom,pn(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:p,maxWidth:y,rotation:_}=Z9(this,h,n,c);qh(t,i.text,0,0,a,{color:i.color,maxWidth:y,rotation:_,textAlign:Q9(c,n,s),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=ne(t.grid&&t.grid.z,-1),s=ne(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==$c.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=n.length;a<l;++a){const c=n[a];c[i]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Zn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class rp{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;eH(n)&&(i=this.register(n));const s=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,J9(t,l,i),this.override&&on.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in on[s]&&(delete on[s][i],this.override&&delete il[i])}}function J9(e,t,n){const i=Uh(Object.create(null),[n?on.get(n):{},on.get(t),e.defaults]);on.set(t,i),e.defaultRoutes&&tH(t,e.defaultRoutes),e.descriptors&&on.describe(t,e.descriptors)}function tH(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),a=[e].concat(i).join("."),l=t[n].split("."),c=l.pop(),h=l.join(".");on.route(a,s,h,c)})}function eH(e){return"id"in e&&"defaults"in e}class nH{constructor(){this.controllers=new rp(vc,"datasets",!0),this.elements=new rp(Ja,"elements"),this.plugins=new rp(Object,"plugins"),this.scales=new rp($c,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):Ae(s,l=>{const c=i||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,n,i){const s=wb(t);Ve(i["before"+s],[],i),n[t](i),Ve(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Gs=new nH;class iH{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(a,t,n,i);return n==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,i,s){s=s||{};for(const a of t){const l=a.plugin,c=l[i],h=[n,s,a.options];if(Ve(c,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Te(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=ne(i.options&&i.options.plugins,{}),a=sH(i);return s===!1&&!n?[]:aH(t,a,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function sH(e){const t={},n=[],i=Object.keys(Gs.plugins.items);for(let a=0;a<i.length;a++)n.push(Gs.getPlugin(i[a]));const s=e.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function rH(e,t){return!t&&e===!1?null:e===!0?{}:e}function aH(e,{plugins:t,localIds:n},i,s){const a=[],l=e.getContext();for(const c of t){const h=c.id,f=rH(i[h],s);f!==null&&a.push({plugin:c,options:oH(e.config,{plugin:c,local:n[h]},f,l)})}return a}function oH(e,{plugin:t,local:n},i,s){const a=e.pluginScopeKeys(t),l=e.getOptionScopes(i,a);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function O_(e,t){const n=on.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function lH(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function cH(e,t){return e===t?"_index_":"_value_"}function gR(e){if(e==="x"||e==="y"||e==="r")return e}function uH(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function N_(e,...t){if(gR(e))return e;for(const n of t){const i=n.axis||uH(n.position)||e.length>1&&gR(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function mR(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function hH(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return mR(e,"x",n[0])||mR(e,"y",n[0])}return{}}function fH(e,t){const n=il[e.type]||{scales:{}},i=t.scales||{},s=O_(e.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!re(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=N_(l,c,hH(l,e),on.scales[c.type]),f=cH(h,s),p=n.scales||{};a[l]=wh(Object.create(null),[{axis:h},c,p[h],p[f]])}),e.data.datasets.forEach(l=>{const c=l.type||e.type,h=l.indexAxis||O_(c,t),p=(il[c]||{}).scales||{};Object.keys(p).forEach(y=>{const _=lH(y,h),b=l[_+"AxisID"]||_;a[b]=a[b]||Object.create(null),wh(a[b],[{axis:_},i[b],p[y]])})}),Object.keys(a).forEach(l=>{const c=a[l];wh(c,[on.scales[c.type],on.scale])}),a}function pM(e){const t=e.options||(e.options={});t.plugins=ne(t.plugins,{}),t.scales=fH(e,t)}function gM(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function dH(e){return e=e||{},e.data=gM(e.data),pM(e),e}const yR=new Map,mM=new Set;function ap(e,t){let n=yR.get(e);return n||(n=t(),yR.set(e,n),mM.add(n)),n}const sh=(e,t,n)=>{const i=kc(t,n);i!==void 0&&e.add(i)};class pH{constructor(t){this._config=dH(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=gM(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),pM(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ap(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return ap(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return ap(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return ap(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:a}=this,l=this._cachedScopes(t,i),c=l.get(n);if(c)return c;const h=new Set;n.forEach(p=>{t&&(h.add(t),p.forEach(y=>sh(h,t,y))),p.forEach(y=>sh(h,s,y)),p.forEach(y=>sh(h,il[a]||{},y)),p.forEach(y=>sh(h,on,y)),p.forEach(y=>sh(h,M_,y))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),mM.has(n)&&l.set(n,f),f}chartOptionScopes(){const{options:t,type:n}=this;return[t,il[n]||{},on.datasets[n]||{},{type:n},on,M_]}resolveNamedOptions(t,n,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=vR(this._resolverCache,t,s);let h=l;if(mH(l,n)){a.$shared=!1,i=Ka(i)?i():i;const f=this.createResolver(t,i,c);h=Pc(l,i,f)}for(const f of n)a[f]=h[f];return a}createResolver(t,n,i=[""],s){const{resolver:a}=vR(this._resolverCache,t,i);return re(n)?Pc(a,n,void 0,s):a}}function vR(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let a=i.get(s);return a||(a={resolver:xb(t,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,a)),a}const gH=e=>re(e)&&Object.getOwnPropertyNames(e).some(t=>Ka(e[t]));function mH(e,t){const{isScriptable:n,isIndexable:i}=XP(e);for(const s of t){const a=n(s),l=i(s),c=(l||a)&&e[s];if(a&&(Ka(c)||gH(c))||l&&pn(c))return!0}return!1}var yH="4.4.8";const vH=["top","bottom","left","right","chartArea"];function _R(e,t){return e==="top"||e==="bottom"||vH.indexOf(e)===-1&&t==="x"}function bR(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function wR(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Ve(n&&n.onComplete,[e],t)}function _H(e){const t=e.chart,n=t.options.animation;Ve(n&&n.onProgress,[e],t)}function yM(e){return Cb()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const kp={},TR=e=>{const t=yM(e);return Object.values(kp).filter(n=>n.canvas===t).pop()};function bH(e,t,n){const i=Object.keys(e);for(const s of i){const a=+s;if(a>=t){const l=e[s];delete e[s],(n>0||a>t)&&(e[a+n]=l)}}}function wH(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function op(e,t,n){return e.options.clip?e[n]:t[n]}function TH(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:op(n,t,"left"),right:op(n,t,"right"),top:op(i,t,"top"),bottom:op(i,t,"bottom")}:t}var Ra;let Gc=(Ra=class{static register(...t){Gs.add(...t),SR()}static unregister(...t){Gs.remove(...t),SR()}constructor(t,n){const i=this.config=new pH(n),s=yM(t),a=TR(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||j9(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),h=c&&c.canvas,f=h&&h.height,p=h&&h.width;if(this.id=b5(),this.ctx=c,this.canvas=h,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new iH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=U5(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],kp[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}jr.listen(this,"complete",wR),jr.listen(this,"progress",_H),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:a}=this;return Te(t)?n&&a?a:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Gs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():WA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return zA(this.canvas,this.ctx),this}stop(){return jr.stop(this),this}resize(t,n){jr.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,n,a),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,WA(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),Ve(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ae(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let a=[];n&&(a=a.concat(Object.keys(n).map(l=>{const c=n[l],h=N_(l,c),f=h==="r",p=h==="x";return{options:c,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),Ae(a,l=>{const c=l.options,h=c.id,f=N_(h,c),p=ne(c.type,l.dtype);(c.position===void 0||_R(c.position,f)!==_R(l.dposition))&&(c.position=l.dposition),s[h]=!0;let y=null;if(h in i&&i[h].type===p)y=i[h];else{const _=Gs.getScale(p);y=new _({id:h,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,t)}),Ae(s,(l,c)=>{l||delete i[c]}),Ae(i,l=>{rs.configure(this,l,l.options),rs.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,a)=>s.index-a.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(bR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const a=n[i];let l=this.getDatasetMeta(i);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=a.indexAxis||O_(c,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Gs.getController(c),{datasetElementType:f,dataElementType:p}=on.datasets[c];Object.assign(h,{dataElementType:Gs.getElement(p),datasetElementType:f&&Gs.getElement(f)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Ae(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:y}=this.getDatasetMeta(f),_=!s&&a.indexOf(y)===-1;y.buildOrUpdateElements(_),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||Ae(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(bR("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Ae(this.scales,t=>{rs.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!MA(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of n){const l=i==="_removeElements"?-a:a;bH(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<n;a++)if(!MA(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;rs.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Ae(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ka(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(jr.has(this)?this.attached&&!jr.running(this)&&jr.start(this):(this.draw(),wR({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,s=!i.disabled,a=TH(t,this.chartArea),l={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(s&&Kg(n,{left:i.left===!1?0:a.left-i.left,right:i.right===!1?this.width:a.right+i.right,top:i.top===!1?0:a.top-i.top,bottom:i.bottom===!1?this.height:a.bottom+i.bottom}),t.controller.draw(),s&&Yg(n),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(t){return Hh(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const a=v9.modes[n];return typeof a=="function"?a(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=hl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,s);Fh(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),jr.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),zA(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete kp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(a,l)=>{n.addEventListener(this,a,l),t[a]=l},s=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};Ae(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(h,f)=>{n.addEventListener(this,h,f),t[h]=f},s=(h,f)=>{t[h]&&(n.removeEventListener(this,h,f),delete t[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():l()}unbindEvents(){Ae(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Ae(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let a,l,c,h;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,h=t.length;c<h;++c){l=t[c];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!sg(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,a=(h,f)=>h.filter(p=>!f.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=a(n,t),c=i?t:a(t,n);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:a}=this,l=n,c=this._getActiveElements(t,s,i,l),h=A5(t),f=wH(t,this._lastEvent,i,h);i&&(this._lastEvent=null,Ve(a.onHover,[t,c,this],this),h&&Ve(a.onClick,[t,c,this],this));const p=!sg(c,s);return(p||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=f,p}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}},Ft(Ra,"defaults",on),Ft(Ra,"instances",kp),Ft(Ra,"overrides",il),Ft(Ra,"registry",Gs),Ft(Ra,"version",yH),Ft(Ra,"getChart",TR),Ra);function SR(){return Ae(Gc.instances,e=>e._plugins.invalidate())}function vM(e,t,n=t){e.lineCap=ne(n.borderCapStyle,t.borderCapStyle),e.setLineDash(ne(n.borderDash,t.borderDash)),e.lineDashOffset=ne(n.borderDashOffset,t.borderDashOffset),e.lineJoin=ne(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ne(n.borderWidth,t.borderWidth),e.strokeStyle=ne(n.borderColor,t.borderColor)}function SH(e,t,n){e.lineTo(n.x,n.y)}function EH(e){return e.stepped?t6:e.tension||e.cubicInterpolationMode==="monotone"?e6:SH}function _M(e,t,n={}){const i=e.length,{start:s=0,end:a=i-1}=n,{start:l,end:c}=t,h=Math.max(s,l),f=Math.min(a,c),p=s<l&&a<l||s>c&&a>c;return{count:i,start:h,loop:t.loop,ilen:f<h&&!p?i+f-h:f-h}}function xH(e,t,n,i){const{points:s,options:a}=t,{count:l,start:c,loop:h,ilen:f}=_M(s,n,i),p=EH(a);let{move:y=!0,reverse:_}=i||{},b,T,S;for(b=0;b<=f;++b)T=s[(c+(_?f-b:b))%l],!T.skip&&(y?(e.moveTo(T.x,T.y),y=!1):p(e,S,T,_,a.stepped),S=T);return h&&(T=s[(c+(_?f:0))%l],p(e,S,T,_,a.stepped)),!!h}function AH(e,t,n,i){const s=t.points,{count:a,start:l,ilen:c}=_M(s,n,i),{move:h=!0,reverse:f}=i||{};let p=0,y=0,_,b,T,S,E,C;const V=W=>(l+(f?c-W:W))%a,B=()=>{S!==E&&(e.lineTo(p,E),e.lineTo(p,S),e.lineTo(p,C))};for(h&&(b=s[V(0)],e.moveTo(b.x,b.y)),_=0;_<=c;++_){if(b=s[V(_)],b.skip)continue;const W=b.x,F=b.y,K=W|0;K===T?(F<S?S=F:F>E&&(E=F),p=(y*p+W)/++y):(B(),e.lineTo(W,F),T=K,y=0,S=E=F),C=F}B()}function L_(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?AH:xH}function RH(e){return e.stepped?I6:e.tension||e.cubicInterpolationMode==="monotone"?O6:Vo}function CH(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),vM(e,t.options),e.stroke(s)}function DH(e,t,n,i){const{segments:s,options:a}=t,l=L_(t);for(const c of s)vM(e,a,c.style),e.beginPath(),l(e,t,c,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const kH=typeof Path2D=="function";function PH(e,t,n,i){kH&&!t.options.segment?CH(e,t,n,i):DH(e,t,n,i)}class Xs extends Ja{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;x6(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=U6(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],a=this.points,l=rM(this,{property:n,start:s,end:s});if(!l.length)return;const c=[],h=RH(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:y,end:_}=l[f],b=a[y],T=a[_];if(b===T){c.push(b);continue}const S=Math.abs((s-b[n])/(T[n]-b[n])),E=h(b,T,S,i.stepped);E[n]=t[n],c.push(E)}return c.length===1?c[0]:c}pathSegment(t,n,i){return L_(this)(t,this,n,i)}path(t,n,i){const s=this.segments,a=L_(this);let l=this._loop;n=n||0,i=i||this.points.length-n;for(const c of s)l&=a(t,this,c,{start:n,end:n+i-1});return!!l}draw(t,n,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),PH(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ft(Xs,"id","line"),Ft(Xs,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ft(Xs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ft(Xs,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function ER(e,t,n,i){const s=e.options,{[n]:a}=e.getProps([n],i);return Math.abs(t-a)<s.radius+s.hitRadius}class _c extends Ja{constructor(n){super();Ft(this,"parsed");Ft(this,"skip");Ft(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const a=this.options,{x:l,y:c}=this.getProps(["x","y"],s);return Math.pow(n-l,2)+Math.pow(i-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(n,i){return ER(this,n,"x",i)}inYRange(n,i){return ER(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Hh(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,I_(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ft(_c,"id","point"),Ft(_c,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ft(_c,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function bM(e,t){const{x:n,y:i,base:s,width:a,height:l}=e.getProps(["x","y","base","width","height"],t);let c,h,f,p,y;return e.horizontal?(y=l/2,c=Math.min(n,s),h=Math.max(n,s),f=i-y,p=i+y):(y=a/2,c=n-y,h=n+y,f=Math.min(i,s),p=Math.max(i,s)),{left:c,top:f,right:h,bottom:p}}function La(e,t,n,i){return e?0:Li(t,n,i)}function MH(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,a=YP(i);return{t:La(s.top,a.top,0,n),r:La(s.right,a.right,0,t),b:La(s.bottom,a.bottom,0,n),l:La(s.left,a.left,0,t)}}function IH(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,a=mc(s),l=Math.min(t,n),c=e.borderSkipped,h=i||re(s);return{topLeft:La(!h||c.top||c.left,a.topLeft,0,l),topRight:La(!h||c.top||c.right,a.topRight,0,l),bottomLeft:La(!h||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:La(!h||c.bottom||c.right,a.bottomRight,0,l)}}function OH(e){const t=bM(e),n=t.right-t.left,i=t.bottom-t.top,s=MH(e,n/2,i/2),a=IH(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Nv(e,t,n,i){const s=t===null,a=n===null,c=e&&!(s&&a)&&bM(e,i);return c&&(s||Na(t,c.left,c.right))&&(a||Na(n,c.top,c.bottom))}function NH(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function LH(e,t){e.rect(t.x,t.y,t.w,t.h)}function Lv(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-i,l=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+a,h:e.h+l,radius:e.radius}}class Pp extends Ja{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:l}=OH(this),c=NH(l.radius)?og:LH;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),c(t,Lv(l,n,a)),t.clip(),c(t,Lv(a,-n,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,Lv(a,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Nv(this,t,n,i)}inXRange(t,n){return Nv(this,t,null,n)}inYRange(t,n){return Nv(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(n+s)/2:n,y:a?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Ft(Pp,"id","bar"),Ft(Pp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ft(Pp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function VH(e,t,n){const i=e.segments,s=e.points,a=t.points,l=[];for(const c of i){let{start:h,end:f}=c;f=Pb(h,f,s);const p=V_(n,s[h],s[f],c.loop);if(!t.segments){l.push({source:c,target:p,start:s[h],end:s[f]});continue}const y=rM(t,p);for(const _ of y){const b=V_(n,a[_.start],a[_.end],_.loop),T=sM(c,s,b);for(const S of T)l.push({source:S,target:_,start:{[n]:xR(p,b,"start",Math.max)},end:{[n]:xR(p,b,"end",Math.min)}})}}return l}function V_(e,t,n,i){if(i)return;let s=t[e],a=n[e];return e==="angle"&&(s=Ys(s),a=Ys(a)),{property:e,start:s,end:a}}function BH(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,a=[];return t.segments.forEach(({start:l,end:c})=>{c=Pb(l,c,s);const h=s[l],f=s[c];i!==null?(a.push({x:h.x,y:i}),a.push({x:f.x,y:i})):n!==null&&(a.push({x:n,y:h.y}),a.push({x:n,y:f.y}))}),a}function Pb(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function xR(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function wM(e,t){let n=[],i=!1;return pn(e)?(i=!0,n=e):n=BH(e,t),n.length?new Xs({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function AR(e){return e&&e.fill!==!1}function jH(e,t,n){let s=e[t].fill;const a=[t];let l;if(!n)return s;for(;s!==!1&&a.indexOf(s)===-1;){if(!ni(s))return s;if(l=e[s],!l)return!1;if(l.visible)return s;a.push(s),s=l.fill}return!1}function UH(e,t,n){const i=qH(e);if(re(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return ni(s)&&Math.floor(s)===s?FH(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function FH(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function zH(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:re(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function HH(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:re(e)?i=e.value:i=t.getBaseValue(),i}function qH(e){const t=e.options,n=t.fill;let i=ne(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function WH(e){const{scale:t,index:n,line:i}=e,s=[],a=i.segments,l=i.points,c=$H(t,n);c.push(wM({x:null,y:t.bottom},i));for(let h=0;h<a.length;h++){const f=a[h];for(let p=f.start;p<=f.end;p++)GH(s,l[p],c)}return new Xs({points:s,options:{}})}function $H(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const a=i[s];if(a.index===t)break;a.hidden||n.unshift(a.dataset)}return n}function GH(e,t,n){const i=[];for(let s=0;s<n.length;s++){const a=n[s],{first:l,last:c,point:h}=KH(a,t,"x");if(!(!h||l&&c)){if(l)i.unshift(h);else if(e.push(h),!c)break}}e.push(...i)}function KH(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],a=e.segments,l=e.points;let c=!1,h=!1;for(let f=0;f<a.length;f++){const p=a[f],y=l[p.start][n],_=l[p.end][n];if(Na(s,y,_)){c=s===y,h=s===_;break}}return{first:c,last:h,point:i}}class TM{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:a,radius:l}=this;return n=n||{start:0,end:ws},t.arc(s,a,l,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,a=t.angle;return{x:n+Math.cos(a)*s,y:i+Math.sin(a)*s,angle:a}}}function YH(e){const{chart:t,fill:n,line:i}=e;if(ni(n))return XH(t,n);if(n==="stack")return WH(e);if(n==="shape")return!0;const s=QH(e);return s instanceof TM?s:wM(s,i)}function XH(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function QH(e){return(e.scale||{}).getPointPositionForValue?JH(e):ZH(e)}function ZH(e){const{scale:t={},fill:n}=e,i=zH(n,t);if(ni(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function JH(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,a=i.reverse?t.max:t.min,l=HH(n,t,a),c=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,a);return new TM({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<s;++h)c.push(t.getPointPositionForValue(h,l));return c}function Vv(e,t,n){const i=YH(t),{line:s,scale:a,axis:l}=t,c=s.options,h=c.fill,f=c.backgroundColor,{above:p=f,below:y=f}=h||{};i&&s.points.length&&(Kg(e,n),tq(e,{line:s,target:i,above:p,below:y,area:n,scale:a,axis:l}),Yg(e))}function tq(e,t){const{line:n,target:i,above:s,below:a,area:l,scale:c}=t,h=n._loop?"angle":t.axis;e.save(),h==="x"&&a!==s&&(RR(e,i,l.top),CR(e,{line:n,target:i,color:s,scale:c,property:h}),e.restore(),e.save(),RR(e,i,l.bottom)),CR(e,{line:n,target:i,color:a,scale:c,property:h}),e.restore()}function RR(e,t,n){const{segments:i,points:s}=t;let a=!0,l=!1;e.beginPath();for(const c of i){const{start:h,end:f}=c,p=s[h],y=s[Pb(h,f,s)];a?(e.moveTo(p.x,p.y),a=!1):(e.lineTo(p.x,n),e.lineTo(p.x,p.y)),l=!!t.pathSegment(e,c,{move:l}),l?e.closePath():e.lineTo(y.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function CR(e,t){const{line:n,target:i,property:s,color:a,scale:l}=t,c=VH(n,i,s);for(const{source:h,target:f,start:p,end:y}of c){const{style:{backgroundColor:_=a}={}}=h,b=i!==!0;e.save(),e.fillStyle=_,eq(e,l,b&&V_(s,p,y)),e.beginPath();const T=!!n.pathSegment(e,h);let S;if(b){T?e.closePath():DR(e,i,y,s);const E=!!i.pathSegment(e,f,{move:T,reverse:!0});S=T&&E,S||DR(e,i,p,s)}e.closePath(),e.fill(S?"evenodd":"nonzero"),e.restore()}}function eq(e,t,n){const{top:i,bottom:s}=t.chart.chartArea,{property:a,start:l,end:c}=n||{};a==="x"&&(e.beginPath(),e.rect(l,i,c-l,s-i),e.clip())}function DR(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var nq={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let a,l,c,h;for(l=0;l<i;++l)a=e.getDatasetMeta(l),c=a.dataset,h=null,c&&c.options&&c instanceof Xs&&(h={visible:e.isDatasetVisible(l),index:l,fill:UH(c,l,i),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=h,s.push(h);for(l=0;l<i;++l)h=s[l],!(!h||h.fill===!1)&&(h.fill=jH(s,l,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let l=s.length-1;l>=0;--l){const c=s[l].$filler;c&&(c.line.updateControlPoints(a,c.axis),i&&c.fill&&Vv(e.ctx,c,a))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const a=i[s].$filler;AR(a)&&Vv(e.ctx,a,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!AR(i)||n.drawTime!=="beforeDatasetDraw"||Vv(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const kR=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},iq=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class PR extends Ja{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Ve(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Zn(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=kR(i,a);let f,p;n.font=s.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,c,h)+10):(p=this.maxHeight,f=this._fitCols(l,s,c,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=s+c;let y=t;a.textAlign="left",a.textBaseline="middle";let _=-1,b=-p;return this.legendItems.forEach((T,S)=>{const E=i+n/2+a.measureText(T.text).width;(S===0||f[f.length-1]+E+2*c>l)&&(y+=p,f[f.length-(S>0?0:1)]=0,b+=p,_++),h[S]={left:0,top:b,row:_,width:E,height:s},f[f.length-1]+=E+c}),y}_fitCols(t,n,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-t;let y=c,_=0,b=0,T=0,S=0;return this.legendItems.forEach((E,C)=>{const{itemWidth:V,itemHeight:B}=sq(i,n,a,E,s);C>0&&b+B+2*c>p&&(y+=_+c,f.push({width:_,height:b}),T+=_+c,S++,_=b=0),h[C]={left:T,top:b,col:S,width:V,height:B},_=Math.max(_,V),b+=B+c}),y+=_,f.push({width:_,height:b}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:a}}=this,l=yc(a,this.left,this.width);if(this.isHorizontal()){let c=0,h=Kn(i,this.left+s,this.right-this.lineWidths[c]);for(const f of n)c!==f.row&&(c=f.row,h=Kn(i,this.left+s,this.right-this.lineWidths[c])),f.top+=this.top+t+s,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+s}else{let c=0,h=Kn(i,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const f of n)f.col!==c&&(c=f.col,h=Kn(i,this.top+t+s,this.bottom-this.columnSizes[c].height)),f.top=h,f.left+=this.left+s,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Kg(t,this),this._draw(),Yg(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:a,labels:l}=t,c=on.color,h=yc(t.rtl,this.left,this.width),f=Zn(l.font),{padding:p}=l,y=f.size,_=y/2;let b;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:T,boxHeight:S,itemHeight:E}=kR(l,y),C=function(K,M,D){if(isNaN(T)||T<=0||isNaN(S)||S<0)return;s.save();const P=ne(D.lineWidth,1);if(s.fillStyle=ne(D.fillStyle,c),s.lineCap=ne(D.lineCap,"butt"),s.lineDashOffset=ne(D.lineDashOffset,0),s.lineJoin=ne(D.lineJoin,"miter"),s.lineWidth=P,s.strokeStyle=ne(D.strokeStyle,c),s.setLineDash(ne(D.lineDash,[])),l.usePointStyle){const j={radius:S*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:P},U=h.xPlus(K,T/2),L=M+_;GP(s,j,U,L,l.pointStyleWidth&&T)}else{const j=M+Math.max((y-S)/2,0),U=h.leftForLtr(K,T),L=mc(D.borderRadius);s.beginPath(),Object.values(L).some(N=>N!==0)?og(s,{x:U,y:j,w:T,h:S,radius:L}):s.rect(U,j,T,S),s.fill(),P!==0&&s.stroke()}s.restore()},V=function(K,M,D){qh(s,D.text,K,M+E/2,f,{strikethrough:D.hidden,textAlign:h.textAlign(D.textAlign)})},B=this.isHorizontal(),W=this._computeTitleHeight();B?b={x:Kn(a,this.left+p,this.right-i[0]),y:this.top+p+W,line:0}:b={x:this.left+p,y:Kn(a,this.top+W+p,this.bottom-n[0].height),line:0},eM(this.ctx,t.textDirection);const F=E+p;this.legendItems.forEach((K,M)=>{s.strokeStyle=K.fontColor,s.fillStyle=K.fontColor;const D=s.measureText(K.text).width,P=h.textAlign(K.textAlign||(K.textAlign=l.textAlign)),j=T+_+D;let U=b.x,L=b.y;h.setWidth(this.width),B?M>0&&U+j+p>this.right&&(L=b.y+=F,b.line++,U=b.x=Kn(a,this.left+p,this.right-i[b.line])):M>0&&L+F>this.bottom&&(U=b.x=U+n[b.line].width+p,b.line++,L=b.y=Kn(a,this.top+W+p,this.bottom-n[b.line].height));const N=h.x(U);if(C(N,L,K),U=F5(P,U+T+_,B?U+j:this.right,t.rtl),V(h.x(U),L,K),B)b.x+=j+p;else if(typeof K.text!="string"){const rt=f.lineHeight;b.y+=SM(K,rt)+p}else b.y+=F}),nM(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=Zn(n.font),s=cs(n.padding);if(!n.display)return;const a=yc(t.rtl,this.left,this.width),l=this.ctx,c=n.position,h=i.size/2,f=s.top+h;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+f,y=Kn(t.align,y,this.right-_);else{const T=this.columnSizes.reduce((S,E)=>Math.max(S,E.height),0);p=f+Kn(t.align,this.top,this.bottom-T-t.labels.padding-this._computeTitleHeight())}const b=Kn(c,y,y+_);l.textAlign=a.textAlign(Sb(c)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,qh(l,n.text,b,p,i)}_computeTitleHeight(){const t=this.options.title,n=Zn(t.font),i=cs(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,a;if(Na(t,this.left,this.right)&&Na(n,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],Na(t,s.left,s.left+s.width)&&Na(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!oq(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=iq(s,i);s&&!a&&Ve(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!a&&Ve(n.onHover,[t,i,this],this)}else i&&Ve(n.onClick,[t,i,this],this)}}function sq(e,t,n,i,s){const a=rq(i,e,t,n),l=aq(s,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function rq(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),t+n.size/2+i.measureText(s).width}function aq(e,t,n){let i=e;return typeof t.text!="string"&&(i=SM(t,n)),i}function SM(e,t){const n=e.text?e.text.length:0;return t*n}function oq(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Mb={id:"legend",_element:PR,start(e,t,n){const i=e.legend=new PR({ctx:e.ctx,options:n,chart:e});rs.configure(e,i,n),rs.addBox(e,i)},stop(e){rs.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;rs.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(n?0:void 0),p=cs(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(c||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class EM extends Ja{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=pn(i.text)?i.text.length:1;this._padding=cs(i.padding);const a=s*Zn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:a,options:l}=this,c=l.align;let h=0,f,p,y;return this.isHorizontal()?(p=Kn(c,i,a),y=n+t,f=a-i):(l.position==="left"?(p=i+t,y=Kn(c,s,n),h=Mn*-.5):(p=a-t,y=Kn(c,n,s),h=Mn*.5),f=s-n),{titleX:p,titleY:y,maxWidth:f,rotation:h}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=Zn(n.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:h,rotation:f}=this._drawArgs(a);qh(t,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:f,textAlign:Sb(n.align),textBaseline:"middle",translation:[l,c]})}}function lq(e,t){const n=new EM({ctx:e.ctx,options:t,chart:e});rs.configure(e,n,t),rs.addBox(e,n),e.titleBlock=n}var Ib={id:"title",_element:EM,start(e,t,n){lq(e,n)},stop(e){const t=e.titleBlock;rs.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;rs.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hh={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,a=0;for(t=0,n=e.length;t<n;++t){const c=e[t].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),s+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:s/a}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=e.length;a<l;++a){const h=e[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=P_(t,f);p<s&&(s=p,c=h)}}if(c){const h=c.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function $s(e,t){return t&&(pn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ur(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function cq(e,t){const{element:n,datasetIndex:i,index:s}=t,a=e.getDatasetMeta(i).controller,{label:l,value:c}=a.getLabelAndValue(s);return{chart:e,label:l,parsed:a.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function MR(e,t){const n=e.chart.ctx,{body:i,footer:s,title:a}=e,{boxWidth:l,boxHeight:c}=t,h=Zn(t.bodyFont),f=Zn(t.titleFont),p=Zn(t.footerFont),y=a.length,_=s.length,b=i.length,T=cs(t.padding);let S=T.height,E=0,C=i.reduce((W,F)=>W+F.before.length+F.lines.length+F.after.length,0);if(C+=e.beforeBody.length+e.afterBody.length,y&&(S+=y*f.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),C){const W=t.displayColors?Math.max(c,h.lineHeight):h.lineHeight;S+=b*W+(C-b)*h.lineHeight+(C-1)*t.bodySpacing}_&&(S+=t.footerMarginTop+_*p.lineHeight+(_-1)*t.footerSpacing);let V=0;const B=function(W){E=Math.max(E,n.measureText(W).width+V)};return n.save(),n.font=f.string,Ae(e.title,B),n.font=h.string,Ae(e.beforeBody.concat(e.afterBody),B),V=t.displayColors?l+2+t.boxPadding:0,Ae(i,W=>{Ae(W.before,B),Ae(W.lines,B),Ae(W.after,B)}),V=0,n.font=p.string,Ae(e.footer,B),n.restore(),E+=T.width,{width:E,height:S}}function uq(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function hq(e,t,n,i){const{x:s,width:a}=i,l=n.caretSize+n.caretPadding;if(e==="left"&&s+a+l>t.width||e==="right"&&s-a-l<0)return!0}function fq(e,t,n,i){const{x:s,width:a}=n,{width:l,chartArea:{left:c,right:h}}=e;let f="center";return i==="center"?f=s<=(c+h)/2?"left":"right":s<=a/2?f="left":s>=l-a/2&&(f="right"),hq(f,e,t,n)&&(f="center"),f}function IR(e,t,n){const i=n.yAlign||t.yAlign||uq(e,n);return{xAlign:n.xAlign||t.xAlign||fq(e,t,n,i),yAlign:i}}function dq(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function pq(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function OR(e,t,n,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=e,{xAlign:c,yAlign:h}=n,f=s+a,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:b}=mc(l);let T=dq(t,c);const S=pq(t,h,f);return h==="center"?c==="left"?T+=f:c==="right"&&(T-=f):c==="left"?T-=Math.max(p,_)+s:c==="right"&&(T+=Math.max(y,b)+s),{x:Li(T,0,i.width-t.width),y:Li(S,0,i.height-t.height)}}function lp(e,t,n){const i=cs(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function NR(e){return $s([],Ur(e))}function gq(e,t,n){return hl(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function LR(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const xM={beforeTitle:Br,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Br,beforeBody:Br,beforeLabel:Br,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Te(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Br,afterBody:Br,beforeFooter:Br,footer:Br,afterFooter:Br};function vi(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?xM[t].call(n,i):s}class B_ extends Ja{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,a=new aM(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=gq(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=vi(i,"beforeTitle",this,t),a=vi(i,"title",this,t),l=vi(i,"afterTitle",this,t);let c=[];return c=$s(c,Ur(s)),c=$s(c,Ur(a)),c=$s(c,Ur(l)),c}getBeforeBody(t,n){return NR(vi(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return Ae(t,a=>{const l={before:[],lines:[],after:[]},c=LR(i,a);$s(l.before,Ur(vi(c,"beforeLabel",this,a))),$s(l.lines,vi(c,"label",this,a)),$s(l.after,Ur(vi(c,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(t,n){return NR(vi(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=vi(i,"beforeFooter",this,t),a=vi(i,"footer",this,t),l=vi(i,"afterFooter",this,t);let c=[];return c=$s(c,Ur(s)),c=$s(c,Ur(a)),c=$s(c,Ur(l)),c}_createItems(t){const n=this._active,i=this.chart.data,s=[],a=[],l=[];let c=[],h,f;for(h=0,f=n.length;h<f;++h)c.push(cq(this.chart,n[h]));return t.filter&&(c=c.filter((p,y,_)=>t.filter(p,y,_,i))),t.itemSort&&(c=c.sort((p,y)=>t.itemSort(p,y,i))),Ae(c,p=>{const y=LR(t.callbacks,p);s.push(vi(y,"labelColor",this,p)),a.push(vi(y,"labelPointStyle",this,p)),l.push(vi(y,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=hh[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=MR(this,i),f=Object.assign({},c,h),p=IR(this.chart,i,f),y=OR(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const a=this.getCaretPosition(t,i,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:y}=mc(c),{x:_,y:b}=t,{width:T,height:S}=n;let E,C,V,B,W,F;return a==="center"?(W=b+S/2,s==="left"?(E=_,C=E-l,B=W+l,F=W-l):(E=_+T,C=E+l,B=W-l,F=W+l),V=E):(s==="left"?C=_+Math.max(h,p)+l:s==="right"?C=_+T-Math.max(f,y)-l:C=this.caretX,a==="top"?(B=b,W=B-l,E=C-l,V=C+l):(B=b+S,W=B+l,E=C+l,V=C-l),F=B),{x1:E,x2:C,x3:V,y1:B,y2:W,y3:F}}drawTitle(t,n,i){const s=this.title,a=s.length;let l,c,h;if(a){const f=yc(i.rtl,this.x,this.width);for(t.x=lp(this,i.titleAlign,i),n.textAlign=f.textAlign(i.titleAlign),n.textBaseline="middle",l=Zn(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<a;++h)n.fillText(s[h],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,h+1===a&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,n,i,s,a){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=a,p=Zn(a.bodyFont),y=lp(this,"left",a),_=s.x(y),b=h<p.lineHeight?(p.lineHeight-h)/2:0,T=n.y+b;if(a.usePointStyle){const S={radius:Math.min(f,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},E=s.leftForLtr(_,f)+f/2,C=T+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,I_(t,S,E,C),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,I_(t,S,E,C)}else{t.lineWidth=re(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const S=s.leftForLtr(_,f),E=s.leftForLtr(s.xPlus(_,1),f-2),C=mc(l.borderRadius);Object.values(C).some(V=>V!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,og(t,{x:S,y:T,w:f,h,radius:C}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),og(t,{x:E,y:T+1,w:f-2,h:h-2,radius:C}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(S,T,f,h),t.strokeRect(S,T,f,h),t.fillStyle=l.backgroundColor,t.fillRect(E,T+1,f-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:f,boxPadding:p}=i,y=Zn(i.bodyFont);let _=y.lineHeight,b=0;const T=yc(i.rtl,this.x,this.width),S=function(D){n.fillText(D,T.x(t.x+b),t.y+_/2),t.y+=_+a},E=T.textAlign(l);let C,V,B,W,F,K,M;for(n.textAlign=l,n.textBaseline="middle",n.font=y.string,t.x=lp(this,E,i),n.fillStyle=i.bodyColor,Ae(this.beforeBody,S),b=c&&E!=="right"?l==="center"?f/2+p:f+2+p:0,W=0,K=s.length;W<K;++W){for(C=s[W],V=this.labelTextColors[W],n.fillStyle=V,Ae(C.before,S),B=C.lines,c&&B.length&&(this._drawColorBox(n,t,W,T,i),_=Math.max(y.lineHeight,h)),F=0,M=B.length;F<M;++F)S(B[F]),_=y.lineHeight;Ae(C.after,S)}b=0,_=y.lineHeight,Ae(this.afterBody,S),t.y-=a}drawFooter(t,n,i){const s=this.footer,a=s.length;let l,c;if(a){const h=yc(i.rtl,this.x,this.width);for(t.x=lp(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=Zn(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,c=0;c<a;++c)n.fillText(s[c],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:a,yAlign:l}=this,{x:c,y:h}=t,{width:f,height:p}=i,{topLeft:y,topRight:_,bottomLeft:b,bottomRight:T}=mc(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+y,h),l==="top"&&this.drawCaret(t,n,i,s),n.lineTo(c+f-_,h),n.quadraticCurveTo(c+f,h,c+f,h+_),l==="center"&&a==="right"&&this.drawCaret(t,n,i,s),n.lineTo(c+f,h+p-T),n.quadraticCurveTo(c+f,h+p,c+f-T,h+p),l==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(c+b,h+p),n.quadraticCurveTo(c,h+p,c,h+p-b),l==="center"&&a==="left"&&this.drawCaret(t,n,i,s),n.lineTo(c,h+y),n.quadraticCurveTo(c,h,c+y,h),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=hh[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=MR(this,t),h=Object.assign({},l,this._size),f=IR(n,t,h),p=OR(t,h,f,n);(s._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=cs(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,s,n),eM(t,n.textDirection),a.y+=l.top,this.drawTitle(a,t,n),this.drawBody(a,t,n),this.drawFooter(a,t,n),nM(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:c,index:h})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[h],index:h}}),a=!sg(i,s),l=this._positionChanged(s,n);(a||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(t,a,n,i),c=this._positionChanged(l,t),h=n||!sg(l,a)||c;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),h}_getActiveElements(t,n,i,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:i,caretY:s,options:a}=this,l=hh[a.position].call(this,t,n);return l!==!1&&(i!==l.x||s!==l.y)}}Ft(B_,"positioners",hh);var Ob={id:"tooltip",_element:B_,positioners:hh,afterInit(e,t,n){n&&(e.tooltip=new B_({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xM},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const mq=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function yq(e,t,n,i){const s=e.indexOf(t);if(s===-1)return mq(e,t,n,i);const a=e.lastIndexOf(t);return s!==a?n:s}const vq=(e,t)=>e===null?null:Li(Math.round(e),0,t);function VR(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class $h extends $c{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:a}of n)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Te(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:yq(i,t,ne(n,t),this._addedLabels),vq(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=t===0&&n===a.length-1?a:a.slice(t,n+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=n;l++)s.push({value:l});return s}getLabelForValue(t){return VR.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Ft($h,"id","category"),Ft($h,"defaults",{ticks:{callback:VR}});function _q(e,t){const n=[],{bounds:s,step:a,min:l,max:c,precision:h,count:f,maxTicks:p,maxDigits:y,includeBounds:_}=e,b=a||1,T=p-1,{min:S,max:E}=t,C=!Te(l),V=!Te(c),B=!Te(f),W=(E-S)/(y+1);let F=OA((E-S)/T/b)*b,K,M,D,P;if(F<1e-14&&!C&&!V)return[{value:S},{value:E}];P=Math.ceil(E/F)-Math.floor(S/F),P>T&&(F=OA(P*F/T/b)*b),Te(h)||(K=Math.pow(10,h),F=Math.ceil(F*K)/K),s==="ticks"?(M=Math.floor(S/F)*F,D=Math.ceil(E/F)*F):(M=S,D=E),C&&V&&a&&P5((c-l)/a,F/1e3)?(P=Math.round(Math.min((c-l)/F,p)),F=(c-l)/P,M=l,D=c):B?(M=C?l:M,D=V?c:D,P=f-1,F=(D-M)/P):(P=(D-M)/F,Th(P,Math.round(P),F/1e3)?P=Math.round(P):P=Math.ceil(P));const j=Math.max(NA(F),NA(M));K=Math.pow(10,Te(h)?j:h),M=Math.round(M*K)/K,D=Math.round(D*K)/K;let U=0;for(C&&(_&&M!==l?(n.push({value:l}),M<l&&U++,Th(Math.round((M+U*F)*K)/K,l,BR(l,W,e))&&U++):M<l&&U++);U<P;++U){const L=Math.round((M+U*F)*K)/K;if(V&&L>c)break;n.push({value:L})}return V&&_&&D!==c?n.length&&Th(n[n.length-1].value,c,BR(c,W,e))?n[n.length-1].value=c:n.push({value:c}):(!V||D===c)&&n.push({value:D}),n}function BR(e,t,{horizontal:n,minRotation:i}){const s=zo(i),a=(n?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+e).length;return Math.min(t/a,l)}class bq extends $c{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Te(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=h=>s=n?s:h,c=h=>a=i?a:h;if(t){const h=er(s),f=er(a);h<0&&f<0?c(0):h>0&&f>0&&l(0)}if(s===a){let h=a===0?1:Math.abs(a*.05);c(a+h),t||l(s-h)}this.min=s,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,l=_q(s,a);return t.bounds==="ticks"&&M5(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return WP(t,this.chart.options.locale,this.options.ticks.format)}}class Gh extends bq{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ni(t)?t:0,this.max=ni(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=zo(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Ft(Gh,"id","linear"),Ft(Gh,"defaults",{ticks:{callback:$P.formatters.numeric}});const Zg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},wi=Object.keys(Zg);function jR(e,t){return e-t}function UR(e,t){if(Te(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:a}=e._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),ni(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(zh(a)||a===!0)?n.startOf(l,"isoWeek",a):n.startOf(l,s)),+l)}function FR(e,t,n,i){const s=wi.length;for(let a=wi.indexOf(e);a<s-1;++a){const l=Zg[wi[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(c*l.size))<=i)return wi[a]}return wi[s-1]}function wq(e,t,n,i,s){for(let a=wi.length-1;a>=wi.indexOf(n);a--){const l=wi[a];if(Zg[l].common&&e._adapter.diff(s,i,l)>=t-1)return l}return wi[n?wi.indexOf(n):0]}function Tq(e){for(let t=wi.indexOf(e)+1,n=wi.length;t<n;++t)if(Zg[wi[t]].common)return wi[t]}function zR(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=Tb(n,t),a=n[i]>=t?n[i]:n[s];e[a]=!0}}function Sq(e,t,n,i){const s=e._adapter,a=+s.startOf(t[0].value,i),l=t[t.length-1].value;let c,h;for(c=a;c<=l;c=+s.add(c,1,i))h=n[c],h>=0&&(t[h].major=!0);return t}function HR(e,t,n){const i=[],s={},a=t.length;let l,c;for(l=0;l<a;++l)c=t[l],s[c]=l,i.push({value:c,major:!1});return a===0||!n?i:Sq(e,i,s,n)}class ug extends $c{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new d9._date(t.adapters.date);s.init(n),wh(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:UR(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!c&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!c)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=ni(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),a=ni(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,c=B5(s,a,l);return this._unit=n.unit||(i.autoSkip?FR(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):wq(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Tq(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),HR(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=Li(n,0,l),i=Li(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||FR(a.minUnit,n,i,this._getLabelCapacity(n)),c=ne(s.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=zh(h)||h===!0,p={};let y=n,_,b;if(f&&(y=+t.startOf(y,"isoWeek",h)),y=+t.startOf(y,f?"day":l),t.diff(i,n,l)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+l);const T=s.ticks.source==="data"&&this.getDataTimestamps();for(_=y,b=0;_<i;_=+t.add(_,c,l),b++)zR(p,_,T);return(_===i||s.bounds==="ticks"||b===1)&&zR(p,_,T),Object.keys(p).sort(jR).map(S=>+S)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,a=this._unit,l=n||s[a];return this._adapter.format(t,l)}_tickFormatFunction(t,n,i,s){const a=this.options,l=a.ticks.callback;if(l)return Ve(l,[t,n,i],this);const c=a.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&c[h],y=f&&c[f],_=i[n],b=f&&y&&_&&_.major;return this._adapter.format(t,s||(b?y:p))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=zo(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*a+c*l,h:i*l+c*a}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,a=this._tickFormatFunction(t,0,HR(this,[t],this._majorUnit),s),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(UR(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return zP(t.sort(jR))}}Ft(ug,"id","time"),Ft(ug,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function cp(e,t,n){let i=0,s=e.length-1,a,l,c,h;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=Ho(e,"pos",t)),{pos:a,time:c}=e[i],{pos:l,time:h}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=Ho(e,"time",t)),{time:a,pos:c}=e[i],{time:l,pos:h}=e[s]);const f=l-a;return f?c+(h-c)*(t-a)/f:c}class qR extends ug{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=cp(n,this.min),this._tableRange=cp(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],a=[];let l,c,h,f,p;for(l=0,c=t.length;l<c;++l)f=t[l],f>=n&&f<=i&&s.push(f);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)p=s[l+1],h=s[l-1],f=s[l],Math.round((p+h)/2)!==f&&a.push({time:f,pos:l/(c-1)});return a}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(cp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return cp(this._table,i*this._tableRange+this._minPos,!0)}}Ft(qR,"id","timeseries"),Ft(qR,"defaults",ug.defaults);const AM="label";function WR(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Eq(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function RM(e,t){e.labels=t}function CM(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:AM;const i=[];e.datasets=t.map(s=>{const a=e.datasets.find(l=>l[n]===s[n]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function xq(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:AM;const n={labels:[],datasets:[]};return RM(n,e.labels),CM(n,e.datasets,t),n}function Aq(e,t){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:l,data:c,options:h,plugins:f=[],fallbackContent:p,updateMode:y,..._}=e,b=I.useRef(null),T=I.useRef(null),S=()=>{b.current&&(T.current=new Gc(b.current,{type:l,data:xq(c,a),options:h&&{...h},plugins:f}),WR(t,T.current))},E=()=>{WR(t,null),T.current&&(T.current.destroy(),T.current=null)};return I.useEffect(()=>{!s&&T.current&&h&&Eq(T.current,h)},[s,h]),I.useEffect(()=>{!s&&T.current&&RM(T.current.config.data,c.labels)},[s,c.labels]),I.useEffect(()=>{!s&&T.current&&c.datasets&&CM(T.current.config.data,c.datasets,a)},[s,c.datasets]),I.useEffect(()=>{T.current&&(s?(E(),setTimeout(S)):T.current.update(y))},[s,h,c.labels,c.datasets,y]),I.useEffect(()=>{T.current&&(E(),setTimeout(S))},[l]),I.useEffect(()=>(S(),()=>E()),[]),Ie.createElement("canvas",{ref:b,role:"img",height:n,width:i,..._},p)}const Rq=I.forwardRef(Aq);function DM(e,t){return Gc.register(t),I.forwardRef((n,i)=>Ie.createElement(Rq,{...n,ref:i,type:e}))}const Nb=DM("line",Cp),Cq=DM("bar",Rp);Gc.register($h,Gh,_c,Xs,Ib,Ob,Mb);const Dq=()=>{var b;const e=Cs(),[t,n]=I.useState(null),[i,s]=I.useState({totalWorkouts:0,totalVolume:0,totalWeightLogs:0,weightChange:null,lastWorkout:{date:null,name:null},currentWeight:null,recentWorkouts:[],recentWeights:[]}),[a,l]=I.useState([]);I.useEffect(()=>{const T=ci.onAuthStateChanged(S=>{S&&(n(S),c(S.uid))});return()=>T()},[]);const c=async T=>{try{const S=Ss(Es,"users",T),E=await hr(S);if(!E.exists()){console.error("User document does not exist");return}const C=E.data(),V=C.workouts||[],B=C.weightLogs||[],W=[...V].sort((U,L)=>{const N=h(U.date);return h(L.date)-N}),F=[...B].sort((U,L)=>{const N=h(U.date);return h(L.date)-N});let K=155;F.length>0&&(K=F[0].weight);let M=0;W.forEach(U=>{U.exercises&&Array.isArray(U.exercises)&&U.exercises.forEach(L=>{L.sets&&Array.isArray(L.sets)&&L.sets.forEach(N=>{const rt=parseInt(N.reps)||0;let dt;N.weight==="bodyweight"||N.weight==="🏋️‍♀️ bodyweight"?dt=Math.round(K*.25):dt=parseInt(N.weight)||0,M+=rt*dt})})});const D=U=>{if(!U||U.length<2)return null;const L=new Date,N=new Date(L);N.setDate(L.getDate()-L.getDay()),N.setHours(0,0,0,0);const rt=U.filter(dt=>h(dt.date)>=N);if(rt.length>=2){const dt=rt[rt.length-1].weight;return rt[0].weight-dt}if(U.length>=2){const dt=U[0].weight,$=U[1].weight;return dt-$}return null},P=[...F].reverse().slice(-10).map(U=>({date:f(U.date),weight:U.weight}));l(P);const j=D(F);s({totalWorkouts:V.length,totalVolume:M,totalWeightLogs:B.length,weightChange:j,lastWorkout:W.length>0?{date:p(W[0].date),name:W[0].name||"Unnamed Workout"}:{date:null,name:null},currentWeight:F.length>0?F[0].weight:null,recentWorkouts:W.slice(0,4),recentWeights:F.slice(0,3)})}catch(S){console.error("Error fetching dashboard data:",S)}},h=T=>{if(typeof T=="object"&&T.seconds)return new Date(T.seconds*1e3);if(typeof T=="string"&&T.match(/^\d{4}-\d{2}-\d{2}$/)){const[S,E,C]=T.split("-").map(Number);return new Date(S,E-1,C)}return new Date(T)},f=T=>h(T).toLocaleDateString("en-US",{month:"short",day:"numeric"}),p=T=>`${h(T).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`,y={labels:a.map(T=>T.date),datasets:[{label:"Weight (lbs)",data:a.map(T=>T.weight),borderColor:"#FF5722",backgroundColor:"rgba(255, 87, 34, 0.1)",tension:.3,fill:!0}]},_={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#333",bodyColor:"#666",borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,padding:8,displayColors:!1,callbacks:{label:function(T){return`${T.parsed.y} lbs`}}}},scales:{y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:10}}},x:{grid:{display:!1},ticks:{font:{size:10}}}}};return R.jsxs("div",{className:"dashboard-container",children:[R.jsxs("div",{className:"dashboard-header",children:[R.jsxs("div",{className:"dashboard-title",children:[R.jsx("div",{className:"dashboard-logo",children:"NR"}),R.jsx("h1",{children:"Next Rep"})]}),R.jsxs("div",{className:"welcome-text",children:["Welcome Back, ",((b=t==null?void 0:t.displayName)==null?void 0:b.split(" ")[0])||"Parker"]}),R.jsxs("div",{className:"quick-actions",children:[R.jsx("button",{onClick:()=>e("/log-workout"),className:"action-btn",children:"Log Workout"}),R.jsx("button",{onClick:()=>e("/log-weight"),className:"action-btn",children:"Log Weight"}),R.jsx("button",{onClick:()=>e("/progress-tracker"),className:"action-btn",children:"Progress"})]})]}),R.jsxs("div",{className:"dashboard-stats",children:[R.jsxs("div",{className:"stat-card",children:[R.jsx("div",{className:"stat-title",children:"Total Workouts"}),R.jsx("div",{className:"stat-value",children:i.totalWorkouts})]}),R.jsxs("div",{className:"stat-card",children:[R.jsx("div",{className:"stat-title",children:"Total Volume"}),R.jsxs("div",{className:"stat-value",children:[Math.floor(i.totalVolume).toLocaleString(),R.jsx("span",{className:"stat-unit",children:"lbs"})]})]}),R.jsxs("div",{className:"stat-card",children:[R.jsx("div",{className:"stat-title",children:"Total Weight Logs"}),R.jsx("div",{className:"stat-value",children:i.totalWeightLogs})]}),R.jsxs("div",{className:"stat-card",children:[R.jsxs("div",{className:"stat-title",children:["Weekly Weight Trend",R.jsx("span",{className:"info-tooltip",title:"Calculated from your first and most recent weight logs of the current week. If you have fewer than 2 logs this week, it shows the change between your last two entries.",children:"ⓘ"})]}),R.jsx("div",{className:"stat-value weight-trend",children:i.weightChange!==null?R.jsxs("span",{className:i.weightChange>0?"positive":"negative",children:[i.weightChange>0?"+":"",i.weightChange,R.jsx("span",{className:"stat-unit",children:"lbs"})]}):"No data"})]}),R.jsxs("div",{className:"stat-card",children:[R.jsx("div",{className:"stat-title",children:"Last Workout"}),R.jsx("div",{className:"stat-value last-workout",children:i.lastWorkout.date?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"workout-date",children:i.lastWorkout.date}),R.jsxs("div",{className:"workout-name",children:['"',i.lastWorkout.name,'"']})]}):"No workouts"})]})]}),R.jsxs("div",{className:"dashboard-sections",children:[R.jsxs("div",{className:"dashboard-section",children:[R.jsx("div",{className:"section-header",children:R.jsx("h2",{children:"Strength Training"})}),R.jsxs("div",{className:"section-content",children:[R.jsxs("div",{className:"section-buttons",children:[R.jsx("button",{onClick:()=>e("/log-workout"),className:"section-btn",children:"Log Workout"}),R.jsx("button",{onClick:()=>e("/workout-history"),className:"section-btn",children:"Workout History"}),R.jsx("button",{onClick:()=>e("/strength-progress"),className:"section-btn",children:"Strength Progress"})]}),R.jsxs("div",{className:"section-list",children:[R.jsx("h3",{children:"Recent Workouts"}),i.recentWorkouts.length>0?R.jsx("div",{className:"workout-list",children:i.recentWorkouts.map((T,S)=>R.jsxs("div",{className:"workout-item clickable",onClick:()=>e("/workout-history",{state:{selectedWorkout:{...T,id:S.toString()}}}),children:[R.jsx("div",{className:"workout-date",children:p(T.date)}),R.jsxs("div",{className:"workout-name",children:['"',T.name||`Push Day ${S+3}`,'"']})]},S))}):R.jsx("div",{className:"empty-list",children:"No recent workouts"})]})]})]}),R.jsxs("div",{className:"dashboard-section",children:[R.jsx("div",{className:"section-header",children:R.jsx("h2",{children:"Body Weight"})}),R.jsxs("div",{className:"section-content",children:[R.jsxs("div",{className:"section-buttons",children:[R.jsx("button",{onClick:()=>e("/log-weight"),className:"section-btn",children:"Log Weight"}),R.jsx("button",{onClick:()=>e("/weight-history"),className:"section-btn",children:"Weight History"}),R.jsx("button",{onClick:()=>e("/weight-progress"),className:"section-btn",children:"Weight Progress"})]}),R.jsxs("div",{className:"weight-chart-container",children:[R.jsx("h3",{children:"Weight Over Time"}),a.length>1?R.jsx("div",{className:"weight-chart",children:R.jsx(Nb,{data:y,options:_,height:180})}):R.jsx("div",{className:"empty-chart",children:"Not enough data to display chart"})]}),R.jsxs("div",{className:"current-weight",children:[R.jsx("h3",{children:"Current Weight"}),R.jsx("div",{className:"current-weight-value",children:i.currentWeight?R.jsxs(R.Fragment,{children:[i.currentWeight,R.jsx("span",{className:"stat-unit",children:"lbs"})]}):"No data"})]})]})]})]})]})},kq=["Barbell Squat","Front Squat","Back Squat","Overhead Squat","Zercher Squat","Box Squat","Barbell Deadlift","Romanian Deadlift","Stiff-Leg Deadlift","Sumo Deadlift","Deficit Deadlift","Rack Pull","Barbell Bench Press","Incline Barbell Bench Press","Decline Barbell Bench Press","Close-Grip Bench Press","Barbell Row","Pendlay Row","Yates Row","Barbell Overhead Press","Push Press","Behind the Neck Press","Barbell Curl","Reverse Curl","Drag Curl","Barbell Skull Crushers","Good Morning","Barbell Hip Thrust","Barbell Rollout","Dumbbell Bench Press","Incline Dumbbell Press","Dumbbell Flyes","Dumbbell Pullover","Dumbbell Row","Renegade Row","Dumbbell Shoulder Press","Arnold Press","Dumbbell Lateral Raise","Front Raise","Reverse Fly","Dumbbell Shrugs","Dumbbell Curl","Hammer Curl","Zottman Curl","Concentration Curl","Incline Curl","Dumbbell Kickback","Overhead Triceps Extension","Dumbbell Squat","Goblet Squat","Dumbbell Lunge","Step-Up with Dumbbells","Dumbbell Romanian Deadlift","Suitcase Carry","Leg Press","Hack Squat","Smith Machine Squat","Smith Machine Press","Chest Press Machine","Shoulder Press Machine","Lateral Raise Machine","Seated Row Machine","Lat Pulldown","Cable Row","Leg Curl Machine","Leg Extension Machine","Calf Raise Machine","Preacher Curl Machine","Triceps Pushdown Machine","Pec Deck Machine","Assisted Pull-Up","Assisted Dip","Cable Crossover","Cable Lateral Raise","Cable Bicep Curl","Cable Hammer Curl","Cable Triceps Pushdown","Overhead Cable Triceps Extension","Cable Kickback","Cable Crunch","Straight-Arm Pulldown","Cable Upright Row","Cable Pull-Through","Face Pull","Air Squat (Bodyweight)","Jump Squat (Bodyweight)","Walking Lunge (Bodyweight)","Wall Sit (Bodyweight)","Glute Bridge (Bodyweight)","Hip Thrust (Bodyweight)","Leg Raise (Bodyweight)","Plank","Side Plank","V-Up (Bodyweight)","Mountain Climber (Bodyweight)","Burpee (Bodyweight)","Box Jump","Step-Up (Bodyweight)","Lunge Jump (Bodyweight)","Donkey Kick (Bodyweight)","Bear Crawl (Bodyweight)","Kettlebell Swing","Kettlebell Snatch","Kettlebell Clean","Kettlebell Goblet Squat","Kettlebell Press","Medicine Ball Slam","Sled Push","Battle Ropes","Tire Flip","Farmer's Walk","Sledgehammer Swings","Sandbag Clean","Jump Rope","Weighted Carry","Weighted Sit-Up","Weighted Pull-Up","Ab Wheel Rollout","Russian Twist","Cable Woodchopper","Landmine Press","Landmine Row","Barbell Split Squat","Barbell Step-Up","Barbell Walking Lunge","Barbell Calf Raise","Barbell Thruster","Barbell Hack Squat","Barbell Clean","Barbell Jerk","Barbell Snatch Pull","Barbell High Pull","Barbell Floor Press","Barbell Incline Row","Dumbbell Step-Up","Dumbbell Thruster","Dumbbell High Pull","Dumbbell Deadlift","Dumbbell Snatch","Dumbbell Clean and Press","Dumbbell Sumo Squat","Dumbbell Side Lunge","Dumbbell Floor Press","Dumbbell Chest Supported Row","Dumbbell Reverse Curl","Dumbbell Upright Row","Standing Calf Machine Raise","Lying Calf Machine Raise","Glute Kickback Machine","Standing Leg Curl Machine","Incline Chest Press Machine","Assisted Inverted Row Machine","Rotary Torso Machine","Hip Abduction Machine","Hip Adduction Machine","Cable Reverse Fly","Cable Chest Press","Cable Squat to Row","Cable Front Raise","Cable Shrug","Cable Romanian Deadlift","Cable Side Lunge","Cable Step-Up","Cable Hip Abduction","Cable Hip Adduction","Cable Concentration Curl","Cable Reverse Curl","Cable Drag Curl","Wall Walk","Spiderman Plank","Tuck Jump","Side Plank with Leg Raise","Heel Touch","Toe Tap Crunch","Kettlebell Turkish Get-Up","Kettlebell Windmill","Kettlebell Overhead Squat","Kettlebell Bottoms-Up Press","Kettlebell Suitcase Deadlift","Kettlebell Curtsy Lunge","Kettlebell Halo","Kettlebell Row","Kettlebell Lunge Press","Kettlebell Russian Twist","Sandbag Squat","Sandbag Deadlift","Sandbag Clean and Press","Sandbag Front Carry","Tire Jump","Log Press","Yoke Carry","Atlas Stone Lift","Stone Shoulder","Weighted Russian Twist","Cable Oblique Twist","Medicine Ball V-Up","Decline Russian Twist","Hanging Oblique Raise","Weighted Side Plank","Sit-Up to Stand-Up","Jackknife Sit-Up","Skater Jump","Depth Jump","Lateral Bound","Tuck Jump to Squat","Box Squat Jump","Broad Jump","Kneeling Jump","Burpee to Pull-Up","Wall Ball Shot","Medicine Ball Chest Pass","Medicine Ball Rotational Slam","Overhead Carry","Zercher Carry","Front Rack Carry","Crossbody Carry","Waiter Carry","Sandbag Carry","Trap Bar Carry","Trap Bar Deadlift","Trap Bar Shrug","Trap Bar Romanian Deadlift","Bulgarian Split Squat","Isometric Lunge Hold","Paused Back Squat","Tempo Front Squat","Cluster Deadlift","Band-Resisted Deadlift","Banded Squat","Tempo Bench Press","Spoto Press","Paused Overhead Press","Wall Ball Squat","Landmine Squat","Single-Arm Landmine Press","Banded Pull-Up","Paused Pull-Up","Weighted Dip","Eccentric Dip","Eccentric Chin-Up","Glute March","Stability Ball Hamstring Curl","Slider Hamstring Curl","Resistance Band Leg Curl","Mini-Band Side Step","Mini-Band Kickback","Resistance Band Chest Press","Resistance Band Shoulder Press","Resistance Band Row","Resistance Band Upright Row","Resistance Band Deadlift","Resistance Band Good Morning","Resistance Band Bicep Curl","Resistance Band Tricep Extension","Resistance Band Lateral Raise","Resistance Band Squat","Resistance Band Glute Bridge","Stability Ball Russian Twist","Stability Ball Pike","Stability Ball Plank","Stability Ball Rollout","Sphinx Push-Up","Box Pike Press","Feet-Elevated Glute Bridge","Wall-Facing Handstand Hold","Wall-Facing Shoulder Tap","Inverted Wall Walk","Wall Climb","Wall Plank","Wall Pike Press","Lizard Crawl","Dead Hang","Wall Ball Clean","Wall Ball Push Press","Wall Ball Sit-Up","Wall Ball Overhead Throw","Tire Drag","Sled Drag","Sled Row","Sled Chest Press","Sled Sprint","Backward Sled Drag","Reverse Sled Row","Overhead Sled Drag","Low Handle Sled Push","High Handle Sled Push","Reverse Band Squat","Chain Bench Press","Chain Deadlift","Chain Overhead Press","Chain Row","Bamboo Bar Bench Press","Slosh Pipe Overhead Carry","Slosh Pipe Squat","Slosh Pipe Lunge","Slosh Pipe Overhead Press","Hammer Curl to Press","Burpee Over Bar","Thruster with Slam Ball","Barbell Complex (Clean, Press, Squat)","Dumbbell Complex (Snatch, Lunge, Press)","Kettlebell Complex (Swing, Clean, Squat)","Tabata Squat","Tabata Push-Up","Tabata Jump Lunge","Tabata Mountain Climber","EMOM Deadlift","EMOM Pull-Up","AMRAP Push-Up","AMRAP Air Squat","Pyramid Pull-Up","Ladder Push-Up","Partner Wall Ball","Partner Med Ball Chest Pass","Partner Resisted Sprint","Partner Sled Push","Partner Squat Throw","Jammer Press","Hammer Strength Row","Hammer Strength Chest Press","Hack Squat Machine","Reverse Hack Squat","Belt Squat","Safety Bar Squat","SSB Good Morning","SSB Squat","Cambered Bar Squat","Cambered Bar Row","Trap Bar Farmer's Walk","Trap Bar Shrug to Deadlift","Fat Bar Deadlift","Fat Bar Curl","Fat Grip Pull-Up","Thick Bar Bench Press","Thick Bar Row","Neutral Grip Pull-Up","Neutral Grip Chin-Up","Cross-Grip Front Squat","Zombie Squat","Cyclist Squat","Poliquin Step-Up","Heel-Elevated Goblet Squat","Heels-Elevated Barbell Back Squat","B-Stance RDL","Kickstand Deadlift","Kickstand Squat","Staggered-Stance Romanian Deadlift","Toes-Elevated RDL","Toes-Elevated Calf Raise","Barbell Incline Press","Dumbbell Incline Press","Cable Fly","Smith Machine Bench Press","Decline Smith Machine Bench Press","Incline Smith Machine Bench Press","Machine Fly","Machine Chest Press","Dumbbell Decline Press","Machine Row","Hammerstrength Row","Meadows Row","T-Bar Row","Single-Arm Dumbbell Row","Kroc Row","Reverse Grip Lat Pulldown","Single-Arm Lat Pulldown","Pulldown With Rope Attachment","Neutral Grip Pulldown","Machine Reverse Fly","Cable Upright Row","Dumbbell One-Arm Side Lateral","Dumbbell Front Deltoid Raise","Cable Side Lateral","Cable Rear Delt Fly","Smith Machine Overhead Press","Machine Overhead Press","Standing EZ Bar Curl","Seated Dumbbell Curl","High Cable Curl","Preacher Curl","Spider Curl","Cable Rope Curl","Alternating Dumbbell Curl","Machine Bicep Curl","Concentration Curls","Lying EZ Bar Tricep Extension","Incline EZ Bar Tricep Extension","Cable Tricep Extension","Cable Rope Tricep Extension","EZ Bar Tricep Pushdown","Triceps Dip Machine","Overhead Dumbbell Tricep Extension","Machine Tricep Extension","Reverse Grip Tricep Pushdown","Leg Extension","Hamstring Curl","Roman Chair","V-Squat Machine","Cable Pull Through","Cable Kickbacks","Smith Machine Romanian Deadlift","Single-Leg Romanian Deadlift","Smith Machine Calf Raises","Leg Press Calf Raises","Seated Calf Raises","Donkey Calf Raises","Single-Leg Calf Raises","Machine Crunch","Hanging Leg Raises","Cable Crunch","Ab Rollout","Decline Sit-up","Machine Rotation","Cable Wood Chop","Side Bends","Smith Machine Shrug","Barbell Shrug","Dumbbell Shrug","Behind-The-Back Barbell Shrug","Cable Shrug","Barbell Wrist Curl","Reverse Barbell Wrist Curl","Dumbbell Wrist Curl","Reverse Dumbbell Wrist Curl","Plate Pinch","Farmers Walk","Clean","Clean and Jerk","Power Clean","Snatch","Power Snatch","Hang Clean","Hang Snatch","Clean Pull","Snatch Pull","Band Pull-Aparts","Band Lateral Raise","Band Front Raise","Band Fly","Band Push-Down","Band Curl","Band Good Morning","Band Straight-Arm Pulldown","Cable External Rotation","Cable Internal Rotation","Cable Y-Raise","Cable Pullover","Low Cable Curl","Low-to-High Cable Fly","High-to-Low Cable Fly","Lat Pulldown Machine","Abductor Machine","Adductor Machine","Glute Drive Machine","Back Extension Machine","Rotary Torso Machine","Neck Flexion Machine","Neck Extension Machine","Hammer Strength Chest Press","Hammer Strength Incline Press","Hammer Strength Decline Press","Hammer Strength Shoulder Press","Hammer Strength Lat Pulldown","Hammer Strength High Row","Hammer Strength Low Row","Push-Up (Bodyweight)","Wide Push-Up (Bodyweight)","Diamond Push-Up (Bodyweight)","Decline Push-Up (Bodyweight)","Incline Push-Up (Bodyweight)","Archer Push-Up (Bodyweight)","Typewriter Push-Up (Bodyweight)","Hindu Push-Up (Bodyweight)","Dive Bomber Push-Up (Bodyweight)","Pseudo Planche Push-Up (Bodyweight)","Clap Push-Up (Bodyweight)","Plyo Push-Up (Bodyweight)","One-Arm Push-Up (Bodyweight)","Wall Push-Up (Bodyweight)","Knee Push-Up (Bodyweight)","Planche Push-Up (Bodyweight)","Ring Push-Up (Bodyweight)","Handstand Push-Up (Bodyweight)","Pike Push-Up (Bodyweight)","Elevated Pike Push-Up (Bodyweight)","Shoulder Tap Push-Up (Bodyweight)","Spiderman Push-Up (Bodyweight)","Staggered Push-Up (Bodyweight)","Pull-Up (Bodyweight)","Chin-Up (Bodyweight)","Wide-Grip Pull-Up (Bodyweight)","Close-Grip Pull-Up (Bodyweight)","Neutral-Grip Pull-Up (Bodyweight)","Archer Pull-Up (Bodyweight)","Commando Pull-Up (Bodyweight)","One-Arm Pull-Up (Bodyweight)","Typewriter Pull-Up (Bodyweight)","Explosive Pull-Up (Bodyweight)","Towel Pull-Up (Bodyweight)","Ring Pull-Up (Bodyweight)","Scapular Pull-Up (Bodyweight)","Negative Pull-Up (Bodyweight)","Jumping Pull-Up (Bodyweight)","Triceps Dips (Bodyweight)","Parallel Bar Dips (Bodyweight)","Korean Dips (Bodyweight)","Straight Bar Dips (Bodyweight)","Ring Dips (Bodyweight)","Chair Dips (Bodyweight)","L-Sit Dips (Bodyweight)","Chest Dips (Bodyweight)","Jump to Dip Negatives (Bodyweight)","Sit-Up (Bodyweight)","Crunch (Bodyweight)","Reverse Crunch (Bodyweight)","Bicycle Crunch (Bodyweight)","Cross-Body Crunch (Bodyweight)","Toe Touch (Bodyweight)","Leg Raise (Bodyweight)","Lying Leg Raise (Bodyweight)","Hanging Knee Raise (Bodyweight)","V-Up (Bodyweight)","Hollow Body Hold (Bodyweight)","Flutter Kicks (Bodyweight)","Scissor Kicks (Bodyweight)","Mountain Climbers (Bodyweight)","Dead Bug (Bodyweight)","Plank to Push-Up (Bodyweight)","Side Plank Dips (Bodyweight)","Russian Twists (Bodyweight)","Seated In-and-Outs (Bodyweight)","Plank Shoulder Taps (Bodyweight)","Bird Dog Crunch (Bodyweight)","Straight-Leg Sit-Up (Bodyweight)","Wiper Kicks (Bodyweight)","Jackknife Sit-Up (Bodyweight)","Air Squat (Bodyweight)","Narrow-Stance Squat (Bodyweight)","Sumo Squat (Bodyweight)","Wall Sit (Bodyweight)","Bulgarian Split Squat (Bodyweight)","Jump Squat (Bodyweight)","Pause Squat (Bodyweight)","Pistol Squat (Bodyweight)","Assisted Pistol Squat (Bodyweight)","Shrimp Squat (Bodyweight)","Step-Up (Bodyweight)","Glute Bridge (Bodyweight)","Marching Glute Bridge (Bodyweight)","Single-Leg Glute Bridge (Bodyweight)","Frog Pump (Bodyweight)","Hip Thrust (Bodyweight)","Donkey Kick (Bodyweight)","Fire Hydrant (Bodyweight)","Side-Lying Leg Raise (Bodyweight)","Curtsy Lunge (Bodyweight)","Walking Lunge (Bodyweight)","Reverse Lunge (Bodyweight)","Forward Lunge (Bodyweight)","Jumping Lunge (Bodyweight)","Wall Lunge (Bodyweight)","Calf Raise (Bodyweight)","Single-Leg Calf Raise (Bodyweight)","Seated Calf Raise (Bodyweight)","Burpee (Bodyweight)","Half Burpee (Bodyweight)","Star Jump (Bodyweight)","High Knees (Bodyweight)","Jumping Jack (Bodyweight)","Skater Jump (Bodyweight)","Tuck Jump (Bodyweight)","Bear Crawl (Bodyweight)","Crab Walk (Bodyweight)","Lateral Lunge (Bodyweight)","Step-Through (Bodyweight)","Frog Jump (Bodyweight)","Squat to Jump (Bodyweight)","Mountain Climber Twist (Bodyweight)","Inchworm (Bodyweight)","Sprawl (Bodyweight)","Lunge to Knee Drive (Bodyweight)","Jumping Switch Lunge (Bodyweight)","Muscle-Up (Bodyweight)","Front Lever Pulls (Bodyweight)","Back Lever Raises (Bodyweight)","Dragon Flag (Bodyweight)","L-Sit to Handstand (Bodyweight)","Human Flag Raises (Bodyweight)","Skin the Cat (Bodyweight)","Wall Walks (Bodyweight)","Planche Leans (Bodyweight)"],$R=e=>{if(!e)return[];const t=e.toLowerCase(),n=t.split(/\s+/).filter(a=>a.length>0);return kq.filter(a=>{const l=a.toLowerCase();return n.every(c=>l.includes(c))}).sort((a,l)=>{const c=a.toLowerCase(),h=l.toLowerCase(),f=GR.some(C=>C.toLowerCase()===c),p=GR.some(C=>C.toLowerCase()===h),y=c.startsWith(t),_=h.startsWith(t);let b=0,T=0;n.forEach(C=>{const V=C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),B=new RegExp(`\\b${V}\\b`,"i");B.test(c)&&b++,B.test(h)&&T++});const S=c.includes(t),E=h.includes(t);return S!==E?S?-1:1:f!==p?f?-1:1:y!==_?y?-1:1:b!==T?b>T?-1:1:a.localeCompare(l)}).slice(0,8)},GR=["Barbell Squat","Barbell Deadlift","Barbell Bench Press","Barbell Overhead Press","Pull-Up","Chin-Up","Push-Up","Dumbbell Bench Press","Dumbbell Shoulder Press","Dumbbell Lateral Raise","Dumbbell Curl","Hammer Curl","Skull Crushers","Triceps Pushdown","Lat Pulldown","Seated Cable Row","Barbell Row","Face Pull","Dumbbell Row","Cable Crossover","Pec Deck Machine","Leg Press","Walking Lunge","Goblet Squat","Dumbbell Romanian Deadlift","Hip Thrust","Glute Bridge","Leg Curl Machine","Leg Extension Machine","Calf Raise","Plank","Russian Twist","Hanging Leg Raise","Weighted Sit-Up","Kettlebell Swing","Box Jump","Battle Ropes","Jump Rope","Step-Up","Bulgarian Split Squat","Cable Crunch","Sled Push","Inverted Row","Dip","Incline Barbell Bench Press","Incline Dumbbell Press","Decline Bench Press","Barbell Curl","Trap Bar Deadlift","Farmer's Walk"],kM=["Push-Up (Bodyweight)","Wide Push-Up (Bodyweight)","Diamond Push-Up (Bodyweight)","Decline Push-Up (Bodyweight)","Incline Push-Up (Bodyweight)","Archer Push-Up (Bodyweight)","Typewriter Push-Up (Bodyweight)","Hindu Push-Up (Bodyweight)","Dive Bomber Push-Up (Bodyweight)","Pseudo Planche Push-Up (Bodyweight)","Clap Push-Up (Bodyweight)","Plyo Push-Up (Bodyweight)","One-Arm Push-Up (Bodyweight)","Wall Push-Up (Bodyweight)","Knee Push-Up (Bodyweight)","Planche Push-Up (Bodyweight)","Ring Push-Up (Bodyweight)","Handstand Push-Up (Bodyweight)","Pike Push-Up (Bodyweight)","Elevated Pike Push-Up (Bodyweight)","Shoulder Tap Push-Up (Bodyweight)","Spiderman Push-Up (Bodyweight)","Staggered Push-Up (Bodyweight)","Pull-Up (Bodyweight)","Chin-Up (Bodyweight)","Wide-Grip Pull-Up (Bodyweight)","Close-Grip Pull-Up (Bodyweight)","Neutral-Grip Pull-Up (Bodyweight)","Archer Pull-Up (Bodyweight)","Commando Pull-Up (Bodyweight)","One-Arm Pull-Up (Bodyweight)","Typewriter Pull-Up (Bodyweight)","Explosive Pull-Up (Bodyweight)","Towel Pull-Up (Bodyweight)","Ring Pull-Up (Bodyweight)","Scapular Pull-Up (Bodyweight)","Negative Pull-Up (Bodyweight)","Jumping Pull-Up (Bodyweight)","Triceps Dips (Bodyweight)","Parallel Bar Dips (Bodyweight)","Korean Dips (Bodyweight)","Straight Bar Dips (Bodyweight)","Ring Dips (Bodyweight)","Chair Dips (Bodyweight)","L-Sit Dips (Bodyweight)","Chest Dips (Bodyweight)","Jump to Dip Negatives (Bodyweight)","Sit-Up (Bodyweight)","Crunch (Bodyweight)","Reverse Crunch (Bodyweight)","Bicycle Crunch (Bodyweight)","Cross-Body Crunch (Bodyweight)","Toe Touch (Bodyweight)","Leg Raise (Bodyweight)","Lying Leg Raise (Bodyweight)","Hanging Knee Raise (Bodyweight)","V-Up (Bodyweight)","Hollow Body Hold (Bodyweight)","Flutter Kicks (Bodyweight)","Scissor Kicks (Bodyweight)","Mountain Climbers (Bodyweight)","Dead Bug (Bodyweight)","Plank to Push-Up (Bodyweight)","Side Plank Dips (Bodyweight)","Russian Twists (Bodyweight)","Seated In-and-Outs (Bodyweight)","Plank Shoulder Taps (Bodyweight)","Bird Dog Crunch (Bodyweight)","Straight-Leg Sit-Up (Bodyweight)","Wiper Kicks (Bodyweight)","Jackknife Sit-Up (Bodyweight)","Air Squat (Bodyweight)","Narrow-Stance Squat (Bodyweight)","Sumo Squat (Bodyweight)","Wall Sit (Bodyweight)","Bulgarian Split Squat (Bodyweight)","Jump Squat (Bodyweight)","Pause Squat (Bodyweight)","Pistol Squat (Bodyweight)","Assisted Pistol Squat (Bodyweight)","Shrimp Squat (Bodyweight)","Step-Up (Bodyweight)","Glute Bridge (Bodyweight)","Marching Glute Bridge (Bodyweight)","Single-Leg Glute Bridge (Bodyweight)","Frog Pump (Bodyweight)","Hip Thrust (Bodyweight)","Donkey Kick (Bodyweight)","Fire Hydrant (Bodyweight)","Side-Lying Leg Raise (Bodyweight)","Curtsy Lunge (Bodyweight)","Walking Lunge (Bodyweight)","Reverse Lunge (Bodyweight)","Forward Lunge (Bodyweight)","Jumping Lunge (Bodyweight)","Wall Lunge (Bodyweight)","Calf Raise (Bodyweight)","Single-Leg Calf Raise (Bodyweight)","Seated Calf Raise (Bodyweight)","Burpee (Bodyweight)","Half Burpee (Bodyweight)","Star Jump (Bodyweight)","High Knees (Bodyweight)","Jumping Jack (Bodyweight)","Skater Jump (Bodyweight)","Tuck Jump (Bodyweight)","Bear Crawl (Bodyweight)","Crab Walk (Bodyweight)","Lateral Lunge (Bodyweight)","Step-Through (Bodyweight)","Frog Jump (Bodyweight)","Squat to Jump (Bodyweight)","Mountain Climber Twist (Bodyweight)","Inchworm (Bodyweight)","Sprawl (Bodyweight)","Lunge to Knee Drive (Bodyweight)","Jumping Switch Lunge (Bodyweight)","Muscle-Up (Bodyweight)","Front Lever Pulls (Bodyweight)","Back Lever Raises (Bodyweight)","Dragon Flag (Bodyweight)","L-Sit to Handstand (Bodyweight)","Human Flag Raises (Bodyweight)","Skin the Cat (Bodyweight)","Wall Walks (Bodyweight)","Planche Leans (Bodyweight)"],Lb=I.createContext({});function Vb(e){const t=I.useRef(null);return t.current===null&&(t.current=e()),t.current}const Bb=typeof window<"u",PM=Bb?I.useLayoutEffect:I.useEffect,Jg=I.createContext(null),jb=I.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Pq extends I.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=i instanceof HTMLElement&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Mq({children:e,isPresent:t,anchorX:n}){const i=I.useId(),s=I.useRef(null),a=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=I.useContext(jb);return I.useInsertionEffect(()=>{const{width:c,height:h,top:f,left:p,right:y}=a.current;if(t||!s.current||!c||!h)return;const _=n==="left"?`left: ${p}`:`right: ${y}`;s.current.dataset.motionPopId=i;const b=document.createElement("style");return l&&(b.nonce=l),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${_}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.removeChild(b)}},[t]),R.jsx(Pq,{isPresent:t,childRef:s,sizeRef:a,children:I.cloneElement(e,{ref:s})})}const Iq=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:l,anchorX:c})=>{const h=Vb(Oq),f=I.useId(),p=I.useCallback(_=>{h.set(_,!0);for(const b of h.values())if(!b)return;i&&i()},[h,i]),y=I.useMemo(()=>({id:f,initial:t,isPresent:n,custom:s,onExitComplete:p,register:_=>(h.set(_,!1),()=>h.delete(_))}),a?[Math.random(),p]:[n,p]);return I.useMemo(()=>{h.forEach((_,b)=>h.set(b,!1))},[n]),I.useEffect(()=>{!n&&!h.size&&i&&i()},[n]),l==="popLayout"&&(e=R.jsx(Mq,{isPresent:n,anchorX:c,children:e})),R.jsx(Jg.Provider,{value:y,children:e})};function Oq(){return new Map}function MM(e=!0){const t=I.useContext(Jg);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,a=I.useId();I.useEffect(()=>{if(e)return s(a)},[e]);const l=I.useCallback(()=>e&&i&&i(a),[a,i,e]);return!n&&i?[!1,l]:[!0]}const up=e=>e.key||"";function KR(e){const t=[];return I.Children.forEach(e,n=>{I.isValidElement(n)&&t.push(n)}),t}const Nq=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:c="left"})=>{const[h,f]=MM(l),p=I.useMemo(()=>KR(e),[e]),y=l&&!h?[]:p.map(up),_=I.useRef(!0),b=I.useRef(p),T=Vb(()=>new Map),[S,E]=I.useState(p),[C,V]=I.useState(p);PM(()=>{_.current=!1,b.current=p;for(let F=0;F<C.length;F++){const K=up(C[F]);y.includes(K)?T.delete(K):T.get(K)!==!0&&T.set(K,!1)}},[C,y.length,y.join("-")]);const B=[];if(p!==S){let F=[...p];for(let K=0;K<C.length;K++){const M=C[K],D=up(M);y.includes(D)||(F.splice(K,0,M),B.push(M))}return a==="wait"&&B.length&&(F=B),V(KR(F)),E(p),null}const{forceRender:W}=I.useContext(Lb);return R.jsx(R.Fragment,{children:C.map(F=>{const K=up(F),M=l&&!h?!1:p===C||y.includes(K),D=()=>{if(T.has(K))T.set(K,!0);else return;let P=!0;T.forEach(j=>{j||(P=!1)}),P&&(W==null||W(),V(b.current),l&&(f==null||f()),i&&i())};return R.jsx(Iq,{isPresent:M,initial:!_.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,onExitComplete:M?void 0:D,anchorX:c,children:F},K)})})};function Ub(e,t){e.indexOf(t)===-1&&e.push(t)}function Fb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let IM=()=>{};const j_={useManualTiming:!1};function zb(e){let t;return()=>(t===void 0&&(t=e()),t)}const os=e=>e,Kh=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class Hb{constructor(){this.subscriptions=[]}add(t){return Ub(this.subscriptions,t),()=>Fb(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nr=e=>e*1e3,ir=e=>e/1e3;function OM(e,t){return t?e*(1e3/t):0}const Lq=zb(()=>window.ScrollTimeline!==void 0);class Vq{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(s=>{if(Lq()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{i.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Bq extends Vq{then(t,n){return this.finished.finally(t).then(()=>{})}}const YR={value:null},qb=e=>Array.isArray(e)&&typeof e[0]=="number",jq={};function Uq(e,t){const n=zb(e);return()=>jq[t]??n()}const Yh=Uq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),NM=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)i+=e(a/(s-1))+", ";return`linear(${i.substring(0,i.length-2)})`},fh=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,U_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fh([0,.65,.55,1]),circOut:fh([.55,0,1,.45]),backIn:fh([.31,.01,.66,-.59]),backOut:fh([.33,1.53,.69,.99])};function LM(e,t){if(e)return typeof e=="function"&&Yh()?NM(e,t):qb(e)?fh(e):Array.isArray(e)?e.map(n=>LM(n,t)||U_.easeOut):U_[e]}function Fq(e,t,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:h}={},f=void 0){const p={[t]:n};h&&(p.offset=h);const y=LM(c,s);return Array.isArray(y)&&(p.easing=y),e.animate(p,{delay:i,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal",pseudoElement:f})}function Wb(e){return typeof e=="function"&&"applyToOptions"in e}function $b(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const hg=2e4;function Gb(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<hg;)t+=n,i=e.next(t);return t>=hg?1/0:t}function zq(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(Gb(i),hg);return{type:"keyframes",ease:a=>i.next(s*a).value/t,duration:ir(s)}}function VM(e){return!!(typeof e=="function"&&Yh()||!e||typeof e=="string"&&(e in U_||Yh())||qb(e)||Array.isArray(e)&&e.every(VM))}function XR(e,t){e.timeline=t,e.onfinish=null}const dh=["read","resolveKeyframes","update","preRender","render","postRender"];function Hq(e,t){let n=new Set,i=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},h=0;function f(y){l.has(y)&&(p.schedule(y),e()),h++,y(c)}const p={schedule:(y,_=!1,b=!1)=>{const S=b&&s?n:i;return _&&l.add(y),S.has(y)||S.add(y),y},cancel:y=>{i.delete(y),l.delete(y)},process:y=>{if(c=y,s){a=!0;return}s=!0,[n,i]=[i,n],n.forEach(f),t&&YR.value&&YR.value.frameloop[t].push(h),h=0,n.clear(),s=!1,a&&(a=!1,p.process(y))}};return p}const qq=40;function BM(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=dh.reduce((C,V)=>(C[V]=Hq(a,t?V:void 0),C),{}),{read:c,resolveKeyframes:h,update:f,preRender:p,render:y,postRender:_}=l,b=()=>{const C=performance.now();n=!1,s.delta=i?1e3/60:Math.max(Math.min(C-s.timestamp,qq),1),s.timestamp=C,s.isProcessing=!0,c.process(s),h.process(s),f.process(s),p.process(s),y.process(s),_.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(b))},T=()=>{n=!0,i=!0,s.isProcessing||e(b)};return{schedule:dh.reduce((C,V)=>{const B=l[V];return C[V]=(W,F=!1,K=!1)=>(n||T(),B.schedule(W,F,K)),C},{}),cancel:C=>{for(let V=0;V<dh.length;V++)l[dh[V]].cancel(C)},state:s,steps:l}}const{schedule:Oe,cancel:Zr,state:Bn,steps:Bv}=BM(typeof requestAnimationFrame<"u"?requestAnimationFrame:os,!0),{schedule:Kb}=BM(queueMicrotask,!1);let Mp;function Wq(){Mp=void 0}const sr={now:()=>(Mp===void 0&&sr.set(Bn.isProcessing||j_.useManualTiming?Bn.timestamp:performance.now()),Mp),set:e=>{Mp=e,queueMicrotask(Wq)}},ms={x:!1,y:!1};function jM(){return ms.x||ms.y}function $q(e){return e==="x"||e==="y"?ms[e]?null:(ms[e]=!0,()=>{ms[e]=!1}):ms.x||ms.y?null:(ms.x=ms.y=!0,()=>{ms.x=ms.y=!1})}function Gq(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function UM(e,t){const n=Gq(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function QR(e){return!(e.pointerType==="touch"||jM())}function Kq(e,t,n={}){const[i,s,a]=UM(e,n),l=c=>{if(!QR(c))return;const{target:h}=c,f=t(h,c);if(typeof f!="function"||!h)return;const p=y=>{QR(y)&&(f(y),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,s)};return i.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const FM=(e,t)=>t?e===t?!0:FM(e,t.parentElement):!1,Yb=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Yq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Xq(e){return Yq.has(e.tagName)||e.tabIndex!==-1}const ph=new WeakSet;function ZR(e){return t=>{t.key==="Enter"&&e(t)}}function jv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Qq=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=ZR(()=>{if(ph.has(n))return;jv(n,"down");const s=ZR(()=>{jv(n,"up")}),a=()=>jv(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function JR(e){return Yb(e)&&!jM()}function Zq(e,t,n={}){const[i,s,a]=UM(e,n),l=c=>{const h=c.currentTarget;if(!JR(c)||ph.has(h))return;ph.add(h);const f=t(h,c),p=(b,T)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),!(!JR(b)||!ph.has(h))&&(ph.delete(h),typeof f=="function"&&f(b,{success:T}))},y=b=>{p(b,h===window||h===document||n.useGlobalTarget||FM(h,b.target))},_=b=>{p(b,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",_,s)};return i.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),c instanceof HTMLElement&&(c.addEventListener("focus",f=>Qq(f,s)),!Xq(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}const tC=30,Jq=e=>!isNaN(parseFloat(e));class tW{constructor(t,n={}){this.version="12.6.5",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const a=sr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=sr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Jq(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Hb);const i=this.events[t].add(n);return t==="change"?()=>{i(),Oe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=sr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>tC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,tC);return OM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xh(e,t){return new tW(e,t)}dh.reduce((e,t)=>(e[t]=n=>Zr(n),e),{});const zM=I.createContext({strict:!1}),eC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ic={};for(const e in eC)Ic[e]={isEnabled:t=>eC[e].some(n=>!!t[n])};function eW(e){for(const t in e)Ic[t]={...Ic[t],...e[t]}}const nW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nW.has(e)}let HM=e=>!fg(e);function iW(e){e&&(HM=t=>t.startsWith("on")?!fg(t):e(t))}try{iW(require("@emotion/is-prop-valid").default)}catch{}function sW(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(HM(s)||n===!0&&fg(s)||!t&&!fg(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}function rW(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const tm=I.createContext({});function em(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Qh(e){return typeof e=="string"||Array.isArray(e)}const Xb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qb=["initial",...Xb];function nm(e){return em(e.animate)||Qb.some(t=>Qh(e[t]))}function qM(e){return!!(nm(e)||e.variants)}function aW(e,t){if(nm(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Qh(n)?n:void 0,animate:Qh(i)?i:void 0}}return e.inherit!==!1?t:{}}function oW(e){const{initial:t,animate:n}=aW(e,I.useContext(tm));return I.useMemo(()=>({initial:t,animate:n}),[nC(t),nC(n)])}function nC(e){return Array.isArray(e)?e.join(" "):e}const lW=Symbol.for("motionComponentSymbol");function oc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function cW(e,t,n){return I.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):oc(n)&&(n.current=i))},[t])}const Zb=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uW="framerAppearId",WM="data-"+Zb(uW),$M=I.createContext({});function hW(e,t,n,i,s){var S,E;const{visualElement:a}=I.useContext(tm),l=I.useContext(zM),c=I.useContext(Jg),h=I.useContext(jb).reducedMotion,f=I.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,y=I.useContext($M);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&fW(f.current,n,s,y);const _=I.useRef(!1);I.useInsertionEffect(()=>{p&&_.current&&p.update(n,c)});const b=n[WM],T=I.useRef(!!b&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,b))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,b)));return PM(()=>{p&&(_.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Kb.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),I.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,b)}),T.current=!1))}),p}function fW(e,t,n,i){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:GM(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&oc(c),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:f})}function GM(e){if(e)return e.options.allowProjection!==!1?e.projection:GM(e.parent)}function dW({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:s}){e&&eW(e);function a(c,h){let f;const p={...I.useContext(jb),...c,layoutId:pW(c)},{isStatic:y}=p,_=oW(c),b=i(c,y);if(!y&&Bb){gW();const T=mW(p);f=T.MeasureLayout,_.visualElement=hW(s,b,p,t,T.ProjectionNode)}return R.jsxs(tm.Provider,{value:_,children:[f&&_.visualElement?R.jsx(f,{visualElement:_.visualElement,...p}):null,n(s,c,cW(b,_.visualElement,h),b,y,_.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=I.forwardRef(a);return l[lW]=s,l}function pW({layoutId:e}){const t=I.useContext(Lb).id;return t&&e!==void 0?t+"-"+e:e}function gW(e,t){I.useContext(zM).strict}function mW(e){const{drag:t,layout:n}=Ic;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const KM=e=>t=>typeof t=="string"&&t.startsWith(e),Jb=KM("--"),yW=KM("var(--"),tw=e=>yW(e)?vW.test(e.split("/*")[0].trim()):!1,vW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zh={};function _W(e){for(const t in e)Zh[t]=e[t],Jb(t)&&(Zh[t].isCSSVariable=!0)}const Kc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fl=new Set(Kc);function YM(e,{layout:t,layoutId:n}){return fl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Zh[e]||e==="opacity")}const Jn=e=>!!(e&&e.getVelocity),XM=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Jr=(e,t,n)=>n>t?t:n<e?e:n,Yc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Jh={...Yc,transform:e=>Jr(0,1,e)},hp={...Yc,default:1},_f=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ca=_f("deg"),rr=_f("%"),Lt=_f("px"),bW=_f("vh"),wW=_f("vw"),iC={...rr,parse:e=>rr.parse(e)/100,transform:e=>rr.transform(e*100)},TW={borderWidth:Lt,borderTopWidth:Lt,borderRightWidth:Lt,borderBottomWidth:Lt,borderLeftWidth:Lt,borderRadius:Lt,radius:Lt,borderTopLeftRadius:Lt,borderTopRightRadius:Lt,borderBottomRightRadius:Lt,borderBottomLeftRadius:Lt,width:Lt,maxWidth:Lt,height:Lt,maxHeight:Lt,top:Lt,right:Lt,bottom:Lt,left:Lt,padding:Lt,paddingTop:Lt,paddingRight:Lt,paddingBottom:Lt,paddingLeft:Lt,margin:Lt,marginTop:Lt,marginRight:Lt,marginBottom:Lt,marginLeft:Lt,backgroundPositionX:Lt,backgroundPositionY:Lt},SW={rotate:Ca,rotateX:Ca,rotateY:Ca,rotateZ:Ca,scale:hp,scaleX:hp,scaleY:hp,scaleZ:hp,skew:Ca,skewX:Ca,skewY:Ca,distance:Lt,translateX:Lt,translateY:Lt,translateZ:Lt,x:Lt,y:Lt,z:Lt,perspective:Lt,transformPerspective:Lt,opacity:Jh,originX:iC,originY:iC,originZ:Lt},sC={...Yc,transform:Math.round},ew={...TW,...SW,zIndex:sC,size:Lt,fillOpacity:Jh,strokeOpacity:Jh,numOctaves:sC},EW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xW=Kc.length;function AW(e,t,n){let i="",s=!0;for(let a=0;a<xW;a++){const l=Kc[a],c=e[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const f=XM(c,ew[l]);if(!h){s=!1;const p=EW[l]||l;i+=`${p}(${f}) `}n&&(t[l]=f)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function nw(e,t,n){const{style:i,vars:s,transformOrigin:a}=e;let l=!1,c=!1;for(const h in t){const f=t[h];if(fl.has(h)){l=!0;continue}else if(Jb(h)){s[h]=f;continue}else{const p=XM(f,ew[h]);h.startsWith("origin")?(c=!0,a[h]=p):i[h]=p}}if(t.transform||(l||n?i.transform=AW(t,e.transform,n):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${f} ${p}`}}const iw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function QM(e,t,n){for(const i in t)!Jn(t[i])&&!YM(i,n)&&(e[i]=t[i])}function RW({transformTemplate:e},t){return I.useMemo(()=>{const n=iw();return nw(n,t,e),Object.assign({},n.vars,n.style)},[t])}function CW(e,t){const n=e.style||{},i={};return QM(i,n,e),Object.assign(i,RW(e,t)),i}function DW(e,t){const n={},i=CW(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const kW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sw(e){return typeof e!="string"||e.includes("-")?!1:!!(kW.indexOf(e)>-1||/[A-Z]/u.test(e))}const PW={offset:"stroke-dashoffset",array:"stroke-dasharray"},MW={offset:"strokeDashoffset",array:"strokeDasharray"};function IW(e,t,n=1,i=0,s=!0){e.pathLength=1;const a=s?PW:MW;e[a.offset]=Lt.transform(-i);const l=Lt.transform(t),c=Lt.transform(n);e[a.array]=`${l} ${c}`}function rC(e,t,n){return typeof e=="string"?e:Lt.transform(t+n*e)}function OW(e,t,n){const i=rC(t,e.x,e.width),s=rC(n,e.y,e.height);return`${i} ${s}`}function rw(e,{attrX:t,attrY:n,attrScale:i,originX:s,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...f},p,y){if(nw(e,f,y),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:b,dimensions:T}=e;_.transform&&(T&&(b.transform=_.transform),delete _.transform),T&&(s!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=OW(T,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),i!==void 0&&(_.scale=i),l!==void 0&&IW(_,l,c,h,!1)}const ZM=()=>({...iw(),attrs:{}}),aw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function NW(e,t,n,i){const s=I.useMemo(()=>{const a=ZM();return rw(a,t,aw(i),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};QM(a,e.style,e),s.style={...a,...s.style}}return s}function LW(e=!1){return(n,i,s,{latestValues:a},l)=>{const h=(sw(n)?NW:DW)(i,a,l,n),f=sW(i,typeof n=="string",e),p=n!==I.Fragment?{...f,...h,ref:s}:{},{children:y}=i,_=I.useMemo(()=>Jn(y)?y.get():y,[y]);return I.createElement(n,{...p,children:_})}}function aC(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function ow(e,t,n,i){if(typeof t=="function"){const[s,a]=aC(i);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=aC(i);t=t(n!==void 0?n:e.custom,s,a)}return t}const F_=e=>Array.isArray(e),VW=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),BW=e=>F_(e)?e[e.length-1]||0:e;function Ip(e){const t=Jn(e)?e.get():e;return VW(t)?t.toValue():t}function jW({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},i,s,a){const l={latestValues:UW(i,s,a,e),renderState:t()};return n&&(l.onMount=c=>n({props:i,current:c,...l}),l.onUpdate=c=>n(c)),l}const JM=e=>(t,n)=>{const i=I.useContext(tm),s=I.useContext(Jg),a=()=>jW(e,t,i,s);return n?a():Vb(a)};function UW(e,t,n,i){const s={},a=i(e,{});for(const _ in a)s[_]=Ip(a[_]);let{initial:l,animate:c}=e;const h=nm(e),f=qM(e);t&&f&&!h&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const y=p?c:l;if(y&&typeof y!="boolean"&&!em(y)){const _=Array.isArray(y)?y:[y];for(let b=0;b<_.length;b++){const T=ow(e,_[b]);if(T){const{transitionEnd:S,transition:E,...C}=T;for(const V in C){let B=C[V];if(Array.isArray(B)){const W=p?B.length-1:0;B=B[W]}B!==null&&(s[V]=B)}for(const V in S)s[V]=S[V]}}}return s}function lw(e,t,n){var a;const{style:i}=e,s={};for(const l in i)(Jn(i[l])||t.style&&Jn(t.style[l])||YM(l,e)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(s[l]=i[l]);return s}const FW={useVisualState:JM({scrapeMotionValuesFromProps:lw,createRenderState:iw})};function tI(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function eI(e,{style:t,vars:n},i,s){Object.assign(e.style,t,s&&s.getProjectionStyles(i));for(const a in n)e.style.setProperty(a,n[a])}const nI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iI(e,t,n,i){eI(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(nI.has(s)?s:Zb(s),t.attrs[s])}function sI(e,t,n){const i=lw(e,t,n);for(const s in e)if(Jn(e[s])||Jn(t[s])){const a=Kc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=e[s]}return i}const oC=["x","y","width","height","cx","cy","r"],zW={useVisualState:JM({scrapeMotionValuesFromProps:sI,createRenderState:ZM,onUpdate:({props:e,prevProps:t,current:n,renderState:i,latestValues:s})=>{if(!n)return;let a=!!e.drag;if(!a){for(const c in s)if(fl.has(c)){a=!0;break}}if(!a)return;let l=!t;if(t)for(let c=0;c<oC.length;c++){const h=oC[c];e[h]!==t[h]&&(l=!0)}l&&Oe.read(()=>{tI(n,i),Oe.render(()=>{rw(i,s,aw(n.tagName),e.transformTemplate),iI(n,i)})})}})};function HW(e,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...sw(i)?zW:FW,preloadedFeatures:e,useRender:LW(s),createVisualElement:t,Component:i};return dW(l)}}function tf(e,t,n){const i=e.getProps();return ow(i,t,n!==void 0?n:i.custom,e)}const rI=new Set(["width","height","top","left","right","bottom",...Kc]);function qW(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Xh(n))}function WW(e,t){const n=tf(e,t);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const l in a){const c=BW(a[l]);qW(e,l,c)}}function $W(e){return!!(Jn(e)&&e.add)}function z_(e,t){const n=e.getValue("willChange");if($W(n))return n.add(t);if(!n&&j_.WillChange){const i=new j_.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function aI(e){return e.props[WM]}const oI=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,GW=1e-7,KW=12;function YW(e,t,n,i,s){let a,l,c=0;do l=t+(n-t)/2,a=oI(l,i,s)-e,a>0?n=l:t=l;while(Math.abs(a)>GW&&++c<KW);return l}function bf(e,t,n,i){if(e===t&&n===i)return os;const s=a=>YW(a,0,1,e,n);return a=>a===0||a===1?a:oI(s(a),t,i)}const lI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,cI=e=>t=>1-e(1-t),uI=bf(.33,1.53,.69,.99),cw=cI(uI),hI=lI(cw),fI=e=>(e*=2)<1?.5*cw(e):.5*(2-Math.pow(2,-10*(e-1))),uw=e=>1-Math.sin(Math.acos(e)),dI=cI(uw),pI=lI(uw),gI=e=>/^0[^.\s]+$/u.test(e);function XW(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||gI(e):!0}const xh=e=>Math.round(e*1e5)/1e5,hw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QW(e){return e==null}const ZW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fw=(e,t)=>n=>!!(typeof n=="string"&&ZW.test(n)&&n.startsWith(e)||t&&!QW(n)&&Object.prototype.hasOwnProperty.call(n,t)),mI=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,a,l,c]=i.match(hw);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},JW=e=>Jr(0,255,e),Uv={...Yc,transform:e=>Math.round(JW(e))},qo={test:fw("rgb","red"),parse:mI("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Uv.transform(e)+", "+Uv.transform(t)+", "+Uv.transform(n)+", "+xh(Jh.transform(i))+")"};function t8(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const H_={test:fw("#"),parse:t8,transform:qo.transform},lc={test:fw("hsl","hue"),parse:mI("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+rr.transform(xh(t))+", "+rr.transform(xh(n))+", "+xh(Jh.transform(i))+")"},Yn={test:e=>qo.test(e)||H_.test(e)||lc.test(e),parse:e=>qo.test(e)?qo.parse(e):lc.test(e)?lc.parse(e):H_.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?qo.transform(e):lc.transform(e)},e8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function n8(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(hw))==null?void 0:t.length)||0)+(((n=e.match(e8))==null?void 0:n.length)||0)>0}const yI="number",vI="color",i8="var",s8="var(",lC="${}",r8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ef(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const c=t.replace(r8,h=>(Yn.test(h)?(i.color.push(a),s.push(vI),n.push(Yn.parse(h))):h.startsWith(s8)?(i.var.push(a),s.push(i8),n.push(h)):(i.number.push(a),s.push(yI),n.push(parseFloat(h))),++a,lC)).split(lC);return{values:n,split:c,indexes:i,types:s}}function _I(e){return ef(e).values}function bI(e){const{split:t,types:n}=ef(e),i=t.length;return s=>{let a="";for(let l=0;l<i;l++)if(a+=t[l],s[l]!==void 0){const c=n[l];c===yI?a+=xh(s[l]):c===vI?a+=Yn.transform(s[l]):a+=s[l]}return a}}const a8=e=>typeof e=="number"?0:e;function o8(e){const t=_I(e);return bI(e)(t.map(a8))}const Ya={test:n8,parse:_I,createTransformer:bI,getAnimatableNone:o8},l8=new Set(["brightness","contrast","saturate","opacity"]);function c8(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(hw)||[];if(!i)return e;const s=n.replace(i,"");let a=l8.has(t)?1:0;return i!==n&&(a*=100),t+"("+a+s+")"}const u8=/\b([a-z-]*)\(.*?\)/gu,q_={...Ya,getAnimatableNone:e=>{const t=e.match(u8);return t?t.map(c8).join(" "):e}},h8={...ew,color:Yn,backgroundColor:Yn,outlineColor:Yn,fill:Yn,stroke:Yn,borderColor:Yn,borderTopColor:Yn,borderRightColor:Yn,borderBottomColor:Yn,borderLeftColor:Yn,filter:q_,WebkitFilter:q_},wI=e=>h8[e];function TI(e,t){let n=wI(e);return n!==q_&&(n=Ya),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const f8=new Set(["auto","none","0"]);function d8(e,t,n){let i=0,s;for(;i<e.length&&!s;){const a=e[i];typeof a=="string"&&!f8.has(a)&&ef(a).values.length&&(s=e[i]),i++}if(s&&n)for(const a of t)e[a]=TI(n,s)}const Wo=e=>e*180/Math.PI,W_=e=>{const t=Wo(Math.atan2(e[1],e[0]));return $_(t)},p8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:W_,rotateZ:W_,skewX:e=>Wo(Math.atan(e[1])),skewY:e=>Wo(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},$_=e=>(e=e%360,e<0&&(e+=360),e),cC=W_,uC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),hC=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),g8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uC,scaleY:hC,scale:e=>(uC(e)+hC(e))/2,rotateX:e=>$_(Wo(Math.atan2(e[6],e[5]))),rotateY:e=>$_(Wo(Math.atan2(-e[2],e[0]))),rotateZ:cC,rotate:cC,skewX:e=>Wo(Math.atan(e[4])),skewY:e=>Wo(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function fC(e){return e.includes("scale")?1:0}function G_(e,t){if(!e||e==="none")return fC(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=g8,s=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=p8,s=c}if(!s)return fC(t);const a=i[t],l=s[1].split(",").map(y8);return typeof a=="function"?a(l):l[a]}const m8=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return G_(n,t)};function y8(e){return parseFloat(e.trim())}const dC=e=>e===Yc||e===Lt,v8=new Set(["x","y","z"]),_8=Kc.filter(e=>!v8.has(e));function b8(e){const t=[];return _8.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Oc={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>G_(t,"x"),y:(e,{transform:t})=>G_(t,"y")};Oc.translateX=Oc.x;Oc.translateY=Oc.y;const Ko=new Set;let K_=!1,Y_=!1;function SI(){if(Y_){const e=Array.from(Ko).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=b8(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,l])=>{var c;(c=i.getValue(a))==null||c.set(l)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Y_=!1,K_=!1,Ko.forEach(e=>e.complete()),Ko.clear()}function EI(){Ko.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Y_=!0)})}function w8(){EI(),SI()}class dw{constructor(t,n,i,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ko.add(this),K_||(K_=!0,Oe.read(EI),Oe.resolveKeyframes(SI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const l=s==null?void 0:s.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&n){const h=i.readValue(n,c);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=c),s&&l===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ko.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ko.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const xI=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),T8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function S8(e){const t=T8.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function AI(e,t,n=1){const[i,s]=S8(e);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const l=a.trim();return xI(l)?parseFloat(l):l}return tw(s)?AI(s,t,n+1):s}const RI=e=>t=>t.test(e),E8={test:e=>e==="auto",parse:e=>e},CI=[Yc,Lt,rr,Ca,wW,bW,E8],pC=e=>CI.find(RI(e));class DI extends dw{constructor(t,n,i,s,a){super(t,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let f=t[h];if(typeof f=="string"&&(f=f.trim(),tw(f))){const p=AI(f,n.current);p!==void 0&&(t[h]=p),h===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!rI.has(i)||t.length!==2)return;const[s,a]=t,l=pC(s),c=pC(a);if(l!==c)if(dC(l)&&dC(c))for(let h=0;h<t.length;h++){const f=t[h];typeof f=="string"&&(t[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)XW(t[s])&&i.push(s);i.length&&d8(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oc[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var c;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=Oc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([h,f])=>{t.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const gC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ya.test(e)||e==="0")&&!e.startsWith("url("));function x8(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function A8(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],l=gC(s,t),c=gC(a,t);return!l||!c?!1:x8(e)||(n==="spring"||Wb(n))&&i}const R8=e=>e!==null;function im(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(R8),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const C8=40;class kI{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=sr.now(),this.options={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>C8?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&w8(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=sr.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:a,delay:l,onComplete:c,onUpdate:h,isGenerator:f}=this.options;if(!f&&!A8(t,i,s,a))if(l)this.options.duration=0;else{h&&h(im(t,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const p=this.initPlayback(t,n);p!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ke=(e,t,n)=>e+(t-e)*n;function Fv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function D8({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,a=0,l=0;if(!t)s=a=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,h=2*n-c;s=Fv(h,c,e+1/3),a=Fv(h,c,e),l=Fv(h,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function dg(e,t){return n=>n>0?t:e}const zv=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},k8=[H_,qo,lc],P8=e=>k8.find(t=>t.test(e));function mC(e){const t=P8(e);if(!t)return!1;let n=t.parse(e);return t===lc&&(n=D8(n)),n}const yC=(e,t)=>{const n=mC(e),i=mC(t);if(!n||!i)return dg(e,t);const s={...n};return a=>(s.red=zv(n.red,i.red,a),s.green=zv(n.green,i.green,a),s.blue=zv(n.blue,i.blue,a),s.alpha=Ke(n.alpha,i.alpha,a),qo.transform(s))},M8=(e,t)=>n=>t(e(n)),wf=(...e)=>e.reduce(M8),X_=new Set(["none","hidden"]);function I8(e,t){return X_.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function O8(e,t){return n=>Ke(e,t,n)}function pw(e){return typeof e=="number"?O8:typeof e=="string"?tw(e)?dg:Yn.test(e)?yC:V8:Array.isArray(e)?PI:typeof e=="object"?Yn.test(e)?yC:N8:dg}function PI(e,t){const n=[...e],i=n.length,s=e.map((a,l)=>pw(a)(a,t[l]));return a=>{for(let l=0;l<i;l++)n[l]=s[l](a);return n}}function N8(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=pw(e[s])(e[s],t[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function L8(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],l=e.indexes[a][i[a]],c=e.values[l]??0;n[s]=c,i[a]++}return n}const V8=(e,t)=>{const n=Ya.createTransformer(t),i=ef(e),s=ef(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?X_.has(e)&&!s.values.length||X_.has(t)&&!i.values.length?I8(e,t):wf(PI(L8(i,s),s.values),n):dg(e,t)};function MI(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ke(e,t,n):pw(e)(e,t)}const B8=5;function II(e,t,n){const i=Math.max(t-B8,0);return OM(n-e(i),t-i)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vC=.001;function j8({duration:e=Je.duration,bounce:t=Je.bounce,velocity:n=Je.velocity,mass:i=Je.mass}){let s,a,l=1-t;l=Jr(Je.minDamping,Je.maxDamping,l),e=Jr(Je.minDuration,Je.maxDuration,ir(e)),l<1?(s=f=>{const p=f*l,y=p*e,_=p-n,b=Q_(f,l),T=Math.exp(-y);return vC-_/b*T},a=f=>{const y=f*l*e,_=y*n+n,b=Math.pow(l,2)*Math.pow(f,2)*e,T=Math.exp(-y),S=Q_(Math.pow(f,2),l);return(-s(f)+vC>0?-1:1)*((_-b)*T)/S}):(s=f=>{const p=Math.exp(-f*e),y=(f-n)*e+1;return-.001+p*y},a=f=>{const p=Math.exp(-f*e),y=(n-f)*(e*e);return p*y});const c=5/e,h=F8(s,a,c);if(e=nr(e),isNaN(h))return{stiffness:Je.stiffness,damping:Je.damping,duration:e};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:e}}}const U8=12;function F8(e,t,n){let i=n;for(let s=1;s<U8;s++)i=i-e(i)/t(i);return i}function Q_(e,t){return e*Math.sqrt(1-t*t)}const z8=["duration","bounce"],H8=["stiffness","damping","mass"];function _C(e,t){return t.some(n=>e[n]!==void 0)}function q8(e){let t={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...e};if(!_C(e,H8)&&_C(e,z8))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*Jr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Je.mass,stiffness:s,damping:a}}else{const n=j8(e);t={...t,...n,mass:Je.mass},t.isResolvedFromDuration=!0}return t}function pg(e=Je.visualDuration,t=Je.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:f,mass:p,duration:y,velocity:_,isResolvedFromDuration:b}=q8({...n,velocity:-ir(n.velocity||0)}),T=_||0,S=f/(2*Math.sqrt(h*p)),E=l-a,C=ir(Math.sqrt(h/p)),V=Math.abs(E)<5;i||(i=V?Je.restSpeed.granular:Je.restSpeed.default),s||(s=V?Je.restDelta.granular:Je.restDelta.default);let B;if(S<1){const F=Q_(C,S);B=K=>{const M=Math.exp(-S*C*K);return l-M*((T+S*C*E)/F*Math.sin(F*K)+E*Math.cos(F*K))}}else if(S===1)B=F=>l-Math.exp(-C*F)*(E+(T+C*E)*F);else{const F=C*Math.sqrt(S*S-1);B=K=>{const M=Math.exp(-S*C*K),D=Math.min(F*K,300);return l-M*((T+S*C*E)*Math.sinh(D)+F*E*Math.cosh(D))/F}}const W={calculatedDuration:b&&y||null,next:F=>{const K=B(F);if(b)c.done=F>=y;else{let M=0;S<1&&(M=F===0?nr(T):II(B,F,K));const D=Math.abs(M)<=i,P=Math.abs(l-K)<=s;c.done=D&&P}return c.value=c.done?l:K,c},toString:()=>{const F=Math.min(Gb(W),hg),K=NM(M=>W.next(F*M).value,F,30);return F+"ms "+K},toTransition:()=>{}};return W}pg.applyToOptions=e=>{const t=zq(e,100,pg);return e.ease=Yh()?t.ease:"easeOut",e.duration=nr(t.duration),e.type="keyframes",e};function bC({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:h,restDelta:f=.5,restSpeed:p}){const y=e[0],_={done:!1,value:y},b=D=>c!==void 0&&D<c||h!==void 0&&D>h,T=D=>c===void 0?h:h===void 0||Math.abs(c-D)<Math.abs(h-D)?c:h;let S=n*t;const E=y+S,C=l===void 0?E:l(E);C!==E&&(S=C-y);const V=D=>-S*Math.exp(-D/i),B=D=>C+V(D),W=D=>{const P=V(D),j=B(D);_.done=Math.abs(P)<=f,_.value=_.done?C:j};let F,K;const M=D=>{b(_.value)&&(F=D,K=pg({keyframes:[_.value,T(_.value)],velocity:II(B,D,_.value),damping:s,stiffness:a,restDelta:f,restSpeed:p}))};return M(0),{calculatedDuration:null,next:D=>{let P=!1;return!K&&F===void 0&&(P=!0,W(D),M(D)),F!==void 0&&D>=F?K.next(D-F):(!P&&W(D),_)}}}const W8=bf(.42,0,1,1),$8=bf(0,0,.58,1),OI=bf(.42,0,.58,1),G8=e=>Array.isArray(e)&&typeof e[0]!="number",K8={linear:os,easeIn:W8,easeInOut:OI,easeOut:$8,circIn:uw,circInOut:pI,circOut:dI,backIn:cw,backInOut:hI,backOut:uI,anticipate:fI},wC=e=>{if(qb(e)){IM(e.length===4);const[t,n,i,s]=e;return bf(t,n,i,s)}else if(typeof e=="string")return K8[e];return e};function Y8(e,t,n){const i=[],s=n||MI,a=e.length-1;for(let l=0;l<a;l++){let c=s(e[l],e[l+1]);if(t){const h=Array.isArray(t)?t[l]||os:t;c=wf(h,c)}i.push(c)}return i}function X8(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const a=e.length;if(IM(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=Y8(t,i,s),h=c.length,f=p=>{if(l&&p<e[0])return t[0];let y=0;if(h>1)for(;y<e.length-2&&!(p<e[y+1]);y++);const _=Kh(e[y],e[y+1],p);return c[y](_)};return n?p=>f(Jr(e[0],e[a-1],p)):f}function Q8(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Kh(0,t,i);e.push(Ke(n,1,s))}}function Z8(e){const t=[0];return Q8(t,e.length-1),t}function J8(e,t){return e.map(n=>n*t)}function t7(e,t){return e.map(()=>t||OI).splice(0,e.length-1)}function gg({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=G8(i)?i.map(wC):wC(i),a={done:!1,value:t[0]},l=J8(n&&n.length===t.length?n:Z8(t),e),c=X8(l,t,{ease:Array.isArray(s)?s:t7(t,s)});return{calculatedDuration:e,next:h=>(a.value=c(h),a.done=h>=e,a)}}const e7=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Oe.update(t,!0),stop:()=>Zr(t),now:()=>Bn.isProcessing?Bn.timestamp:sr.now()}},n7={decay:bC,inertia:bC,tween:gg,keyframes:gg,spring:pg},i7=e=>e/100;class gw extends kI{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:i,element:s,keyframes:a}=this.options,l=(s==null?void 0:s.KeyframeResolver)||dw,c=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new l(a,c,n,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,c=Wb(n)?n:n7[n]||gg;let h,f;c!==gg&&typeof t[0]!="number"&&(h=wf(i7,MI(t[0],t[1])),t=[0,100]);const p=c({...this.options,keyframes:t});a==="mirror"&&(f=c({...this.options,keyframes:[...t].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Gb(p));const{calculatedDuration:y}=p,_=y+s,b=_*(i+1)-s;return{generator:p,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:_,totalDuration:b}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:i}=this;if(!i){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:f,totalDuration:p,resolvedDuration:y}=i;if(this.startTime===null)return a.next(0);const{delay:_,repeat:b,repeatType:T,repeatDelay:S,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-p/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const C=this.currentTime-_*(this.speed>=0?1:-1),V=this.speed>=0?C<0:C>p;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let B=this.currentTime,W=a;if(b){const D=Math.min(this.currentTime,p)/y;let P=Math.floor(D),j=D%1;!j&&D>=1&&(j=1),j===1&&P--,P=Math.min(P,b+1),!!(P%2)&&(T==="reverse"?(j=1-j,S&&(j-=S/y)):T==="mirror"&&(W=l)),B=Jr(0,1,j)*y}const F=V?{done:!1,value:h[0]}:W.next(B);c&&(F.value=c(F.value));let{done:K}=F;!V&&f!==null&&(K=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return M&&s!==void 0&&(F.value=im(h,this.options,s)),E&&E(F.value),M&&this.finish(),F}get duration(){const{resolved:t}=this;return t?ir(t.calculatedDuration):0}get time(){return ir(this.currentTime)}set time(t){t=nr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ir(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=e7,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}get finished(){return this.currentFinishedPromise}}const s7=new Set(["opacity","clipPath","filter","transform"]),r7=zb(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),mg=10,a7=2e4;function o7(e){return Wb(e.type)||e.type==="spring"||!VM(e.ease)}function l7(e,t){const n=new gw({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const s=[];let a=0;for(;!i.done&&a<a7;)i=n.sample(a),s.push(i.value),a+=mg;return{times:void 0,keyframes:s,duration:a-mg,ease:"linear"}}const NI={anticipate:fI,backInOut:hI,circInOut:pI};function c7(e){return e in NI}class TC extends kI{constructor(t){super(t);const{name:n,motionValue:i,element:s,keyframes:a}=this.options;this.resolver=new DI(a,(l,c)=>this.onKeyframesResolved(l,c),n,i,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:i=300,times:s,ease:a,type:l,motionValue:c,name:h,startTime:f}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&Yh()&&c7(a)&&(a=NI[a]),o7(this.options)){const{onComplete:y,onUpdate:_,motionValue:b,element:T,...S}=this.options,E=l7(t,S);t=E.keyframes,t.length===1&&(t[1]=t[0]),i=E.duration,s=E.times,a=E.ease,l="keyframes"}const p=Fq(c.owner.current,h,t,{...this.options,duration:i,times:s,ease:a});return p.startTime=f??this.calcStartTime(),this.pendingTimeline?(XR(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:y}=this.options;c.set(im(t,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:i,times:s,type:l,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return ir(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return ir(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=nr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return os;const{animation:i}=n;XR(i,t)}return os}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:i,duration:s,type:a,ease:l,times:c}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:p,onComplete:y,element:_,...b}=this.options,T=new gw({...b,keyframes:i,duration:s,type:a,ease:l,times:c,isGenerator:!0}),S=nr(this.time);f.setWithVelocity(T.sample(S-mg).value,T.sample(S).value,mg)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:i,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=n.owner.getProps();return r7()&&i&&s7.has(i)&&(i!=="transform"||!f)&&!h&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}}const u7={type:"spring",stiffness:500,damping:25,restSpeed:10},h7=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),f7={type:"keyframes",duration:.8},d7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},p7=(e,{keyframes:t})=>t.length>2?f7:fl.has(e)?e.startsWith("scale")?h7(t[1]):u7:d7;function g7({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:h,elapsed:f,...p}){return!!Object.keys(p).length}const mw=(e,t,n,i={},s,a)=>l=>{const c=$b(i,e)||{},h=c.delay||i.delay||0;let{elapsed:f=0}=i;f=f-nr(h);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-f,onUpdate:_=>{t.set(_),c.onUpdate&&c.onUpdate(_)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:a?void 0:s};g7(c)||(p={...p,...p7(e,p)}),p.duration&&(p.duration=nr(p.duration)),p.repeatDelay&&(p.repeatDelay=nr(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(y=!0)),p.allowFlatten=!c.type&&!c.ease,y&&!a&&t.get()!==void 0){const _=im(p.keyframes,c);if(_!==void 0)return Oe.update(()=>{p.onUpdate(_),p.onComplete()}),new Bq([])}return!a&&TC.supports(p)?new TC(p):new gw(p)};function m7({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function LI(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:l,...c}=t;i&&(a=i);const h=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const p in c){const y=e.getValue(p,e.latestValues[p]??null),_=c[p];if(_===void 0||f&&m7(f,p))continue;const b={delay:n,...$b(a||{},p)};let T=!1;if(window.MotionHandoffAnimation){const E=aI(e);if(E){const C=window.MotionHandoffAnimation(E,p,Oe);C!==null&&(b.startTime=C,T=!0)}}z_(e,p),y.start(mw(p,y,_,e.shouldReduceMotion&&rI.has(p)?{type:!1}:b,e,T));const S=y.animation;S&&h.push(S)}return l&&Promise.all(h).then(()=>{Oe.update(()=>{l&&WW(e,l)})}),h}function Z_(e,t,n={}){var h;const i=tf(e,t,n.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(LI(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=s;return y7(e,t,p+f,y,_,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,p]=c==="beforeChildren"?[a,l]:[l,a];return f().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function y7(e,t,n=0,i=0,s=1,a){const l=[],c=(e.variantChildren.size-1)*i,h=s===1?(f=0)=>f*i:(f=0)=>c-f*i;return Array.from(e.variantChildren).sort(v7).forEach((f,p)=>{f.notify("AnimationStart",t),l.push(Z_(f,t,{...a,delay:n+h(p)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(l)}function v7(e,t){return e.sortNodePosition(t)}function _7(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>Z_(e,a,n));i=Promise.all(s)}else if(typeof t=="string")i=Z_(e,t,n);else{const s=typeof t=="function"?tf(e,t,n.custom):t;i=Promise.all(LI(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function VI(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const b7=Qb.length;function BI(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?BI(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<b7;n++){const i=Qb[n],s=e.props[i];(Qh(s)||s===!1)&&(t[i]=s)}return t}const w7=[...Xb].reverse(),T7=Xb.length;function S7(e){return t=>Promise.all(t.map(({animation:n,options:i})=>_7(e,n,i)))}function E7(e){let t=S7(e),n=SC(),i=!0;const s=h=>(f,p)=>{var _;const y=tf(e,p,h==="exit"?(_=e.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:b,transitionEnd:T,...S}=y;f={...f,...S,...T}}return f};function a(h){t=h(e)}function l(h){const{props:f}=e,p=BI(e.parent)||{},y=[],_=new Set;let b={},T=1/0;for(let E=0;E<T7;E++){const C=w7[E],V=n[C],B=f[C]!==void 0?f[C]:p[C],W=Qh(B),F=C===h?V.isActive:null;F===!1&&(T=E);let K=B===p[C]&&B!==f[C]&&W;if(K&&i&&e.manuallyAnimateOnMount&&(K=!1),V.protectedKeys={...b},!V.isActive&&F===null||!B&&!V.prevProp||em(B)||typeof B=="boolean")continue;const M=x7(V.prevProp,B);let D=M||C===h&&V.isActive&&!K&&W||E>T&&W,P=!1;const j=Array.isArray(B)?B:[B];let U=j.reduce(s(C),{});F===!1&&(U={});const{prevResolvedValues:L={}}=V,N={...L,...U},rt=Z=>{D=!0,_.has(Z)&&(P=!0,_.delete(Z)),V.needsAnimating[Z]=!0;const ot=e.getValue(Z);ot&&(ot.liveStyle=!1)};for(const Z in N){const ot=U[Z],Et=L[Z];if(b.hasOwnProperty(Z))continue;let z=!1;F_(ot)&&F_(Et)?z=!VI(ot,Et):z=ot!==Et,z?ot!=null?rt(Z):_.add(Z):ot!==void 0&&_.has(Z)?rt(Z):V.protectedKeys[Z]=!0}V.prevProp=B,V.prevResolvedValues=U,V.isActive&&(b={...b,...U}),i&&e.blockInitialAnimation&&(D=!1),D&&(!(K&&M)||P)&&y.push(...j.map(Z=>({animation:Z,options:{type:C}})))}if(_.size){const E={};if(typeof f.initial!="boolean"){const C=tf(e,Array.isArray(f.initial)?f.initial[0]:f.initial);C&&C.transition&&(E.transition=C.transition)}_.forEach(C=>{const V=e.getBaseTarget(C),B=e.getValue(C);B&&(B.liveStyle=!0),E[C]=V??null}),y.push({animation:E})}let S=!!y.length;return i&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(S=!1),i=!1,S?t(y):Promise.resolve()}function c(h,f){var y;if(n[h].isActive===f)return Promise.resolve();(y=e.variantChildren)==null||y.forEach(_=>{var b;return(b=_.animationState)==null?void 0:b.setActive(h,f)}),n[h].isActive=f;const p=l(h);for(const _ in n)n[_].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=SC(),i=!0}}}function x7(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!VI(t,e):!1}function Mo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SC(){return{animate:Mo(!0),whileInView:Mo(),whileHover:Mo(),whileTap:Mo(),whileDrag:Mo(),whileFocus:Mo(),exit:Mo()}}class to{constructor(t){this.isMounted=!1,this.node=t}update(){}}class A7 extends to{constructor(t){super(t),t.animationState||(t.animationState=E7(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();em(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let R7=0;class C7 extends to{constructor(){super(...arguments),this.id=R7++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const D7={animation:{Feature:A7},exit:{Feature:C7}};function nf(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Tf(e){return{point:{x:e.pageX,y:e.pageY}}}const k7=e=>t=>Yb(t)&&e(t,Tf(t));function Ah(e,t,n,i){return nf(e,t,k7(n),i)}function jI({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function P7({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function M7(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const UI=1e-4,I7=1-UI,O7=1+UI,FI=.01,N7=0-FI,L7=0+FI;function li(e){return e.max-e.min}function V7(e,t,n){return Math.abs(e-t)<=n}function EC(e,t,n,i=.5){e.origin=i,e.originPoint=Ke(t.min,t.max,e.origin),e.scale=li(n)/li(t),e.translate=Ke(n.min,n.max,e.origin)-e.originPoint,(e.scale>=I7&&e.scale<=O7||isNaN(e.scale))&&(e.scale=1),(e.translate>=N7&&e.translate<=L7||isNaN(e.translate))&&(e.translate=0)}function Rh(e,t,n,i){EC(e.x,t.x,n.x,i?i.originX:void 0),EC(e.y,t.y,n.y,i?i.originY:void 0)}function xC(e,t,n){e.min=n.min+t.min,e.max=e.min+li(t)}function B7(e,t,n){xC(e.x,t.x,n.x),xC(e.y,t.y,n.y)}function AC(e,t,n){e.min=t.min-n.min,e.max=e.min+li(t)}function Ch(e,t,n){AC(e.x,t.x,n.x),AC(e.y,t.y,n.y)}const RC=()=>({translate:0,scale:1,origin:0,originPoint:0}),cc=()=>({x:RC(),y:RC()}),CC=()=>({min:0,max:0}),rn=()=>({x:CC(),y:CC()});function ss(e){return[e("x"),e("y")]}function Hv(e){return e===void 0||e===1}function J_({scale:e,scaleX:t,scaleY:n}){return!Hv(e)||!Hv(t)||!Hv(n)}function Bo(e){return J_(e)||zI(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function zI(e){return DC(e.x)||DC(e.y)}function DC(e){return e&&e!=="0%"}function yg(e,t,n){const i=e-n,s=t*i;return n+s}function kC(e,t,n,i,s){return s!==void 0&&(e=yg(e,s,i)),yg(e,n,i)+t}function t0(e,t=0,n=1,i,s){e.min=kC(e.min,t,n,i,s),e.max=kC(e.max,t,n,i,s)}function HI(e,{x:t,y:n}){t0(e.x,t.translate,t.scale,t.originPoint),t0(e.y,n.translate,n.scale,n.originPoint)}const PC=.999999999999,MC=1.0000000000001;function j7(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&hc(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,HI(e,l)),i&&Bo(a.latestValues)&&hc(e,a.latestValues))}t.x<MC&&t.x>PC&&(t.x=1),t.y<MC&&t.y>PC&&(t.y=1)}function uc(e,t){e.min=e.min+t,e.max=e.max+t}function IC(e,t,n,i,s=.5){const a=Ke(e.min,e.max,s);t0(e,t,n,a,i)}function hc(e,t){IC(e.x,t.x,t.scaleX,t.scale,t.originX),IC(e.y,t.y,t.scaleY,t.scale,t.originY)}function qI(e,t){return jI(M7(e.getBoundingClientRect(),t))}function U7(e,t,n){const i=qI(e,n),{scroll:s}=t;return s&&(uc(i.x,s.offset.x),uc(i.y,s.offset.y)),i}const WI=({current:e})=>e?e.ownerDocument.defaultView:null,OC=(e,t)=>Math.abs(e-t);function F7(e,t){const n=OC(e.x,t.x),i=OC(e.y,t.y);return Math.sqrt(n**2+i**2)}class $I{constructor(t,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Wv(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,b=F7(y.offset,{x:0,y:0})>=3;if(!_&&!b)return;const{point:T}=y,{timestamp:S}=Bn;this.history.push({...T,timestamp:S});const{onStart:E,onMove:C}=this.handlers;_||(E&&E(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=qv(_,this.transformPagePoint),Oe.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:b,onSessionEnd:T,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Wv(y.type==="pointercancel"?this.lastMoveEventInfo:qv(_,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,E),T&&T(y,E)},!Yb(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const l=Tf(t),c=qv(l,this.transformPagePoint),{point:h}=c,{timestamp:f}=Bn;this.history=[{...h,timestamp:f}];const{onSessionStart:p}=n;p&&p(t,Wv(c,this.history)),this.removeListeners=wf(Ah(this.contextWindow,"pointermove",this.handlePointerMove),Ah(this.contextWindow,"pointerup",this.handlePointerUp),Ah(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zr(this.updatePoint)}}function qv(e,t){return t?{point:t(e.point)}:e}function NC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Wv({point:e},t){return{point:e,delta:NC(e,GI(t)),offset:NC(e,z7(t)),velocity:H7(t,.1)}}function z7(e){return e[0]}function GI(e){return e[e.length-1]}function H7(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=GI(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>nr(t)));)n--;if(!i)return{x:0,y:0};const a=ir(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function q7(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Ke(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Ke(n,e,i.max):Math.min(e,n)),e}function LC(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function W7(e,{top:t,left:n,bottom:i,right:s}){return{x:LC(e.x,n,s),y:LC(e.y,t,i)}}function VC(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function $7(e,t){return{x:VC(e.x,t.x),y:VC(e.y,t.y)}}function G7(e,t){let n=.5;const i=li(e),s=li(t);return s>i?n=Kh(t.min,t.max-i,e.min):i>s&&(n=Kh(e.min,e.max-s,t.min)),Jr(0,1,n)}function K7(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const e0=.35;function Y7(e=e0){return e===!1?e=0:e===!0&&(e=e0),{x:BC(e,"left","right"),y:BC(e,"top","bottom")}}function BC(e,t,n){return{min:jC(e,t),max:jC(e,n)}}function jC(e,t){return typeof e=="number"?e:e[t]||0}const X7=new WeakMap;class Q7{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tf(p).point)},a=(p,y)=>{const{drag:_,dragPropagation:b,onDragStart:T}=this.getProps();if(_&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$q(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ss(E=>{let C=this.getAxisMotionValue(E).get()||0;if(rr.test(C)){const{projection:V}=this.visualElement;if(V&&V.layout){const B=V.layout.layoutBox[E];B&&(C=li(B)*(parseFloat(C)/100))}}this.originPoint[E]=C}),T&&Oe.postRender(()=>T(p,y)),z_(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(p,y)=>{const{dragPropagation:_,dragDirectionLock:b,onDirectionLock:T,onDrag:S}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:E}=y;if(b&&this.currentDirection===null){this.currentDirection=Z7(E),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",y.point,E),this.updateAxis("y",y.point,E),this.visualElement.render(),S&&S(p,y)},c=(p,y)=>this.stop(p,y),h=()=>ss(p=>{var y;return this.getAnimationState(p)==="paused"&&((y=this.getAxisMotionValue(p).animation)==null?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new $I(t,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:WI(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Oe.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!fp(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=q7(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;t&&oc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=W7(i.layoutBox,t):this.constraints=!1,this.elastic=Y7(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ss(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=K7(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!oc(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=U7(i,s.root,this.visualElement.getTransformPagePoint());let l=$7(s.layout.layoutBox,a);if(n){const c=n(P7(l));this.hasMutatedConstraints=!!c,c&&(l=jI(c))}return l}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},f=ss(p=>{if(!fp(p,n,this.currentDirection))return;let y=h&&h[p]||{};l&&(y={min:0,max:0});const _=s?200:1e6,b=s?40:1e7,T={type:"inertia",velocity:i?t[p]:0,bounceStiffness:_,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(p,T)});return Promise.all(f).then(c)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return z_(this.visualElement,t),i.start(mw(t,i,0,n,this.visualElement,!1))}stopAnimation(){ss(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ss(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){ss(n=>{const{drag:i}=this.getProps();if(!fp(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(t[n]-Ke(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!oc(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ss(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();s[l]=G7({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ss(l=>{if(!fp(l,t,null))return;const c=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];c.set(Ke(h,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;X7.set(this.visualElement,this);const t=this.visualElement.current,n=Ah(t,"pointerdown",h=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();oc(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Oe.read(i);const l=nf(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(ss(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=h[p].translate,y.set(y.get()+h[p].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=e0,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function fp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Z7(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class J7 extends to{constructor(t){super(t),this.removeGroupControls=os,this.removeListeners=os,this.controls=new Q7(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||os}unmount(){this.removeGroupControls(),this.removeListeners()}}const UC=e=>(t,n)=>{e&&Oe.postRender(()=>e(t,n))};class t$ extends to{constructor(){super(...arguments),this.removePointerDownListener=os}onPointerDown(t){this.session=new $I(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WI(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:UC(t),onStart:UC(n),onMove:i,onEnd:(a,l)=>{delete this.session,s&&Oe.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Ah(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Op={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const rh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Lt.test(e))e=parseFloat(e);else return e;const n=FC(e,t.target.x),i=FC(e,t.target.y);return`${n}% ${i}%`}},e$={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=Ya.parse(e);if(s.length>5)return i;const a=Ya.createTransformer(e),l=typeof s[0]!="number"?1:0,c=n.x.scale*t.x,h=n.y.scale*t.y;s[0+l]/=c,s[1+l]/=h;const f=Ke(c,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),a(s)}};class n$ extends I.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;_W(i$),a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Op.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,l=i.projection;return l&&(l.isPresent=a,s||t.layoutDependency!==n||n===void 0||t.isPresent!==a?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||Oe.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Kb.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function KI(e){const[t,n]=MM(),i=I.useContext(Lb);return R.jsx(n$,{...e,layoutGroup:i,switchLayoutGroup:I.useContext($M),isPresent:t,safeToRemove:n})}const i$={borderRadius:{...rh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rh,borderTopRightRadius:rh,borderBottomLeftRadius:rh,borderBottomRightRadius:rh,boxShadow:e$};function s$(e,t,n){const i=Jn(e)?e:Xh(e);return i.start(mw("",i,t,n)),i.animation}function r$(e){return e instanceof SVGElement&&e.tagName!=="svg"}const a$=(e,t)=>e.depth-t.depth;class o${constructor(){this.children=[],this.isDirty=!1}add(t){Ub(this.children,t),this.isDirty=!0}remove(t){Fb(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(a$),this.isDirty=!1,this.children.forEach(t)}}function l$(e,t){const n=sr.now(),i=({timestamp:s})=>{const a=s-n;a>=t&&(Zr(i),e(a-t))};return Oe.read(i,!0),()=>Zr(i)}const YI=["TopLeft","TopRight","BottomLeft","BottomRight"],c$=YI.length,zC=e=>typeof e=="string"?parseFloat(e):e,HC=e=>typeof e=="number"||Lt.test(e);function u$(e,t,n,i,s,a){s?(e.opacity=Ke(0,n.opacity!==void 0?n.opacity:1,h$(i)),e.opacityExit=Ke(t.opacity!==void 0?t.opacity:1,0,f$(i))):a&&(e.opacity=Ke(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let l=0;l<c$;l++){const c=`border${YI[l]}Radius`;let h=qC(t,c),f=qC(n,c);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||HC(h)===HC(f)?(e[c]=Math.max(Ke(zC(h),zC(f),i),0),(rr.test(f)||rr.test(h))&&(e[c]+="%")):e[c]=f}(t.rotate||n.rotate)&&(e.rotate=Ke(t.rotate||0,n.rotate||0,i))}function qC(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const h$=XI(0,.5,dI),f$=XI(.5,.95,os);function XI(e,t,n){return i=>i<e?0:i>t?1:n(Kh(e,t,i))}function WC(e,t){e.min=t.min,e.max=t.max}function ns(e,t){WC(e.x,t.x),WC(e.y,t.y)}function $C(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function GC(e,t,n,i,s){return e-=t,e=yg(e,1/n,i),s!==void 0&&(e=yg(e,1/s,i)),e}function d$(e,t=0,n=1,i=.5,s,a=e,l=e){if(rr.test(t)&&(t=parseFloat(t),t=Ke(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=Ke(a.min,a.max,i);e===a&&(c-=t),e.min=GC(e.min,t,n,c,s),e.max=GC(e.max,t,n,c,s)}function KC(e,t,[n,i,s],a,l){d$(e,t[n],t[i],t[s],t.scale,a,l)}const p$=["x","scaleX","originX"],g$=["y","scaleY","originY"];function YC(e,t,n,i){KC(e.x,t,p$,n?n.x:void 0,i?i.x:void 0),KC(e.y,t,g$,n?n.y:void 0,i?i.y:void 0)}function XC(e){return e.translate===0&&e.scale===1}function QI(e){return XC(e.x)&&XC(e.y)}function QC(e,t){return e.min===t.min&&e.max===t.max}function m$(e,t){return QC(e.x,t.x)&&QC(e.y,t.y)}function ZC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ZI(e,t){return ZC(e.x,t.x)&&ZC(e.y,t.y)}function JC(e){return li(e.x)/li(e.y)}function t1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class y${constructor(){this.members=[]}add(t){Ub(this.members,t),t.scheduleRender()}remove(t){if(Fb(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function v$(e,t,n){let i="";const s=e.x.translate/t.x,a=e.y.translate/t.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(i=`translate3d(${s}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:y,rotateY:_,skewX:b,skewY:T}=n;f&&(i=`perspective(${f}px) ${i}`),p&&(i+=`rotate(${p}deg) `),y&&(i+=`rotateX(${y}deg) `),_&&(i+=`rotateY(${_}deg) `),b&&(i+=`skewX(${b}deg) `),T&&(i+=`skewY(${T}deg) `)}const c=e.x.scale*t.x,h=e.y.scale*t.y;return(c!==1||h!==1)&&(i+=`scale(${c}, ${h})`),i||"none"}const $v=["","X","Y","Z"],_$={visibility:"hidden"},e1=1e3;let b$=0;function Gv(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function JI(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=aI(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Oe,!(s||a))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&JI(i)}function tO({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=t==null?void 0:t()){this.id=b$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(S$),this.nodes.forEach(C$),this.nodes.forEach(D$),this.nodes.forEach(E$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new o$)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Hb),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=r$(l),this.instance=l;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(f||h)&&(this.isLayoutDirty=!0),e){let y;const _=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=l$(_,250),Op.hasAnimatedSinceResize&&(Op.hasAnimatedSinceResize=!1,this.nodes.forEach(i1))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||O$,{onLayoutAnimationStart:E,onLayoutAnimationComplete:C}=p.getProps(),V=!this.targetLayout||!ZI(this.targetLayout,T),B=!_&&b;if(this.options.layoutRoot||this.resumeFrom||B||_&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,B);const W={...$b(S,"layout"),onPlay:E,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W)}else _||i1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k$),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&JI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(n1);return}this.isUpdating||this.nodes.forEach(A$),this.isUpdating=!1,this.nodes.forEach(R$),this.nodes.forEach(w$),this.nodes.forEach(T$),this.clearAllSnapshots();const c=sr.now();Bn.delta=Jr(0,1e3/60,c-Bn.timestamp),Bn.timestamp=c,Bn.isProcessing=!0,Bv.update.process(Bn),Bv.preRender.process(Bn),Bv.render.process(Bn),Bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Kb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(x$),this.sharedNodes.forEach(P$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!li(this.snapshot.measuredBox.x)&&!li(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!QI(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&(c||Bo(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),N$(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:l}=this.options;if(!l)return rn();const c=l.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(L$))){const{scroll:p}=this.root;p&&(uc(c.x,p.offset.x),uc(c.y,p.offset.y))}return c}removeElementScroll(l){var h;const c=rn();if(ns(c,l),(h=this.scroll)!=null&&h.wasRoot)return c;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&ns(c,l),uc(c.x,y.offset.x),uc(c.y,y.offset.y))}return c}applyTransform(l,c=!1){const h=rn();ns(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&hc(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Bo(p.latestValues)&&hc(h,p.latestValues)}return Bo(this.latestValues)&&hc(h,this.latestValues),h}removeTransform(l){const c=rn();ns(c,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Bo(f.latestValues))continue;J_(f.latestValues)&&f.updateSnapshot();const p=rn(),y=f.measurePageBox();ns(p,y),YC(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Bo(this.latestValues)&&YC(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var _;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Bn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),Ch(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rn(),this.targetWithTransforms=rn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),B7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ns(this.target,this.layout.layoutBox),HI(this.target,this.targetDelta)):ns(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),Ch(this.relativeTargetOrigin,this.target,b.target),ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||J_(this.parent.latestValues)||zI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Bn.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;ns(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;j7(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=rn());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($C(this.prevProjectionDelta.x,this.projectionDelta.x),$C(this.prevProjectionDelta.y,this.projectionDelta.y)),Rh(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!t1(this.projectionDelta.x,this.prevProjectionDelta.x)||!t1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cc(),this.projectionDelta=cc(),this.projectionDeltaWithTransform=cc()}setAnimationOrigin(l,c=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},y=cc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const _=rn(),b=h?h.source:void 0,T=this.layout?this.layout.source:void 0,S=b!==T,E=this.getStack(),C=!E||E.members.length<=1,V=!!(S&&!C&&this.options.crossfade===!0&&!this.path.some(I$));this.animationProgress=0;let B;this.mixTargetDelta=W=>{const F=W/1e3;s1(y.x,l.x,F),s1(y.y,l.y,F),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ch(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),M$(this.relativeTarget,this.relativeTargetOrigin,_,F),B&&m$(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=rn()),ns(B,this.relativeTarget)),S&&(this.animationValues=p,u$(p,f,this.latestValues,F,V,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Oe.update(()=>{Op.hasAnimatedSinceResize=!0,this.currentAnimation=s$(0,e1,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(e1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:f,latestValues:p}=l;if(!(!c||!h||!f)){if(this!==l&&this.layout&&f&&eO(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||rn();const y=li(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const _=li(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+_}ns(c,h),hc(c,p),Rh(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new y$),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const f={};h.z&&Gv("z",l,f,this.animationValues);for(let p=0;p<$v.length;p++)Gv(`rotate${$v[p]}`,l,f,this.animationValues),Gv(`skew${$v[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return _$;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Ip(l==null?void 0:l.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Ip(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Bo(this.latestValues)&&(b.transform=h?h({},""):"none",this.hasProjected=!1),b}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=v$(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:y,y:_}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,f.animationValues?c.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in Zh){if(p[b]===void 0)continue;const{correct:T,applyTo:S,isCSSVariable:E}=Zh[b],C=c.transform==="none"?p[b]:T(p[b],f);if(S){const V=S.length;for(let B=0;B<V;B++)c[S[B]]=C}else E?this.options.visualElement.renderState.vars[b]=C:c[b]=C}return this.options.layoutId&&(c.pointerEvents=f===this?Ip(l==null?void 0:l.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(n1),this.root.sharedNodes.clear()}}}function w$(e){e.updateLayout()}function T$(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?ss(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=li(_);_.min=i[y].min,_.max=_.min+b}):eO(a,t.layoutBox,i)&&ss(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=li(i[y]);_.max=_.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+b)});const c=cc();Rh(c,i,t.layoutBox);const h=cc();l?Rh(h,e.applyTransform(s,!0),t.measuredBox):Rh(h,i,t.layoutBox);const f=!QI(c);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const T=rn();Ch(T,t.layoutBox,_.layoutBox);const S=rn();Ch(S,i,b.layoutBox),ZI(T,S)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=T,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function S$(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function E$(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function x$(e){e.clearSnapshot()}function n1(e){e.clearMeasurements()}function A$(e){e.isLayoutDirty=!1}function R$(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function i1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function C$(e){e.resolveTargetDelta()}function D$(e){e.calcProjection()}function k$(e){e.resetSkewAndRotation()}function P$(e){e.removeLeadSnapshot()}function s1(e,t,n){e.translate=Ke(t.translate,0,n),e.scale=Ke(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function r1(e,t,n,i){e.min=Ke(t.min,n.min,i),e.max=Ke(t.max,n.max,i)}function M$(e,t,n,i){r1(e.x,t.x,n.x,i),r1(e.y,t.y,n.y,i)}function I$(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const O$={duration:.45,ease:[.4,0,.1,1]},a1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),o1=a1("applewebkit/")&&!a1("chrome/")?Math.round:os;function l1(e){e.min=o1(e.min),e.max=o1(e.max)}function N$(e){l1(e.x),l1(e.y)}function eO(e,t,n){return e==="position"||e==="preserve-aspect"&&!V7(JC(t),JC(n),.2)}function L$(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const V$=tO({attachResizeListener:(e,t)=>nf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kv={current:void 0},nO=tO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Kv.current){const e=new V$({});e.mount(window),e.setOptions({layoutScroll:!0}),Kv.current=e}return Kv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),B$={pan:{Feature:t$},drag:{Feature:J7,ProjectionNode:nO,MeasureLayout:KI}};function c1(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&Oe.postRender(()=>a(t,Tf(t)))}class j$ extends to{mount(){const{current:t}=this.node;t&&(this.unmount=Kq(t,(n,i)=>(c1(this.node,i,"Start"),s=>c1(this.node,s,"End"))))}unmount(){}}class U$ extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wf(nf(this.node.current,"focus",()=>this.onFocus()),nf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function u1(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&Oe.postRender(()=>a(t,Tf(t)))}class F$ extends to{mount(){const{current:t}=this.node;t&&(this.unmount=Zq(t,(n,i)=>(u1(this.node,i,"Start"),(s,{success:a})=>u1(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const n0=new WeakMap,Yv=new WeakMap,z$=e=>{const t=n0.get(e.target);t&&t(e)},H$=e=>{e.forEach(z$)};function q$({root:e,...t}){const n=e||document;Yv.has(n)||Yv.set(n,{});const i=Yv.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(H$,{root:e,...t})),i[s]}function W$(e,t,n){const i=q$(t);return n0.set(e,n),i.observe(e),()=>{n0.delete(e),i.unobserve(e)}}const $$={some:0,all:1};class G$ extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=t,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:$$[s]},c=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),_=f?p:y;_&&_(h)};return W$(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(K$(t,n))&&this.startObserver()}unmount(){}}function K$({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Y$={inView:{Feature:G$},tap:{Feature:F$},focus:{Feature:U$},hover:{Feature:j$}},X$={layout:{ProjectionNode:nO,MeasureLayout:KI}},i0={current:null},iO={current:!1};function Q$(){if(iO.current=!0,!!Bb)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>i0.current=e.matches;e.addListener(t),t()}else i0.current=!1}const Z$=[...CI,Yn,Ya],J$=e=>Z$.find(RI(e)),tG=new WeakMap;function eG(e,t,n){for(const i in t){const s=t[i],a=n[i];if(Jn(s))e.addValue(i,s);else if(Jn(a))e.addValue(i,Xh(s,{owner:e}));else if(a!==s)if(e.hasValue(i)){const l=e.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,Xh(l!==void 0?l:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const h1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nG{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=sr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Oe.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:p}=l;this.onUpdate=p,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=nm(n),this.isVariantNode=qM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const T=_[b];h[b]!==void 0&&Jn(T)&&T.set(h[b],!1)}}mount(t){this.current=t,tG.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),iO.current||Q$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:i0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zr(this.notifyUpdate),Zr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=fl.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Oe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ic){const n=Ic[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<h1.length;i++){const s=h1[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=t[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=eG(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Xh(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(xI(i)||gI(i))?i=parseFloat(i):!J$(i)&&Ya.test(n)&&(i=TI(t,n)),this.setBaseTarget(t,Jn(i)?i.get():i)),Jn(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=ow(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(i=l[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Jn(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Hb),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class sO extends nG{constructor(){super(...arguments),this.KeyframeResolver=DI}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Jn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iG(e){return window.getComputedStyle(e)}class sG extends sO{constructor(){super(...arguments),this.type="html",this.renderInstance=eI}readValueFromInstance(t,n){if(fl.has(n))return m8(t,n);{const i=iG(t),s=(Jb(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return qI(t,n)}build(t,n,i){nw(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return lw(t,n,i)}}class rG extends sO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&tI(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(fl.has(n)){const i=wI(n);return i&&i.default||0}return n=nI.has(n)?n:Zb(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return sI(t,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&Oe.postRender(this.updateDimensions)}build(t,n,i){rw(t,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,i,s){iI(t,n,i,s)}mount(t){this.isSVGTag=aw(t.tagName),super.mount(t)}}const aG=(e,t)=>sw(e)?new rG(t):new sG(t,{allowProjection:e!==I.Fragment}),oG=HW({...D7,...Y$,...B$,...X$},aG),Yo=rW(oG);var rO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},f1=Ie.createContext&&Ie.createContext(rO),lG=["attr","size","title"];function cG(e,t){if(e==null)return{};var n=uG(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function uG(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vg.apply(this,arguments)}function d1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function _g(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d1(Object(n),!0).forEach(function(i){hG(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d1(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function hG(e,t,n){return t=fG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fG(e){var t=dG(e,"string");return typeof t=="symbol"?t:t+""}function dG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aO(e){return e&&e.map((t,n)=>Ie.createElement(t.tag,_g({key:n},t.attr),aO(t.child)))}function Sf(e){return t=>Ie.createElement(pG,vg({attr:_g({},e.attr)},t),aO(e.child))}function pG(e){var t=n=>{var{attr:i,size:s,title:a}=e,l=cG(e,lG),c=s||n.size||"1em",h;return n.className&&(h=n.className),e.className&&(h=(h?h+" ":"")+e.className),Ie.createElement("svg",vg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:h,style:_g(_g({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Ie.createElement("title",null,a),e.children)};return f1!==void 0?Ie.createElement(f1.Consumer,null,n=>t(n)):t(rO)}function oO(e){return Sf({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function gG(e){return Sf({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function mG(e){return Sf({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function yG(e){return Sf({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function vG(e){return Sf({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function _G(){const[e,t]=I.useState([{id:1,name:"",sets:[{id:1,reps:"",weight:""}]}]),[n,i]=I.useState(""),[s,a]=I.useState(new Date().toISOString().split("T")[0]),[l,c]=I.useState(null),[h,f]=I.useState([]),[p,y]=I.useState(!1),[_,b]=I.useState(null),[T,S]=I.useState(!1),[E,C]=I.useState("");Cs(),I.useEffect(()=>{console.log("Testing exercise matching:",$R("bench"))},[]),I.useEffect(()=>{let L;return T&&(L&&clearTimeout(L),L=setTimeout(()=>{S(!1)},2500)),()=>{L&&clearTimeout(L)}},[T]);const V=()=>{if(e.length>=20){alert("You've reached the maximum limit of 20 exercises per workout");return}const L=Date.now(),N={id:L,name:"",sets:[{id:L+1,reps:"",weight:""}]},rt=[...e,N];t(rt),console.log("Added new exercise, total:",rt.length)},B=L=>{t(e.filter(N=>N.id!==L))},W=L=>{t(e.map(N=>{if(N.id===L){if(N.sets.length>=20)return alert("You've reached the maximum limit of 20 sets per exercise"),N;const rt=N.name&&j(N.name);return{...N,sets:[...N.sets,{id:Date.now(),reps:"",weight:rt?"🏋️‍♀️ bodyweight":""}]}}return N}))},F=(L,N)=>{t(e.map(rt=>rt.id===L?rt.sets.length===1?rt:{...rt,sets:rt.sets.filter(dt=>dt.id!==N)}:rt))},K=(L,N)=>{const rt=e.find($=>$.id===L);if(rt&&rt.name&&j(rt.name)&&!j(N)?t(e.map($=>$.id===L?{...$,name:N,sets:$.sets.map(Z=>Z.weight==="🏋️‍♀️ bodyweight"?{...Z,weight:""}:Z)}:$)):t(e.map($=>$.id===L?{...$,name:N}:$)),N.trim()){const $=$R(N);f($)}else f([])},M=(L,N)=>{console.log("Selected exercise:",N),console.log("Is bodyweight exercise:",j(N)),f([]);const rt=j(N),dt=e.find(Z=>Z.id===L),$=dt&&dt.name&&j(dt.name);t(Z=>Z.map(ot=>ot.id===L?rt?{...ot,name:N,sets:ot.sets.map(Et=>({...Et,weight:"🏋️‍♀️ bodyweight"}))}:$?{...ot,name:N,sets:ot.sets.map(Et=>({...Et,weight:""}))}:{...ot,name:N}:ot))},D=(L,N,rt,dt)=>{if(rt==="reps"){const $=dt.replace(/\D/g,"");t(e.map(Z=>Z.id===L?{...Z,sets:Z.sets.map(ot=>ot.id===N?{...ot,[rt]:$}:ot)}:Z))}else if(rt==="weight"){if(dt==="🏋️‍♀️ bodyweight")return;(dt===""||/^(\d+\.?\d{0,2}|\.\d{1,2})$/.test(dt))&&t(e.map($=>$.id===L?{...$,sets:$.sets.map(Z=>Z.id===N?{...Z,[rt]:dt}:Z)}:$))}else t(e.map($=>$.id===L?{...$,sets:$.sets.map(Z=>Z.id===N?{...Z,[rt]:dt}:Z)}:$))},P=L=>{if(L.key==="Enter"){L.preventDefault();const N=L.target.form,rt=Array.from(N.elements).indexOf(L.target),dt=N.elements[rt+1];dt&&dt.focus()}},j=L=>L?kM.some(N=>N.toLowerCase()===L.toLowerCase()):!1,U=async L=>{if(L.preventDefault(),!(p||T)){b(null),y(!0);try{const N=ci.currentUser;if(!N){b("You must be logged in to save a workout"),y(!1);return}if(e.some(Z=>!Z.name.trim())){b("Please provide a name for all exercises"),y(!1);return}if(e.some(Z=>Z.sets.some(ot=>!ot.reps))){b("Please provide reps for all sets"),y(!1);return}const rt={name:n||`Workout ${new Date().toLocaleDateString()}`,date:s,timestamp:Date.now(),exercises:e.map(Z=>({name:Z.name,sets:Z.sets.map(ot=>({reps:ot.reps,weight:ot.weight||(j(Z.name)?"🏋️‍♀️ bodyweight":"")}))}))},dt=Ss(Es,"users",N.uid);await Wg(dt,{workouts:fP(rt)}),C("Great job! Workout saved successfully!"),y(!1),S(!0);const $=setTimeout(()=>{i(""),a(new Date().toISOString().split("T")[0]),t([{id:Date.now(),name:"",sets:[{id:Date.now(),reps:"",weight:""}]}])},2e3);return()=>clearTimeout($)}catch(N){console.error("Error saving workout:",N),b("Error saving workout. Please try again."),y(!1)}}};return R.jsxs("div",{className:"log-workout-container",children:[R.jsx("h1",{children:"Log Workout"}),R.jsxs("form",{onSubmit:U,children:[R.jsxs("div",{className:"form-header",children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"workoutName",children:"Workout Name"}),R.jsx("input",{type:"text",id:"workoutName",value:n,onChange:L=>i(L.target.value),placeholder:"Enter workout name"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"workoutDate",children:"Date"}),R.jsx("input",{type:"date",id:"workoutDate",value:s,onChange:L=>a(L.target.value),max:new Date().toISOString().split("T")[0]})]})]}),R.jsx("div",{className:"exercises-container",children:e.map((L,N)=>R.jsxs("div",{className:"exercise-item",children:[R.jsxs("div",{className:"exercise-header",children:[R.jsxs("h3",{children:["Exercise ",N+1]}),R.jsx("button",{type:"button",onClick:()=>B(L.id),className:"remove-btn",children:"Remove"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:`exercise-${L.id}`,children:"Exercise Name"}),R.jsxs("div",{className:"exercise-name-input-container",children:[R.jsx("input",{type:"text",id:`exercise-${L.id}`,value:L.name,onChange:rt=>K(L.id,rt.target.value),placeholder:"Enter exercise name",onFocus:()=>c(L.id),onBlur:()=>{setTimeout(()=>{c(null),f([])},200)},autoComplete:"off"}),l===L.id&&h.length>0&&R.jsx("div",{className:"suggestions-list",children:h.map((rt,dt)=>R.jsx("div",{className:"suggestion-item",onClick:()=>M(L.id,rt),children:rt},dt))})]})]}),R.jsxs("div",{className:"sets-container",children:[R.jsx("h4",{children:"Sets"}),L.sets.map((rt,dt)=>R.jsxs("div",{className:"set-item",children:[R.jsxs("div",{className:"set-header",children:[R.jsxs("span",{children:["Set ",dt+1]}),R.jsx("button",{type:"button",onClick:()=>F(L.id,rt.id),className:"remove-btn",disabled:L.sets.length===1,children:"Remove"})]}),R.jsxs("div",{className:"set-inputs",children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:`reps-${L.id}-${rt.id}`,children:"Reps"}),R.jsx("input",{type:"number",id:`reps-${L.id}-${rt.id}`,value:rt.reps,onChange:$=>D(L.id,rt.id,"reps",$.target.value),onKeyDown:P,placeholder:"e.g., 10",min:"1",step:"1",required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:`weight-${L.id}-${rt.id}`,children:"Weight (optional)"}),R.jsx("input",{type:"text",id:`weight-${L.id}-${rt.id}`,value:rt.weight,onChange:$=>D(L.id,rt.id,"weight",$.target.value),onKeyDown:P,placeholder:"e.g., 135 or leave empty",required:!1,readOnly:rt.weight==="🏋️‍♀️ bodyweight",className:rt.weight==="🏋️‍♀️ bodyweight"?"bodyweight-input":""})]})]})]},rt.id)),R.jsx("button",{type:"button",onClick:()=>W(L.id),className:"add-set-btn",disabled:L.sets.length>=20,title:L.sets.length>=20?"Maximum 20 sets per exercise":"Add another set",children:"Add Set"})]})]},L.id))}),R.jsxs("div",{className:"form-actions",children:[R.jsx("button",{type:"button",onClick:V,className:"add-exercise-btn",disabled:p||e.length>=20,title:e.length>=20?"Maximum 20 exercises per workout":"Add a new exercise",children:"Add Exercise"}),R.jsx("button",{type:"submit",className:`save-workout-btn ${p?"saving":""}`,disabled:p,children:p?"Saving...":"Save Workout"})]})]}),R.jsx(Nq,{mode:"wait",children:T&&R.jsxs(Yo.div,{className:"success-message",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3,type:"spring",stiffness:200,damping:20},children:[R.jsx(Yo.div,{className:"success-icon",initial:{scale:0,rotate:-45},animate:{scale:1,rotate:0},transition:{duration:.5,type:"spring",stiffness:260,damping:20},children:R.jsx(gG,{size:40,strokeWidth:3})}),R.jsx(Yo.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:E})]},"success-message")}),_&&R.jsx("div",{className:"error-message",children:R.jsx("p",{children:_})})]})}function Xc(){return R.jsx("div",{className:"loading-spinner-container",children:R.jsx("div",{className:"loading-spinner"})})}function bG(){const[e,t]=I.useState([]),[n,i]=I.useState(!0),[s,a]=I.useState(null),[l,c]=I.useState(null),[h,f]=I.useState(!1),p=pr(),y=async()=>{var E;try{i(!0);const C=ci.currentUser;if(!C){a("You must be logged in to view workout history"),i(!1);return}const V=Ss(Es,"users",C.uid),B=await hr(V);if(B.exists()){const W=B.data(),F=W.workouts?[...W.workouts]:[];F.sort((M,D)=>{const P=L=>{if(typeof L=="string"&&L.match(/^\d{4}-\d{2}-\d{2}$/)){const[N,rt,dt]=L.split("-").map(Number);return new Date(N,rt-1,dt)}return typeof L=="object"&&L.seconds?new Date(L.seconds*1e3):new Date(L)},j=P(M.date);return P(D.date)-j});const K=F.map((M,D)=>({...M,id:D.toString()}));if(t(K),(E=p.state)!=null&&E.selectedWorkout){const M=p.state.selectedWorkout,D=K.find(P=>P.name===M.name&&T(P.date)===T(M.date));D&&(c(D.id),setTimeout(()=>{const P=document.getElementById(`workout-${D.id}`);P&&P.scrollIntoView({behavior:"smooth",block:"center"})},100))}}else t([]);i(!1)}catch(C){console.error("Error fetching workouts:",C),a("Failed to load workout history"),i(!1)}};I.useEffect(()=>{y()},[]);const _=E=>{c(l===E?null:E)},b=async(E,C)=>{if(E.stopPropagation(),!h&&window.confirm("Are you sure you want to delete this workout?"))try{f(!0);const V=ci.currentUser;if(!V)return;const B=e.find(P=>P.id===C);if(!B)return;const W=e.filter(P=>P.id!==C),{id:F,...K}=B,M=Ss(Es,"users",V.uid),D=await hr(M);if(D.exists()){const j=D.data().workouts.filter(U=>{var L,N;return!(U.name===K.name&&T(U.date)===T(K.date)&&((L=U.exercises)==null?void 0:L.length)===((N=K.exercises)==null?void 0:N.length))});await Wg(M,{workouts:j}),t(W),l===C&&c(null)}f(!1)}catch(V){console.error("Error deleting workout:",V),alert("Failed to delete workout. Please try again."),f(!1)}},T=E=>{if(!E)return"Unknown Date";if(typeof E=="string"&&E.match(/^\d{4}-\d{2}-\d{2}$/)){const[C,V,B]=E.split("-");return`${V}/${B}/${C}`}if(typeof E=="object"&&E.seconds)return new Date(E.seconds*1e3).toLocaleDateString();try{return new Date(E).toLocaleDateString()}catch{return E}},S=E=>!E||!Array.isArray(E)?0:E.reduce((C,V)=>{var B;return C+(((B=V.sets)==null?void 0:B.length)||0)},0);return n?R.jsx(Xc,{}):s?R.jsx("div",{className:"workout-history-container error",children:s}):e.length===0?R.jsxs("div",{className:"workout-history-container empty",children:[R.jsx("h2",{children:"Workout History"}),R.jsx("p",{children:"You haven't logged any workouts yet. Start by logging a workout!"})]}):R.jsxs("div",{className:"workout-history-container",children:[R.jsx("h2",{children:"Workout History"}),R.jsx("div",{className:"workout-cards",children:e.map(E=>{var C;return R.jsxs("div",{id:`workout-${E.id}`,className:`workout-card ${l===E.id?"expanded":""}`,onClick:()=>_(E.id),children:[R.jsxs("div",{className:"workout-card-header",children:[R.jsxs("div",{className:"workout-card-title",children:[R.jsx("h3",{children:E.name||"Untitled Workout"}),R.jsx("span",{className:"workout-date",children:T(E.date)})]}),R.jsxs("div",{className:"workout-card-actions",children:[R.jsxs("div",{className:"workout-card-summary",children:[R.jsxs("span",{children:[((C=E.exercises)==null?void 0:C.length)||0," Exercises"]}),R.jsxs("span",{children:[S(E.exercises)," Sets"]})]}),R.jsx("button",{className:"delete-workout-btn",onClick:V=>b(V,E.id),disabled:h,children:R.jsx("span",{className:"delete-icon",children:"×"})})]})]}),l===E.id&&R.jsx("div",{className:"workout-details",children:E.exercises&&E.exercises.map((V,B)=>R.jsxs("div",{className:"exercise-details",children:[R.jsx("h4",{children:V.name}),R.jsxs("div",{className:"sets-table",children:[R.jsxs("div",{className:"sets-table-header",children:[R.jsx("div",{className:"set-number",children:"Set"}),R.jsx("div",{className:"set-reps",children:"Reps"}),R.jsx("div",{className:"set-weight",children:"Weight"})]}),V.sets&&V.sets.map((W,F)=>R.jsxs("div",{className:"set-row",children:[R.jsx("div",{className:"set-number",children:F+1}),R.jsx("div",{className:"set-reps",children:W.reps}),R.jsx("div",{className:"set-weight",children:W.weight==="bodyweight"||W.weight==="BW"||W.weight==="🏋️‍♀️ bodyweight"||V.name.includes("(Bodyweight)")?"🏋️‍♀️ bodyweight":W.weight})]},F))]})]},B))})]},E.id)})})]})}function wG(){const[e,t]=I.useState([]),[n,i]=I.useState(!0),[s,a]=I.useState(null),l=Cs();I.useEffect(()=>{(async()=>{try{i(!0);const f=ci.currentUser;if(!f){a("You must be logged in to view progress data"),i(!1);return}const p=Ss(Es,"users",f.uid),y=await hr(p);if(y.exists()){const _=y.data();t(_.workouts||[])}else t([]);i(!1)}catch(f){console.error("Error fetching workout data:",f),a("Failed to load progress data"),i(!1)}})()},[]);const c=h=>{l(h)};return n?R.jsx(Xc,{}):s?R.jsx("div",{className:"progress-tracker-container error",children:s}):R.jsxs("div",{className:"progress-tracker-container",children:[R.jsx("h2",{children:"Progress Tracker"}),R.jsxs("div",{className:"progress-cards",children:[R.jsx("div",{className:"progress-card strength",onClick:()=>c("/strength-progress"),children:R.jsx("h3",{children:"Strength Progress"})}),R.jsx("div",{className:"progress-card weight",onClick:()=>c("/weight-progress"),children:R.jsx("h3",{children:"Weight Progress"})})]})]})}function TG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SG(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function EG(e,t,n){return t&&SG(e.prototype,t),e}function xG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s0(){return s0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s0.apply(this,arguments)}function AG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a0(e,t)}function r0(e){return r0=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},r0(e)}function a0(e,t){return a0=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},a0(e,t)}function lO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RG(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:lO(e)}function Xv(e,t){return CG(e)||DG(e,t)||kG()}function CG(e){if(Array.isArray(e))return e}function DG(e,t){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]"){var n=[],i=!0,s=!1,a=void 0;try{for(var l=e[Symbol.iterator](),c;!(i=(c=l.next()).done)&&(n.push(c.value),!(t&&n.length===t));i=!0);}catch(h){s=!0,a=h}finally{try{!i&&l.return!=null&&l.return()}finally{if(s)throw a}}return n}}function kG(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function PG(e,t){return t={exports:{}},e(t,t.exports),t.exports}var MG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",IG=MG;function cO(){}function uO(){}uO.resetWarningCache=cO;var OG=function(){function e(i,s,a,l,c,h){if(h!==IG){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:uO,resetWarningCache:cO};return n.PropTypes=n,n},fe=PG(function(e){e.exports=OG()});function NG(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function LG(e,t){t===void 0&&(t=NG);var n,i=[],s,a=!1;function l(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];return a&&n===this&&t(c,i)||(s=e.apply(this,c),a=!0,n=this,i=c),s}return l}var p1=24*60*60*1e3,Io=7,VG=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],BG=["","Mon","","Wed","","Fri",""];function Np(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n}function jG(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function Qv(e){return e instanceof Date?e:new Date(e)}function UG(e){return Np(new Date,-200)}function Zv(e){for(var t=[],n=0;n<e;n+=1)t.push(n);return t}var Ws=10,dp=4,Oo="react-calendar-heatmap-",yw=function(e){AG(t,e);function t(){var n,i;TG(this,t);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return i=RG(this,(n=r0(t)).call.apply(n,[this].concat(a))),xG(lO(i),"getValueCache",LG(function(c){return c.values.reduce(function(h,f){var p=Qv(f.date),y=Math.floor((p-i.getStartDateWithEmptyDays())/p1);return h[y]={value:f,className:i.props.classForValue(f),title:i.props.titleForValue?i.props.titleForValue(f):null,tooltipDataAttrs:i.getTooltipDataAttrsForValue(f)},h},{})})),i}return EG(t,[{key:"getDateDifferenceInDays",value:function(){var i=this.props,s=i.startDate,a=i.numDays;if(a)return console.warn("numDays is a deprecated prop. It will be removed in the next release. Consider using the startDate prop instead."),a;var l=this.getEndDate()-Qv(s);return Math.ceil(l/p1)}},{key:"getSquareSizeWithGutter",value:function(){return Ws+this.props.gutterSize}},{key:"getMonthLabelSize",value:function(){return this.props.showMonthLabels?this.props.horizontal?Ws+dp:2*(Ws+dp):0}},{key:"getWeekdayLabelSize",value:function(){return this.props.showWeekdayLabels?this.props.horizontal?30:Ws*1.5:0}},{key:"getStartDate",value:function(){return Np(this.getEndDate(),-this.getDateDifferenceInDays()+1)}},{key:"getEndDate",value:function(){return jG(Qv(this.props.endDate))}},{key:"getStartDateWithEmptyDays",value:function(){return Np(this.getStartDate(),-this.getNumEmptyDaysAtStart())}},{key:"getNumEmptyDaysAtStart",value:function(){return this.getStartDate().getDay()}},{key:"getNumEmptyDaysAtEnd",value:function(){return Io-1-this.getEndDate().getDay()}},{key:"getWeekCount",value:function(){var i=this.getDateDifferenceInDays()+this.getNumEmptyDaysAtStart()+this.getNumEmptyDaysAtEnd();return Math.ceil(i/Io)}},{key:"getWeekWidth",value:function(){return Io*this.getSquareSizeWithGutter()}},{key:"getWidth",value:function(){return this.getWeekCount()*this.getSquareSizeWithGutter()-(this.props.gutterSize-this.getWeekdayLabelSize())}},{key:"getHeight",value:function(){return this.getWeekWidth()+(this.getMonthLabelSize()-this.props.gutterSize)+this.getWeekdayLabelSize()}},{key:"getValueForIndex",value:function(i){return this.valueCache[i]?this.valueCache[i].value:null}},{key:"getClassNameForIndex",value:function(i){return this.valueCache[i]?this.valueCache[i].className:this.props.classForValue(null)}},{key:"getTitleForIndex",value:function(i){return this.valueCache[i]?this.valueCache[i].title:this.props.titleForValue?this.props.titleForValue(null):null}},{key:"getTooltipDataAttrsForIndex",value:function(i){return this.valueCache[i]?this.valueCache[i].tooltipDataAttrs:this.getTooltipDataAttrsForValue({date:null,count:null})}},{key:"getTooltipDataAttrsForValue",value:function(i){var s=this.props.tooltipDataAttrs;return typeof s=="function"?s(i):s}},{key:"getTransformForWeek",value:function(i){return this.props.horizontal?"translate(".concat(i*this.getSquareSizeWithGutter(),", 0)"):"translate(0, ".concat(i*this.getSquareSizeWithGutter(),")")}},{key:"getTransformForWeekdayLabels",value:function(){return this.props.horizontal?"translate(".concat(Ws,", ").concat(this.getMonthLabelSize(),")"):null}},{key:"getTransformForMonthLabels",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", 0)"):"translate(".concat(this.getWeekWidth()+dp,", ").concat(this.getWeekdayLabelSize(),")")}},{key:"getTransformForAllWeeks",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", ").concat(this.getMonthLabelSize(),")"):"translate(0, ".concat(this.getWeekdayLabelSize(),")")}},{key:"getViewBox",value:function(){return this.props.horizontal?"0 0 ".concat(this.getWidth()," ").concat(this.getHeight()):"0 0 ".concat(this.getHeight()," ").concat(this.getWidth())}},{key:"getSquareCoordinates",value:function(i){return this.props.horizontal?[0,i*this.getSquareSizeWithGutter()]:[i*this.getSquareSizeWithGutter(),0]}},{key:"getWeekdayLabelCoordinates",value:function(i){return this.props.horizontal?[0,(i+1)*Ws+i*this.props.gutterSize]:[i*Ws+i*this.props.gutterSize,Ws]}},{key:"getMonthLabelCoordinates",value:function(i){if(this.props.horizontal)return[i*this.getSquareSizeWithGutter(),this.getMonthLabelSize()-dp];var s=-2;return[0,(i+1)*this.getSquareSizeWithGutter()+s]}},{key:"handleClick",value:function(i){this.props.onClick&&this.props.onClick(i)}},{key:"handleMouseOver",value:function(i,s){this.props.onMouseOver&&this.props.onMouseOver(i,s)}},{key:"handleMouseLeave",value:function(i,s){this.props.onMouseLeave&&this.props.onMouseLeave(i,s)}},{key:"renderSquare",value:function(i,s){var a=this,l=s<this.getNumEmptyDaysAtStart()||s>=this.getNumEmptyDaysAtStart()+this.getDateDifferenceInDays();if(l&&!this.props.showOutOfRangeDays)return null;var c=this.getSquareCoordinates(i),h=Xv(c,2),f=h[0],p=h[1],y=this.getValueForIndex(s),_=Ie.createElement("rect",s0({key:s,width:Ws,height:Ws,x:f,y:p,className:this.getClassNameForIndex(s),onClick:function(){return a.handleClick(y)},onMouseOver:function(S){return a.handleMouseOver(S,y)},onMouseLeave:function(S){return a.handleMouseLeave(S,y)}},this.getTooltipDataAttrsForIndex(s)),Ie.createElement("title",null,this.getTitleForIndex(s))),b=this.props.transformDayElement;return b?b(_,y,s):_}},{key:"renderWeek",value:function(i){var s=this;return Ie.createElement("g",{key:i,transform:this.getTransformForWeek(i),className:"".concat(Oo,"week")},Zv(Io).map(function(a){return s.renderSquare(a,i*Io+a)}))}},{key:"renderAllWeeks",value:function(){var i=this;return Zv(this.getWeekCount()).map(function(s){return i.renderWeek(s)})}},{key:"renderMonthLabels",value:function(){var i=this;if(!this.props.showMonthLabels)return null;var s=Zv(this.getWeekCount()-1);return s.map(function(a){var l=Np(i.getStartDateWithEmptyDays(),(a+1)*Io),c=i.getMonthLabelCoordinates(a),h=Xv(c,2),f=h[0],p=h[1];return l.getDate()>=1&&l.getDate()<=Io?Ie.createElement("text",{key:a,x:f,y:p,className:"".concat(Oo,"month-label")},i.props.monthLabels[l.getMonth()]):null})}},{key:"renderWeekdayLabels",value:function(){var i=this;return this.props.showWeekdayLabels?this.props.weekdayLabels.map(function(s,a){var l=i.getWeekdayLabelCoordinates(a),c=Xv(l,2),h=c[0],f=c[1],p="".concat(i.props.horizontal?"":"".concat(Oo,"small-text")," ").concat(Oo,"weekday-label");return a&1?Ie.createElement("text",{key:"".concat(h).concat(f),x:h,y:f,className:p},s):null}):null}},{key:"render",value:function(){return this.valueCache=this.getValueCache(this.props),Ie.createElement("svg",{className:"react-calendar-heatmap",viewBox:this.getViewBox()},Ie.createElement("g",{transform:this.getTransformForMonthLabels(),className:"".concat(Oo,"month-labels")},this.renderMonthLabels()),Ie.createElement("g",{transform:this.getTransformForAllWeeks(),className:"".concat(Oo,"all-weeks")},this.renderAllWeeks()),Ie.createElement("g",{transform:this.getTransformForWeekdayLabels(),className:"".concat(Oo,"weekday-labels")},this.renderWeekdayLabels()))}}]),t}(Ie.Component);yw.propTypes={values:fe.arrayOf(fe.shape({date:fe.oneOfType([fe.string,fe.number,fe.instanceOf(Date)]).isRequired}).isRequired).isRequired,numDays:fe.number,startDate:fe.oneOfType([fe.string,fe.number,fe.instanceOf(Date)]),endDate:fe.oneOfType([fe.string,fe.number,fe.instanceOf(Date)]),gutterSize:fe.number,horizontal:fe.bool,showMonthLabels:fe.bool,showWeekdayLabels:fe.bool,showOutOfRangeDays:fe.bool,tooltipDataAttrs:fe.oneOfType([fe.object,fe.func]),titleForValue:fe.func,classForValue:fe.func,monthLabels:fe.arrayOf(fe.string),weekdayLabels:fe.arrayOf(fe.string),onClick:fe.func,onMouseOver:fe.func,onMouseLeave:fe.func,transformDayElement:fe.func};yw.defaultProps={numDays:null,startDate:UG(),endDate:new Date,gutterSize:1,horizontal:!0,showMonthLabels:!0,showWeekdayLabels:!1,showOutOfRangeDays:!1,tooltipDataAttrs:null,titleForValue:null,classForValue:function(t){return t?"color-filled":"color-empty"},monthLabels:VG,weekdayLabels:BG,onClick:null,onMouseOver:null,onMouseLeave:null,transformDayElement:null};const Nc=Math.min,Xo=Math.max,bg=Math.round,pp=Math.floor,ar=e=>({x:e,y:e}),FG={left:"right",right:"left",bottom:"top",top:"bottom"},zG={start:"end",end:"start"};function o0(e,t,n){return Xo(e,Nc(t,n))}function Ef(e,t){return typeof e=="function"?e(t):e}function sl(e){return e.split("-")[0]}function xf(e){return e.split("-")[1]}function hO(e){return e==="x"?"y":"x"}function vw(e){return e==="y"?"height":"width"}function Lc(e){return["top","bottom"].includes(sl(e))?"y":"x"}function _w(e){return hO(Lc(e))}function HG(e,t,n){n===void 0&&(n=!1);const i=xf(e),s=_w(e),a=vw(s);let l=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=wg(l)),[l,wg(l)]}function qG(e){const t=wg(e);return[l0(e),t,l0(t)]}function l0(e){return e.replace(/start|end/g,t=>zG[t])}function WG(e,t,n){const i=["left","right"],s=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:i:t?i:s;case"left":case"right":return t?a:l;default:return[]}}function $G(e,t,n,i){const s=xf(e);let a=WG(sl(e),n==="start",i);return s&&(a=a.map(l=>l+"-"+s),t&&(a=a.concat(a.map(l0)))),a}function wg(e){return e.replace(/left|right|bottom|top/g,t=>FG[t])}function GG(e){return{top:0,right:0,bottom:0,left:0,...e}}function fO(e){return typeof e!="number"?GG(e):{top:e,right:e,bottom:e,left:e}}function Tg(e){const{x:t,y:n,width:i,height:s}=e;return{width:i,height:s,top:n,left:t,right:t+i,bottom:n+s,x:t,y:n}}function g1(e,t,n){let{reference:i,floating:s}=e;const a=Lc(t),l=_w(t),c=vw(l),h=sl(t),f=a==="y",p=i.x+i.width/2-s.width/2,y=i.y+i.height/2-s.height/2,_=i[c]/2-s[c]/2;let b;switch(h){case"top":b={x:p,y:i.y-s.height};break;case"bottom":b={x:p,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y};break;case"left":b={x:i.x-s.width,y};break;default:b={x:i.x,y:i.y}}switch(xf(t)){case"start":b[l]-=_*(n&&f?-1:1);break;case"end":b[l]+=_*(n&&f?-1:1);break}return b}const KG=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:a=[],platform:l}=n,c=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y}=g1(f,i,h),_=i,b={},T=0;for(let S=0;S<c.length;S++){const{name:E,fn:C}=c[S],{x:V,y:B,data:W,reset:F}=await C({x:p,y,initialPlacement:i,placement:_,strategy:s,middlewareData:b,rects:f,platform:l,elements:{reference:e,floating:t}});p=V??p,y=B??y,b={...b,[E]:{...b[E],...W}},F&&T<=50&&(T++,typeof F=="object"&&(F.placement&&(_=F.placement),F.rects&&(f=F.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):F.rects),{x:p,y}=g1(f,_,h)),S=-1)}return{x:p,y,placement:_,strategy:s,middlewareData:b}};async function dO(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:a,rects:l,elements:c,strategy:h}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:y="floating",altBoundary:_=!1,padding:b=0}=Ef(t,e),T=fO(b),E=c[_?y==="floating"?"reference":"floating":y],C=Tg(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(E)))==null||n?E:E.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:h})),V=y==="floating"?{x:i,y:s,width:l.floating.width,height:l.floating.height}:l.reference,B=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),W=await(a.isElement==null?void 0:a.isElement(B))?await(a.getScale==null?void 0:a.getScale(B))||{x:1,y:1}:{x:1,y:1},F=Tg(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:V,offsetParent:B,strategy:h}):V);return{top:(C.top-F.top+T.top)/W.y,bottom:(F.bottom-C.bottom+T.bottom)/W.y,left:(C.left-F.left+T.left)/W.x,right:(F.right-C.right+T.right)/W.x}}const YG=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:s,rects:a,platform:l,elements:c,middlewareData:h}=t,{element:f,padding:p=0}=Ef(e,t)||{};if(f==null)return{};const y=fO(p),_={x:n,y:i},b=_w(s),T=vw(b),S=await l.getDimensions(f),E=b==="y",C=E?"top":"left",V=E?"bottom":"right",B=E?"clientHeight":"clientWidth",W=a.reference[T]+a.reference[b]-_[b]-a.floating[T],F=_[b]-a.reference[b],K=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let M=K?K[B]:0;(!M||!await(l.isElement==null?void 0:l.isElement(K)))&&(M=c.floating[B]||a.floating[T]);const D=W/2-F/2,P=M/2-S[T]/2-1,j=Nc(y[C],P),U=Nc(y[V],P),L=j,N=M-S[T]-U,rt=M/2-S[T]/2+D,dt=o0(L,rt,N),$=!h.arrow&&xf(s)!=null&&rt!==dt&&a.reference[T]/2-(rt<L?j:U)-S[T]/2<0,Z=$?rt<L?rt-L:rt-N:0;return{[b]:_[b]+Z,data:{[b]:dt,centerOffset:rt-dt-Z,...$&&{alignmentOffset:Z}},reset:$}}}),XG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:a,rects:l,initialPlacement:c,platform:h,elements:f}=t,{mainAxis:p=!0,crossAxis:y=!0,fallbackPlacements:_,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:S=!0,...E}=Ef(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const C=sl(s),V=Lc(c),B=sl(c)===c,W=await(h.isRTL==null?void 0:h.isRTL(f.floating)),F=_||(B||!S?[wg(c)]:qG(c)),K=T!=="none";!_&&K&&F.push(...$G(c,S,T,W));const M=[c,...F],D=await dO(t,E),P=[];let j=((i=a.flip)==null?void 0:i.overflows)||[];if(p&&P.push(D[C]),y){const rt=HG(s,l,W);P.push(D[rt[0]],D[rt[1]])}if(j=[...j,{placement:s,overflows:P}],!P.every(rt=>rt<=0)){var U,L;const rt=(((U=a.flip)==null?void 0:U.index)||0)+1,dt=M[rt];if(dt)return{data:{index:rt,overflows:j},reset:{placement:dt}};let $=(L=j.filter(Z=>Z.overflows[0]<=0).sort((Z,ot)=>Z.overflows[1]-ot.overflows[1])[0])==null?void 0:L.placement;if(!$)switch(b){case"bestFit":{var N;const Z=(N=j.filter(ot=>{if(K){const Et=Lc(ot.placement);return Et===V||Et==="y"}return!0}).map(ot=>[ot.placement,ot.overflows.filter(Et=>Et>0).reduce((Et,z)=>Et+z,0)]).sort((ot,Et)=>ot[1]-Et[1])[0])==null?void 0:N[0];Z&&($=Z);break}case"initialPlacement":$=c;break}if(s!==$)return{reset:{placement:$}}}return{}}}};async function QG(e,t){const{placement:n,platform:i,elements:s}=e,a=await(i.isRTL==null?void 0:i.isRTL(s.floating)),l=sl(n),c=xf(n),h=Lc(n)==="y",f=["left","top"].includes(l)?-1:1,p=a&&h?-1:1,y=Ef(t,e);let{mainAxis:_,crossAxis:b,alignmentAxis:T}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof T=="number"&&(b=c==="end"?T*-1:T),h?{x:b*p,y:_*f}:{x:_*f,y:b*p}}const ZG=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:a,placement:l,middlewareData:c}=t,h=await QG(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:s+h.x,y:a+h.y,data:{...h,placement:l}}}}},JG=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:E=>{let{x:C,y:V}=E;return{x:C,y:V}}},...h}=Ef(e,t),f={x:n,y:i},p=await dO(t,h),y=Lc(sl(s)),_=hO(y);let b=f[_],T=f[y];if(a){const E=_==="y"?"top":"left",C=_==="y"?"bottom":"right",V=b+p[E],B=b-p[C];b=o0(V,b,B)}if(l){const E=y==="y"?"top":"left",C=y==="y"?"bottom":"right",V=T+p[E],B=T-p[C];T=o0(V,T,B)}const S=c.fn({...t,[_]:b,[y]:T});return{...S,data:{x:S.x-n,y:S.y-i,enabled:{[_]:a,[y]:l}}}}}};function sm(){return typeof window<"u"}function Qc(e){return pO(e)?(e.nodeName||"").toLowerCase():"#document"}function ji(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gr(e){var t;return(t=(pO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function pO(e){return sm()?e instanceof Node||e instanceof ji(e).Node:!1}function xs(e){return sm()?e instanceof Element||e instanceof ji(e).Element:!1}function fr(e){return sm()?e instanceof HTMLElement||e instanceof ji(e).HTMLElement:!1}function m1(e){return!sm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ji(e).ShadowRoot}function Af(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=As(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(s)}function tK(e){return["table","td","th"].includes(Qc(e))}function rm(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function bw(e){const t=ww(),n=xs(e)?As(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function eK(e){let t=Xa(e);for(;fr(t)&&!Vc(t);){if(bw(t))return t;if(rm(t))return null;t=Xa(t)}return null}function ww(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vc(e){return["html","body","#document"].includes(Qc(e))}function As(e){return ji(e).getComputedStyle(e)}function am(e){return xs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xa(e){if(Qc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||m1(e)&&e.host||gr(e);return m1(t)?t.host:t}function gO(e){const t=Xa(e);return Vc(t)?e.ownerDocument?e.ownerDocument.body:e.body:fr(t)&&Af(t)?t:gO(t)}function sf(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=gO(e),a=s===((i=e.ownerDocument)==null?void 0:i.body),l=ji(s);if(a){const c=c0(l);return t.concat(l,l.visualViewport||[],Af(s)?s:[],c&&n?sf(c):[])}return t.concat(s,sf(s,[],n))}function c0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mO(e){const t=As(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=fr(e),a=s?e.offsetWidth:n,l=s?e.offsetHeight:i,c=bg(n)!==a||bg(i)!==l;return c&&(n=a,i=l),{width:n,height:i,$:c}}function Tw(e){return xs(e)?e:e.contextElement}function bc(e){const t=Tw(e);if(!fr(t))return ar(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:a}=mO(t);let l=(a?bg(n.width):n.width)/i,c=(a?bg(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const nK=ar(0);function yO(e){const t=ji(e);return!ww()||!t.visualViewport?nK:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function iK(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ji(e)?!1:t}function rl(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=Tw(e);let l=ar(1);t&&(i?xs(i)&&(l=bc(i)):l=bc(e));const c=iK(a,n,i)?yO(a):ar(0);let h=(s.left+c.x)/l.x,f=(s.top+c.y)/l.y,p=s.width/l.x,y=s.height/l.y;if(a){const _=ji(a),b=i&&xs(i)?ji(i):i;let T=_,S=c0(T);for(;S&&i&&b!==T;){const E=bc(S),C=S.getBoundingClientRect(),V=As(S),B=C.left+(S.clientLeft+parseFloat(V.paddingLeft))*E.x,W=C.top+(S.clientTop+parseFloat(V.paddingTop))*E.y;h*=E.x,f*=E.y,p*=E.x,y*=E.y,h+=B,f+=W,T=ji(S),S=c0(T)}}return Tg({width:p,height:y,x:h,y:f})}function Sw(e,t){const n=am(e).scrollLeft;return t?t.left+n:rl(gr(e)).left+n}function vO(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=i.left+t.scrollLeft-(n?0:Sw(e,i)),a=i.top+t.scrollTop;return{x:s,y:a}}function sK(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const a=s==="fixed",l=gr(i),c=t?rm(t.floating):!1;if(i===l||c&&a)return n;let h={scrollLeft:0,scrollTop:0},f=ar(1);const p=ar(0),y=fr(i);if((y||!y&&!a)&&((Qc(i)!=="body"||Af(l))&&(h=am(i)),fr(i))){const b=rl(i);f=bc(i),p.x=b.x+i.clientLeft,p.y=b.y+i.clientTop}const _=l&&!y&&!a?vO(l,h,!0):ar(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-h.scrollLeft*f.x+p.x+_.x,y:n.y*f.y-h.scrollTop*f.y+p.y+_.y}}function rK(e){return Array.from(e.getClientRects())}function aK(e){const t=gr(e),n=am(e),i=e.ownerDocument.body,s=Xo(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=Xo(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let l=-n.scrollLeft+Sw(e);const c=-n.scrollTop;return As(i).direction==="rtl"&&(l+=Xo(t.clientWidth,i.clientWidth)-s),{width:s,height:a,x:l,y:c}}function oK(e,t){const n=ji(e),i=gr(e),s=n.visualViewport;let a=i.clientWidth,l=i.clientHeight,c=0,h=0;if(s){a=s.width,l=s.height;const f=ww();(!f||f&&t==="fixed")&&(c=s.offsetLeft,h=s.offsetTop)}return{width:a,height:l,x:c,y:h}}function lK(e,t){const n=rl(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,a=fr(e)?bc(e):ar(1),l=e.clientWidth*a.x,c=e.clientHeight*a.y,h=s*a.x,f=i*a.y;return{width:l,height:c,x:h,y:f}}function y1(e,t,n){let i;if(t==="viewport")i=oK(e,n);else if(t==="document")i=aK(gr(e));else if(xs(t))i=lK(t,n);else{const s=yO(e);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Tg(i)}function _O(e,t){const n=Xa(e);return n===t||!xs(n)||Vc(n)?!1:As(n).position==="fixed"||_O(n,t)}function cK(e,t){const n=t.get(e);if(n)return n;let i=sf(e,[],!1).filter(c=>xs(c)&&Qc(c)!=="body"),s=null;const a=As(e).position==="fixed";let l=a?Xa(e):e;for(;xs(l)&&!Vc(l);){const c=As(l),h=bw(l);!h&&c.position==="fixed"&&(s=null),(a?!h&&!s:!h&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Af(l)&&!h&&_O(e,l))?i=i.filter(p=>p!==l):s=c,l=Xa(l)}return t.set(e,i),i}function uK(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const l=[...n==="clippingAncestors"?rm(t)?[]:cK(t,this._c):[].concat(n),i],c=l[0],h=l.reduce((f,p)=>{const y=y1(t,p,s);return f.top=Xo(y.top,f.top),f.right=Nc(y.right,f.right),f.bottom=Nc(y.bottom,f.bottom),f.left=Xo(y.left,f.left),f},y1(t,c,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function hK(e){const{width:t,height:n}=mO(e);return{width:t,height:n}}function fK(e,t,n){const i=fr(t),s=gr(t),a=n==="fixed",l=rl(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const h=ar(0);if(i||!i&&!a)if((Qc(t)!=="body"||Af(s))&&(c=am(t)),i){const _=rl(t,!0,a,t);h.x=_.x+t.clientLeft,h.y=_.y+t.clientTop}else s&&(h.x=Sw(s));const f=s&&!i&&!a?vO(s,c):ar(0),p=l.left+c.scrollLeft-h.x-f.x,y=l.top+c.scrollTop-h.y-f.y;return{x:p,y,width:l.width,height:l.height}}function Jv(e){return As(e).position==="static"}function v1(e,t){if(!fr(e)||As(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return gr(e)===n&&(n=n.ownerDocument.body),n}function bO(e,t){const n=ji(e);if(rm(e))return n;if(!fr(e)){let s=Xa(e);for(;s&&!Vc(s);){if(xs(s)&&!Jv(s))return s;s=Xa(s)}return n}let i=v1(e,t);for(;i&&tK(i)&&Jv(i);)i=v1(i,t);return i&&Vc(i)&&Jv(i)&&!bw(i)?n:i||eK(e)||n}const dK=async function(e){const t=this.getOffsetParent||bO,n=this.getDimensions,i=await n(e.floating);return{reference:fK(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function pK(e){return As(e).direction==="rtl"}const gK={convertOffsetParentRelativeRectToViewportRelativeRect:sK,getDocumentElement:gr,getClippingRect:uK,getOffsetParent:bO,getElementRects:dK,getClientRects:rK,getDimensions:hK,getScale:bc,isElement:xs,isRTL:pK};function wO(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function mK(e,t){let n=null,i;const s=gr(e);function a(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function l(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),a();const f=e.getBoundingClientRect(),{left:p,top:y,width:_,height:b}=f;if(c||t(),!_||!b)return;const T=pp(y),S=pp(s.clientWidth-(p+_)),E=pp(s.clientHeight-(y+b)),C=pp(p),B={rootMargin:-T+"px "+-S+"px "+-E+"px "+-C+"px",threshold:Xo(0,Nc(1,h))||1};let W=!0;function F(K){const M=K[0].intersectionRatio;if(M!==h){if(!W)return l();M?l(!1,M):i=setTimeout(()=>{l(!1,1e-7)},1e3)}M===1&&!wO(f,e.getBoundingClientRect())&&l(),W=!1}try{n=new IntersectionObserver(F,{...B,root:s.ownerDocument})}catch{n=new IntersectionObserver(F,B)}n.observe(e)}return l(!0),a}function yK(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,f=Tw(e),p=s||a?[...f?sf(f):[],...sf(t)]:[];p.forEach(C=>{s&&C.addEventListener("scroll",n,{passive:!0}),a&&C.addEventListener("resize",n)});const y=f&&c?mK(f,n):null;let _=-1,b=null;l&&(b=new ResizeObserver(C=>{let[V]=C;V&&V.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var B;(B=b)==null||B.observe(t)})),n()}),f&&!h&&b.observe(f),b.observe(t));let T,S=h?rl(e):null;h&&E();function E(){const C=rl(e);S&&!wO(S,C)&&n(),S=C,T=requestAnimationFrame(E)}return n(),()=>{var C;p.forEach(V=>{s&&V.removeEventListener("scroll",n),a&&V.removeEventListener("resize",n)}),y==null||y(),(C=b)==null||C.disconnect(),b=null,h&&cancelAnimationFrame(T)}}const vK=ZG,_K=JG,bK=XG,wK=YG,_1=(e,t,n)=>{const i=new Map,s={platform:gK,...n},a={...s.platform,_c:i};return KG(e,t,{...s,platform:a})};var t_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var b1;function TK(){return b1||(b1=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=s(a,i(c)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)t.call(a,c)&&a[c]&&(l=s(l,c));return l}function s(a,l){return l?a?a+" "+l:a+l:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(t_)),t_.exports}var SK=TK();const u0=D1(SK);var w1={};const EK="react-tooltip-core-styles",xK="react-tooltip-base-styles",T1={core:!1,base:!1};function S1({css:e,id:t=xK,type:n="base",ref:i}){var s,a;if(!e||typeof document>"u"||T1[n]||n==="core"&&typeof process<"u"&&(!((s=process==null?void 0:w1)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((a=process==null?void 0:w1)===null||a===void 0)&&a.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=EK),i||(i={});const{insertAt:l}=i;if(document.getElementById(t))return;const c=document.head||document.getElementsByTagName("head")[0],h=document.createElement("style");h.id=t,h.type="text/css",l==="top"&&c.firstChild?c.insertBefore(h,c.firstChild):c.appendChild(h),h.styleSheet?h.styleSheet.cssText=e:h.appendChild(document.createTextNode(e)),T1[n]=!0}const E1=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:i="top",offset:s=10,strategy:a="absolute",middlewares:l=[vK(Number(s)),bK({fallbackAxisSideDirection:"start"}),_K({padding:5})],border:c})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};const h=l;return n?(h.push(wK({element:n,padding:5})),_1(e,t,{placement:i,strategy:a,middleware:h}).then(({x:f,y:p,placement:y,middlewareData:_})=>{var b,T;const S={left:`${f}px`,top:`${p}px`,border:c},{x:E,y:C}=(b=_.arrow)!==null&&b!==void 0?b:{x:0,y:0},V=(T={top:"bottom",right:"left",bottom:"top",left:"right"}[y.split("-")[0]])!==null&&T!==void 0?T:"bottom",B=c&&{borderBottom:c,borderRight:c};let W=0;if(c){const F=`${c}`.match(/(\d+)px/);W=F!=null&&F[1]?Number(F[1]):1}return{tooltipStyles:S,tooltipArrowStyles:{left:E!=null?`${E}px`:"",top:C!=null?`${C}px`:"",right:"",bottom:"",...B,[V]:`-${4+W}px`},place:y}})):_1(e,t,{placement:"bottom",strategy:a,middleware:h}).then(({x:f,y:p,placement:y})=>({tooltipStyles:{left:`${f}px`,top:`${p}px`},tooltipArrowStyles:{},place:y}))},x1=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),A1=(e,t,n)=>{let i=null;const s=function(...a){const l=()=>{i=null};!i&&(e.apply(this,a),i=setTimeout(l,t))};return s.cancel=()=>{i&&(clearTimeout(i),i=null)},s},R1=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",h0=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((s,a)=>h0(s,t[a]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!R1(e)||!R1(t))return e===t;const n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(s=>h0(e[s],t[s]))},AK=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const i=t.getPropertyValue(n);return i==="auto"||i==="scroll"})},C1=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(AK(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},RK=typeof window<"u"?I.useLayoutEffect:I.useEffect,is=e=>{e.current&&(clearTimeout(e.current),e.current=null)},CK="DEFAULT_TOOLTIP_ID",DK={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},kK=I.createContext({getTooltipData:()=>DK});function TO(e=CK){return I.useContext(kK).getTooltipData(e)}var nc={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},e_={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const PK=({forwardRef:e,id:t,className:n,classNameArrow:i,variant:s="dark",anchorId:a,anchorSelect:l,place:c="top",offset:h=10,events:f=["hover"],openOnClick:p=!1,positionStrategy:y="absolute",middlewares:_,wrapper:b,delayShow:T=0,delayHide:S=0,float:E=!1,hidden:C=!1,noArrow:V=!1,clickable:B=!1,closeOnEsc:W=!1,closeOnScroll:F=!1,closeOnResize:K=!1,openEvents:M,closeEvents:D,globalCloseEvents:P,imperativeModeOnly:j,style:U,position:L,afterShow:N,afterHide:rt,disableTooltip:dt,content:$,contentWrapperRef:Z,isOpen:ot,defaultIsOpen:Et=!1,setIsOpen:z,activeAnchor:nt,setActiveAnchor:pt,border:ut,opacity:_t,arrowColor:It,role:xt="tooltip"})=>{var _e;const Ut=I.useRef(null),gn=I.useRef(null),Be=I.useRef(null),mn=I.useRef(null),ii=I.useRef(null),[He,Si]=I.useState({tooltipStyles:{},tooltipArrowStyles:{},place:c}),[je,Ei]=I.useState(!1),[qe,xi]=I.useState(!1),[me,zn]=I.useState(null),We=I.useRef(!1),us=I.useRef(null),{anchorRefs:ui,setActiveAnchor:Ui}=TO(t),hi=I.useRef(!1),[ae,Zt]=I.useState([]),$e=I.useRef(!1),Ne=p||f.includes("click"),ks=Ne||(M==null?void 0:M.click)||(M==null?void 0:M.dblclick)||(M==null?void 0:M.mousedown),si=M?{...M}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!M&&Ne&&Object.assign(si,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const it=D?{...D}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!D&&Ne&&Object.assign(it,{mouseleave:!1,blur:!1,mouseout:!1});const mt=P?{...P}:{escape:W||!1,scroll:F||!1,resize:K||!1,clickOutsideAnchor:ks||!1};j&&(Object.assign(si,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(it,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(mt,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),RK(()=>($e.current=!0,()=>{$e.current=!1}),[]);const At=ht=>{$e.current&&(ht&&xi(!0),setTimeout(()=>{$e.current&&(z==null||z(ht),ot===void 0&&Ei(ht))},10))};I.useEffect(()=>{if(ot===void 0)return()=>null;ot&&xi(!0);const ht=setTimeout(()=>{Ei(ot)},10);return()=>{clearTimeout(ht)}},[ot]),I.useEffect(()=>{if(je!==We.current)if(is(ii),We.current=je,je)N==null||N();else{const ht=(yt=>{const Tt=yt.match(/^([\d.]+)(ms|s)$/);if(!Tt)return 0;const[,pe,Xe]=Tt;return Number(pe)*(Xe==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));ii.current=setTimeout(()=>{xi(!1),zn(null),rt==null||rt()},ht+25)}},[je]);const Ot=ht=>{Si(yt=>h0(yt,ht)?yt:ht)},vt=(ht=T)=>{is(Be),qe?At(!0):Be.current=setTimeout(()=>{At(!0)},ht)},Ct=(ht=S)=>{is(mn),mn.current=setTimeout(()=>{hi.current||At(!1)},ht)},$t=ht=>{var yt;if(!ht)return;const Tt=(yt=ht.currentTarget)!==null&&yt!==void 0?yt:ht.target;if(!(Tt!=null&&Tt.isConnected))return pt(null),void Ui({current:null});T?vt():At(!0),pt(Tt),Ui({current:Tt}),is(mn)},Gt=()=>{B?Ct(S||100):S?Ct():At(!1),is(Be)},se=({x:ht,y:yt})=>{var Tt;const pe={getBoundingClientRect:()=>({x:ht,y:yt,width:0,height:0,top:yt,left:ht,right:ht,bottom:yt})};E1({place:(Tt=me==null?void 0:me.place)!==null&&Tt!==void 0?Tt:c,offset:h,elementReference:pe,tooltipReference:Ut.current,tooltipArrowReference:gn.current,strategy:y,middlewares:_,border:ut}).then(Xe=>{Ot(Xe)})},qt=ht=>{if(!ht)return;const yt=ht,Tt={x:yt.clientX,y:yt.clientY};se(Tt),us.current=Tt},be=ht=>{var yt;if(!je)return;const Tt=ht.target;Tt.isConnected&&(!((yt=Ut.current)===null||yt===void 0)&&yt.contains(Tt)||[document.querySelector(`[id='${a}']`),...ae].some(pe=>pe==null?void 0:pe.contains(Tt))||(At(!1),is(Be)))},Hn=A1($t,50),de=A1(Gt,50),en=ht=>{de.cancel(),Hn(ht)},bt=()=>{Hn.cancel(),de()},Dt=I.useCallback(()=>{var ht,yt;const Tt=(ht=me==null?void 0:me.position)!==null&&ht!==void 0?ht:L;Tt?se(Tt):E?us.current&&se(us.current):nt!=null&&nt.isConnected&&E1({place:(yt=me==null?void 0:me.place)!==null&&yt!==void 0?yt:c,offset:h,elementReference:nt,tooltipReference:Ut.current,tooltipArrowReference:gn.current,strategy:y,middlewares:_,border:ut}).then(pe=>{$e.current&&Ot(pe)})},[je,nt,$,U,c,me==null?void 0:me.place,h,y,L,me==null?void 0:me.position,E]);I.useEffect(()=>{var ht,yt;const Tt=new Set(ui);ae.forEach(Kt=>{dt!=null&&dt(Kt)||Tt.add({current:Kt})});const pe=document.querySelector(`[id='${a}']`);pe&&!(dt!=null&&dt(pe))&&Tt.add({current:pe});const Xe=()=>{At(!1)},fi=C1(nt),yn=C1(Ut.current);mt.scroll&&(window.addEventListener("scroll",Xe),fi==null||fi.addEventListener("scroll",Xe),yn==null||yn.addEventListener("scroll",Xe));let ln=null;mt.resize?window.addEventListener("resize",Xe):nt&&Ut.current&&(ln=yK(nt,Ut.current,Dt,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const cn=Kt=>{Kt.key==="Escape"&&At(!1)};mt.escape&&window.addEventListener("keydown",cn),mt.clickOutsideAnchor&&window.addEventListener("click",be);const he=[],qn=Kt=>!!(Kt!=null&&Kt.target&&(nt!=null&&nt.contains(Kt.target))),Fi=Kt=>{je&&qn(Kt)||$t(Kt)},zi=Kt=>{je&&qn(Kt)&&Gt()},xn=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Ue=["click","dblclick","mousedown","mouseup"];Object.entries(si).forEach(([Kt,pi])=>{pi&&(xn.includes(Kt)?he.push({event:Kt,listener:en}):Ue.includes(Kt)&&he.push({event:Kt,listener:Fi}))}),Object.entries(it).forEach(([Kt,pi])=>{pi&&(xn.includes(Kt)?he.push({event:Kt,listener:bt}):Ue.includes(Kt)&&he.push({event:Kt,listener:zi}))}),E&&he.push({event:"pointermove",listener:qt});const ta=()=>{hi.current=!0},mr=()=>{hi.current=!1,Gt()},di=B&&(it.mouseout||it.mouseleave);return di&&((ht=Ut.current)===null||ht===void 0||ht.addEventListener("mouseover",ta),(yt=Ut.current)===null||yt===void 0||yt.addEventListener("mouseout",mr)),he.forEach(({event:Kt,listener:pi})=>{Tt.forEach(ea=>{var Ai;(Ai=ea.current)===null||Ai===void 0||Ai.addEventListener(Kt,pi)})}),()=>{var Kt,pi;mt.scroll&&(window.removeEventListener("scroll",Xe),fi==null||fi.removeEventListener("scroll",Xe),yn==null||yn.removeEventListener("scroll",Xe)),mt.resize?window.removeEventListener("resize",Xe):ln==null||ln(),mt.clickOutsideAnchor&&window.removeEventListener("click",be),mt.escape&&window.removeEventListener("keydown",cn),di&&((Kt=Ut.current)===null||Kt===void 0||Kt.removeEventListener("mouseover",ta),(pi=Ut.current)===null||pi===void 0||pi.removeEventListener("mouseout",mr)),he.forEach(({event:ea,listener:Ai})=>{Tt.forEach(dl=>{var Hi;(Hi=dl.current)===null||Hi===void 0||Hi.removeEventListener(ea,Ai)})})}},[nt,Dt,qe,ui,ae,M,D,P,Ne,T,S]),I.useEffect(()=>{var ht,yt;let Tt=(yt=(ht=me==null?void 0:me.anchorSelect)!==null&&ht!==void 0?ht:l)!==null&&yt!==void 0?yt:"";!Tt&&t&&(Tt=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const pe=new MutationObserver(Xe=>{const fi=[],yn=[];Xe.forEach(ln=>{if(ln.type==="attributes"&&ln.attributeName==="data-tooltip-id"&&(ln.target.getAttribute("data-tooltip-id")===t?fi.push(ln.target):ln.oldValue===t&&yn.push(ln.target)),ln.type==="childList"){if(nt){const cn=[...ln.removedNodes].filter(he=>he.nodeType===1);if(Tt)try{yn.push(...cn.filter(he=>he.matches(Tt))),yn.push(...cn.flatMap(he=>[...he.querySelectorAll(Tt)]))}catch{}cn.some(he=>{var qn;return!!(!((qn=he==null?void 0:he.contains)===null||qn===void 0)&&qn.call(he,nt))&&(xi(!1),At(!1),pt(null),is(Be),is(mn),!0)})}if(Tt)try{const cn=[...ln.addedNodes].filter(he=>he.nodeType===1);fi.push(...cn.filter(he=>he.matches(Tt))),fi.push(...cn.flatMap(he=>[...he.querySelectorAll(Tt)]))}catch{}}}),(fi.length||yn.length)&&Zt(ln=>[...ln.filter(cn=>!yn.includes(cn)),...fi])});return pe.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{pe.disconnect()}},[t,l,me==null?void 0:me.anchorSelect,nt]),I.useEffect(()=>{Dt()},[Dt]),I.useEffect(()=>{if(!(Z!=null&&Z.current))return()=>null;const ht=new ResizeObserver(()=>{setTimeout(()=>Dt())});return ht.observe(Z.current),()=>{ht.disconnect()}},[$,Z==null?void 0:Z.current]),I.useEffect(()=>{var ht;const yt=document.querySelector(`[id='${a}']`),Tt=[...ae,yt];nt&&Tt.includes(nt)||pt((ht=ae[0])!==null&&ht!==void 0?ht:yt)},[a,ae,nt]),I.useEffect(()=>(Et&&At(!0),()=>{is(Be),is(mn)}),[]),I.useEffect(()=>{var ht;let yt=(ht=me==null?void 0:me.anchorSelect)!==null&&ht!==void 0?ht:l;if(!yt&&t&&(yt=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),yt)try{const Tt=Array.from(document.querySelectorAll(yt));Zt(Tt)}catch{Zt([])}},[t,l,me==null?void 0:me.anchorSelect]),I.useEffect(()=>{Be.current&&(is(Be),vt(T))},[T]);const ye=(_e=me==null?void 0:me.content)!==null&&_e!==void 0?_e:$,Le=je&&Object.keys(He.tooltipStyles).length>0;return I.useImperativeHandle(e,()=>({open:ht=>{if(ht!=null&&ht.anchorSelect)try{document.querySelector(ht.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${ht.anchorSelect}" is not a valid CSS selector`)}zn(ht??null),ht!=null&&ht.delay?vt(ht.delay):At(!0)},close:ht=>{ht!=null&&ht.delay?Ct(ht.delay):At(!1)},activeAnchor:nt,place:He.place,isOpen:!!(qe&&!C&&ye&&Le)})),qe&&!C&&ye?Ie.createElement(b,{id:t,role:xt,className:u0("react-tooltip",nc.tooltip,e_.tooltip,e_[s],n,`react-tooltip__place-${He.place}`,nc[Le?"show":"closing"],Le?"react-tooltip__show":"react-tooltip__closing",y==="fixed"&&nc.fixed,B&&nc.clickable),onTransitionEnd:ht=>{is(ii),je||ht.propertyName!=="opacity"||(xi(!1),zn(null),rt==null||rt())},style:{...U,...He.tooltipStyles,opacity:_t!==void 0&&Le?_t:void 0},ref:Ut},ye,Ie.createElement(b,{className:u0("react-tooltip-arrow",nc.arrow,e_.arrow,i,V&&nc.noArrow),style:{...He.tooltipArrowStyles,background:It?`linear-gradient(to right bottom, transparent 50%, ${It} 50%)`:void 0},ref:gn})):null},MK=({content:e})=>Ie.createElement("span",{dangerouslySetInnerHTML:{__html:e}});Ie.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:i,html:s,render:a,className:l,classNameArrow:c,variant:h="dark",place:f="top",offset:p=10,wrapper:y="div",children:_=null,events:b=["hover"],openOnClick:T=!1,positionStrategy:S="absolute",middlewares:E,delayShow:C=0,delayHide:V=0,float:B=!1,hidden:W=!1,noArrow:F=!1,clickable:K=!1,closeOnEsc:M=!1,closeOnScroll:D=!1,closeOnResize:P=!1,openEvents:j,closeEvents:U,globalCloseEvents:L,imperativeModeOnly:N=!1,style:rt,position:dt,isOpen:$,defaultIsOpen:Z=!1,disableStyleInjection:ot=!1,border:Et,opacity:z,arrowColor:nt,setIsOpen:pt,afterShow:ut,afterHide:_t,disableTooltip:It,role:xt="tooltip"},_e)=>{const[Ut,gn]=I.useState(i),[Be,mn]=I.useState(s),[ii,He]=I.useState(f),[Si,je]=I.useState(h),[Ei,qe]=I.useState(p),[xi,me]=I.useState(C),[zn,We]=I.useState(V),[us,ui]=I.useState(B),[Ui,hi]=I.useState(W),[ae,Zt]=I.useState(y),[$e,Ne]=I.useState(b),[ks,si]=I.useState(S),[it,mt]=I.useState(null),[At,Ot]=I.useState(null),vt=I.useRef(ot),{anchorRefs:Ct,activeAnchor:$t}=TO(e),Gt=de=>de==null?void 0:de.getAttributeNames().reduce((en,bt)=>{var Dt;return bt.startsWith("data-tooltip-")&&(en[bt.replace(/^data-tooltip-/,"")]=(Dt=de==null?void 0:de.getAttribute(bt))!==null&&Dt!==void 0?Dt:null),en},{}),se=de=>{const en={place:bt=>{var Dt;He((Dt=bt)!==null&&Dt!==void 0?Dt:f)},content:bt=>{gn(bt??i)},html:bt=>{mn(bt??s)},variant:bt=>{var Dt;je((Dt=bt)!==null&&Dt!==void 0?Dt:h)},offset:bt=>{qe(bt===null?p:Number(bt))},wrapper:bt=>{var Dt;Zt((Dt=bt)!==null&&Dt!==void 0?Dt:y)},events:bt=>{const Dt=bt==null?void 0:bt.split(" ");Ne(Dt??b)},"position-strategy":bt=>{var Dt;si((Dt=bt)!==null&&Dt!==void 0?Dt:S)},"delay-show":bt=>{me(bt===null?C:Number(bt))},"delay-hide":bt=>{We(bt===null?V:Number(bt))},float:bt=>{ui(bt===null?B:bt==="true")},hidden:bt=>{hi(bt===null?W:bt==="true")},"class-name":bt=>{mt(bt)}};Object.values(en).forEach(bt=>bt(null)),Object.entries(de).forEach(([bt,Dt])=>{var ye;(ye=en[bt])===null||ye===void 0||ye.call(en,Dt)})};I.useEffect(()=>{gn(i)},[i]),I.useEffect(()=>{mn(s)},[s]),I.useEffect(()=>{He(f)},[f]),I.useEffect(()=>{je(h)},[h]),I.useEffect(()=>{qe(p)},[p]),I.useEffect(()=>{me(C)},[C]),I.useEffect(()=>{We(V)},[V]),I.useEffect(()=>{ui(B)},[B]),I.useEffect(()=>{hi(W)},[W]),I.useEffect(()=>{si(S)},[S]),I.useEffect(()=>{vt.current!==ot&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[ot]),I.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:ot==="core",disableBase:ot}}))},[]),I.useEffect(()=>{var de;const en=new Set(Ct);let bt=n;if(!bt&&e&&(bt=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),bt)try{document.querySelectorAll(bt).forEach(yt=>{en.add({current:yt})})}catch{console.warn(`[react-tooltip] "${bt}" is not a valid CSS selector`)}const Dt=document.querySelector(`[id='${t}']`);if(Dt&&en.add({current:Dt}),!en.size)return()=>null;const ye=(de=At??Dt)!==null&&de!==void 0?de:$t.current,Le=new MutationObserver(yt=>{yt.forEach(Tt=>{var pe;if(!ye||Tt.type!=="attributes"||!(!((pe=Tt.attributeName)===null||pe===void 0)&&pe.startsWith("data-tooltip-")))return;const Xe=Gt(ye);se(Xe)})}),ht={attributes:!0,childList:!1,subtree:!1};if(ye){const yt=Gt(ye);se(yt),Le.observe(ye,ht)}return()=>{Le.disconnect()}},[Ct,$t,At,t,n]),I.useEffect(()=>{rt!=null&&rt.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),Et&&!x1("border",`${Et}`)&&console.warn(`[react-tooltip] "${Et}" is not a valid \`border\`.`),rt!=null&&rt.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),z&&!x1("opacity",`${z}`)&&console.warn(`[react-tooltip] "${z}" is not a valid \`opacity\`.`)},[]);let qt=_;const be=I.useRef(null);if(a){const de=a({content:(At==null?void 0:At.getAttribute("data-tooltip-content"))||Ut||null,activeAnchor:At});qt=de?Ie.createElement("div",{ref:be,className:"react-tooltip-content-wrapper"},de):null}else Ut&&(qt=Ut);Be&&(qt=Ie.createElement(MK,{content:Be}));const Hn={forwardRef:_e,id:e,anchorId:t,anchorSelect:n,className:u0(l,it),classNameArrow:c,content:qt,contentWrapperRef:be,place:ii,variant:Si,offset:Ei,wrapper:ae,events:$e,openOnClick:T,positionStrategy:ks,middlewares:E,delayShow:xi,delayHide:zn,float:us,hidden:Ui,noArrow:F,clickable:K,closeOnEsc:M,closeOnScroll:D,closeOnResize:P,openEvents:j,closeEvents:U,globalCloseEvents:L,imperativeModeOnly:N,style:rt,position:dt,isOpen:$,defaultIsOpen:Z,border:Et,opacity:z,arrowColor:nt,setIsOpen:pt,afterShow:ut,afterHide:_t,disableTooltip:It,activeAnchor:At,setActiveAnchor:de=>Ot(de),role:xt};return Ie.createElement(PK,{...Hn})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||S1({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||S1({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});Gc.register($h,Gh,_c,Xs,Pp,Ib,Ob,Mb,nq);const IK=()=>{const e=Cs(),[t,n]=I.useState(!0),[i,s]=I.useState(null),[a,l]=I.useState([]),[c,h]=I.useState([]),[f,p]=I.useState(155),[y,_]=I.useState({totalWorkouts:0,totalExercises:0,totalSets:0,totalWeight:0}),[b,T]=I.useState([]),[S,E]=I.useState(null),[C,V]=I.useState(!1),[B,W]=I.useState(null),[F,K]=I.useState(!1),[M,D]=I.useState(""),[P,j]=I.useState("all"),U=I.useRef(null),[L,N]=I.useState(new Date().getFullYear()),[rt,dt]=I.useState("3months"),[$,Z]=I.useState([]),[ot,Et]=I.useState([]),[z,nt]=I.useState("range"),[pt,ut]=I.useState("1-5"),[_t,It]=I.useState(5),[xt,_e]=I.useState(!1),Ut=I.useRef(null),[gn,Be]=I.useState([]),[mn,ii]=I.useState([]),[He,Si]=I.useState("3m"),[je,Ei]=I.useState([]),[qe,xi]=I.useState([]);I.useEffect(()=>{(async()=>{try{n(!0);const mt=ci.currentUser;if(!mt){s("You must be logged in to view progress data"),n(!1);return}const At=Ss(Es,"users",mt.uid),Ot=await hr(At);if(Ot.exists()){const vt=Ot.data(),Ct=vt.workouts||[],Gt=[...vt.weightLogs||[]].sort((se,qt)=>{const be=We(se.date);return We(qt.date)-be});Gt.length>0&&p(Gt[0].weight),h(Gt),l(Ct),me(Ct),us(Ct)}else l([]),h([]),T([]),_({totalWorkouts:0,totalExercises:0,totalSets:0,totalWeight:0});n(!1)}catch(mt){console.error("Error fetching workout data:",mt),s("Failed to load progress data"),n(!1)}})()},[]);const me=it=>{var de,en;if(!it.length)return _({totalWorkouts:0,totalExercises:0,totalSets:0,totalWeight:0});const mt=[...it].sort((bt,Dt)=>{const ye=Le=>{if(typeof Le=="string"&&Le.match(/^\d{4}-\d{2}-\d{2}$/)){const[ht,yt,Tt]=Le.split("-").map(Number);return new Date(ht,yt-1,Tt)}return typeof Le=="object"&&Le.seconds?new Date(Le.seconds*1e3):new Date(Le)};return ye(bt.date)-ye(Dt.date)}),At=it.length,Ot=new Set;let vt=0,Ct=0;it.forEach(bt=>{bt.exercises&&Array.isArray(bt.exercises)&&bt.exercises.forEach(Dt=>{var ye;(ye=Dt.name)!=null&&ye.trim()&&Ot.add(Dt.name.trim().toLowerCase()),Dt.sets&&Array.isArray(Dt.sets)&&(vt+=Dt.sets.length,Dt.sets.forEach(Le=>{const ht=parseInt(Le.reps)||0;let yt;Le.weight==="bodyweight"||Le.weight==="🏋️‍♀️ bodyweight"?yt=Math.round(f*.25):yt=parseInt(Le.weight)||0,Ct+=ht*yt}))})});const $t=[...mt].reverse();(de=$t[0])!=null&&de.date&&zn($t[0].date);const Gt=new Date;if(Gt.setDate(Gt.getDate()-28),mt.length===1){_({totalWorkouts:At,totalExercises:Ot.size,totalSets:vt,totalWeight:Ct});return}const se=(en=mt[0].date)!=null&&en.seconds?new Date(mt[0].date.seconds*1e3):new Date(mt[0].date),qt=Math.max(1,Math.ceil((new Date-se)/(7*24*60*60*1e3))),be=Math.min(4,qt);+($t.filter(bt=>{var ye;const Dt=(ye=bt.date)!=null&&ye.seconds?new Date(bt.date.seconds*1e3):new Date(bt.date);return qt>=4?Dt>=Gt:!0}).length/be).toFixed(1),_({totalWorkouts:At,totalExercises:Ot.size,totalSets:vt,totalWeight:Ct})},zn=it=>{if(!it)return"Unknown Date";if(typeof it=="object"&&it.seconds){const mt=new Date(it.seconds*1e3);return`${mt.getMonth()+1}/${mt.getDate()}/${mt.getFullYear()}`}if(typeof it=="string"&&it.match(/^\d{4}-\d{2}-\d{2}$/)){const[mt,At,Ot]=it.split("-");return`${At}/${Ot}/${mt}`}try{const mt=new Date(it);return`${mt.getMonth()+1}/${mt.getDate()}/${mt.getFullYear()}`}catch{return it}},We=it=>{if(typeof it=="object"&&it.seconds)return new Date(it.seconds*1e3);if(typeof it=="string"&&it.match(/^\d{4}-\d{2}-\d{2}$/)){const[mt,At,Ot]=it.split("-").map(Number);return new Date(mt,At-1,Ot)}return new Date(it)},us=it=>{const mt=new Map;it.forEach(Ot=>{Ot.exercises&&Array.isArray(Ot.exercises)&&Ot.exercises.forEach(vt=>{var $t,Gt;const Ct=($t=vt.name)==null?void 0:$t.trim();Ct&&(!mt.has(Ct)||vt.sets.length>mt.get(Ct).setCount)&&mt.set(Ct,{name:Ct,setCount:((Gt=vt.sets)==null?void 0:Gt.length)||0,firstDate:mt.has(Ct)?mt.get(Ct).firstDate:new Date(Ot.date)})})});const At=Array.from(mt.values()).sort((Ot,vt)=>Ot.name.localeCompare(vt.name));T(At)},ui=it=>{if(it==="none")E(null),V(!1);else{E({...it});const mt=kM.some(At=>it.name.toLowerCase()===At.toLowerCase());V(mt),nt("all")}K(!1),D("")};I.useEffect(()=>{const it=mt=>{U.current&&!U.current.contains(mt.target)&&K(!1),Ut.current&&!Ut.current.contains(mt.target)&&_e(!1)};return document.addEventListener("mousedown",it),()=>{document.removeEventListener("mousedown",it)}},[]);const Ui=()=>{if(!S||!a.length)return;const it=[];[...a].sort((At,Ot)=>We(At.date)-We(Ot.date)).forEach(At=>{if(!At.exercises||!Array.isArray(At.exercises))return;const Ot=At.exercises.find($t=>{var Gt;return((Gt=$t.name)==null?void 0:Gt.trim().toLowerCase())===S.name.toLowerCase()});if(!Ot||!Ot.sets||!Array.isArray(Ot.sets))return;const vt=Ot.sets.filter($t=>{const Gt=parseInt($t.reps)||0;if(z==="all")return!0;if(z==="range"){const[se,qt]=pt.split("-").map(Number);return Gt>=se&&Gt<=qt}else return Gt===parseInt(z)});if(vt.length===0)return;const Ct=zn(At.date);vt.forEach(($t,Gt)=>{let se;$t.weight==="bodyweight"||$t.weight==="🏋️‍♀️ bodyweight"?se=Math.round(f*.25):se=parseInt($t.weight)||0;const qt=parseInt($t.reps)||0;qt>0&&it.push({date:Ct,weight:se,reps:qt,setLabel:`Set ${Gt+1}`,rawDate:At.date})})}),it.sort((At,Ot)=>We(At.rawDate)-We(Ot.rawDate)),Et(it)},hi=()=>{if(!S||!a.length){Be([]);return}const it=new Set,mt={};a.forEach(vt=>{if(!vt.exercises||!Array.isArray(vt.exercises))return;const Ct=vt.exercises.find(qt=>{var be;return((be=qt.name)==null?void 0:be.trim().toLowerCase())===S.name.toLowerCase()});if(!Ct)return;let $t;if(typeof vt.date=="object"&&vt.date.seconds)$t=new Date(vt.date.seconds*1e3);else if(typeof vt.date=="string"&&vt.date.match(/^\d{4}-\d{2}-\d{2}$/)){const[qt,be,Hn]=vt.date.split("-").map(Number);$t=new Date(qt,be-1,Hn)}else $t=new Date(vt.date);const Gt=$t.getFullYear();it.add(Gt);const se=`${Gt}-${String($t.getMonth()+1).padStart(2,"0")}-${String($t.getDate()).padStart(2,"0")}`;mt[se]||(mt[se]=0),Ct.sets&&Array.isArray(Ct.sets)?mt[se]+=Ct.sets.length:mt[se]+=1});const At=Array.from(it).sort();ii(At),At.length>0&&!At.includes(L)&&N(At[At.length-1]);const Ot=Object.entries(mt).filter(([vt])=>vt.startsWith(L.toString())).map(([vt,Ct])=>({date:vt,count:Ct}));Be(Ot)};I.useEffect(()=>{S&&a.length>0?(Ui(),hi(),ae()):(Et([]),Be([]),Ei([]))},[S,a,z,pt,_t]),I.useEffect(()=>{S&&a.length>0&&hi()},[L]),I.useEffect(()=>{const it=M?b.filter(mt=>mt.name.toLowerCase().includes(M.toLowerCase())):b;xi(it)},[M,b]);const ae=()=>{if(!S||!a.length){Ei([]);return}const mt=(()=>{const vt=new Date;switch(He){case"1m":return new Date(vt.setMonth(vt.getMonth()-1));case"3m":return new Date(vt.setMonth(vt.getMonth()-3));case"6m":return new Date(vt.setMonth(vt.getMonth()-6));case"1y":return new Date(vt.setFullYear(vt.getFullYear()-1));case"all":return new Date(0);default:return new Date(vt.setMonth(vt.getMonth()-3))}})(),Ot=a.filter(vt=>{var Gt;let Ct;if(typeof vt.date=="object"&&vt.date.seconds)Ct=new Date(vt.date.seconds*1e3);else if(typeof vt.date=="string"&&vt.date.match(/^\d{4}-\d{2}-\d{2}$/)){const[se,qt,be]=vt.date.split("-").map(Number);Ct=new Date(se,qt-1,be)}else Ct=new Date(vt.date);return((Gt=vt.exercises)==null?void 0:Gt.some(se=>{var qt;return((qt=se.name)==null?void 0:qt.trim().toLowerCase())===S.name.toLowerCase()}))&&Ct>=mt}).sort((vt,Ct)=>We(vt.date)-We(Ct.date)).map(vt=>{const Ct=vt.exercises.find(se=>{var qt;return((qt=se.name)==null?void 0:qt.trim().toLowerCase())===S.name.toLowerCase()});let $t=0;return Ct!=null&&Ct.sets&&Array.isArray(Ct.sets)&&($t=Ct.sets.reduce((se,qt)=>{let be;qt.weight==="bodyweight"||qt.weight==="🏋️‍♀️ bodyweight"?be=Math.round(f*.25):be=parseInt(qt.weight)||0;const Hn=parseInt(qt.reps)||0;return se+be*Hn},0)),{date:zn(vt.date),volume:$t,rawDate:vt.date}});Ei(Ot)};I.useEffect(()=>{S&&a.length>0&&ae()},[He,rt,a,S]);const Zt=()=>{e("/progress-tracker")},$e=it=>{N(it)},Ne=it=>!it||!it.count?"color-empty":it.count===1?"color-scale-1":it.count<=3?"color-scale-2":it.count<=5?"color-scale-3":"color-scale-4",ks=it=>typeof it=="string"&&it.match(/^\d{4}-\d{2}-\d{2}$/)?new Date(it).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):it,si=it=>{Si(it)};return t?R.jsx(Xc,{}):i?R.jsx("div",{className:"progress-page-container error",children:i}):R.jsxs(Yo.div,{className:"progress-page-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[R.jsxs("div",{className:"progress-page-header",children:[R.jsxs("button",{className:"back-button",onClick:Zt,children:[R.jsx(oO,{size:20,style:{marginRight:"8px"}}),"Back"]}),R.jsx("h2",{children:"Strength Progress"})]}),R.jsxs("div",{className:"summary-metrics",children:[R.jsxs("div",{className:"metric-card",children:[R.jsx("h3",{children:"Total Workouts"}),R.jsx("div",{className:"metric-value",children:y.totalWorkouts}),R.jsx("div",{className:"metric-label",children:"workouts"})]}),R.jsxs("div",{className:"metric-card",children:[R.jsx("h3",{children:"Total Exercises"}),R.jsx("div",{className:"metric-value",children:y.totalExercises}),R.jsx("div",{className:"metric-label",children:"exercises"})]}),R.jsxs("div",{className:"metric-card",children:[R.jsx("h3",{children:"Total Sets"}),R.jsx("div",{className:"metric-value",children:y.totalSets}),R.jsx("div",{className:"metric-label",children:"sets"})]}),R.jsxs("div",{className:"metric-card",children:[R.jsx("h3",{children:"Total Weight"}),R.jsx("div",{className:"metric-value",children:y.totalWeight.toLocaleString()}),R.jsx("div",{className:"metric-label",children:"pounds lifted"})]})]}),R.jsxs("div",{className:"exercise-tracking-section",children:[R.jsx("h3",{className:"section-title",children:"Exercise Progress Tracking"}),R.jsx("p",{className:"selection-help",children:"Select an exercise to view detailed progress over time, including max weights and workout frequency."}),R.jsxs("div",{className:"exercise-dropdown-container",ref:U,children:[R.jsxs("div",{className:"exercise-dropdown-header",onClick:()=>K(!F),children:[R.jsx("span",{className:"selected-exercise-name",children:S?S.name:"Select an exercise"}),R.jsx("span",{className:"dropdown-arrow",style:{transform:F?"rotate(180deg)":"rotate(0deg)"},children:"▼"})]}),F&&R.jsxs("div",{className:"exercise-dropdown-menu",children:[R.jsx("div",{className:"exercise-search-container",children:R.jsx("input",{type:"text",className:"exercise-search-input",placeholder:"Search exercises...",value:M,onChange:it=>D(it.target.value)})}),R.jsx("div",{className:"exercise-dropdown-items",children:qe.length>0?qe.map((it,mt)=>R.jsx("div",{className:`exercise-dropdown-item ${S===it?"selected":""}`,onClick:()=>ui(it),children:it.name},mt)):R.jsx("div",{className:"no-exercise-matches",children:"No matches found"})})]})]}),S?R.jsxs("div",{className:"exercise-details",children:[R.jsx("h3",{className:"exercise-title",children:S.name}),R.jsxs("div",{className:"charts-container",style:{flexDirection:"column"},children:[R.jsxs("div",{className:"exercise-chart-container",style:{width:"100%",marginBottom:"30px"},children:[R.jsxs("div",{className:"filter-controls",children:[R.jsxs("h4",{className:"chart-title",children:[C?"Rep Progression":"Weight Progression",R.jsx("span",{className:`filter-badge ${z==="all"?"all-reps":""}`,children:z==="all"?"All Reps":`${z} Reps`})]}),R.jsxs("div",{className:"filter-dropdown",children:[R.jsxs("div",{className:"filter-dropdown-header",onClick:()=>_e(!xt),children:["Filter by Reps",R.jsx("span",{className:"dropdown-arrow",children:"▼"})]}),xt&&R.jsx("div",{className:"filter-dropdown-content",ref:Ut,children:R.jsxs("div",{className:"filter-options",children:[R.jsxs("div",{className:"filter-column",children:[R.jsx("h4",{children:"Rep Ranges"}),R.jsxs("ul",{children:[R.jsx("li",{className:z==="all"?"active":"",onClick:()=>{nt("all"),_e(!1)},children:"All Reps"}),["1-5","5-8","5-10","8-10","8-12","10-12","10-15","15-20"].map(it=>R.jsxs("li",{className:z==="range"&&pt===it?"active":"",onClick:()=>{nt("range"),ut(it),_e(!1)},children:[it," Reps"]},it))]})]}),R.jsxs("div",{className:"filter-column",children:[R.jsx("h4",{children:"Specific Reps"}),R.jsx("ul",{className:"specific-reps-list",children:[1,2,3,4,5,6,7,8,9,10,12,15].map(it=>R.jsx("li",{className:z===it.toString()?"active":"",onClick:()=>{nt(it.toString()),_e(!1)},children:it},it))})]})]})})]})]}),ot.length>0?R.jsx("div",{style:{height:"280px"},children:R.jsx(Nb,{data:{labels:ot.map(it=>it.date),datasets:[{label:C?"Reps":"Weight (lbs)",data:ot.map(it=>C?it.reps:it.weight),borderColor:"rgba(255, 87, 34, 1)",backgroundColor:"rgba(255, 87, 34, 0.7)",fill:!1,tension:.3}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{boxWidth:15,font:{size:13}}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#333",bodyColor:"#555",bodyFont:{size:14},padding:12,cornerRadius:6,borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,displayColors:!1,callbacks:{title:function(it){return it[0].label},label:function(it){const mt=ot[it.dataIndex];return C?[`Reps: ${mt.reps}`,`Set: ${mt.setLabel}`]:[`Weight: ${mt.weight} lbs`,`Reps: ${mt.reps}`,`Set: ${mt.setLabel}`]}}}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:45}},y:{beginAtZero:!1,title:{display:!0,text:C?"Reps":"Weight (lbs)",color:"#666",font:{size:13}},grid:{color:"rgba(0, 0, 0, 0.05)"}}},elements:{line:{tension:.3}}}})}):R.jsxs("div",{className:"no-chart-data",children:[R.jsx("p",{children:"No data available for the selected filters"}),R.jsx("p",{children:"Try selecting a different rep range or exercise"})]})]}),R.jsxs("div",{className:"exercise-volume-container",style:{width:"100%"},children:[R.jsxs("div",{className:"volume-header",children:[R.jsx("h3",{children:"Volume Progress"}),R.jsxs("div",{className:"date-range-selector",children:[R.jsx("button",{className:`range-button ${He==="1m"?"active":""}`,onClick:()=>si("1m"),children:"1 Month"}),R.jsx("button",{className:`range-button ${He==="3m"?"active":""}`,onClick:()=>si("3m"),children:"3 Months"}),R.jsx("button",{className:`range-button ${He==="6m"?"active":""}`,onClick:()=>si("6m"),children:"6 Months"}),R.jsx("button",{className:`range-button ${He==="1y"?"active":""}`,onClick:()=>si("1y"),children:"1 Year"})]})]}),R.jsxs("p",{className:"volume-description",children:["Total workout volume (weight × reps) over time. For bodyweight exercises,",R.jsx("strong",{children:" 25%"})," of your current bodyweight (",f," lbs) is used in calculations. Higher volume generally indicates increased work capacity and strength endurance."]}),je&&je.length>0?R.jsx("div",{className:"volume-chart-wrapper",children:R.jsx(Cq,{data:{labels:je.map(it=>it.date),datasets:[{label:"Volume",data:je.map(it=>it.volume),backgroundColor:"rgba(255, 87, 34, 0.7)",borderColor:"rgba(255, 87, 34, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#333",bodyColor:"#555",bodyFont:{size:14},padding:12,cornerRadius:6,borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,displayColors:!1,callbacks:{label:function(it){return`Volume: ${it.parsed.y.toLocaleString()} lbs`}}}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,title:{display:!0,text:"Volume (lbs)",color:"#666"},grid:{color:"rgba(0, 0, 0, 0.05)"}}}}})}):R.jsxs("div",{className:"no-chart-data",children:[R.jsx("p",{children:"No volume data available for this timeframe"}),R.jsx("p",{children:"Try selecting a different time range"})]})]})]}),R.jsxs("div",{className:"exercise-heatmap-container",children:[R.jsxs("div",{className:"heatmap-header",children:[R.jsxs("div",{children:[R.jsx("h3",{children:"Workout Frequency & Intensity"}),R.jsxs("p",{className:"heatmap-description",children:["This calendar shows when you trained"," ",R.jsx("strong",{children:S.name})," and the intensity (volume) of each workout. Darker colors indicate higher volume."]})]}),R.jsx("div",{className:"year-selector",children:Array.from(new Set([...a.filter(it=>{var mt;return(mt=it.exercises)==null?void 0:mt.some(At=>{var Ot;return((Ot=At.name)==null?void 0:Ot.toLowerCase())===S.name.toLowerCase()})}).map(it=>We(it.date).getFullYear()),new Date().getFullYear()])).sort((it,mt)=>mt-it).slice(0,5).map(it=>R.jsx("button",{className:`year-button ${L===it?"active":""}`,onClick:()=>$e(it),children:it},it))})]}),R.jsx("div",{className:"calendar-heatmap-wrapper",children:R.jsx(yw,{startDate:new Date(`${L}-01-01`),endDate:new Date(`${L}-12-31`),values:gn,classForValue:it=>it?Ne(it):"color-empty",tooltipDataAttrs:it=>!it||!it.date?{"data-tip":"No workout"}:{"data-tip":`${ks(it.date)}: ${it.count.toLocaleString()} lbs`},showWeekdayLabels:!0,monthLabels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})}),R.jsxs("div",{className:"heatmap-legend",children:[R.jsx("span",{className:"legend-label",children:"Volume:"}),R.jsxs("div",{className:"legend-scale",children:[R.jsx("div",{className:"legend-item color-empty"}),R.jsx("span",{className:"legend-label",children:"None"})]}),R.jsxs("div",{className:"legend-scale",children:[R.jsx("div",{className:"legend-item color-scale-1"}),R.jsx("span",{className:"legend-label",children:"Low"})]}),R.jsxs("div",{className:"legend-scale",children:[R.jsx("div",{className:"legend-item color-scale-2"}),R.jsx("span",{className:"legend-label",children:"Medium"})]}),R.jsxs("div",{className:"legend-scale",children:[R.jsx("div",{className:"legend-item color-scale-3"}),R.jsx("span",{className:"legend-label",children:"High"})]}),R.jsxs("div",{className:"legend-scale",children:[R.jsx("div",{className:"legend-item color-scale-4"}),R.jsx("span",{className:"legend-label",children:"Max"})]})]})]})]}):R.jsxs("div",{className:"exercise-prompt",children:[R.jsx("p",{children:R.jsx(vG,{size:40,style:{color:"var(--primary-orange)",marginBottom:"15px"}})}),R.jsxs("p",{children:[R.jsx("strong",{children:"Select an exercise"})," from the dropdown above to view your progress."]}),R.jsx("p",{children:"You'll see your weight progression, volume trends, and training frequency."})]})]})]})};Gc.register($h,Gh,_c,Xs,Ib,Ob,Mb);const OK=()=>{const e=Cs(),[t,n]=I.useState(!0),[i,s]=I.useState(null),[a,l]=I.useState([]),[c,h]=I.useState("3m");I.useEffect(()=>{(async()=>{try{const E=ci.currentUser;if(!E)throw new Error("You must be logged in to view weight progress");const C=Ss(Es,"users",E.uid),V=await hr(C);if(V.exists()){const F=[...V.data().weightLogs||[]].sort((K,M)=>new Date(K.date)-new Date(M.date));l(F)}else l([]);n(!1)}catch(E){console.error("Error fetching weight logs:",E),s(E.message),n(!1)}})()},[]);const f=S=>{const[E,C,V]=S.split("-").map(Number);return new Date(E,C-1,V).toLocaleDateString("en-US",{month:"short",day:"numeric"})},p=S=>{const[E,C,V]=S.split("-").map(Number);return new Date(E,C-1,V)},y=()=>{if(!a.length)return[];const S=new Date;let E;switch(c){case"1m":E=new Date(S.getFullYear(),S.getMonth()-1,S.getDate());break;case"3m":E=new Date(S.getFullYear(),S.getMonth()-3,S.getDate());break;case"6m":E=new Date(S.getFullYear(),S.getMonth()-6,S.getDate());break;case"1y":E=new Date(S.getFullYear()-1,S.getMonth(),S.getDate());break;case"all":default:return a}return a.filter(C=>p(C.date)>=E)},_=()=>{const S=y();return{labels:S.map(E=>f(E.date)),datasets:[{label:"Weight (lbs)",data:S.map(E=>E.weight),borderColor:"rgb(255, 87, 34)",backgroundColor:"rgba(255, 87, 34, 0.5)",tension:.3}]}},b={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#333",bodyColor:"#666",borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,padding:12,displayColors:!1,callbacks:{label:function(S){return`Weight: ${S.parsed.y} lbs`}}}},scales:{y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}};if(t)return R.jsx(Xc,{});if(i)return R.jsx("div",{className:"weight-progress-container error",children:i});const T=()=>{const S=y();if(S.length===0)return null;const E=S[S.length-1].weight,C=p(S[S.length-1].date),V=new Date(C);V.setDate(V.getDate()-7);let B=null;for(let F=S.length-2;F>=0;F--)if(p(S[F].date)<=V){B=S[F].weight;break}if(B===null)return null;const W=E-B;return{value:Math.abs(W).toFixed(1),direction:W>0?"gained":"lost",timeframe:"past week"}};return R.jsxs(Yo.div,{className:"weight-progress-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[R.jsxs("div",{className:"weight-progress-header",children:[R.jsxs("button",{className:"back-button",onClick:()=>e("/progress-tracker"),children:[R.jsx(oO,{size:20,style:{marginRight:"8px"}}),"Back"]}),R.jsx("h2",{children:"Weight Progress"}),R.jsxs("button",{className:"log-weight-button",onClick:()=>e("/log-weight"),children:[R.jsx(mG,{size:20,style:{marginRight:"8px"}}),"Log Weight"]})]}),a.length===0?R.jsxs("div",{className:"no-logs-message",children:[R.jsx("p",{children:"No weight logs found."}),R.jsx("p",{children:'Start tracking your weight by clicking the "Log Weight" button.'})]}):R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"weight-summary",children:[R.jsxs("div",{className:"summary-card",children:[R.jsx("h3",{children:"Current Weight"}),R.jsxs("div",{className:"summary-value",children:[a[a.length-1].weight," lbs"]})]}),T()&&R.jsxs("div",{className:"summary-card",children:[R.jsx("h3",{children:"Weight Change (Past Week)"}),R.jsxs("div",{className:"summary-value",children:[T().value," lbs ",T().direction]})]})]}),R.jsxs("div",{className:"chart-container",children:[R.jsxs("div",{className:"chart-header",children:[R.jsx("h3",{children:"Weight Trend"}),R.jsxs("div",{className:"date-range-selector",children:[R.jsx("button",{className:`range-button ${c==="1m"?"active":""}`,onClick:()=>h("1m"),children:"1 Month"}),R.jsx("button",{className:`range-button ${c==="3m"?"active":""}`,onClick:()=>h("3m"),children:"3 Months"}),R.jsx("button",{className:`range-button ${c==="6m"?"active":""}`,onClick:()=>h("6m"),children:"6 Months"}),R.jsx("button",{className:`range-button ${c==="1y"?"active":""}`,onClick:()=>h("1y"),children:"1 Year"}),R.jsx("button",{className:`range-button ${c==="all"?"active":""}`,onClick:()=>h("all"),children:"All Time"})]})]}),R.jsx("div",{className:"chart-wrapper",children:R.jsx(Nb,{data:_(),options:b,height:300})})]})]})]})},NK=()=>{Cs();const[e,t]=I.useState(!0),[n,i]=I.useState(null),[s,a]=I.useState([]),[l,c]=I.useState(!1),h=async()=>{try{t(!0);const y=ci.currentUser;if(!y)throw new Error("You must be logged in to view weight history");const _=Ss(Es,"users",y.uid),b=await hr(_);if(b.exists()){const C=[...b.data().weightLogs||[]].sort((V,B)=>new Date(B.date)-new Date(V.date)).map((V,B)=>({...V,id:`weight-${V.timestamp||Date.now()}-${B}`}));a(C)}else a([]);t(!1)}catch(y){console.error("Error fetching weight logs:",y),i(y.message),t(!1)}};I.useEffect(()=>{h()},[]);const f=y=>{const[_,b,T]=y.split("-").map(Number),S=new Date(_,b-1,T),E={weekday:"long",year:"numeric",month:"long",day:"numeric"};return S.toLocaleDateString("en-US",E)},p=async y=>{if(!l&&window.confirm("Are you sure you want to delete this weight log entry?"))try{c(!0);const _=ci.currentUser;if(!_)throw new Error("You must be logged in to delete weight logs");const b=s.find(E=>E.id===y);if(!b)throw new Error("Weight log not found");const T=Ss(Es,"users",_.uid),S=await hr(T);if(S.exists()){const C=S.data().weightLogs.filter(V=>!(V.date===b.date&&V.weight===b.weight&&(V.timestamp===b.timestamp||!V.timestamp&&!b.timestamp)));await Wg(T,{weightLogs:C}),a(s.filter(V=>V.id!==y)),console.log("Weight log deleted successfully")}}catch(_){console.error("Error deleting weight log:",_),alert(`Failed to delete weight log: ${_.message}`)}finally{c(!1)}};return e?R.jsx(Xc,{}):n?R.jsx("div",{className:"weight-history-container error",children:n}):R.jsxs(Yo.div,{className:"weight-history-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[R.jsx("div",{className:"weight-history-header",children:R.jsx("h2",{children:"Weight History"})}),s.length===0?R.jsxs("div",{className:"no-logs-message",children:[R.jsx("p",{children:"No weight logs found."}),R.jsx("p",{children:'Start tracking your weight by clicking "Log Weight" in the menu.'})]}):R.jsx("div",{className:"weight-logs-list",children:s.map(y=>R.jsxs("div",{className:"weight-log-card",children:[R.jsx("div",{className:"weight-log-date",children:f(y.date)}),R.jsxs("div",{className:"weight-log-details",children:[R.jsxs("div",{className:"weight-value",children:[y.weight," lbs"]}),R.jsx("button",{className:"delete-log-btn",onClick:()=>p(y.id),disabled:l,children:R.jsx(yG,{size:18})})]})]},y.id))})]})},LK=()=>{const e=Cs(),[t,n]=I.useState(""),[i,s]=I.useState(()=>{const y=new Date,_=y.getFullYear(),b=String(y.getMonth()+1).padStart(2,"0"),T=String(y.getDate()).padStart(2,"0");return`${_}-${b}-${T}`}),[a,l]=I.useState(!1),[c,h]=I.useState(""),f=y=>{if(y===""||y==="."){n(y);return}if(!/^[0-9]*\.?[0-9]{0,2}$/.test(y))return;const b=parseFloat(y);!isNaN(b)&&(b<1||b>1500)||n(y)},p=async y=>{y.preventDefault(),l(!0),h("");try{const _=ci.currentUser;if(!_)throw new Error("You must be logged in to log weight");const b=parseFloat(t);if(isNaN(b)||b<1||b>1500)throw new Error("Weight must be between 1 and 1500 pounds");const T=Ss(Es,"users",_.uid);if(!(await hr(T)).exists())throw new Error("User document not found");const E={weight:b,date:i,timestamp:new Date().toISOString()};await Wg(T,{weightLogs:fP(E)}),e("/weight-history")}catch(_){console.error("Error logging weight:",_),h(_.message)}finally{l(!1)}};return R.jsxs(Yo.div,{className:"log-weight-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[R.jsx("div",{className:"log-weight-header",children:R.jsx("h2",{children:"Log Weight"})}),R.jsxs("form",{onSubmit:p,className:"log-weight-form",children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"weight",children:"Weight (lbs)"}),R.jsx("input",{type:"text",id:"weight",value:t,onChange:y=>f(y.target.value),required:!0,placeholder:"Enter weight in pounds",pattern:"^[0-9]+(\\.[0-9]{1,2})?$",title:"Enter a weight value between 1-1500 pounds",min:"1",max:"1500"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"date",children:"Date"}),R.jsx("input",{type:"date",id:"date",value:i,onChange:y=>s(y.target.value),required:!0,max:(()=>{const y=new Date,_=y.getFullYear(),b=String(y.getMonth()+1).padStart(2,"0"),T=String(y.getDate()).padStart(2,"0");return`${_}-${b}-${T}`})()})]}),c&&R.jsx("div",{className:"error-message",children:c}),R.jsx("button",{type:"submit",className:"submit-button",disabled:a,children:a?"Logging...":"Log Weight"})]})]})};function Aa({children:e}){const[t,n]=I.useState(!0),[i,s]=I.useState(!1);return I.useEffect(()=>{const a=ci.onAuthStateChanged(l=>{s(!!l),n(!1)});return()=>a()},[]),t?R.jsx(Xc,{}):i?e:R.jsx(j1,{to:"/",replace:!0})}function VK(){const e=pr(),t=Cs(),[n,i]=I.useState(!1);if(e.pathname==="/")return null;const s=()=>{i(!n)},a=async()=>{try{await XB(ci),i(!1),t("/")}catch(l){console.error("Error signing out:",l)}};return R.jsx("header",{className:"header",children:R.jsxs("div",{className:"header-content",children:[R.jsxs("div",{className:"logo",onClick:()=>t("/dashboard"),role:"button",tabIndex:"0",children:[R.jsx("div",{className:"logo-icon",children:"NR"}),R.jsx("div",{className:"logo-text",children:"NextRep"})]}),R.jsxs("div",{className:"menu-container",children:[R.jsxs("div",{className:`hamburger ${n?"open":""}`,onClick:s,children:[R.jsx("span",{}),R.jsx("span",{}),R.jsx("span",{})]}),n&&R.jsx("div",{className:"dropdown-menu",children:R.jsxs("ul",{children:[R.jsx("li",{children:R.jsx(Da,{to:"/dashboard",onClick:s,children:"Dashboard"})}),R.jsx("li",{children:R.jsx(Da,{to:"/log-workout",onClick:s,children:"Log Workout"})}),R.jsx("li",{children:R.jsx(Da,{to:"/log-weight",onClick:s,children:"Log Weight"})}),R.jsx("li",{className:"menu-divider"}),R.jsx("li",{children:R.jsx(Da,{to:"/workout-history",onClick:s,children:"Workout History"})}),R.jsx("li",{children:R.jsx(Da,{to:"/weight-history",onClick:s,children:"Weight History"})}),R.jsx("li",{className:"menu-divider"}),R.jsx("li",{children:R.jsx(Da,{to:"/progress-tracker",onClick:s,children:"Progress Tracker"})}),R.jsx("li",{className:"menu-divider"}),R.jsx("li",{children:R.jsx("button",{className:"logout-menu-button",onClick:a,children:"Logout"})})]})})]})]})})}function BK(){return R.jsx("div",{className:"App",children:R.jsxs(yL,{children:[R.jsx(VK,{}),R.jsx("div",{className:"content",children:R.jsxs(K2,{children:[R.jsx(gs,{path:"/",element:R.jsx(Q3,{})}),R.jsx(gs,{path:"/dashboard",element:R.jsx(Aa,{children:R.jsx(Dq,{})})}),R.jsx(gs,{path:"/log-workout",element:R.jsx(Aa,{children:R.jsx(_G,{})})}),R.jsx(gs,{path:"/workout-history",element:R.jsx(Aa,{children:R.jsx(bG,{})})}),R.jsx(gs,{path:"/progress-tracker",element:R.jsx(Aa,{children:R.jsx(wG,{})})}),R.jsx(gs,{path:"/strength-progress",element:R.jsx(Aa,{children:R.jsx(IK,{})})}),R.jsx(gs,{path:"/weight-progress",element:R.jsx(Aa,{children:R.jsx(OK,{})})}),R.jsx(gs,{path:"/weight-history",element:R.jsx(Aa,{children:R.jsx(NK,{})})}),R.jsx(gs,{path:"/log-weight",element:R.jsx(Aa,{children:R.jsx(LK,{})})}),R.jsx(gs,{path:"*",element:R.jsx(j1,{to:"/",replace:!0})})]})})]})})}s2.createRoot(document.getElementById("root")).render(R.jsx(I.StrictMode,{children:R.jsx(BK,{})}));
