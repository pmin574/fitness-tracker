var s2=Object.defineProperty;var r2=(e,t,n)=>t in e?s2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Bt=(e,t,n)=>r2(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function U1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uv={exports:{}},Ju={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function a2(){if(HE)return Ju;HE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:a}}return Ju.Fragment=t,Ju.jsx=n,Ju.jsxs=n,Ju}var qE;function o2(){return qE||(qE=1,uv.exports=a2()),uv.exports}var R=o2(),hv={exports:{}},Gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function l2(){if(WE)return Gt;WE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function S(H,nt,ht){this.props=H,this.context=nt,this.refs=E,this.updater=ht||b}S.prototype.isReactComponent={},S.prototype.setState=function(H,nt){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,nt,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=S.prototype;function j(H,nt,ht){this.props=H,this.context=nt,this.refs=E,this.updater=ht||b}var O=j.prototype=new C;O.constructor=j,T(O,S.prototype),O.isPureReactComponent=!0;var q=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function M(H,nt,ht,lt,yt,kt){return ht=kt.ref,{$$typeof:e,type:H,key:nt,ref:ht!==void 0?ht:null,props:kt}}function D(H,nt){return M(H.type,nt,void 0,void 0,void 0,H.props)}function k(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function U(H){var nt={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ht){return nt[ht]})}var L=/\/+/g;function B(H,nt){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):nt.toString(36)}function V(){}function ft(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(V,V):(H.status="pending",H.then(function(nt){H.status==="pending"&&(H.status="fulfilled",H.value=nt)},function(nt){H.status==="pending"&&(H.status="rejected",H.reason=nt)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function gt(H,nt,ht,lt,yt){var kt=typeof H;(kt==="undefined"||kt==="boolean")&&(H=null);var St=!1;if(H===null)St=!0;else switch(kt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(H.$$typeof){case e:case t:St=!0;break;case p:return St=H._init,gt(St(H._payload),nt,ht,lt,yt)}}if(St)return yt=yt(H),St=lt===""?"."+B(H,0):lt,q(yt)?(ht="",St!=null&&(ht=St.replace(L,"$&/")+"/"),gt(yt,nt,ht,"",function(He){return He})):yt!=null&&(k(yt)&&(yt=D(yt,ht+(yt.key==null||H&&H.key===yt.key?"":(""+yt.key).replace(L,"$&/")+"/")+St)),nt.push(yt)),1;St=0;var me=lt===""?".":lt+":";if(q(H))for(var Ft=0;Ft<H.length;Ft++)lt=H[Ft],kt=me+B(lt,Ft),St+=gt(lt,nt,ht,kt,yt);else if(Ft=_(H),typeof Ft=="function")for(H=Ft.call(H),Ft=0;!(lt=H.next()).done;)lt=lt.value,kt=me+B(lt,Ft++),St+=gt(lt,nt,ht,kt,yt);else if(kt==="object"){if(typeof H.then=="function")return gt(ft(H),nt,ht,lt,yt);throw nt=String(H),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return St}function K(H,nt,ht){if(H==null)return H;var lt=[],yt=0;return gt(H,lt,"","",function(kt){return nt.call(ht,kt,yt++)}),lt}function et(H){if(H._status===-1){var nt=H._result;nt=nt(),nt.then(function(ht){(H._status===0||H._status===-1)&&(H._status=1,H._result=ht)},function(ht){(H._status===0||H._status===-1)&&(H._status=2,H._result=ht)}),H._status===-1&&(H._status=0,H._result=nt)}if(H._status===1)return H._result.default;throw H._result}var dt=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function xt(){}return Gt.Children={map:K,forEach:function(H,nt,ht){K(H,function(){nt.apply(this,arguments)},ht)},count:function(H){var nt=0;return K(H,function(){nt++}),nt},toArray:function(H){return K(H,function(nt){return nt})||[]},only:function(H){if(!k(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Gt.Component=S,Gt.Fragment=n,Gt.Profiler=s,Gt.PureComponent=j,Gt.StrictMode=i,Gt.Suspense=h,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return z.H.useMemoCache(H)}},Gt.cache=function(H){return function(){return H.apply(null,arguments)}},Gt.cloneElement=function(H,nt,ht){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var lt=T({},H.props),yt=H.key,kt=void 0;if(nt!=null)for(St in nt.ref!==void 0&&(kt=void 0),nt.key!==void 0&&(yt=""+nt.key),nt)!$.call(nt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&nt.ref===void 0||(lt[St]=nt[St]);var St=arguments.length-2;if(St===1)lt.children=ht;else if(1<St){for(var me=Array(St),Ft=0;Ft<St;Ft++)me[Ft]=arguments[Ft+2];lt.children=me}return M(H.type,yt,void 0,void 0,kt,lt)},Gt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},Gt.createElement=function(H,nt,ht){var lt,yt={},kt=null;if(nt!=null)for(lt in nt.key!==void 0&&(kt=""+nt.key),nt)$.call(nt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(yt[lt]=nt[lt]);var St=arguments.length-2;if(St===1)yt.children=ht;else if(1<St){for(var me=Array(St),Ft=0;Ft<St;Ft++)me[Ft]=arguments[Ft+2];yt.children=me}if(H&&H.defaultProps)for(lt in St=H.defaultProps,St)yt[lt]===void 0&&(yt[lt]=St[lt]);return M(H,kt,void 0,void 0,null,yt)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(H){return{$$typeof:c,render:H}},Gt.isValidElement=k,Gt.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:et}},Gt.memo=function(H,nt){return{$$typeof:f,type:H,compare:nt===void 0?null:nt}},Gt.startTransition=function(H){var nt=z.T,ht={};z.T=ht;try{var lt=H(),yt=z.S;yt!==null&&yt(ht,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(xt,dt)}catch(kt){dt(kt)}finally{z.T=nt}},Gt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Gt.use=function(H){return z.H.use(H)},Gt.useActionState=function(H,nt,ht){return z.H.useActionState(H,nt,ht)},Gt.useCallback=function(H,nt){return z.H.useCallback(H,nt)},Gt.useContext=function(H){return z.H.useContext(H)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(H,nt){return z.H.useDeferredValue(H,nt)},Gt.useEffect=function(H,nt,ht){var lt=z.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(H,nt)},Gt.useId=function(){return z.H.useId()},Gt.useImperativeHandle=function(H,nt,ht){return z.H.useImperativeHandle(H,nt,ht)},Gt.useInsertionEffect=function(H,nt){return z.H.useInsertionEffect(H,nt)},Gt.useLayoutEffect=function(H,nt){return z.H.useLayoutEffect(H,nt)},Gt.useMemo=function(H,nt){return z.H.useMemo(H,nt)},Gt.useOptimistic=function(H,nt){return z.H.useOptimistic(H,nt)},Gt.useReducer=function(H,nt,ht){return z.H.useReducer(H,nt,ht)},Gt.useRef=function(H){return z.H.useRef(H)},Gt.useState=function(H){return z.H.useState(H)},Gt.useSyncExternalStore=function(H,nt,ht){return z.H.useSyncExternalStore(H,nt,ht)},Gt.useTransition=function(){return z.H.useTransition()},Gt.version="19.1.0",Gt}var $E;function b0(){return $E||($E=1,hv.exports=l2()),hv.exports}var P=b0();const ke=U1(P);var fv={exports:{}},th={},dv={exports:{}},pv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function c2(){return GE||(GE=1,function(e){function t(K,et){var dt=K.length;K.push(et);t:for(;0<dt;){var xt=dt-1>>>1,H=K[xt];if(0<s(H,et))K[xt]=et,K[dt]=H,dt=xt;else break t}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var et=K[0],dt=K.pop();if(dt!==et){K[0]=dt;t:for(var xt=0,H=K.length,nt=H>>>1;xt<nt;){var ht=2*(xt+1)-1,lt=K[ht],yt=ht+1,kt=K[yt];if(0>s(lt,dt))yt<H&&0>s(kt,lt)?(K[xt]=kt,K[yt]=dt,xt=yt):(K[xt]=lt,K[ht]=dt,xt=ht);else if(yt<H&&0>s(kt,dt))K[xt]=kt,K[yt]=dt,xt=yt;else break t}}return et}function s(K,et){var dt=K.sortIndex-et.sortIndex;return dt!==0?dt:K.id-et.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],f=[],p=1,y=null,_=3,b=!1,T=!1,E=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function q(K){for(var et=n(f);et!==null;){if(et.callback===null)i(f);else if(et.startTime<=K)i(f),et.sortIndex=et.expirationTime,t(h,et);else break;et=n(f)}}function z(K){if(E=!1,q(K),!T)if(n(h)!==null)T=!0,$||($=!0,B());else{var et=n(f);et!==null&&gt(z,et.startTime-K)}}var $=!1,M=-1,D=5,k=-1;function U(){return S?!0:!(e.unstable_now()-k<D)}function L(){if(S=!1,$){var K=e.unstable_now();k=K;var et=!0;try{t:{T=!1,E&&(E=!1,j(M),M=-1),b=!0;var dt=_;try{e:{for(q(K),y=n(h);y!==null&&!(y.expirationTime>K&&U());){var xt=y.callback;if(typeof xt=="function"){y.callback=null,_=y.priorityLevel;var H=xt(y.expirationTime<=K);if(K=e.unstable_now(),typeof H=="function"){y.callback=H,q(K),et=!0;break e}y===n(h)&&i(h),q(K)}else i(h);y=n(h)}if(y!==null)et=!0;else{var nt=n(f);nt!==null&&gt(z,nt.startTime-K),et=!1}}break t}finally{y=null,_=dt,b=!1}et=void 0}}finally{et?B():$=!1}}}var B;if(typeof O=="function")B=function(){O(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ft=V.port2;V.port1.onmessage=L,B=function(){ft.postMessage(null)}}else B=function(){C(L,0)};function gt(K,et){M=C(function(){K(e.unstable_now())},et)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(K){switch(_){case 1:case 2:case 3:var et=3;break;default:et=_}var dt=_;_=et;try{return K()}finally{_=dt}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(K,et){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var dt=_;_=K;try{return et()}finally{_=dt}},e.unstable_scheduleCallback=function(K,et,dt){var xt=e.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?xt+dt:xt):dt=xt,K){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=dt+H,K={id:p++,callback:et,priorityLevel:K,startTime:dt,expirationTime:H,sortIndex:-1},dt>xt?(K.sortIndex=dt,t(f,K),n(h)===null&&K===n(f)&&(E?(j(M),M=-1):E=!0,gt(z,dt-xt))):(K.sortIndex=H,t(h,K),T||b||(T=!0,$||($=!0,B()))),K},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(K){var et=_;return function(){var dt=_;_=et;try{return K.apply(this,arguments)}finally{_=dt}}}}(pv)),pv}var KE;function u2(){return KE||(KE=1,dv.exports=c2()),dv.exports}var mv={exports:{}},$n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function h2(){if(YE)return $n;YE=1;var e=b0();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return $n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,$n.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(h,f,null,p)},$n.flushSync=function(h){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=p,i.d.f()}},$n.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},$n.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},$n.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):p==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},$n.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},$n.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},$n.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=c(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},$n.requestFormReset=function(h){i.d.r(h)},$n.unstable_batchedUpdates=function(h,f){return h(f)},$n.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},$n.useFormStatus=function(){return l.H.useHostTransitionStatus()},$n.version="19.1.0",$n}var XE;function f2(){if(XE)return mv.exports;XE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mv.exports=h2(),mv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function d2(){if(QE)return th;QE=1;var e=u2(),t=b0(),n=f2();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(a(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var u=r,d=o;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){u=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return c(g),r;if(v===d)return c(g),o;v=v.sibling}throw Error(i(188))}if(u.return!==d.return)u=g,d=v;else{for(var A=!1,I=g.child;I;){if(I===u){A=!0,u=g,d=v;break}if(I===d){A=!0,d=g,u=v;break}I=I.sibling}if(!A){for(I=v.child;I;){if(I===u){A=!0,u=v,d=g;break}if(I===d){A=!0,d=v,u=g;break}I=I.sibling}if(!A)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:o}function f(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=f(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),O=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function ft(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case z:return"Suspense";case $:return"SuspenseList";case k:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case O:return(r.displayName||"Context")+".Provider";case j:return(r._context.displayName||"Context")+".Consumer";case q:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return o=r.displayName||null,o!==null?o:ft(r.type)||"Memo";case D:o=r._payload,r=r._init;try{return ft(r(o))}catch{}}return null}var gt=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},xt=[],H=-1;function nt(r){return{current:r}}function ht(r){0>H||(r.current=xt[H],xt[H]=null,H--)}function lt(r,o){H++,xt[H]=r.current,r.current=o}var yt=nt(null),kt=nt(null),St=nt(null),me=nt(null);function Ft(r,o){switch(lt(St,o),lt(kt,r),lt(yt,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?yE(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=yE(o),r=vE(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ht(yt),lt(yt,r)}function He(){ht(yt),ht(kt),ht(St)}function Oe(r){r.memoizedState!==null&&lt(me,r);var o=yt.current,u=vE(o,r.type);o!==u&&(lt(kt,r),lt(yt,u))}function tn(r){kt.current===r&&(ht(yt),ht(kt)),me.current===r&&(ht(me),Ku._currentValue=dt)}var ni=Object.prototype.hasOwnProperty,Sn=e.unstable_scheduleCallback,ii=e.unstable_cancelCallback,De=e.unstable_shouldYield,fs=e.unstable_requestPaint,qe=e.unstable_now,Ei=e.unstable_getCurrentPriorityLevel,fe=e.unstable_ImmediatePriority,si=e.unstable_UserBlockingPriority,ri=e.unstable_NormalPriority,ds=e.unstable_LowPriority,hi=e.unstable_IdlePriority,Bi=e.log,Hn=e.unstable_setDisableYieldValue,it=null,pt=null;function Ot(r){if(typeof Bi=="function"&&Hn(r),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(it,r)}catch{}}var Rt=Math.clz32?Math.clz32:Wt,Tt=Math.log,Lt=Math.LN2;function Wt(r){return r>>>=0,r===0?32:31-(Tt(r)/Lt|0)|0}var qt=256,Vt=4194304;function Kt(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ue(r,o,u){var d=r.pendingLanes;if(d===0)return 0;var g=0,v=r.suspendedLanes,A=r.pingedLanes;r=r.warmLanes;var I=d&134217727;return I!==0?(d=I&~v,d!==0?g=Kt(d):(A&=I,A!==0?g=Kt(A):u||(u=I&~r,u!==0&&(g=Kt(u))))):(I=d&~v,I!==0?g=Kt(I):A!==0?g=Kt(A):u||(u=d&~r,u!==0&&(g=Kt(u)))),g===0?0:o!==0&&o!==g&&(o&v)===0&&(v=g&-g,u=o&-o,v>=u||v===32&&(u&4194048)!==0)?o:g}function pn(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function fi(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ai(){var r=qt;return qt<<=1,(qt&4194048)===0&&(qt=256),r}function We(){var r=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),r}function Re(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function Ne(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function $e(r,o,u,d,g,v){var A=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var I=r.entanglements,F=r.expirationTimes,Q=r.hiddenUpdates;for(u=A&~u;0<u;){var st=31-Rt(u),at=1<<st;I[st]=0,F[st]=-1;var Z=Q[st];if(Z!==null)for(Q[st]=null,st=0;st<Z.length;st++){var J=Z[st];J!==null&&(J.lane&=-536870913)}u&=~at}d!==0&&ce(r,d,0),v!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=v&~(A&~o))}function ce(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-Rt(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|u&4194090}function Ge(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var d=31-Rt(u),g=1<<d;g&o|r[d]&o&&(r[d]|=o),u&=~g}}function Et(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function $t(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ke(){var r=et.p;return r!==0?r:(r=window.event,r===void 0?32:VE(r.type))}function zi(r,o){var u=et.p;try{return et.p=r,o()}finally{et.p=u}}var ut=Math.random().toString(36).slice(2),_t="__reactFiber$"+ut,bt="__reactProps$"+ut,de="__reactContainer$"+ut,Ye="__reactEvents$"+ut,di="__reactListeners$"+ut,mn="__reactHandles$"+ut,on="__reactResources$"+ut,ln="__reactMarker$"+ut;function ue(r){delete r[_t],delete r[bt],delete r[Ye],delete r[di],delete r[mn]}function qn(r){var o=r[_t];if(o)return o;for(var u=r.parentNode;u;){if(o=u[de]||u[_t]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=TE(r);r!==null;){if(u=r[_t])return u;r=TE(r)}return o}r=u,u=r.parentNode}return null}function Fi(r){if(r=r[_t]||r[de]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Hi(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function En(r){var o=r[on];return o||(o=r[on]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Le(r){r[ln]=!0}var na=new Set,gr={};function pi(r,o){Yt(r,o),Yt(r+"Capture",o)}function Yt(r,o){for(gr[r]=o,r=0;r<o.length;r++)na.add(o[r])}var mi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ia={},xi={};function yl(r){return ni.call(xi,r)?!0:ni.call(ia,r)?!1:mi.test(r)?xi[r]=!0:(ia[r]=!0,!1)}function qi(r,o,u){if(yl(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function Ps(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function Pn(r,o,u,d){if(d===null)r.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+d)}}var ro,Mf;function yr(r){if(ro===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ro=o&&o[1]||"",Mf=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ro+r+Mf}var vl=!1;function _l(r,o){if(!r||vl)return"";vl=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(J){var Z=J}Reflect.construct(r,[],at)}else{try{at.call()}catch(J){Z=J}r.call(at.prototype)}}else{try{throw Error()}catch(J){Z=J}(at=r())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),A=v[0],I=v[1];if(A&&I){var F=A.split(`
`),Q=I.split(`
`);for(g=d=0;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;for(;g<Q.length&&!Q[g].includes("DetermineComponentFrameRoot");)g++;if(d===F.length||g===Q.length)for(d=F.length-1,g=Q.length-1;1<=d&&0<=g&&F[d]!==Q[g];)g--;for(;1<=d&&0<=g;d--,g--)if(F[d]!==Q[g]){if(d!==1||g!==1)do if(d--,g--,0>g||F[d]!==Q[g]){var st=`
`+F[d].replace(" at new "," at ");return r.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",r.displayName)),st}while(1<=d&&0<=g);break}}}finally{vl=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?yr(u):""}function eu(r){switch(r.tag){case 26:case 27:case 5:return yr(r.type);case 16:return yr("Lazy");case 13:return yr("Suspense");case 19:return yr("SuspenseList");case 0:case 15:return _l(r.type,!1);case 11:return _l(r.type.render,!1);case 1:return _l(r.type,!0);case 31:return yr("Activity");default:return""}}function bl(r){try{var o="";do o+=eu(r),r=r.return;while(r);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function oi(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function nu(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function pg(r){var o=nu(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return g.call(this)},set:function(A){d=""+A,v.call(this,A)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function wl(r){r._valueTracker||(r._valueTracker=pg(r))}function iu(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return r&&(d=nu(r)?r.checked?"true":"false":r.value),r=d,r!==u?(o.setValue(r),!0):!1}function ao(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var mg=/[\n"\\]/g;function cn(r){return r.replace(mg,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ai(r,o,u,d,g,v,A,I){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),o!=null?A==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+oi(o)):r.value!==""+oi(o)&&(r.value=""+oi(o)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),o!=null?sa(r,A,oi(o)):u!=null?sa(r,A,oi(u)):d!=null&&r.removeAttribute("value"),g==null&&v!=null&&(r.defaultChecked=!!v),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+oi(I):r.removeAttribute("name")}function oo(r,o,u,d,g,v,A,I){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),o!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;u=u!=null?""+oi(u):"",o=o!=null?""+oi(o):u,I||o===r.value||(r.value=o),r.defaultValue=o}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=I?r.checked:!!d,r.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A)}function sa(r,o,u){o==="number"&&ao(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function vr(r,o,u,d){if(r=r.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<r.length;u++)g=o.hasOwnProperty("$"+r[u].value),r[u].selected!==g&&(r[u].selected=g),g&&d&&(r[u].defaultSelected=!0)}else{for(u=""+oi(u),o=null,g=0;g<r.length;g++){if(r[g].value===u){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}o!==null||r[g].disabled||(o=r[g])}o!==null&&(o.selected=!0)}}function Se(r,o,u){if(o!=null&&(o=""+oi(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+oi(u):""}function lo(r,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(i(92));if(gt(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=oi(o),r.defaultValue=u,d=r.textContent,d===u&&d!==""&&d!==null&&(r.value=d)}function Wi(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Of(r,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,u):typeof u!="number"||u===0||co.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function su(r,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var g in o)d=o[g],o.hasOwnProperty(g)&&u[g]!==d&&Of(r,g,d)}else for(var v in o)o.hasOwnProperty(v)&&Of(r,v,o[v])}function ru(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tl(r){return yg.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var _r=null;function $i(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var br=null,wr=null;function au(r){var o=Fi(r);if(o&&(r=o.stateNode)){var u=r[bt]||null;t:switch(r=o.stateNode,o.type){case"input":if(Ai(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+cn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==r&&d.form===r.form){var g=d[bt]||null;if(!g)throw Error(i(90));Ai(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===r.form&&iu(d)}break t;case"textarea":Se(r,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&vr(r,!!u.multiple,o,!1)}}}var Ms=!1;function Nf(r,o,u){if(Ms)return r(o,u);Ms=!0;try{var d=r(o);return d}finally{if(Ms=!1,(br!==null||wr!==null)&&(Cd(),br&&(o=br,r=wr,wr=br=null,au(o),r)))for(o=0;o<r.length;o++)au(r[o])}}function uo(r,o){var u=r.stateNode;if(u===null)return null;var d=u[bt]||null;if(d===null)return null;u=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gi=!1;if(ps)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{Gi=!1}var Os=null,ra=null,Tr=null;function ou(){if(Tr)return Tr;var r,o=ra,u=o.length,d,g="value"in Os?Os.value:Os.textContent,v=g.length;for(r=0;r<u&&o[r]===g[r];r++);var A=u-r;for(d=1;d<=A&&o[u-d]===g[v-d];d++);return Tr=g.slice(r,1<d?1-d:void 0)}function Ns(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Ls(){return!0}function lu(){return!1}function xn(r){function o(u,d,g,v,A){this._reactName=u,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(u=r[I],this[I]=u?u(v):v[I]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ls:lu,this.isPropagationStopped=lu,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),o}var ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=xn(ye),fo=p({},ye,{view:0,detail:0}),Lf=xn(fo),El,xl,Vs,po=p({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Vs&&(Vs&&r.type==="mousemove"?(El=r.screenX-Vs.screenX,xl=r.screenY-Vs.screenY):xl=El=0,Vs=r),El)},movementY:function(r){return"movementY"in r?r.movementY:xl}}),Ki=xn(po),Vf=p({},po,{dataTransfer:0}),vg=xn(Vf),mo=p({},fo,{relatedTarget:0}),Al=xn(mo),cu=p({},ye,{animationName:0,elapsedTime:0,pseudoElement:0}),Rl=xn(cu),jf=p({},ye,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Cl=xn(jf),_g=p({},ye,{data:0}),uu=xn(_g),go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hu(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Bf[r])?!!o[r]:!1}function yo(){return hu}var zf=p({},fo,{key:function(r){if(r.key){var o=go[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Ns(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Uf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yo,charCode:function(r){return r.type==="keypress"?Ns(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ns(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Dl=xn(zf),Ff=p({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fu=xn(Ff),Sr=p({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yo}),Hf=xn(Sr),qf=p({},ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wf=xn(qf),$f=p({},po,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Il=xn($f),li=p({},ye,{newState:0,oldState:0}),Gf=xn(li),Kf=[9,13,27,32],js=ps&&"CompositionEvent"in window,m=null;ps&&"documentMode"in document&&(m=document.documentMode);var w=ps&&"TextEvent"in window&&!m,x=ps&&(!js||m&&8<m&&11>=m),N=" ",Y=!1;function tt(r,o){switch(r){case"keyup":return Kf.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var re=!1;function gn(r,o){switch(r){case"compositionend":return mt(o);case"keypress":return o.which!==32?null:(Y=!0,N);case"textInput":return r=o.data,r===N&&Y?null:r;default:return null}}function ae(r,o){if(re)return r==="compositionend"||!js&&tt(r,o)?(r=ou(),Tr=ra=Os=null,re=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return x&&o.locale!=="ko"?null:o.data;default:return null}}var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yn(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!An[r.type]:o==="textarea"}function Er(r,o,u,d){br?wr?wr.push(d):wr=[d]:br=d,o=Od(o,"onChange"),0<o.length&&(u=new Sl("onChange","change",null,u,d),r.push({event:u,listeners:o}))}var Mn=null,Us=null;function du(r){fE(r,0)}function Yf(r){var o=Hi(r);if(iu(o))return r}function Mw(r,o){if(r==="change")return o}var Ow=!1;if(ps){var bg;if(ps){var wg="oninput"in document;if(!wg){var Nw=document.createElement("div");Nw.setAttribute("oninput","return;"),wg=typeof Nw.oninput=="function"}bg=wg}else bg=!1;Ow=bg&&(!document.documentMode||9<document.documentMode)}function Lw(){Mn&&(Mn.detachEvent("onpropertychange",Vw),Us=Mn=null)}function Vw(r){if(r.propertyName==="value"&&Yf(Us)){var o=[];Er(o,Us,r,$i(r)),Nf(du,o)}}function OO(r,o,u){r==="focusin"?(Lw(),Mn=o,Us=u,Mn.attachEvent("onpropertychange",Vw)):r==="focusout"&&Lw()}function NO(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Yf(Us)}function LO(r,o){if(r==="click")return Yf(o)}function VO(r,o){if(r==="input"||r==="change")return Yf(o)}function jO(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Ri=typeof Object.is=="function"?Object.is:jO;function pu(r,o){if(Ri(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var g=u[d];if(!ni.call(o,g)||!Ri(r[g],o[g]))return!1}return!0}function jw(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Uw(r,o){var u=jw(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=o&&d>=o)return{node:u,offset:o-r};r=d}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=jw(u)}}function Bw(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Bw(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function zw(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=ao(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=ao(r.document)}return o}function Tg(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var UO=ps&&"documentMode"in document&&11>=document.documentMode,kl=null,Sg=null,mu=null,Eg=!1;function Fw(r,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Eg||kl==null||kl!==ao(d)||(d=kl,"selectionStart"in d&&Tg(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),mu&&pu(mu,d)||(mu=d,d=Od(Sg,"onSelect"),0<d.length&&(o=new Sl("onSelect","select",null,o,u),r.push({event:o,listeners:d}),o.target=kl)))}function vo(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var Pl={animationend:vo("Animation","AnimationEnd"),animationiteration:vo("Animation","AnimationIteration"),animationstart:vo("Animation","AnimationStart"),transitionrun:vo("Transition","TransitionRun"),transitionstart:vo("Transition","TransitionStart"),transitioncancel:vo("Transition","TransitionCancel"),transitionend:vo("Transition","TransitionEnd")},xg={},Hw={};ps&&(Hw=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function _o(r){if(xg[r])return xg[r];if(!Pl[r])return r;var o=Pl[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in Hw)return xg[r]=o[u];return r}var qw=_o("animationend"),Ww=_o("animationiteration"),$w=_o("animationstart"),BO=_o("transitionrun"),zO=_o("transitionstart"),FO=_o("transitioncancel"),Gw=_o("transitionend"),Kw=new Map,Ag="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ag.push("scrollEnd");function ms(r,o){Kw.set(r,o),pi(o,[r])}var Yw=new WeakMap;function Yi(r,o){if(typeof r=="object"&&r!==null){var u=Yw.get(r);return u!==void 0?u:(o={value:r,source:o,stack:bl(o)},Yw.set(r,o),o)}return{value:r,source:o,stack:bl(o)}}var Xi=[],Ml=0,Rg=0;function Xf(){for(var r=Ml,o=Rg=Ml=0;o<r;){var u=Xi[o];Xi[o++]=null;var d=Xi[o];Xi[o++]=null;var g=Xi[o];Xi[o++]=null;var v=Xi[o];if(Xi[o++]=null,d!==null&&g!==null){var A=d.pending;A===null?g.next=g:(g.next=A.next,A.next=g),d.pending=g}v!==0&&Xw(u,g,v)}}function Qf(r,o,u,d){Xi[Ml++]=r,Xi[Ml++]=o,Xi[Ml++]=u,Xi[Ml++]=d,Rg|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Cg(r,o,u,d){return Qf(r,o,u,d),Zf(r)}function Ol(r,o){return Qf(r,null,null,o),Zf(r)}function Xw(r,o,u){r.lanes|=u;var d=r.alternate;d!==null&&(d.lanes|=u);for(var g=!1,v=r.return;v!==null;)v.childLanes|=u,d=v.alternate,d!==null&&(d.childLanes|=u),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(g=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,g&&o!==null&&(g=31-Rt(u),r=v.hiddenUpdates,d=r[g],d===null?r[g]=[o]:d.push(o),o.lane=u|536870912),v):null}function Zf(r){if(50<Bu)throw Bu=0,Oy=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Nl={};function HO(r,o,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(r,o,u,d){return new HO(r,o,u,d)}function Dg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xr(r,o){var u=r.alternate;return u===null?(u=Ci(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Qw(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Jf(r,o,u,d,g,v){var A=0;if(d=r,typeof r=="function")Dg(r)&&(A=1);else if(typeof r=="string")A=WN(r,u,yt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case k:return r=Ci(31,u,o,g),r.elementType=k,r.lanes=v,r;case T:return bo(u.children,g,v,o);case E:A=8,g|=24;break;case S:return r=Ci(12,u,o,g|2),r.elementType=S,r.lanes=v,r;case z:return r=Ci(13,u,o,g),r.elementType=z,r.lanes=v,r;case $:return r=Ci(19,u,o,g),r.elementType=$,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:case O:A=10;break t;case j:A=9;break t;case q:A=11;break t;case M:A=14;break t;case D:A=16,d=null;break t}A=29,u=Error(i(130,r===null?"null":typeof r,"")),d=null}return o=Ci(A,u,o,g),o.elementType=r,o.type=d,o.lanes=v,o}function bo(r,o,u,d){return r=Ci(7,r,d,o),r.lanes=u,r}function Ig(r,o,u){return r=Ci(6,r,null,o),r.lanes=u,r}function kg(r,o,u){return o=Ci(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Ll=[],Vl=0,td=null,ed=0,Qi=[],Zi=0,wo=null,Ar=1,Rr="";function To(r,o){Ll[Vl++]=ed,Ll[Vl++]=td,td=r,ed=o}function Zw(r,o,u){Qi[Zi++]=Ar,Qi[Zi++]=Rr,Qi[Zi++]=wo,wo=r;var d=Ar;r=Rr;var g=32-Rt(d)-1;d&=~(1<<g),u+=1;var v=32-Rt(o)+g;if(30<v){var A=g-g%5;v=(d&(1<<A)-1).toString(32),d>>=A,g-=A,Ar=1<<32-Rt(o)+g|u<<g|d,Rr=v+r}else Ar=1<<v|u<<g|d,Rr=r}function Pg(r){r.return!==null&&(To(r,1),Zw(r,1,0))}function Mg(r){for(;r===td;)td=Ll[--Vl],Ll[Vl]=null,ed=Ll[--Vl],Ll[Vl]=null;for(;r===wo;)wo=Qi[--Zi],Qi[Zi]=null,Rr=Qi[--Zi],Qi[Zi]=null,Ar=Qi[--Zi],Qi[Zi]=null}var ci=null,Xe=null,ge=!1,So=null,Bs=!1,Og=Error(i(519));function Eo(r){var o=Error(i(418,""));throw vu(Yi(o,r)),Og}function Jw(r){var o=r.stateNode,u=r.type,d=r.memoizedProps;switch(o[_t]=r,o[bt]=d,u){case"dialog":te("cancel",o),te("close",o);break;case"iframe":case"object":case"embed":te("load",o);break;case"video":case"audio":for(u=0;u<Fu.length;u++)te(Fu[u],o);break;case"source":te("error",o);break;case"img":case"image":case"link":te("error",o),te("load",o);break;case"details":te("toggle",o);break;case"input":te("invalid",o),oo(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),wl(o);break;case"select":te("invalid",o);break;case"textarea":te("invalid",o),lo(o,d.value,d.defaultValue,d.children),wl(o)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||gE(o.textContent,u)?(d.popover!=null&&(te("beforetoggle",o),te("toggle",o)),d.onScroll!=null&&te("scroll",o),d.onScrollEnd!=null&&te("scrollend",o),d.onClick!=null&&(o.onclick=Nd),o=!0):o=!1,o||Eo(r)}function tT(r){for(ci=r.return;ci;)switch(ci.tag){case 5:case 13:Bs=!1;return;case 27:case 3:Bs=!0;return;default:ci=ci.return}}function gu(r){if(r!==ci)return!1;if(!ge)return tT(r),ge=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||Xy(r.type,r.memoizedProps)),u=!u),u&&Xe&&Eo(r),tT(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(o===0){Xe=ys(r.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;r=r.nextSibling}Xe=null}}else o===27?(o=Xe,wa(r.type)?(r=tv,tv=null,Xe=r):Xe=o):Xe=ci?ys(r.stateNode.nextSibling):null;return!0}function yu(){Xe=ci=null,ge=!1}function eT(){var r=So;return r!==null&&(vi===null?vi=r:vi.push.apply(vi,r),So=null),r}function vu(r){So===null?So=[r]:So.push(r)}var Ng=nt(null),xo=null,Cr=null;function aa(r,o,u){lt(Ng,o._currentValue),o._currentValue=u}function Dr(r){r._currentValue=Ng.current,ht(Ng)}function Lg(r,o,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===u)break;r=r.return}}function Vg(r,o,u,d){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var v=g.dependencies;if(v!==null){var A=g.child;v=v.firstContext;t:for(;v!==null;){var I=v;v=g;for(var F=0;F<o.length;F++)if(I.context===o[F]){v.lanes|=u,I=v.alternate,I!==null&&(I.lanes|=u),Lg(v.return,u,r),d||(A=null);break t}v=I.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(i(341));A.lanes|=u,v=A.alternate,v!==null&&(v.lanes|=u),Lg(A,u,r),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===r){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function _u(r,o,u,d){r=null;for(var g=o,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var I=g.type;Ri(g.pendingProps.value,A.value)||(r!==null?r.push(I):r=[I])}}else if(g===me.current){if(A=g.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Ku):r=[Ku])}g=g.return}r!==null&&Vg(o,r,u,d),o.flags|=262144}function nd(r){for(r=r.firstContext;r!==null;){if(!Ri(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ao(r){xo=r,Cr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Wn(r){return nT(xo,r)}function id(r,o){return xo===null&&Ao(r),nT(r,o)}function nT(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Cr===null){if(r===null)throw Error(i(308));Cr=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Cr=Cr.next=o;return u}var qO=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},WO=e.unstable_scheduleCallback,$O=e.unstable_NormalPriority,vn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jg(){return{controller:new qO,data:new Map,refCount:0}}function bu(r){r.refCount--,r.refCount===0&&WO($O,function(){r.controller.abort()})}var wu=null,Ug=0,jl=0,Ul=null;function GO(r,o){if(wu===null){var u=wu=[];Ug=0,jl=zy(),Ul={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Ug++,o.then(iT,iT),o}function iT(){if(--Ug===0&&wu!==null){Ul!==null&&(Ul.status="fulfilled");var r=wu;wu=null,jl=0,Ul=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function KO(r,o){var u=[],d={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var g=0;g<u.length;g++)(0,u[g])(o)},function(g){for(d.status="rejected",d.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),d}var sT=K.S;K.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&GO(r,o),sT!==null&&sT(r,o)};var Ro=nt(null);function Bg(){var r=Ro.current;return r!==null?r:Ie.pooledCache}function sd(r,o){o===null?lt(Ro,Ro.current):lt(Ro,o.pool)}function rT(){var r=Bg();return r===null?null:{parent:vn._currentValue,pool:r}}var Tu=Error(i(460)),aT=Error(i(474)),rd=Error(i(542)),zg={then:function(){}};function oT(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ad(){}function lT(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(ad,ad),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,uT(r),r;default:if(typeof o.status=="string")o.then(ad,ad);else{if(r=Ie,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=d}},function(d){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,uT(r),r}throw Su=o,Tu}}var Su=null;function cT(){if(Su===null)throw Error(i(459));var r=Su;return Su=null,r}function uT(r){if(r===Tu||r===rd)throw Error(i(483))}var oa=!1;function Fg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hg(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function la(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ca(r,o,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(be&2)!==0){var g=d.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),d.pending=o,o=Zf(r),Xw(r,null,u),o}return Qf(r,d,o,u),Zf(r)}function Eu(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,Ge(r,u)}}function qg(r,o){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?g=v=A:v=v.next=A,u=u.next}while(u!==null);v===null?g=v=o:v=v.next=o}else g=v=o;u={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var Wg=!1;function xu(){if(Wg){var r=Ul;if(r!==null)throw r}}function Au(r,o,u,d){Wg=!1;var g=r.updateQueue;oa=!1;var v=g.firstBaseUpdate,A=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var F=I,Q=F.next;F.next=null,A===null?v=Q:A.next=Q,A=F;var st=r.alternate;st!==null&&(st=st.updateQueue,I=st.lastBaseUpdate,I!==A&&(I===null?st.firstBaseUpdate=Q:I.next=Q,st.lastBaseUpdate=F))}if(v!==null){var at=g.baseState;A=0,st=Q=F=null,I=v;do{var Z=I.lane&-536870913,J=Z!==I.lane;if(J?(oe&Z)===Z:(d&Z)===Z){Z!==0&&Z===jl&&(Wg=!0),st!==null&&(st=st.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});t:{var jt=r,Dt=I;Z=o;var Ae=u;switch(Dt.tag){case 1:if(jt=Dt.payload,typeof jt=="function"){at=jt.call(Ae,at,Z);break t}at=jt;break t;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=Dt.payload,Z=typeof jt=="function"?jt.call(Ae,at,Z):jt,Z==null)break t;at=p({},at,Z);break t;case 2:oa=!0}}Z=I.callback,Z!==null&&(r.flags|=64,J&&(r.flags|=8192),J=g.callbacks,J===null?g.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:I.tag,payload:I.payload,callback:I.callback,next:null},st===null?(Q=st=J,F=at):st=st.next=J,A|=Z;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;J=I,I=J.next,J.next=null,g.lastBaseUpdate=J,g.shared.pending=null}}while(!0);st===null&&(F=at),g.baseState=F,g.firstBaseUpdate=Q,g.lastBaseUpdate=st,v===null&&(g.shared.lanes=0),ya|=A,r.lanes=A,r.memoizedState=at}}function hT(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function fT(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)hT(u[r],o)}var Bl=nt(null),od=nt(0);function dT(r,o){r=Lr,lt(od,r),lt(Bl,o),Lr=r|o.baseLanes}function $g(){lt(od,Lr),lt(Bl,Bl.current)}function Gg(){Lr=od.current,ht(Bl),ht(od)}var ua=0,Xt=null,Ee=null,un=null,ld=!1,zl=!1,Co=!1,cd=0,Ru=0,Fl=null,YO=0;function en(){throw Error(i(321))}function Kg(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Ri(r[u],o[u]))return!1;return!0}function Yg(r,o,u,d,g,v){return ua=v,Xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,K.H=r===null||r.memoizedState===null?XT:QT,Co=!1,v=u(d,g),Co=!1,zl&&(v=mT(o,u,d,g)),pT(r),v}function pT(r){K.H=md;var o=Ee!==null&&Ee.next!==null;if(ua=0,un=Ee=Xt=null,ld=!1,Ru=0,Fl=null,o)throw Error(i(300));r===null||Rn||(r=r.dependencies,r!==null&&nd(r)&&(Rn=!0))}function mT(r,o,u,d){Xt=r;var g=0;do{if(zl&&(Fl=null),Ru=0,zl=!1,25<=g)throw Error(i(301));if(g+=1,un=Ee=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}K.H=nN,v=o(u,d)}while(zl);return v}function XO(){var r=K.H,o=r.useState()[0];return o=typeof o.then=="function"?Cu(o):o,r=r.useState()[0],(Ee!==null?Ee.memoizedState:null)!==r&&(Xt.flags|=1024),o}function Xg(){var r=cd!==0;return cd=0,r}function Qg(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function Zg(r){if(ld){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}ld=!1}ua=0,un=Ee=Xt=null,zl=!1,Ru=cd=0,Fl=null}function gi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Xt.memoizedState=un=r:un=un.next=r,un}function hn(){if(Ee===null){var r=Xt.alternate;r=r!==null?r.memoizedState:null}else r=Ee.next;var o=un===null?Xt.memoizedState:un.next;if(o!==null)un=o,Ee=r;else{if(r===null)throw Xt.alternate===null?Error(i(467)):Error(i(310));Ee=r,r={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},un===null?Xt.memoizedState=un=r:un=un.next=r}return un}function Jg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cu(r){var o=Ru;return Ru+=1,Fl===null&&(Fl=[]),r=lT(Fl,r,o),o=Xt,(un===null?o.memoizedState:un.next)===null&&(o=o.alternate,K.H=o===null||o.memoizedState===null?XT:QT),r}function ud(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Cu(r);if(r.$$typeof===O)return Wn(r)}throw Error(i(438,String(r)))}function ty(r){var o=null,u=Xt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=Xt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Jg(),Xt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),d=0;d<r;d++)u[d]=U;return o.index++,u}function Ir(r,o){return typeof o=="function"?o(r):o}function hd(r){var o=hn();return ey(o,Ee,r)}function ey(r,o,u){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var g=r.baseQueue,v=d.pending;if(v!==null){if(g!==null){var A=g.next;g.next=v.next,v.next=A}o.baseQueue=g=v,d.pending=null}if(v=r.baseState,g===null)r.memoizedState=v;else{o=g.next;var I=A=null,F=null,Q=o,st=!1;do{var at=Q.lane&-536870913;if(at!==Q.lane?(oe&at)===at:(ua&at)===at){var Z=Q.revertLane;if(Z===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),at===jl&&(st=!0);else if((ua&Z)===Z){Q=Q.next,Z===jl&&(st=!0);continue}else at={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},F===null?(I=F=at,A=v):F=F.next=at,Xt.lanes|=Z,ya|=Z;at=Q.action,Co&&u(v,at),v=Q.hasEagerState?Q.eagerState:u(v,at)}else Z={lane:at,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},F===null?(I=F=Z,A=v):F=F.next=Z,Xt.lanes|=at,ya|=at;Q=Q.next}while(Q!==null&&Q!==o);if(F===null?A=v:F.next=I,!Ri(v,r.memoizedState)&&(Rn=!0,st&&(u=Ul,u!==null)))throw u;r.memoizedState=v,r.baseState=A,r.baseQueue=F,d.lastRenderedState=v}return g===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function ny(r){var o=hn(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var d=u.dispatch,g=u.pending,v=o.memoizedState;if(g!==null){u.pending=null;var A=g=g.next;do v=r(v,A.action),A=A.next;while(A!==g);Ri(v,o.memoizedState)||(Rn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function gT(r,o,u){var d=Xt,g=hn(),v=ge;if(v){if(u===void 0)throw Error(i(407));u=u()}else u=o();var A=!Ri((Ee||g).memoizedState,u);A&&(g.memoizedState=u,Rn=!0),g=g.queue;var I=_T.bind(null,d,g,r);if(Du(2048,8,I,[r]),g.getSnapshot!==o||A||un!==null&&un.memoizedState.tag&1){if(d.flags|=2048,Hl(9,fd(),vT.bind(null,d,g,u,o),null),Ie===null)throw Error(i(349));v||(ua&124)!==0||yT(d,o,u)}return u}function yT(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=Xt.updateQueue,o===null?(o=Jg(),Xt.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function vT(r,o,u,d){o.value=u,o.getSnapshot=d,bT(o)&&wT(r)}function _T(r,o,u){return u(function(){bT(o)&&wT(r)})}function bT(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Ri(r,u)}catch{return!0}}function wT(r){var o=Ol(r,2);o!==null&&Mi(o,r,2)}function iy(r){var o=gi();if(typeof r=="function"){var u=r;if(r=u(),Co){Ot(!0);try{u()}finally{Ot(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:r},o}function TT(r,o,u,d){return r.baseState=u,ey(r,Ee,typeof d=="function"?d:Ir)}function QO(r,o,u,d,g){if(pd(r))throw Error(i(485));if(r=o.action,r!==null){var v={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};K.T!==null?u(!0):v.isTransition=!1,d(v),u=o.pending,u===null?(v.next=o.pending=v,ST(o,v)):(v.next=u.next,o.pending=u.next=v)}}function ST(r,o){var u=o.action,d=o.payload,g=r.state;if(o.isTransition){var v=K.T,A={};K.T=A;try{var I=u(g,d),F=K.S;F!==null&&F(A,I),ET(r,o,I)}catch(Q){sy(r,o,Q)}finally{K.T=v}}else try{v=u(g,d),ET(r,o,v)}catch(Q){sy(r,o,Q)}}function ET(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){xT(r,o,d)},function(d){return sy(r,o,d)}):xT(r,o,u)}function xT(r,o,u){o.status="fulfilled",o.value=u,AT(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,ST(r,u)))}function sy(r,o,u){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,AT(o),o=o.next;while(o!==d)}r.action=null}function AT(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function RT(r,o){return o}function CT(r,o){if(ge){var u=Ie.formState;if(u!==null){t:{var d=Xt;if(ge){if(Xe){e:{for(var g=Xe,v=Bs;g.nodeType!==8;){if(!v){g=null;break e}if(g=ys(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Xe=ys(g.nextSibling),d=g.data==="F!";break t}}Eo(d)}d=!1}d&&(o=u[0])}}return u=gi(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RT,lastRenderedState:o},u.queue=d,u=GT.bind(null,Xt,d),d.dispatch=u,d=iy(!1),v=cy.bind(null,Xt,!1,d.queue),d=gi(),g={state:o,dispatch:null,action:r,pending:null},d.queue=g,u=QO.bind(null,Xt,g,v,u),g.dispatch=u,d.memoizedState=r,[o,u,!1]}function DT(r){var o=hn();return IT(o,Ee,r)}function IT(r,o,u){if(o=ey(r,o,RT)[0],r=hd(Ir)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Cu(o)}catch(A){throw A===Tu?rd:A}else d=o;o=hn();var g=o.queue,v=g.dispatch;return u!==o.memoizedState&&(Xt.flags|=2048,Hl(9,fd(),ZO.bind(null,g,u),null)),[d,v,r]}function ZO(r,o){r.action=o}function kT(r){var o=hn(),u=Ee;if(u!==null)return IT(o,u,r);hn(),o=o.memoizedState,u=hn();var d=u.queue.dispatch;return u.memoizedState=r,[o,d,!1]}function Hl(r,o,u,d){return r={tag:r,create:u,deps:d,inst:o,next:null},o=Xt.updateQueue,o===null&&(o=Jg(),Xt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,o.lastEffect=r),r}function fd(){return{destroy:void 0,resource:void 0}}function PT(){return hn().memoizedState}function dd(r,o,u,d){var g=gi();d=d===void 0?null:d,Xt.flags|=r,g.memoizedState=Hl(1|o,fd(),u,d)}function Du(r,o,u,d){var g=hn();d=d===void 0?null:d;var v=g.memoizedState.inst;Ee!==null&&d!==null&&Kg(d,Ee.memoizedState.deps)?g.memoizedState=Hl(o,v,u,d):(Xt.flags|=r,g.memoizedState=Hl(1|o,v,u,d))}function MT(r,o){dd(8390656,8,r,o)}function OT(r,o){Du(2048,8,r,o)}function NT(r,o){return Du(4,2,r,o)}function LT(r,o){return Du(4,4,r,o)}function VT(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function jT(r,o,u){u=u!=null?u.concat([r]):null,Du(4,4,VT.bind(null,o,r),u)}function ry(){}function UT(r,o){var u=hn();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&Kg(o,d[1])?d[0]:(u.memoizedState=[r,o],r)}function BT(r,o){var u=hn();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&Kg(o,d[1]))return d[0];if(d=r(),Co){Ot(!0);try{r()}finally{Ot(!1)}}return u.memoizedState=[d,o],d}function ay(r,o,u){return u===void 0||(ua&1073741824)!==0?r.memoizedState=o:(r.memoizedState=u,r=HS(),Xt.lanes|=r,ya|=r,u)}function zT(r,o,u,d){return Ri(u,o)?u:Bl.current!==null?(r=ay(r,u,d),Ri(r,o)||(Rn=!0),r):(ua&42)===0?(Rn=!0,r.memoizedState=u):(r=HS(),Xt.lanes|=r,ya|=r,o)}function FT(r,o,u,d,g){var v=et.p;et.p=v!==0&&8>v?v:8;var A=K.T,I={};K.T=I,cy(r,!1,o,u);try{var F=g(),Q=K.S;if(Q!==null&&Q(I,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var st=KO(F,d);Iu(r,o,st,Pi(r))}else Iu(r,o,d,Pi(r))}catch(at){Iu(r,o,{then:function(){},status:"rejected",reason:at},Pi())}finally{et.p=v,K.T=A}}function JO(){}function oy(r,o,u,d){if(r.tag!==5)throw Error(i(476));var g=HT(r).queue;FT(r,g,o,dt,u===null?JO:function(){return qT(r),u(d)})}function HT(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:dt},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function qT(r){var o=HT(r).next.queue;Iu(r,o,{},Pi())}function ly(){return Wn(Ku)}function WT(){return hn().memoizedState}function $T(){return hn().memoizedState}function tN(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=Pi();r=la(u);var d=ca(o,r,u);d!==null&&(Mi(d,o,u),Eu(d,o,u)),o={cache:jg()},r.payload=o;return}o=o.return}}function eN(r,o,u){var d=Pi();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},pd(r)?KT(o,u):(u=Cg(r,o,u,d),u!==null&&(Mi(u,r,d),YT(u,o,d)))}function GT(r,o,u){var d=Pi();Iu(r,o,u,d)}function Iu(r,o,u,d){var g={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(pd(r))KT(o,g);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var A=o.lastRenderedState,I=v(A,u);if(g.hasEagerState=!0,g.eagerState=I,Ri(I,A))return Qf(r,o,g,0),Ie===null&&Xf(),!1}catch{}finally{}if(u=Cg(r,o,g,d),u!==null)return Mi(u,r,d),YT(u,o,d),!0}return!1}function cy(r,o,u,d){if(d={lane:2,revertLane:zy(),action:d,hasEagerState:!1,eagerState:null,next:null},pd(r)){if(o)throw Error(i(479))}else o=Cg(r,u,d,2),o!==null&&Mi(o,r,2)}function pd(r){var o=r.alternate;return r===Xt||o!==null&&o===Xt}function KT(r,o){zl=ld=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function YT(r,o,u){if((u&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,Ge(r,u)}}var md={readContext:Wn,use:ud,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en},XT={readContext:Wn,use:ud,useCallback:function(r,o){return gi().memoizedState=[r,o===void 0?null:o],r},useContext:Wn,useEffect:MT,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,dd(4194308,4,VT.bind(null,o,r),u)},useLayoutEffect:function(r,o){return dd(4194308,4,r,o)},useInsertionEffect:function(r,o){dd(4,2,r,o)},useMemo:function(r,o){var u=gi();o=o===void 0?null:o;var d=r();if(Co){Ot(!0);try{r()}finally{Ot(!1)}}return u.memoizedState=[d,o],d},useReducer:function(r,o,u){var d=gi();if(u!==void 0){var g=u(o);if(Co){Ot(!0);try{u(o)}finally{Ot(!1)}}}else g=o;return d.memoizedState=d.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},d.queue=r,r=r.dispatch=eN.bind(null,Xt,r),[d.memoizedState,r]},useRef:function(r){var o=gi();return r={current:r},o.memoizedState=r},useState:function(r){r=iy(r);var o=r.queue,u=GT.bind(null,Xt,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:ry,useDeferredValue:function(r,o){var u=gi();return ay(u,r,o)},useTransition:function(){var r=iy(!1);return r=FT.bind(null,Xt,r.queue,!0,!1),gi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var d=Xt,g=gi();if(ge){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),Ie===null)throw Error(i(349));(oe&124)!==0||yT(d,o,u)}g.memoizedState=u;var v={value:u,getSnapshot:o};return g.queue=v,MT(_T.bind(null,d,v,r),[r]),d.flags|=2048,Hl(9,fd(),vT.bind(null,d,v,u,o),null),u},useId:function(){var r=gi(),o=Ie.identifierPrefix;if(ge){var u=Rr,d=Ar;u=(d&~(1<<32-Rt(d)-1)).toString(32)+u,o=""+o+"R"+u,u=cd++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=YO++,o=""+o+"r"+u.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:ly,useFormState:CT,useActionState:CT,useOptimistic:function(r){var o=gi();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=cy.bind(null,Xt,!0,u),u.dispatch=o,[r,o]},useMemoCache:ty,useCacheRefresh:function(){return gi().memoizedState=tN.bind(null,Xt)}},QT={readContext:Wn,use:ud,useCallback:UT,useContext:Wn,useEffect:OT,useImperativeHandle:jT,useInsertionEffect:NT,useLayoutEffect:LT,useMemo:BT,useReducer:hd,useRef:PT,useState:function(){return hd(Ir)},useDebugValue:ry,useDeferredValue:function(r,o){var u=hn();return zT(u,Ee.memoizedState,r,o)},useTransition:function(){var r=hd(Ir)[0],o=hn().memoizedState;return[typeof r=="boolean"?r:Cu(r),o]},useSyncExternalStore:gT,useId:WT,useHostTransitionStatus:ly,useFormState:DT,useActionState:DT,useOptimistic:function(r,o){var u=hn();return TT(u,Ee,r,o)},useMemoCache:ty,useCacheRefresh:$T},nN={readContext:Wn,use:ud,useCallback:UT,useContext:Wn,useEffect:OT,useImperativeHandle:jT,useInsertionEffect:NT,useLayoutEffect:LT,useMemo:BT,useReducer:ny,useRef:PT,useState:function(){return ny(Ir)},useDebugValue:ry,useDeferredValue:function(r,o){var u=hn();return Ee===null?ay(u,r,o):zT(u,Ee.memoizedState,r,o)},useTransition:function(){var r=ny(Ir)[0],o=hn().memoizedState;return[typeof r=="boolean"?r:Cu(r),o]},useSyncExternalStore:gT,useId:WT,useHostTransitionStatus:ly,useFormState:kT,useActionState:kT,useOptimistic:function(r,o){var u=hn();return Ee!==null?TT(u,Ee,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:ty,useCacheRefresh:$T},ql=null,ku=0;function gd(r){var o=ku;return ku+=1,ql===null&&(ql=[]),lT(ql,r,o)}function Pu(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function yd(r,o){throw o.$$typeof===y?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function ZT(r){var o=r._init;return o(r._payload)}function JT(r){function o(G,W){if(r){var X=G.deletions;X===null?(G.deletions=[W],G.flags|=16):X.push(W)}}function u(G,W){if(!r)return null;for(;W!==null;)o(G,W),W=W.sibling;return null}function d(G){for(var W=new Map;G!==null;)G.key!==null?W.set(G.key,G):W.set(G.index,G),G=G.sibling;return W}function g(G,W){return G=xr(G,W),G.index=0,G.sibling=null,G}function v(G,W,X){return G.index=X,r?(X=G.alternate,X!==null?(X=X.index,X<W?(G.flags|=67108866,W):X):(G.flags|=67108866,W)):(G.flags|=1048576,W)}function A(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function I(G,W,X,rt){return W===null||W.tag!==6?(W=Ig(X,G.mode,rt),W.return=G,W):(W=g(W,X),W.return=G,W)}function F(G,W,X,rt){var wt=X.type;return wt===T?st(G,W,X.props.children,rt,X.key):W!==null&&(W.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===D&&ZT(wt)===W.type)?(W=g(W,X.props),Pu(W,X),W.return=G,W):(W=Jf(X.type,X.key,X.props,null,G.mode,rt),Pu(W,X),W.return=G,W)}function Q(G,W,X,rt){return W===null||W.tag!==4||W.stateNode.containerInfo!==X.containerInfo||W.stateNode.implementation!==X.implementation?(W=kg(X,G.mode,rt),W.return=G,W):(W=g(W,X.children||[]),W.return=G,W)}function st(G,W,X,rt,wt){return W===null||W.tag!==7?(W=bo(X,G.mode,rt,wt),W.return=G,W):(W=g(W,X),W.return=G,W)}function at(G,W,X){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Ig(""+W,G.mode,X),W.return=G,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case _:return X=Jf(W.type,W.key,W.props,null,G.mode,X),Pu(X,W),X.return=G,X;case b:return W=kg(W,G.mode,X),W.return=G,W;case D:var rt=W._init;return W=rt(W._payload),at(G,W,X)}if(gt(W)||B(W))return W=bo(W,G.mode,X,null),W.return=G,W;if(typeof W.then=="function")return at(G,gd(W),X);if(W.$$typeof===O)return at(G,id(G,W),X);yd(G,W)}return null}function Z(G,W,X,rt){var wt=W!==null?W.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return wt!==null?null:I(G,W,""+X,rt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return X.key===wt?F(G,W,X,rt):null;case b:return X.key===wt?Q(G,W,X,rt):null;case D:return wt=X._init,X=wt(X._payload),Z(G,W,X,rt)}if(gt(X)||B(X))return wt!==null?null:st(G,W,X,rt,null);if(typeof X.then=="function")return Z(G,W,gd(X),rt);if(X.$$typeof===O)return Z(G,W,id(G,X),rt);yd(G,X)}return null}function J(G,W,X,rt,wt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return G=G.get(X)||null,I(W,G,""+rt,wt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case _:return G=G.get(rt.key===null?X:rt.key)||null,F(W,G,rt,wt);case b:return G=G.get(rt.key===null?X:rt.key)||null,Q(W,G,rt,wt);case D:var Zt=rt._init;return rt=Zt(rt._payload),J(G,W,X,rt,wt)}if(gt(rt)||B(rt))return G=G.get(X)||null,st(W,G,rt,wt,null);if(typeof rt.then=="function")return J(G,W,X,gd(rt),wt);if(rt.$$typeof===O)return J(G,W,X,id(W,rt),wt);yd(W,rt)}return null}function jt(G,W,X,rt){for(var wt=null,Zt=null,At=W,Pt=W=0,Dn=null;At!==null&&Pt<X.length;Pt++){At.index>Pt?(Dn=At,At=null):Dn=At.sibling;var pe=Z(G,At,X[Pt],rt);if(pe===null){At===null&&(At=Dn);break}r&&At&&pe.alternate===null&&o(G,At),W=v(pe,W,Pt),Zt===null?wt=pe:Zt.sibling=pe,Zt=pe,At=Dn}if(Pt===X.length)return u(G,At),ge&&To(G,Pt),wt;if(At===null){for(;Pt<X.length;Pt++)At=at(G,X[Pt],rt),At!==null&&(W=v(At,W,Pt),Zt===null?wt=At:Zt.sibling=At,Zt=At);return ge&&To(G,Pt),wt}for(At=d(At);Pt<X.length;Pt++)Dn=J(At,G,Pt,X[Pt],rt),Dn!==null&&(r&&Dn.alternate!==null&&At.delete(Dn.key===null?Pt:Dn.key),W=v(Dn,W,Pt),Zt===null?wt=Dn:Zt.sibling=Dn,Zt=Dn);return r&&At.forEach(function(Aa){return o(G,Aa)}),ge&&To(G,Pt),wt}function Dt(G,W,X,rt){if(X==null)throw Error(i(151));for(var wt=null,Zt=null,At=W,Pt=W=0,Dn=null,pe=X.next();At!==null&&!pe.done;Pt++,pe=X.next()){At.index>Pt?(Dn=At,At=null):Dn=At.sibling;var Aa=Z(G,At,pe.value,rt);if(Aa===null){At===null&&(At=Dn);break}r&&At&&Aa.alternate===null&&o(G,At),W=v(Aa,W,Pt),Zt===null?wt=Aa:Zt.sibling=Aa,Zt=Aa,At=Dn}if(pe.done)return u(G,At),ge&&To(G,Pt),wt;if(At===null){for(;!pe.done;Pt++,pe=X.next())pe=at(G,pe.value,rt),pe!==null&&(W=v(pe,W,Pt),Zt===null?wt=pe:Zt.sibling=pe,Zt=pe);return ge&&To(G,Pt),wt}for(At=d(At);!pe.done;Pt++,pe=X.next())pe=J(At,G,Pt,pe.value,rt),pe!==null&&(r&&pe.alternate!==null&&At.delete(pe.key===null?Pt:pe.key),W=v(pe,W,Pt),Zt===null?wt=pe:Zt.sibling=pe,Zt=pe);return r&&At.forEach(function(i2){return o(G,i2)}),ge&&To(G,Pt),wt}function Ae(G,W,X,rt){if(typeof X=="object"&&X!==null&&X.type===T&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case _:t:{for(var wt=X.key;W!==null;){if(W.key===wt){if(wt=X.type,wt===T){if(W.tag===7){u(G,W.sibling),rt=g(W,X.props.children),rt.return=G,G=rt;break t}}else if(W.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===D&&ZT(wt)===W.type){u(G,W.sibling),rt=g(W,X.props),Pu(rt,X),rt.return=G,G=rt;break t}u(G,W);break}else o(G,W);W=W.sibling}X.type===T?(rt=bo(X.props.children,G.mode,rt,X.key),rt.return=G,G=rt):(rt=Jf(X.type,X.key,X.props,null,G.mode,rt),Pu(rt,X),rt.return=G,G=rt)}return A(G);case b:t:{for(wt=X.key;W!==null;){if(W.key===wt)if(W.tag===4&&W.stateNode.containerInfo===X.containerInfo&&W.stateNode.implementation===X.implementation){u(G,W.sibling),rt=g(W,X.children||[]),rt.return=G,G=rt;break t}else{u(G,W);break}else o(G,W);W=W.sibling}rt=kg(X,G.mode,rt),rt.return=G,G=rt}return A(G);case D:return wt=X._init,X=wt(X._payload),Ae(G,W,X,rt)}if(gt(X))return jt(G,W,X,rt);if(B(X)){if(wt=B(X),typeof wt!="function")throw Error(i(150));return X=wt.call(X),Dt(G,W,X,rt)}if(typeof X.then=="function")return Ae(G,W,gd(X),rt);if(X.$$typeof===O)return Ae(G,W,id(G,X),rt);yd(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,W!==null&&W.tag===6?(u(G,W.sibling),rt=g(W,X),rt.return=G,G=rt):(u(G,W),rt=Ig(X,G.mode,rt),rt.return=G,G=rt),A(G)):u(G,W)}return function(G,W,X,rt){try{ku=0;var wt=Ae(G,W,X,rt);return ql=null,wt}catch(At){if(At===Tu||At===rd)throw At;var Zt=Ci(29,At,null,G.mode);return Zt.lanes=rt,Zt.return=G,Zt}finally{}}}var Wl=JT(!0),tS=JT(!1),Ji=nt(null),zs=null;function ha(r){var o=r.alternate;lt(_n,_n.current&1),lt(Ji,r),zs===null&&(o===null||Bl.current!==null||o.memoizedState!==null)&&(zs=r)}function eS(r){if(r.tag===22){if(lt(_n,_n.current),lt(Ji,r),zs===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(zs=r)}}else fa()}function fa(){lt(_n,_n.current),lt(Ji,Ji.current)}function kr(r){ht(Ji),zs===r&&(zs=null),ht(_n)}var _n=nt(0);function vd(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Jy(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function uy(r,o,u,d){o=r.memoizedState,u=u(d,o),u=u==null?o:p({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var hy={enqueueSetState:function(r,o,u){r=r._reactInternals;var d=Pi(),g=la(d);g.payload=o,u!=null&&(g.callback=u),o=ca(r,g,d),o!==null&&(Mi(o,r,d),Eu(o,r,d))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var d=Pi(),g=la(d);g.tag=1,g.payload=o,u!=null&&(g.callback=u),o=ca(r,g,d),o!==null&&(Mi(o,r,d),Eu(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=Pi(),d=la(u);d.tag=2,o!=null&&(d.callback=o),o=ca(r,d,u),o!==null&&(Mi(o,r,u),Eu(o,r,u))}};function nS(r,o,u,d,g,v,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,A):o.prototype&&o.prototype.isPureReactComponent?!pu(u,d)||!pu(g,v):!0}function iS(r,o,u,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==r&&hy.enqueueReplaceState(o,o.state,null)}function Do(r,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(r=r.defaultProps){u===o&&(u=p({},u));for(var g in r)u[g]===void 0&&(u[g]=r[g])}return u}var _d=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function sS(r){_d(r)}function rS(r){console.error(r)}function aS(r){_d(r)}function bd(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function oS(r,o,u){try{var d=r.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function fy(r,o,u){return u=la(u),u.tag=3,u.payload={element:null},u.callback=function(){bd(r,o)},u}function lS(r){return r=la(r),r.tag=3,r}function cS(r,o,u,d){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var v=d.value;r.payload=function(){return g(v)},r.callback=function(){oS(o,u,d)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){oS(o,u,d),typeof g!="function"&&(va===null?va=new Set([this]):va.add(this));var I=d.stack;this.componentDidCatch(d.value,{componentStack:I!==null?I:""})})}function iN(r,o,u,d,g){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&_u(o,u,g,!0),u=Ji.current,u!==null){switch(u.tag){case 13:return zs===null?Ly():u.alternate===null&&Qe===0&&(Qe=3),u.flags&=-257,u.flags|=65536,u.lanes=g,d===zg?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),jy(r,d,g)),!1;case 22:return u.flags|=65536,d===zg?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),jy(r,d,g)),!1}throw Error(i(435,u.tag))}return jy(r,d,g),Ly(),!1}if(ge)return o=Ji.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,d!==Og&&(r=Error(i(422),{cause:d}),vu(Yi(r,u)))):(d!==Og&&(o=Error(i(423),{cause:d}),vu(Yi(o,u))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,d=Yi(d,u),g=fy(r.stateNode,d,g),qg(r,g),Qe!==4&&(Qe=2)),!1;var v=Error(i(520),{cause:d});if(v=Yi(v,u),Uu===null?Uu=[v]:Uu.push(v),Qe!==4&&(Qe=2),o===null)return!0;d=Yi(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=g&-g,u.lanes|=r,r=fy(u.stateNode,d,r),qg(u,r),!1;case 1:if(o=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(va===null||!va.has(v))))return u.flags|=65536,g&=-g,u.lanes|=g,g=lS(g),cS(g,r,u,d),qg(u,g),!1}u=u.return}while(u!==null);return!1}var uS=Error(i(461)),Rn=!1;function On(r,o,u,d){o.child=r===null?tS(o,null,u,d):Wl(o,r.child,u,d)}function hS(r,o,u,d,g){u=u.render;var v=o.ref;if("ref"in d){var A={};for(var I in d)I!=="ref"&&(A[I]=d[I])}else A=d;return Ao(o),d=Yg(r,o,u,A,v,g),I=Xg(),r!==null&&!Rn?(Qg(r,o,g),Pr(r,o,g)):(ge&&I&&Pg(o),o.flags|=1,On(r,o,d,g),o.child)}function fS(r,o,u,d,g){if(r===null){var v=u.type;return typeof v=="function"&&!Dg(v)&&v.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=v,dS(r,o,v,d,g)):(r=Jf(u.type,null,d,o,o.mode,g),r.ref=o.ref,r.return=o,o.child=r)}if(v=r.child,!by(r,g)){var A=v.memoizedProps;if(u=u.compare,u=u!==null?u:pu,u(A,d)&&r.ref===o.ref)return Pr(r,o,g)}return o.flags|=1,r=xr(v,d),r.ref=o.ref,r.return=o,o.child=r}function dS(r,o,u,d,g){if(r!==null){var v=r.memoizedProps;if(pu(v,d)&&r.ref===o.ref)if(Rn=!1,o.pendingProps=d=v,by(r,g))(r.flags&131072)!==0&&(Rn=!0);else return o.lanes=r.lanes,Pr(r,o,g)}return dy(r,o,u,d,g)}function pS(r,o,u){var d=o.pendingProps,g=d.children,v=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=v!==null?v.baseLanes|u:u,r!==null){for(g=o.child=r.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;o.childLanes=v&~d}else o.childLanes=0,o.child=null;return mS(r,o,d,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&sd(o,v!==null?v.cachePool:null),v!==null?dT(o,v):$g(),eS(o);else return o.lanes=o.childLanes=536870912,mS(r,o,v!==null?v.baseLanes|u:u,u)}else v!==null?(sd(o,v.cachePool),dT(o,v),fa(),o.memoizedState=null):(r!==null&&sd(o,null),$g(),fa());return On(r,o,g,u),o.child}function mS(r,o,u,d){var g=Bg();return g=g===null?null:{parent:vn._currentValue,pool:g},o.memoizedState={baseLanes:u,cachePool:g},r!==null&&sd(o,null),$g(),eS(o),r!==null&&_u(r,o,d,!0),null}function wd(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function dy(r,o,u,d,g){return Ao(o),u=Yg(r,o,u,d,void 0,g),d=Xg(),r!==null&&!Rn?(Qg(r,o,g),Pr(r,o,g)):(ge&&d&&Pg(o),o.flags|=1,On(r,o,u,g),o.child)}function gS(r,o,u,d,g,v){return Ao(o),o.updateQueue=null,u=mT(o,d,u,g),pT(r),d=Xg(),r!==null&&!Rn?(Qg(r,o,v),Pr(r,o,v)):(ge&&d&&Pg(o),o.flags|=1,On(r,o,u,v),o.child)}function yS(r,o,u,d,g){if(Ao(o),o.stateNode===null){var v=Nl,A=u.contextType;typeof A=="object"&&A!==null&&(v=Wn(A)),v=new u(d,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=hy,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=d,v.state=o.memoizedState,v.refs={},Fg(o),A=u.contextType,v.context=typeof A=="object"&&A!==null?Wn(A):Nl,v.state=o.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(uy(o,u,A,d),v.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&hy.enqueueReplaceState(v,v.state,null),Au(o,d,v,g),xu(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){v=o.stateNode;var I=o.memoizedProps,F=Do(u,I);v.props=F;var Q=v.context,st=u.contextType;A=Nl,typeof st=="object"&&st!==null&&(A=Wn(st));var at=u.getDerivedStateFromProps;st=typeof at=="function"||typeof v.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,st||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I||Q!==A)&&iS(o,v,d,A),oa=!1;var Z=o.memoizedState;v.state=Z,Au(o,d,v,g),xu(),Q=o.memoizedState,I||Z!==Q||oa?(typeof at=="function"&&(uy(o,u,at,d),Q=o.memoizedState),(F=oa||nS(o,u,F,d,Z,Q,A))?(st||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=Q),v.props=d,v.state=Q,v.context=A,d=F):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{v=o.stateNode,Hg(r,o),A=o.memoizedProps,st=Do(u,A),v.props=st,at=o.pendingProps,Z=v.context,Q=u.contextType,F=Nl,typeof Q=="object"&&Q!==null&&(F=Wn(Q)),I=u.getDerivedStateFromProps,(Q=typeof I=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==at||Z!==F)&&iS(o,v,d,F),oa=!1,Z=o.memoizedState,v.state=Z,Au(o,d,v,g),xu();var J=o.memoizedState;A!==at||Z!==J||oa||r!==null&&r.dependencies!==null&&nd(r.dependencies)?(typeof I=="function"&&(uy(o,u,I,d),J=o.memoizedState),(st=oa||nS(o,u,st,d,Z,J,F)||r!==null&&r.dependencies!==null&&nd(r.dependencies))?(Q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,J,F),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,J,F)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===r.memoizedProps&&Z===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&Z===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=J),v.props=d,v.state=J,v.context=F,d=st):(typeof v.componentDidUpdate!="function"||A===r.memoizedProps&&Z===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&Z===r.memoizedState||(o.flags|=1024),d=!1)}return v=d,wd(r,o),d=(o.flags&128)!==0,v||d?(v=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,r!==null&&d?(o.child=Wl(o,r.child,null,g),o.child=Wl(o,null,u,g)):On(r,o,u,g),o.memoizedState=v.state,r=o.child):r=Pr(r,o,g),r}function vS(r,o,u,d){return yu(),o.flags|=256,On(r,o,u,d),o.child}var py={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function my(r){return{baseLanes:r,cachePool:rT()}}function gy(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=ts),r}function _S(r,o,u){var d=o.pendingProps,g=!1,v=(o.flags&128)!==0,A;if((A=v)||(A=r!==null&&r.memoizedState===null?!1:(_n.current&2)!==0),A&&(g=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,r===null){if(ge){if(g?ha(o):fa(),ge){var I=Xe,F;if(F=I){t:{for(F=I,I=Bs;F.nodeType!==8;){if(!I){I=null;break t}if(F=ys(F.nextSibling),F===null){I=null;break t}}I=F}I!==null?(o.memoizedState={dehydrated:I,treeContext:wo!==null?{id:Ar,overflow:Rr}:null,retryLane:536870912,hydrationErrors:null},F=Ci(18,null,null,0),F.stateNode=I,F.return=o,o.child=F,ci=o,Xe=null,F=!0):F=!1}F||Eo(o)}if(I=o.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return Jy(I)?o.lanes=32:o.lanes=536870912,null;kr(o)}return I=d.children,d=d.fallback,g?(fa(),g=o.mode,I=Td({mode:"hidden",children:I},g),d=bo(d,g,u,null),I.return=o,d.return=o,I.sibling=d,o.child=I,g=o.child,g.memoizedState=my(u),g.childLanes=gy(r,A,u),o.memoizedState=py,d):(ha(o),yy(o,I))}if(F=r.memoizedState,F!==null&&(I=F.dehydrated,I!==null)){if(v)o.flags&256?(ha(o),o.flags&=-257,o=vy(r,o,u)):o.memoizedState!==null?(fa(),o.child=r.child,o.flags|=128,o=null):(fa(),g=d.fallback,I=o.mode,d=Td({mode:"visible",children:d.children},I),g=bo(g,I,u,null),g.flags|=2,d.return=o,g.return=o,d.sibling=g,o.child=d,Wl(o,r.child,null,u),d=o.child,d.memoizedState=my(u),d.childLanes=gy(r,A,u),o.memoizedState=py,o=g);else if(ha(o),Jy(I)){if(A=I.nextSibling&&I.nextSibling.dataset,A)var Q=A.dgst;A=Q,d=Error(i(419)),d.stack="",d.digest=A,vu({value:d,source:null,stack:null}),o=vy(r,o,u)}else if(Rn||_u(r,o,u,!1),A=(u&r.childLanes)!==0,Rn||A){if(A=Ie,A!==null&&(d=u&-u,d=(d&42)!==0?1:Et(d),d=(d&(A.suspendedLanes|u))!==0?0:d,d!==0&&d!==F.retryLane))throw F.retryLane=d,Ol(r,d),Mi(A,r,d),uS;I.data==="$?"||Ly(),o=vy(r,o,u)}else I.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=F.treeContext,Xe=ys(I.nextSibling),ci=o,ge=!0,So=null,Bs=!1,r!==null&&(Qi[Zi++]=Ar,Qi[Zi++]=Rr,Qi[Zi++]=wo,Ar=r.id,Rr=r.overflow,wo=o),o=yy(o,d.children),o.flags|=4096);return o}return g?(fa(),g=d.fallback,I=o.mode,F=r.child,Q=F.sibling,d=xr(F,{mode:"hidden",children:d.children}),d.subtreeFlags=F.subtreeFlags&65011712,Q!==null?g=xr(Q,g):(g=bo(g,I,u,null),g.flags|=2),g.return=o,d.return=o,d.sibling=g,o.child=d,d=g,g=o.child,I=r.child.memoizedState,I===null?I=my(u):(F=I.cachePool,F!==null?(Q=vn._currentValue,F=F.parent!==Q?{parent:Q,pool:Q}:F):F=rT(),I={baseLanes:I.baseLanes|u,cachePool:F}),g.memoizedState=I,g.childLanes=gy(r,A,u),o.memoizedState=py,d):(ha(o),u=r.child,r=u.sibling,u=xr(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,r!==null&&(A=o.deletions,A===null?(o.deletions=[r],o.flags|=16):A.push(r)),o.child=u,o.memoizedState=null,u)}function yy(r,o){return o=Td({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Td(r,o){return r=Ci(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function vy(r,o,u){return Wl(o,r.child,null,u),r=yy(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function bS(r,o,u){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),Lg(r.return,o,u)}function _y(r,o,u,d,g){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:g}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=g)}function wS(r,o,u){var d=o.pendingProps,g=d.revealOrder,v=d.tail;if(On(r,o,d.children,u),d=_n.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&bS(r,u,o);else if(r.tag===19)bS(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(lt(_n,d),g){case"forwards":for(u=o.child,g=null;u!==null;)r=u.alternate,r!==null&&vd(r)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),_y(o,!1,g,u,v);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(r=g.alternate,r!==null&&vd(r)===null){o.child=g;break}r=g.sibling,g.sibling=u,u=g,g=r}_y(o,!0,u,null,v);break;case"together":_y(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Pr(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),ya|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(_u(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,u=xr(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=xr(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function by(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&nd(r)))}function sN(r,o,u){switch(o.tag){case 3:Ft(o,o.stateNode.containerInfo),aa(o,vn,r.memoizedState.cache),yu();break;case 27:case 5:Oe(o);break;case 4:Ft(o,o.stateNode.containerInfo);break;case 10:aa(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(ha(o),o.flags|=128,null):(u&o.child.childLanes)!==0?_S(r,o,u):(ha(o),r=Pr(r,o,u),r!==null?r.sibling:null);ha(o);break;case 19:var g=(r.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(_u(r,o,u,!1),d=(u&o.childLanes)!==0),g){if(d)return wS(r,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),lt(_n,_n.current),d)break;return null;case 22:case 23:return o.lanes=0,pS(r,o,u);case 24:aa(o,vn,r.memoizedState.cache)}return Pr(r,o,u)}function TS(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)Rn=!0;else{if(!by(r,u)&&(o.flags&128)===0)return Rn=!1,sN(r,o,u);Rn=(r.flags&131072)!==0}else Rn=!1,ge&&(o.flags&1048576)!==0&&Zw(o,ed,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var d=o.elementType,g=d._init;if(d=g(d._payload),o.type=d,typeof d=="function")Dg(d)?(r=Do(d,r),o.tag=1,o=yS(null,o,d,r,u)):(o.tag=0,o=dy(null,o,d,r,u));else{if(d!=null){if(g=d.$$typeof,g===q){o.tag=11,o=hS(null,o,d,r,u);break t}else if(g===M){o.tag=14,o=fS(null,o,d,r,u);break t}}throw o=ft(d)||d,Error(i(306,o,""))}}return o;case 0:return dy(r,o,o.type,o.pendingProps,u);case 1:return d=o.type,g=Do(d,o.pendingProps),yS(r,o,d,g,u);case 3:t:{if(Ft(o,o.stateNode.containerInfo),r===null)throw Error(i(387));d=o.pendingProps;var v=o.memoizedState;g=v.element,Hg(r,o),Au(o,d,null,u);var A=o.memoizedState;if(d=A.cache,aa(o,vn,d),d!==v.cache&&Vg(o,[vn],u,!0),xu(),d=A.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=vS(r,o,d,u);break t}else if(d!==g){g=Yi(Error(i(424)),o),vu(g),o=vS(r,o,d,u);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Xe=ys(r.firstChild),ci=o,ge=!0,So=null,Bs=!0,u=tS(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(yu(),d===g){o=Pr(r,o,u);break t}On(r,o,d,u)}o=o.child}return o;case 26:return wd(r,o),r===null?(u=AE(o.type,null,o.pendingProps,null))?o.memoizedState=u:ge||(u=o.type,r=o.pendingProps,d=Ld(St.current).createElement(u),d[_t]=o,d[bt]=r,Ln(d,u,r),Le(d),o.stateNode=d):o.memoizedState=AE(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Oe(o),r===null&&ge&&(d=o.stateNode=SE(o.type,o.pendingProps,St.current),ci=o,Bs=!0,g=Xe,wa(o.type)?(tv=g,Xe=ys(d.firstChild)):Xe=g),On(r,o,o.pendingProps.children,u),wd(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&ge&&((g=d=Xe)&&(d=PN(d,o.type,o.pendingProps,Bs),d!==null?(o.stateNode=d,ci=o,Xe=ys(d.firstChild),Bs=!1,g=!0):g=!1),g||Eo(o)),Oe(o),g=o.type,v=o.pendingProps,A=r!==null?r.memoizedProps:null,d=v.children,Xy(g,v)?d=null:A!==null&&Xy(g,A)&&(o.flags|=32),o.memoizedState!==null&&(g=Yg(r,o,XO,null,null,u),Ku._currentValue=g),wd(r,o),On(r,o,d,u),o.child;case 6:return r===null&&ge&&((r=u=Xe)&&(u=MN(u,o.pendingProps,Bs),u!==null?(o.stateNode=u,ci=o,Xe=null,r=!0):r=!1),r||Eo(o)),null;case 13:return _S(r,o,u);case 4:return Ft(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=Wl(o,null,d,u):On(r,o,d,u),o.child;case 11:return hS(r,o,o.type,o.pendingProps,u);case 7:return On(r,o,o.pendingProps,u),o.child;case 8:return On(r,o,o.pendingProps.children,u),o.child;case 12:return On(r,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,aa(o,o.type,d.value),On(r,o,d.children,u),o.child;case 9:return g=o.type._context,d=o.pendingProps.children,Ao(o),g=Wn(g),d=d(g),o.flags|=1,On(r,o,d,u),o.child;case 14:return fS(r,o,o.type,o.pendingProps,u);case 15:return dS(r,o,o.type,o.pendingProps,u);case 19:return wS(r,o,u);case 31:return d=o.pendingProps,u=o.mode,d={mode:d.mode,children:d.children},r===null?(u=Td(d,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=xr(r.child,d),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return pS(r,o,u);case 24:return Ao(o),d=Wn(vn),r===null?(g=Bg(),g===null&&(g=Ie,v=jg(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=u),g=v),o.memoizedState={parent:d,cache:g},Fg(o),aa(o,vn,g)):((r.lanes&u)!==0&&(Hg(r,o),Au(o,null,null,u),xu()),g=r.memoizedState,v=o.memoizedState,g.parent!==d?(g={parent:d,cache:d},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),aa(o,vn,d)):(d=v.cache,aa(o,vn,d),d!==g.cache&&Vg(o,[vn],u,!0))),On(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Mr(r){r.flags|=4}function SS(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!kE(o)){if(o=Ji.current,o!==null&&((oe&4194048)===oe?zs!==null:(oe&62914560)!==oe&&(oe&536870912)===0||o!==zs))throw Su=zg,aT;r.flags|=8192}}function Sd(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?We():536870912,r.lanes|=o,Yl|=o)}function Mu(r,o){if(!ge)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Be(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(o)for(var g=r.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=u,o}function rN(r,o,u){var d=o.pendingProps;switch(Mg(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(o),null;case 1:return Be(o),null;case 3:return u=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Dr(vn),He(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(gu(o)?Mr(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,eT())),Be(o),null;case 26:return u=o.memoizedState,r===null?(Mr(o),u!==null?(Be(o),SS(o,u)):(Be(o),o.flags&=-16777217)):u?u!==r.memoizedState?(Mr(o),Be(o),SS(o,u)):(Be(o),o.flags&=-16777217):(r.memoizedProps!==d&&Mr(o),Be(o),o.flags&=-16777217),null;case 27:tn(o),u=St.current;var g=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Mr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Be(o),null}r=yt.current,gu(o)?Jw(o):(r=SE(g,d,u),o.stateNode=r,Mr(o))}return Be(o),null;case 5:if(tn(o),u=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Mr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Be(o),null}if(r=yt.current,gu(o))Jw(o);else{switch(g=Ld(St.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?g.createElement(u,{is:d.is}):g.createElement(u)}}r[_t]=o,r[bt]=d;t:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break t;for(;g.sibling===null;){if(g.return===null||g.return===o)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=r;t:switch(Ln(r,u,d),u){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Mr(o)}}return Be(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&Mr(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(r=St.current,gu(o)){if(r=o.stateNode,u=o.memoizedProps,d=null,g=ci,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}r[_t]=o,r=!!(r.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||gE(r.nodeValue,u)),r||Eo(o)}else r=Ld(r).createTextNode(d),r[_t]=o,o.stateNode=r}return Be(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=gu(o),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(i(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[_t]=o}else yu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Be(o),g=!1}else g=eT(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(kr(o),o):(kr(o),null)}if(kr(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=d!==null,r=r!==null&&r.memoizedState!==null,u){d=o.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==g&&(d.flags|=2048)}return u!==r&&u&&(o.child.flags|=8192),Sd(o,o.updateQueue),Be(o),null;case 4:return He(),r===null&&Wy(o.stateNode.containerInfo),Be(o),null;case 10:return Dr(o.type),Be(o),null;case 19:if(ht(_n),g=o.memoizedState,g===null)return Be(o),null;if(d=(o.flags&128)!==0,v=g.rendering,v===null)if(d)Mu(g,!1);else{if(Qe!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(v=vd(r),v!==null){for(o.flags|=128,Mu(g,!1),r=v.updateQueue,o.updateQueue=r,Sd(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)Qw(u,r),u=u.sibling;return lt(_n,_n.current&1|2),o.child}r=r.sibling}g.tail!==null&&qe()>Ad&&(o.flags|=128,d=!0,Mu(g,!1),o.lanes=4194304)}else{if(!d)if(r=vd(v),r!==null){if(o.flags|=128,d=!0,r=r.updateQueue,o.updateQueue=r,Sd(o,r),Mu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!ge)return Be(o),null}else 2*qe()-g.renderingStartTime>Ad&&u!==536870912&&(o.flags|=128,d=!0,Mu(g,!1),o.lanes=4194304);g.isBackwards?(v.sibling=o.child,o.child=v):(r=g.last,r!==null?r.sibling=v:o.child=v,g.last=v)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=qe(),o.sibling=null,r=_n.current,lt(_n,d?r&1|2:r&1),o):(Be(o),null);case 22:case 23:return kr(o),Gg(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(Be(o),o.subtreeFlags&6&&(o.flags|=8192)):Be(o),u=o.updateQueue,u!==null&&Sd(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),r!==null&&ht(Ro),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Dr(vn),Be(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function aN(r,o){switch(Mg(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Dr(vn),He(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return tn(o),null;case 13:if(kr(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));yu()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return ht(_n),null;case 4:return He(),null;case 10:return Dr(o.type),null;case 22:case 23:return kr(o),Gg(),r!==null&&ht(Ro),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Dr(vn),null;case 25:return null;default:return null}}function ES(r,o){switch(Mg(o),o.tag){case 3:Dr(vn),He();break;case 26:case 27:case 5:tn(o);break;case 4:He();break;case 13:kr(o);break;case 19:ht(_n);break;case 10:Dr(o.type);break;case 22:case 23:kr(o),Gg(),r!==null&&ht(Ro);break;case 24:Dr(vn)}}function Ou(r,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&r)===r){d=void 0;var v=u.create,A=u.inst;d=v(),A.destroy=d}u=u.next}while(u!==g)}}catch(I){Ce(o,o.return,I)}}function da(r,o,u){try{var d=o.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var v=g.next;d=v;do{if((d.tag&r)===r){var A=d.inst,I=A.destroy;if(I!==void 0){A.destroy=void 0,g=o;var F=u,Q=I;try{Q()}catch(st){Ce(g,F,st)}}}d=d.next}while(d!==v)}}catch(st){Ce(o,o.return,st)}}function xS(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{fT(o,u)}catch(d){Ce(r,r.return,d)}}}function AS(r,o,u){u.props=Do(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(d){Ce(r,o,d)}}function Nu(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof u=="function"?r.refCleanup=u(d):u.current=d}}catch(g){Ce(r,o,g)}}function Fs(r,o){var u=r.ref,d=r.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(g){Ce(r,o,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){Ce(r,o,g)}else u.current=null}function RS(r){var o=r.type,u=r.memoizedProps,d=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break t;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(g){Ce(r,r.return,g)}}function wy(r,o,u){try{var d=r.stateNode;RN(d,r.type,u,o),d[bt]=o}catch(g){Ce(r,r.return,g)}}function CS(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&wa(r.type)||r.tag===4}function Ty(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||CS(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&wa(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Sy(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Nd));else if(d!==4&&(d===27&&wa(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(Sy(r,o,u),r=r.sibling;r!==null;)Sy(r,o,u),r=r.sibling}function Ed(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(d!==4&&(d===27&&wa(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Ed(r,o,u),r=r.sibling;r!==null;)Ed(r,o,u),r=r.sibling}function DS(r){var o=r.stateNode,u=r.memoizedProps;try{for(var d=r.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);Ln(o,d,u),o[_t]=r,o[bt]=u}catch(v){Ce(r,r.return,v)}}var Or=!1,nn=!1,Ey=!1,IS=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function oN(r,o){if(r=r.containerInfo,Ky=Fd,r=zw(r),Tg(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break t}var A=0,I=-1,F=-1,Q=0,st=0,at=r,Z=null;e:for(;;){for(var J;at!==u||g!==0&&at.nodeType!==3||(I=A+g),at!==v||d!==0&&at.nodeType!==3||(F=A+d),at.nodeType===3&&(A+=at.nodeValue.length),(J=at.firstChild)!==null;)Z=at,at=J;for(;;){if(at===r)break e;if(Z===u&&++Q===g&&(I=A),Z===v&&++st===d&&(F=A),(J=at.nextSibling)!==null)break;at=Z,Z=at.parentNode}at=J}u=I===-1||F===-1?null:{start:I,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(Yy={focusedElem:r,selectionRange:u},Fd=!1,Cn=o;Cn!==null;)if(o=Cn,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,Cn=r;else for(;Cn!==null;){switch(o=Cn,v=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,u=o,g=v.memoizedProps,v=v.memoizedState,d=u.stateNode;try{var jt=Do(u.type,g,u.elementType===u.type);r=d.getSnapshotBeforeUpdate(jt,v),d.__reactInternalSnapshotBeforeUpdate=r}catch(Dt){Ce(u,u.return,Dt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)Zy(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Zy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,Cn=r;break}Cn=o.return}}function kS(r,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:pa(r,u),d&4&&Ou(5,u);break;case 1:if(pa(r,u),d&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(A){Ce(u,u.return,A)}else{var g=Do(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(g,o,r.__reactInternalSnapshotBeforeUpdate)}catch(A){Ce(u,u.return,A)}}d&64&&xS(u),d&512&&Nu(u,u.return);break;case 3:if(pa(r,u),d&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{fT(r,o)}catch(A){Ce(u,u.return,A)}}break;case 27:o===null&&d&4&&DS(u);case 26:case 5:pa(r,u),o===null&&d&4&&RS(u),d&512&&Nu(u,u.return);break;case 12:pa(r,u);break;case 13:pa(r,u),d&4&&OS(r,u),d&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=gN.bind(null,u),ON(r,u))));break;case 22:if(d=u.memoizedState!==null||Or,!d){o=o!==null&&o.memoizedState!==null||nn,g=Or;var v=nn;Or=d,(nn=o)&&!v?ma(r,u,(u.subtreeFlags&8772)!==0):pa(r,u),Or=g,nn=v}break;case 30:break;default:pa(r,u)}}function PS(r){var o=r.alternate;o!==null&&(r.alternate=null,PS(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&ue(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ve=null,yi=!1;function Nr(r,o,u){for(u=u.child;u!==null;)MS(r,o,u),u=u.sibling}function MS(r,o,u){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(it,u)}catch{}switch(u.tag){case 26:nn||Fs(u,o),Nr(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:nn||Fs(u,o);var d=Ve,g=yi;wa(u.type)&&(Ve=u.stateNode,yi=!1),Nr(r,o,u),qu(u.stateNode),Ve=d,yi=g;break;case 5:nn||Fs(u,o);case 6:if(d=Ve,g=yi,Ve=null,Nr(r,o,u),Ve=d,yi=g,Ve!==null)if(yi)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(u.stateNode)}catch(v){Ce(u,o,v)}else try{Ve.removeChild(u.stateNode)}catch(v){Ce(u,o,v)}break;case 18:Ve!==null&&(yi?(r=Ve,wE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),Zu(r)):wE(Ve,u.stateNode));break;case 4:d=Ve,g=yi,Ve=u.stateNode.containerInfo,yi=!0,Nr(r,o,u),Ve=d,yi=g;break;case 0:case 11:case 14:case 15:nn||da(2,u,o),nn||da(4,u,o),Nr(r,o,u);break;case 1:nn||(Fs(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&AS(u,o,d)),Nr(r,o,u);break;case 21:Nr(r,o,u);break;case 22:nn=(d=nn)||u.memoizedState!==null,Nr(r,o,u),nn=d;break;default:Nr(r,o,u)}}function OS(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Zu(r)}catch(u){Ce(o,o.return,u)}}function lN(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new IS),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new IS),o;default:throw Error(i(435,r.tag))}}function xy(r,o){var u=lN(r);o.forEach(function(d){var g=yN.bind(null,r,d);u.has(d)||(u.add(d),d.then(g,g))})}function Di(r,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var g=u[d],v=r,A=o,I=A;t:for(;I!==null;){switch(I.tag){case 27:if(wa(I.type)){Ve=I.stateNode,yi=!1;break t}break;case 5:Ve=I.stateNode,yi=!1;break t;case 3:case 4:Ve=I.stateNode.containerInfo,yi=!0;break t}I=I.return}if(Ve===null)throw Error(i(160));MS(v,A,g),Ve=null,yi=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)NS(o,r),o=o.sibling}var gs=null;function NS(r,o){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Di(o,r),Ii(r),d&4&&(da(3,r,r.return),Ou(3,r),da(5,r,r.return));break;case 1:Di(o,r),Ii(r),d&512&&(nn||u===null||Fs(u,u.return)),d&64&&Or&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var g=gs;if(Di(o,r),Ii(r),d&512&&(nn||u===null||Fs(u,u.return)),d&4){var v=u!==null?u.memoizedState:null;if(d=r.memoizedState,u===null)if(d===null)if(r.stateNode===null){t:{d=r.type,u=r.memoizedProps,g=g.ownerDocument||g;e:switch(d){case"title":v=g.getElementsByTagName("title")[0],(!v||v[ln]||v[_t]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(d),g.head.insertBefore(v,g.querySelector("head > title"))),Ln(v,d,u),v[_t]=r,Le(v),d=v;break t;case"link":var A=DE("link","href",g).get(d+(u.href||""));if(A){for(var I=0;I<A.length;I++)if(v=A[I],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(I,1);break e}}v=g.createElement(d),Ln(v,d,u),g.head.appendChild(v);break;case"meta":if(A=DE("meta","content",g).get(d+(u.content||""))){for(I=0;I<A.length;I++)if(v=A[I],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(I,1);break e}}v=g.createElement(d),Ln(v,d,u),g.head.appendChild(v);break;default:throw Error(i(468,d))}v[_t]=r,Le(v),d=v}r.stateNode=d}else IE(g,r.type,r.stateNode);else r.stateNode=CE(g,d,r.memoizedProps);else v!==d?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,d===null?IE(g,r.type,r.stateNode):CE(g,d,r.memoizedProps)):d===null&&r.stateNode!==null&&wy(r,r.memoizedProps,u.memoizedProps)}break;case 27:Di(o,r),Ii(r),d&512&&(nn||u===null||Fs(u,u.return)),u!==null&&d&4&&wy(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Di(o,r),Ii(r),d&512&&(nn||u===null||Fs(u,u.return)),r.flags&32){g=r.stateNode;try{Wi(g,"")}catch(J){Ce(r,r.return,J)}}d&4&&r.stateNode!=null&&(g=r.memoizedProps,wy(r,g,u!==null?u.memoizedProps:g)),d&1024&&(Ey=!0);break;case 6:if(Di(o,r),Ii(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,u=r.stateNode;try{u.nodeValue=d}catch(J){Ce(r,r.return,J)}}break;case 3:if(Ud=null,g=gs,gs=Vd(o.containerInfo),Di(o,r),gs=g,Ii(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Zu(o.containerInfo)}catch(J){Ce(r,r.return,J)}Ey&&(Ey=!1,LS(r));break;case 4:d=gs,gs=Vd(r.stateNode.containerInfo),Di(o,r),Ii(r),gs=d;break;case 12:Di(o,r),Ii(r);break;case 13:Di(o,r),Ii(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(ky=qe()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,xy(r,d)));break;case 22:g=r.memoizedState!==null;var F=u!==null&&u.memoizedState!==null,Q=Or,st=nn;if(Or=Q||g,nn=st||F,Di(o,r),nn=st,Or=Q,Ii(r),d&8192)t:for(o=r.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(u===null||F||Or||nn||Io(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){F=u=o;try{if(v=F.stateNode,g)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{I=F.stateNode;var at=F.memoizedProps.style,Z=at!=null&&at.hasOwnProperty("display")?at.display:null;I.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){Ce(F,F.return,J)}}}else if(o.tag===6){if(u===null){F=o;try{F.stateNode.nodeValue=g?"":F.memoizedProps}catch(J){Ce(F,F.return,J)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,xy(r,u))));break;case 19:Di(o,r),Ii(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,xy(r,d)));break;case 30:break;case 21:break;default:Di(o,r),Ii(r)}}function Ii(r){var o=r.flags;if(o&2){try{for(var u,d=r.return;d!==null;){if(CS(d)){u=d;break}d=d.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var g=u.stateNode,v=Ty(r);Ed(r,v,g);break;case 5:var A=u.stateNode;u.flags&32&&(Wi(A,""),u.flags&=-33);var I=Ty(r);Ed(r,I,A);break;case 3:case 4:var F=u.stateNode.containerInfo,Q=Ty(r);Sy(r,Q,F);break;default:throw Error(i(161))}}catch(st){Ce(r,r.return,st)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function LS(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;LS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function pa(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)kS(r,o.alternate,o),o=o.sibling}function Io(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:da(4,o,o.return),Io(o);break;case 1:Fs(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&AS(o,o.return,u),Io(o);break;case 27:qu(o.stateNode);case 26:case 5:Fs(o,o.return),Io(o);break;case 22:o.memoizedState===null&&Io(o);break;case 30:Io(o);break;default:Io(o)}r=r.sibling}}function ma(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,g=r,v=o,A=v.flags;switch(v.tag){case 0:case 11:case 15:ma(g,v,u),Ou(4,v);break;case 1:if(ma(g,v,u),d=v,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Q){Ce(d,d.return,Q)}if(d=v,g=d.updateQueue,g!==null){var I=d.stateNode;try{var F=g.shared.hiddenCallbacks;if(F!==null)for(g.shared.hiddenCallbacks=null,g=0;g<F.length;g++)hT(F[g],I)}catch(Q){Ce(d,d.return,Q)}}u&&A&64&&xS(v),Nu(v,v.return);break;case 27:DS(v);case 26:case 5:ma(g,v,u),u&&d===null&&A&4&&RS(v),Nu(v,v.return);break;case 12:ma(g,v,u);break;case 13:ma(g,v,u),u&&A&4&&OS(g,v);break;case 22:v.memoizedState===null&&ma(g,v,u),Nu(v,v.return);break;case 30:break;default:ma(g,v,u)}o=o.sibling}}function Ay(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&bu(u))}function Ry(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&bu(r))}function Hs(r,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)VS(r,o,u,d),o=o.sibling}function VS(r,o,u,d){var g=o.flags;switch(o.tag){case 0:case 11:case 15:Hs(r,o,u,d),g&2048&&Ou(9,o);break;case 1:Hs(r,o,u,d);break;case 3:Hs(r,o,u,d),g&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&bu(r)));break;case 12:if(g&2048){Hs(r,o,u,d),r=o.stateNode;try{var v=o.memoizedProps,A=v.id,I=v.onPostCommit;typeof I=="function"&&I(A,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(F){Ce(o,o.return,F)}}else Hs(r,o,u,d);break;case 13:Hs(r,o,u,d);break;case 23:break;case 22:v=o.stateNode,A=o.alternate,o.memoizedState!==null?v._visibility&2?Hs(r,o,u,d):Lu(r,o):v._visibility&2?Hs(r,o,u,d):(v._visibility|=2,$l(r,o,u,d,(o.subtreeFlags&10256)!==0)),g&2048&&Ay(A,o);break;case 24:Hs(r,o,u,d),g&2048&&Ry(o.alternate,o);break;default:Hs(r,o,u,d)}}function $l(r,o,u,d,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=r,A=o,I=u,F=d,Q=A.flags;switch(A.tag){case 0:case 11:case 15:$l(v,A,I,F,g),Ou(8,A);break;case 23:break;case 22:var st=A.stateNode;A.memoizedState!==null?st._visibility&2?$l(v,A,I,F,g):Lu(v,A):(st._visibility|=2,$l(v,A,I,F,g)),g&&Q&2048&&Ay(A.alternate,A);break;case 24:$l(v,A,I,F,g),g&&Q&2048&&Ry(A.alternate,A);break;default:$l(v,A,I,F,g)}o=o.sibling}}function Lu(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,d=o,g=d.flags;switch(d.tag){case 22:Lu(u,d),g&2048&&Ay(d.alternate,d);break;case 24:Lu(u,d),g&2048&&Ry(d.alternate,d);break;default:Lu(u,d)}o=o.sibling}}var Vu=8192;function Gl(r){if(r.subtreeFlags&Vu)for(r=r.child;r!==null;)jS(r),r=r.sibling}function jS(r){switch(r.tag){case 26:Gl(r),r.flags&Vu&&r.memoizedState!==null&&GN(gs,r.memoizedState,r.memoizedProps);break;case 5:Gl(r);break;case 3:case 4:var o=gs;gs=Vd(r.stateNode.containerInfo),Gl(r),gs=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=Vu,Vu=16777216,Gl(r),Vu=o):Gl(r));break;default:Gl(r)}}function US(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function ju(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];Cn=d,zS(d,r)}US(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)BS(r),r=r.sibling}function BS(r){switch(r.tag){case 0:case 11:case 15:ju(r),r.flags&2048&&da(9,r,r.return);break;case 3:ju(r);break;case 12:ju(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,xd(r)):ju(r);break;default:ju(r)}}function xd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];Cn=d,zS(d,r)}US(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:da(8,o,o.return),xd(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,xd(o));break;default:xd(o)}r=r.sibling}}function zS(r,o){for(;Cn!==null;){var u=Cn;switch(u.tag){case 0:case 11:case 15:da(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:bu(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,Cn=d;else t:for(u=r;Cn!==null;){d=Cn;var g=d.sibling,v=d.return;if(PS(d),d===u){Cn=null;break t}if(g!==null){g.return=v,Cn=g;break t}Cn=v}}}var cN={getCacheForType:function(r){var o=Wn(vn),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u}},uN=typeof WeakMap=="function"?WeakMap:Map,be=0,Ie=null,Jt=null,oe=0,we=0,ki=null,ga=!1,Kl=!1,Cy=!1,Lr=0,Qe=0,ya=0,ko=0,Dy=0,ts=0,Yl=0,Uu=null,vi=null,Iy=!1,ky=0,Ad=1/0,Rd=null,va=null,Nn=0,_a=null,Xl=null,Ql=0,Py=0,My=null,FS=null,Bu=0,Oy=null;function Pi(){if((be&2)!==0&&oe!==0)return oe&-oe;if(K.T!==null){var r=jl;return r!==0?r:zy()}return Ke()}function HS(){ts===0&&(ts=(oe&536870912)===0||ge?ai():536870912);var r=Ji.current;return r!==null&&(r.flags|=32),ts}function Mi(r,o,u){(r===Ie&&(we===2||we===9)||r.cancelPendingCommit!==null)&&(Zl(r,0),ba(r,oe,ts,!1)),Ne(r,u),((be&2)===0||r!==Ie)&&(r===Ie&&((be&2)===0&&(ko|=u),Qe===4&&ba(r,oe,ts,!1)),qs(r))}function qS(r,o,u){if((be&6)!==0)throw Error(i(327));var d=!u&&(o&124)===0&&(o&r.expiredLanes)===0||pn(r,o),g=d?dN(r,o):Vy(r,o,!0),v=d;do{if(g===0){Kl&&!d&&ba(r,o,0,!1);break}else{if(u=r.current.alternate,v&&!hN(u)){g=Vy(r,o,!1),v=!1;continue}if(g===2){if(v=o,r.errorRecoveryDisabledLanes&v)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;t:{var I=r;g=Uu;var F=I.current.memoizedState.isDehydrated;if(F&&(Zl(I,A).flags|=256),A=Vy(I,A,!1),A!==2){if(Cy&&!F){I.errorRecoveryDisabledLanes|=v,ko|=v,g=4;break t}v=vi,vi=g,v!==null&&(vi===null?vi=v:vi.push.apply(vi,v))}g=A}if(v=!1,g!==2)continue}}if(g===1){Zl(r,0),ba(r,o,0,!0);break}t:{switch(d=r,v=g,v){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:ba(d,o,ts,!ga);break t;case 2:vi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(g=ky+300-qe(),10<g)){if(ba(d,o,ts,!ga),Ue(d,0,!0)!==0)break t;d.timeoutHandle=_E(WS.bind(null,d,u,vi,Rd,Iy,o,ts,ko,Yl,ga,v,2,-0,0),g);break t}WS(d,u,vi,Rd,Iy,o,ts,ko,Yl,ga,v,0,-0,0)}}break}while(!0);qs(r)}function WS(r,o,u,d,g,v,A,I,F,Q,st,at,Z,J){if(r.timeoutHandle=-1,at=o.subtreeFlags,(at&8192||(at&16785408)===16785408)&&(Gu={stylesheets:null,count:0,unsuspend:$N},jS(o),at=KN(),at!==null)){r.cancelPendingCommit=at(ZS.bind(null,r,o,v,u,d,g,A,I,F,st,1,Z,J)),ba(r,v,A,!Q);return}ZS(r,o,v,u,d,g,A,I,F)}function hN(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var g=u[d],v=g.getSnapshot;g=g.value;try{if(!Ri(v(),g))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ba(r,o,u,d){o&=~Dy,o&=~ko,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var g=o;0<g;){var v=31-Rt(g),A=1<<v;d[v]=-1,g&=~A}u!==0&&ce(r,u,o)}function Cd(){return(be&6)===0?(zu(0),!1):!0}function Ny(){if(Jt!==null){if(we===0)var r=Jt.return;else r=Jt,Cr=xo=null,Zg(r),ql=null,ku=0,r=Jt;for(;r!==null;)ES(r.alternate,r),r=r.return;Jt=null}}function Zl(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,DN(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Ny(),Ie=r,Jt=u=xr(r.current,null),oe=o,we=0,ki=null,ga=!1,Kl=pn(r,o),Cy=!1,Yl=ts=Dy=ko=ya=Qe=0,vi=Uu=null,Iy=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var g=31-Rt(d),v=1<<g;o|=r[g],d&=~v}return Lr=o,Xf(),u}function $S(r,o){Xt=null,K.H=md,o===Tu||o===rd?(o=cT(),we=3):o===aT?(o=cT(),we=4):we=o===uS?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ki=o,Jt===null&&(Qe=1,bd(r,Yi(o,r.current)))}function GS(){var r=K.H;return K.H=md,r===null?md:r}function KS(){var r=K.A;return K.A=cN,r}function Ly(){Qe=4,ga||(oe&4194048)!==oe&&Ji.current!==null||(Kl=!0),(ya&134217727)===0&&(ko&134217727)===0||Ie===null||ba(Ie,oe,ts,!1)}function Vy(r,o,u){var d=be;be|=2;var g=GS(),v=KS();(Ie!==r||oe!==o)&&(Rd=null,Zl(r,o)),o=!1;var A=Qe;t:do try{if(we!==0&&Jt!==null){var I=Jt,F=ki;switch(we){case 8:Ny(),A=6;break t;case 3:case 2:case 9:case 6:Ji.current===null&&(o=!0);var Q=we;if(we=0,ki=null,Jl(r,I,F,Q),u&&Kl){A=0;break t}break;default:Q=we,we=0,ki=null,Jl(r,I,F,Q)}}fN(),A=Qe;break}catch(st){$S(r,st)}while(!0);return o&&r.shellSuspendCounter++,Cr=xo=null,be=d,K.H=g,K.A=v,Jt===null&&(Ie=null,oe=0,Xf()),A}function fN(){for(;Jt!==null;)YS(Jt)}function dN(r,o){var u=be;be|=2;var d=GS(),g=KS();Ie!==r||oe!==o?(Rd=null,Ad=qe()+500,Zl(r,o)):Kl=pn(r,o);t:do try{if(we!==0&&Jt!==null){o=Jt;var v=ki;e:switch(we){case 1:we=0,ki=null,Jl(r,o,v,1);break;case 2:case 9:if(oT(v)){we=0,ki=null,XS(o);break}o=function(){we!==2&&we!==9||Ie!==r||(we=7),qs(r)},v.then(o,o);break t;case 3:we=7;break t;case 4:we=5;break t;case 7:oT(v)?(we=0,ki=null,XS(o)):(we=0,ki=null,Jl(r,o,v,7));break;case 5:var A=null;switch(Jt.tag){case 26:A=Jt.memoizedState;case 5:case 27:var I=Jt;if(!A||kE(A)){we=0,ki=null;var F=I.sibling;if(F!==null)Jt=F;else{var Q=I.return;Q!==null?(Jt=Q,Dd(Q)):Jt=null}break e}}we=0,ki=null,Jl(r,o,v,5);break;case 6:we=0,ki=null,Jl(r,o,v,6);break;case 8:Ny(),Qe=6;break t;default:throw Error(i(462))}}pN();break}catch(st){$S(r,st)}while(!0);return Cr=xo=null,K.H=d,K.A=g,be=u,Jt!==null?0:(Ie=null,oe=0,Xf(),Qe)}function pN(){for(;Jt!==null&&!De();)YS(Jt)}function YS(r){var o=TS(r.alternate,r,Lr);r.memoizedProps=r.pendingProps,o===null?Dd(r):Jt=o}function XS(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=gS(u,o,o.pendingProps,o.type,void 0,oe);break;case 11:o=gS(u,o,o.pendingProps,o.type.render,o.ref,oe);break;case 5:Zg(o);default:ES(u,o),o=Jt=Qw(o,Lr),o=TS(u,o,Lr)}r.memoizedProps=r.pendingProps,o===null?Dd(r):Jt=o}function Jl(r,o,u,d){Cr=xo=null,Zg(o),ql=null,ku=0;var g=o.return;try{if(iN(r,g,o,u,oe)){Qe=1,bd(r,Yi(u,r.current)),Jt=null;return}}catch(v){if(g!==null)throw Jt=g,v;Qe=1,bd(r,Yi(u,r.current)),Jt=null;return}o.flags&32768?(ge||d===1?r=!0:Kl||(oe&536870912)!==0?r=!1:(ga=r=!0,(d===2||d===9||d===3||d===6)&&(d=Ji.current,d!==null&&d.tag===13&&(d.flags|=16384))),QS(o,r)):Dd(o)}function Dd(r){var o=r;do{if((o.flags&32768)!==0){QS(o,ga);return}r=o.return;var u=rN(o.alternate,o,Lr);if(u!==null){Jt=u;return}if(o=o.sibling,o!==null){Jt=o;return}Jt=o=r}while(o!==null);Qe===0&&(Qe=5)}function QS(r,o){do{var u=aN(r.alternate,r);if(u!==null){u.flags&=32767,Jt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){Jt=r;return}Jt=r=u}while(r!==null);Qe=6,Jt=null}function ZS(r,o,u,d,g,v,A,I,F){r.cancelPendingCommit=null;do Id();while(Nn!==0);if((be&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(v=o.lanes|o.childLanes,v|=Rg,$e(r,u,v,A,I,F),r===Ie&&(Jt=Ie=null,oe=0),Xl=o,_a=r,Ql=u,Py=v,My=g,FS=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,vN(ri,function(){return iE(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=K.T,K.T=null,g=et.p,et.p=2,A=be,be|=4;try{oN(r,o,u)}finally{be=A,et.p=g,K.T=d}}Nn=1,JS(),tE(),eE()}}function JS(){if(Nn===1){Nn=0;var r=_a,o=Xl,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=K.T,K.T=null;var d=et.p;et.p=2;var g=be;be|=4;try{NS(o,r);var v=Yy,A=zw(r.containerInfo),I=v.focusedElem,F=v.selectionRange;if(A!==I&&I&&I.ownerDocument&&Bw(I.ownerDocument.documentElement,I)){if(F!==null&&Tg(I)){var Q=F.start,st=F.end;if(st===void 0&&(st=Q),"selectionStart"in I)I.selectionStart=Q,I.selectionEnd=Math.min(st,I.value.length);else{var at=I.ownerDocument||document,Z=at&&at.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),jt=I.textContent.length,Dt=Math.min(F.start,jt),Ae=F.end===void 0?Dt:Math.min(F.end,jt);!J.extend&&Dt>Ae&&(A=Ae,Ae=Dt,Dt=A);var G=Uw(I,Dt),W=Uw(I,Ae);if(G&&W&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==W.node||J.focusOffset!==W.offset)){var X=at.createRange();X.setStart(G.node,G.offset),J.removeAllRanges(),Dt>Ae?(J.addRange(X),J.extend(W.node,W.offset)):(X.setEnd(W.node,W.offset),J.addRange(X))}}}}for(at=[],J=I;J=J.parentNode;)J.nodeType===1&&at.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<at.length;I++){var rt=at[I];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}Fd=!!Ky,Yy=Ky=null}finally{be=g,et.p=d,K.T=u}}r.current=o,Nn=2}}function tE(){if(Nn===2){Nn=0;var r=_a,o=Xl,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=K.T,K.T=null;var d=et.p;et.p=2;var g=be;be|=4;try{kS(r,o.alternate,o)}finally{be=g,et.p=d,K.T=u}}Nn=3}}function eE(){if(Nn===4||Nn===3){Nn=0,fs();var r=_a,o=Xl,u=Ql,d=FS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Nn=5:(Nn=0,Xl=_a=null,nE(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(va=null),$t(u),o=o.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(it,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=K.T,g=et.p,et.p=2,K.T=null;try{for(var v=r.onRecoverableError,A=0;A<d.length;A++){var I=d[A];v(I.value,{componentStack:I.stack})}}finally{K.T=o,et.p=g}}(Ql&3)!==0&&Id(),qs(r),g=r.pendingLanes,(u&4194090)!==0&&(g&42)!==0?r===Oy?Bu++:(Bu=0,Oy=r):Bu=0,zu(0)}}function nE(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,bu(o)))}function Id(r){return JS(),tE(),eE(),iE()}function iE(){if(Nn!==5)return!1;var r=_a,o=Py;Py=0;var u=$t(Ql),d=K.T,g=et.p;try{et.p=32>u?32:u,K.T=null,u=My,My=null;var v=_a,A=Ql;if(Nn=0,Xl=_a=null,Ql=0,(be&6)!==0)throw Error(i(331));var I=be;if(be|=4,BS(v.current),VS(v,v.current,A,u),be=I,zu(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(it,v)}catch{}return!0}finally{et.p=g,K.T=d,nE(r,o)}}function sE(r,o,u){o=Yi(u,o),o=fy(r.stateNode,o,2),r=ca(r,o,2),r!==null&&(Ne(r,2),qs(r))}function Ce(r,o,u){if(r.tag===3)sE(r,r,u);else for(;o!==null;){if(o.tag===3){sE(o,r,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(va===null||!va.has(d))){r=Yi(u,r),u=lS(2),d=ca(o,u,2),d!==null&&(cS(u,d,o,r),Ne(d,2),qs(d));break}}o=o.return}}function jy(r,o,u){var d=r.pingCache;if(d===null){d=r.pingCache=new uN;var g=new Set;d.set(o,g)}else g=d.get(o),g===void 0&&(g=new Set,d.set(o,g));g.has(u)||(Cy=!0,g.add(u),r=mN.bind(null,r,o,u),o.then(r,r))}function mN(r,o,u){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,Ie===r&&(oe&u)===u&&(Qe===4||Qe===3&&(oe&62914560)===oe&&300>qe()-ky?(be&2)===0&&Zl(r,0):Dy|=u,Yl===oe&&(Yl=0)),qs(r)}function rE(r,o){o===0&&(o=We()),r=Ol(r,o),r!==null&&(Ne(r,o),qs(r))}function gN(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),rE(r,u)}function yN(r,o){var u=0;switch(r.tag){case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(u=g.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),rE(r,u)}function vN(r,o){return Sn(r,o)}var kd=null,tc=null,Uy=!1,Pd=!1,By=!1,Po=0;function qs(r){r!==tc&&r.next===null&&(tc===null?kd=tc=r:tc=tc.next=r),Pd=!0,Uy||(Uy=!0,bN())}function zu(r,o){if(!By&&Pd){By=!0;do for(var u=!1,d=kd;d!==null;){if(r!==0){var g=d.pendingLanes;if(g===0)var v=0;else{var A=d.suspendedLanes,I=d.pingedLanes;v=(1<<31-Rt(42|r)+1)-1,v&=g&~(A&~I),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,cE(d,v))}else v=oe,v=Ue(d,d===Ie?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||pn(d,v)||(u=!0,cE(d,v));d=d.next}while(u);By=!1}}function _N(){aE()}function aE(){Pd=Uy=!1;var r=0;Po!==0&&(CN()&&(r=Po),Po=0);for(var o=qe(),u=null,d=kd;d!==null;){var g=d.next,v=oE(d,o);v===0?(d.next=null,u===null?kd=g:u.next=g,g===null&&(tc=u)):(u=d,(r!==0||(v&3)!==0)&&(Pd=!0)),d=g}zu(r)}function oE(r,o){for(var u=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var A=31-Rt(v),I=1<<A,F=g[A];F===-1?((I&u)===0||(I&d)!==0)&&(g[A]=fi(I,o)):F<=o&&(r.expiredLanes|=I),v&=~I}if(o=Ie,u=oe,u=Ue(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,u===0||r===o&&(we===2||we===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&ii(d),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||pn(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(d!==null&&ii(d),$t(u)){case 2:case 8:u=si;break;case 32:u=ri;break;case 268435456:u=hi;break;default:u=ri}return d=lE.bind(null,r),u=Sn(u,d),r.callbackPriority=o,r.callbackNode=u,o}return d!==null&&d!==null&&ii(d),r.callbackPriority=2,r.callbackNode=null,2}function lE(r,o){if(Nn!==0&&Nn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Id()&&r.callbackNode!==u)return null;var d=oe;return d=Ue(r,r===Ie?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(qS(r,d,o),oE(r,qe()),r.callbackNode!=null&&r.callbackNode===u?lE.bind(null,r):null)}function cE(r,o){if(Id())return null;qS(r,o,!0)}function bN(){IN(function(){(be&6)!==0?Sn(fe,_N):aE()})}function zy(){return Po===0&&(Po=ai()),Po}function uE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Tl(""+r)}function hE(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function wN(r,o,u,d,g){if(o==="submit"&&u&&u.stateNode===g){var v=uE((g[bt]||null).action),A=d.submitter;A&&(o=(o=A[bt]||null)?uE(o.formAction):A.getAttribute("formAction"),o!==null&&(v=o,A=null));var I=new Sl("action","action",null,d,g);r.push({event:I,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Po!==0){var F=A?hE(g,A):new FormData(g);oy(u,{pending:!0,data:F,method:g.method,action:v},null,F)}}else typeof v=="function"&&(I.preventDefault(),F=A?hE(g,A):new FormData(g),oy(u,{pending:!0,data:F,method:g.method,action:v},v,F))},currentTarget:g}]})}}for(var Fy=0;Fy<Ag.length;Fy++){var Hy=Ag[Fy],TN=Hy.toLowerCase(),SN=Hy[0].toUpperCase()+Hy.slice(1);ms(TN,"on"+SN)}ms(qw,"onAnimationEnd"),ms(Ww,"onAnimationIteration"),ms($w,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(BO,"onTransitionRun"),ms(zO,"onTransitionStart"),ms(FO,"onTransitionCancel"),ms(Gw,"onTransitionEnd"),Yt("onMouseEnter",["mouseout","mouseover"]),Yt("onMouseLeave",["mouseout","mouseover"]),Yt("onPointerEnter",["pointerout","pointerover"]),Yt("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fu));function fE(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],g=d.event;d=d.listeners;t:{var v=void 0;if(o)for(var A=d.length-1;0<=A;A--){var I=d[A],F=I.instance,Q=I.currentTarget;if(I=I.listener,F!==v&&g.isPropagationStopped())break t;v=I,g.currentTarget=Q;try{v(g)}catch(st){_d(st)}g.currentTarget=null,v=F}else for(A=0;A<d.length;A++){if(I=d[A],F=I.instance,Q=I.currentTarget,I=I.listener,F!==v&&g.isPropagationStopped())break t;v=I,g.currentTarget=Q;try{v(g)}catch(st){_d(st)}g.currentTarget=null,v=F}}}}function te(r,o){var u=o[Ye];u===void 0&&(u=o[Ye]=new Set);var d=r+"__bubble";u.has(d)||(dE(o,r,2,!1),u.add(d))}function qy(r,o,u){var d=0;o&&(d|=4),dE(u,r,d,o)}var Md="_reactListening"+Math.random().toString(36).slice(2);function Wy(r){if(!r[Md]){r[Md]=!0,na.forEach(function(u){u!=="selectionchange"&&(EN.has(u)||qy(u,!1,r),qy(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Md]||(o[Md]=!0,qy("selectionchange",!1,o))}}function dE(r,o,u,d){switch(VE(o)){case 2:var g=QN;break;case 8:g=ZN;break;default:g=rv}u=g.bind(null,o,u,r),g=void 0,!Gi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(o,u,{capture:!0,passive:g}):r.addEventListener(o,u,!0):g!==void 0?r.addEventListener(o,u,{passive:g}):r.addEventListener(o,u,!1)}function $y(r,o,u,d,g){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)t:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var I=d.stateNode.containerInfo;if(I===g)break;if(A===4)for(A=d.return;A!==null;){var F=A.tag;if((F===3||F===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;I!==null;){if(A=qn(I),A===null)return;if(F=A.tag,F===5||F===6||F===26||F===27){d=v=A;continue t}I=I.parentNode}}d=d.return}Nf(function(){var Q=v,st=$i(u),at=[];t:{var Z=Kw.get(r);if(Z!==void 0){var J=Sl,jt=r;switch(r){case"keypress":if(Ns(u)===0)break t;case"keydown":case"keyup":J=Dl;break;case"focusin":jt="focus",J=Al;break;case"focusout":jt="blur",J=Al;break;case"beforeblur":case"afterblur":J=Al;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Ki;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Hf;break;case qw:case Ww:case $w:J=Rl;break;case Gw:J=Wf;break;case"scroll":case"scrollend":J=Lf;break;case"wheel":J=Il;break;case"copy":case"cut":case"paste":J=Cl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=fu;break;case"toggle":case"beforetoggle":J=Gf}var Dt=(o&4)!==0,Ae=!Dt&&(r==="scroll"||r==="scrollend"),G=Dt?Z!==null?Z+"Capture":null:Z;Dt=[];for(var W=Q,X;W!==null;){var rt=W;if(X=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||X===null||G===null||(rt=uo(W,G),rt!=null&&Dt.push(Hu(W,rt,X))),Ae)break;W=W.return}0<Dt.length&&(Z=new J(Z,jt,null,u,st),at.push({event:Z,listeners:Dt}))}}if((o&7)===0){t:{if(Z=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",Z&&u!==_r&&(jt=u.relatedTarget||u.fromElement)&&(qn(jt)||jt[de]))break t;if((J||Z)&&(Z=st.window===st?st:(Z=st.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(jt=u.relatedTarget||u.toElement,J=Q,jt=jt?qn(jt):null,jt!==null&&(Ae=a(jt),Dt=jt.tag,jt!==Ae||Dt!==5&&Dt!==27&&Dt!==6)&&(jt=null)):(J=null,jt=Q),J!==jt)){if(Dt=Ki,rt="onMouseLeave",G="onMouseEnter",W="mouse",(r==="pointerout"||r==="pointerover")&&(Dt=fu,rt="onPointerLeave",G="onPointerEnter",W="pointer"),Ae=J==null?Z:Hi(J),X=jt==null?Z:Hi(jt),Z=new Dt(rt,W+"leave",J,u,st),Z.target=Ae,Z.relatedTarget=X,rt=null,qn(st)===Q&&(Dt=new Dt(G,W+"enter",jt,u,st),Dt.target=X,Dt.relatedTarget=Ae,rt=Dt),Ae=rt,J&&jt)e:{for(Dt=J,G=jt,W=0,X=Dt;X;X=ec(X))W++;for(X=0,rt=G;rt;rt=ec(rt))X++;for(;0<W-X;)Dt=ec(Dt),W--;for(;0<X-W;)G=ec(G),X--;for(;W--;){if(Dt===G||G!==null&&Dt===G.alternate)break e;Dt=ec(Dt),G=ec(G)}Dt=null}else Dt=null;J!==null&&pE(at,Z,J,Dt,!1),jt!==null&&Ae!==null&&pE(at,Ae,jt,Dt,!0)}}t:{if(Z=Q?Hi(Q):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var wt=Mw;else if(yn(Z))if(Ow)wt=VO;else{wt=NO;var Zt=OO}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Q&&ru(Q.elementType)&&(wt=Mw):wt=LO;if(wt&&(wt=wt(r,Q))){Er(at,wt,u,st);break t}Zt&&Zt(r,Z,Q),r==="focusout"&&Q&&Z.type==="number"&&Q.memoizedProps.value!=null&&sa(Z,"number",Z.value)}switch(Zt=Q?Hi(Q):window,r){case"focusin":(yn(Zt)||Zt.contentEditable==="true")&&(kl=Zt,Sg=Q,mu=null);break;case"focusout":mu=Sg=kl=null;break;case"mousedown":Eg=!0;break;case"contextmenu":case"mouseup":case"dragend":Eg=!1,Fw(at,u,st);break;case"selectionchange":if(UO)break;case"keydown":case"keyup":Fw(at,u,st)}var At;if(js)t:{switch(r){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else re?tt(r,u)&&(Pt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Pt="onCompositionStart");Pt&&(x&&u.locale!=="ko"&&(re||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&re&&(At=ou()):(Os=st,ra="value"in Os?Os.value:Os.textContent,re=!0)),Zt=Od(Q,Pt),0<Zt.length&&(Pt=new uu(Pt,r,null,u,st),at.push({event:Pt,listeners:Zt}),At?Pt.data=At:(At=mt(u),At!==null&&(Pt.data=At)))),(At=w?gn(r,u):ae(r,u))&&(Pt=Od(Q,"onBeforeInput"),0<Pt.length&&(Zt=new uu("onBeforeInput","beforeinput",null,u,st),at.push({event:Zt,listeners:Pt}),Zt.data=At)),wN(at,r,Q,u,st)}fE(at,o)})}function Hu(r,o,u){return{instance:r,listener:o,currentTarget:u}}function Od(r,o){for(var u=o+"Capture",d=[];r!==null;){var g=r,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=uo(r,u),g!=null&&d.unshift(Hu(r,g,v)),g=uo(r,o),g!=null&&d.push(Hu(r,g,v))),r.tag===3)return d;r=r.return}return[]}function ec(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function pE(r,o,u,d,g){for(var v=o._reactName,A=[];u!==null&&u!==d;){var I=u,F=I.alternate,Q=I.stateNode;if(I=I.tag,F!==null&&F===d)break;I!==5&&I!==26&&I!==27||Q===null||(F=Q,g?(Q=uo(u,v),Q!=null&&A.unshift(Hu(u,Q,F))):g||(Q=uo(u,v),Q!=null&&A.push(Hu(u,Q,F)))),u=u.return}A.length!==0&&r.push({event:o,listeners:A})}var xN=/\r\n?/g,AN=/\u0000|\uFFFD/g;function mE(r){return(typeof r=="string"?r:""+r).replace(xN,`
`).replace(AN,"")}function gE(r,o){return o=mE(o),mE(r)===o}function Nd(){}function xe(r,o,u,d,g,v){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||Wi(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&Wi(r,""+d);break;case"className":Ps(r,"class",d);break;case"tabIndex":Ps(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ps(r,u,d);break;case"style":su(r,d,v);break;case"data":if(o!=="object"){Ps(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=Tl(""+d),r.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(o!=="input"&&xe(r,o,"name",g.name,g,null),xe(r,o,"formEncType",g.formEncType,g,null),xe(r,o,"formMethod",g.formMethod,g,null),xe(r,o,"formTarget",g.formTarget,g,null)):(xe(r,o,"encType",g.encType,g,null),xe(r,o,"method",g.method,g,null),xe(r,o,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=Tl(""+d),r.setAttribute(u,d);break;case"onClick":d!=null&&(r.onclick=Nd);break;case"onScroll":d!=null&&te("scroll",r);break;case"onScrollEnd":d!=null&&te("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}u=Tl(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""+d):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":d===!0?r.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,d):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(u,d):r.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(u):r.setAttribute(u,d);break;case"popover":te("beforetoggle",r),te("toggle",r),qi(r,"popover",d);break;case"xlinkActuate":Pn(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Pn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Pn(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Pn(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Pn(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Pn(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Pn(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Pn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Pn(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":qi(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=gg.get(u)||u,qi(r,u,d))}}function Gy(r,o,u,d,g,v){switch(u){case"style":su(r,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof d=="string"?Wi(r,d):(typeof d=="number"||typeof d=="bigint")&&Wi(r,""+d);break;case"onScroll":d!=null&&te("scroll",r);break;case"onScrollEnd":d!=null&&te("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Nd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gr.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),o=u.slice(2,g?u.length-7:void 0),v=r[bt]||null,v=v!=null?v[u]:null,typeof v=="function"&&r.removeEventListener(o,v,g),typeof d=="function")){typeof v!="function"&&v!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,d,g);break t}u in r?r[u]=d:d===!0?r.setAttribute(u,""):qi(r,u,d)}}}function Ln(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":te("error",r),te("load",r);var d=!1,g=!1,v;for(v in u)if(u.hasOwnProperty(v)){var A=u[v];if(A!=null)switch(v){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:xe(r,o,v,A,u,null)}}g&&xe(r,o,"srcSet",u.srcSet,u,null),d&&xe(r,o,"src",u.src,u,null);return;case"input":te("invalid",r);var I=v=A=g=null,F=null,Q=null;for(d in u)if(u.hasOwnProperty(d)){var st=u[d];if(st!=null)switch(d){case"name":g=st;break;case"type":A=st;break;case"checked":F=st;break;case"defaultChecked":Q=st;break;case"value":v=st;break;case"defaultValue":I=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,o));break;default:xe(r,o,d,st,u,null)}}oo(r,v,I,F,Q,A,g,!1),wl(r);return;case"select":te("invalid",r),d=A=v=null;for(g in u)if(u.hasOwnProperty(g)&&(I=u[g],I!=null))switch(g){case"value":v=I;break;case"defaultValue":A=I;break;case"multiple":d=I;default:xe(r,o,g,I,u,null)}o=v,u=A,r.multiple=!!d,o!=null?vr(r,!!d,o,!1):u!=null&&vr(r,!!d,u,!0);return;case"textarea":te("invalid",r),v=g=d=null;for(A in u)if(u.hasOwnProperty(A)&&(I=u[A],I!=null))switch(A){case"value":d=I;break;case"defaultValue":g=I;break;case"children":v=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:xe(r,o,A,I,u,null)}lo(r,d,g,v),wl(r);return;case"option":for(F in u)if(u.hasOwnProperty(F)&&(d=u[F],d!=null))switch(F){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:xe(r,o,F,d,u,null)}return;case"dialog":te("beforetoggle",r),te("toggle",r),te("cancel",r),te("close",r);break;case"iframe":case"object":te("load",r);break;case"video":case"audio":for(d=0;d<Fu.length;d++)te(Fu[d],r);break;case"image":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"embed":case"source":case"link":te("error",r),te("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in u)if(u.hasOwnProperty(Q)&&(d=u[Q],d!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:xe(r,o,Q,d,u,null)}return;default:if(ru(o)){for(st in u)u.hasOwnProperty(st)&&(d=u[st],d!==void 0&&Gy(r,o,st,d,u,void 0));return}}for(I in u)u.hasOwnProperty(I)&&(d=u[I],d!=null&&xe(r,o,I,d,u,null))}function RN(r,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,A=null,I=null,F=null,Q=null,st=null;for(J in u){var at=u[J];if(u.hasOwnProperty(J)&&at!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":F=at;default:d.hasOwnProperty(J)||xe(r,o,J,null,d,at)}}for(var Z in d){var J=d[Z];if(at=u[Z],d.hasOwnProperty(Z)&&(J!=null||at!=null))switch(Z){case"type":v=J;break;case"name":g=J;break;case"checked":Q=J;break;case"defaultChecked":st=J;break;case"value":A=J;break;case"defaultValue":I=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,o));break;default:J!==at&&xe(r,o,Z,J,d,at)}}Ai(r,A,I,F,Q,st,v,g);return;case"select":J=A=I=Z=null;for(v in u)if(F=u[v],u.hasOwnProperty(v)&&F!=null)switch(v){case"value":break;case"multiple":J=F;default:d.hasOwnProperty(v)||xe(r,o,v,null,d,F)}for(g in d)if(v=d[g],F=u[g],d.hasOwnProperty(g)&&(v!=null||F!=null))switch(g){case"value":Z=v;break;case"defaultValue":I=v;break;case"multiple":A=v;default:v!==F&&xe(r,o,g,v,d,F)}o=I,u=A,d=J,Z!=null?vr(r,!!u,Z,!1):!!d!=!!u&&(o!=null?vr(r,!!u,o,!0):vr(r,!!u,u?[]:"",!1));return;case"textarea":J=Z=null;for(I in u)if(g=u[I],u.hasOwnProperty(I)&&g!=null&&!d.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:xe(r,o,I,null,d,g)}for(A in d)if(g=d[A],v=u[A],d.hasOwnProperty(A)&&(g!=null||v!=null))switch(A){case"value":Z=g;break;case"defaultValue":J=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==v&&xe(r,o,A,g,d,v)}Se(r,Z,J);return;case"option":for(var jt in u)if(Z=u[jt],u.hasOwnProperty(jt)&&Z!=null&&!d.hasOwnProperty(jt))switch(jt){case"selected":r.selected=!1;break;default:xe(r,o,jt,null,d,Z)}for(F in d)if(Z=d[F],J=u[F],d.hasOwnProperty(F)&&Z!==J&&(Z!=null||J!=null))switch(F){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:xe(r,o,F,Z,d,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in u)Z=u[Dt],u.hasOwnProperty(Dt)&&Z!=null&&!d.hasOwnProperty(Dt)&&xe(r,o,Dt,null,d,Z);for(Q in d)if(Z=d[Q],J=u[Q],d.hasOwnProperty(Q)&&Z!==J&&(Z!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,o));break;default:xe(r,o,Q,Z,d,J)}return;default:if(ru(o)){for(var Ae in u)Z=u[Ae],u.hasOwnProperty(Ae)&&Z!==void 0&&!d.hasOwnProperty(Ae)&&Gy(r,o,Ae,void 0,d,Z);for(st in d)Z=d[st],J=u[st],!d.hasOwnProperty(st)||Z===J||Z===void 0&&J===void 0||Gy(r,o,st,Z,d,J);return}}for(var G in u)Z=u[G],u.hasOwnProperty(G)&&Z!=null&&!d.hasOwnProperty(G)&&xe(r,o,G,null,d,Z);for(at in d)Z=d[at],J=u[at],!d.hasOwnProperty(at)||Z===J||Z==null&&J==null||xe(r,o,at,Z,d,J)}var Ky=null,Yy=null;function Ld(r){return r.nodeType===9?r:r.ownerDocument}function yE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vE(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Xy(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Qy=null;function CN(){var r=window.event;return r&&r.type==="popstate"?r===Qy?!1:(Qy=r,!0):(Qy=null,!1)}var _E=typeof setTimeout=="function"?setTimeout:void 0,DN=typeof clearTimeout=="function"?clearTimeout:void 0,bE=typeof Promise=="function"?Promise:void 0,IN=typeof queueMicrotask=="function"?queueMicrotask:typeof bE<"u"?function(r){return bE.resolve(null).then(r).catch(kN)}:_E;function kN(r){setTimeout(function(){throw r})}function wa(r){return r==="head"}function wE(r,o){var u=o,d=0,g=0;do{var v=u.nextSibling;if(r.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<d&&8>d){u=d;var A=r.ownerDocument;if(u&1&&qu(A.documentElement),u&2&&qu(A.body),u&4)for(u=A.head,qu(u),A=u.firstChild;A;){var I=A.nextSibling,F=A.nodeName;A[ln]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&A.rel.toLowerCase()==="stylesheet"||u.removeChild(A),A=I}}if(g===0){r.removeChild(v),Zu(o);return}g--}else u==="$"||u==="$?"||u==="$!"?g++:d=u.charCodeAt(0)-48;else d=0;u=v}while(u);Zu(o)}function Zy(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Zy(u),ue(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function PN(r,o,u,d){for(;r.nodeType===1;){var g=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[ln])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=ys(r.nextSibling),r===null)break}return null}function MN(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=ys(r.nextSibling),r===null))return null;return r}function Jy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function ON(r,o){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function ys(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var tv=null;function TE(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}function SE(r,o,u){switch(o=Ld(u),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function qu(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);ue(r)}var es=new Map,EE=new Set;function Vd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Vr=et.d;et.d={f:NN,r:LN,D:VN,C:jN,L:UN,m:BN,X:FN,S:zN,M:HN};function NN(){var r=Vr.f(),o=Cd();return r||o}function LN(r){var o=Fi(r);o!==null&&o.tag===5&&o.type==="form"?qT(o):Vr.r(r)}var nc=typeof document>"u"?null:document;function xE(r,o,u){var d=nc;if(d&&typeof o=="string"&&o){var g=cn(o);g='link[rel="'+r+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),EE.has(g)||(EE.add(g),r={rel:r,crossOrigin:u,href:o},d.querySelector(g)===null&&(o=d.createElement("link"),Ln(o,"link",r),Le(o),d.head.appendChild(o)))}}function VN(r){Vr.D(r),xE("dns-prefetch",r,null)}function jN(r,o){Vr.C(r,o),xE("preconnect",r,o)}function UN(r,o,u){Vr.L(r,o,u);var d=nc;if(d&&r&&o){var g='link[rel="preload"][as="'+cn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+cn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+cn(u.imageSizes)+'"]')):g+='[href="'+cn(r)+'"]';var v=g;switch(o){case"style":v=ic(r);break;case"script":v=sc(r)}es.has(v)||(r=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),es.set(v,r),d.querySelector(g)!==null||o==="style"&&d.querySelector(Wu(v))||o==="script"&&d.querySelector($u(v))||(o=d.createElement("link"),Ln(o,"link",r),Le(o),d.head.appendChild(o)))}}function BN(r,o){Vr.m(r,o);var u=nc;if(u&&r){var d=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+cn(d)+'"][href="'+cn(r)+'"]',v=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=sc(r)}if(!es.has(v)&&(r=p({rel:"modulepreload",href:r},o),es.set(v,r),u.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector($u(v)))return}d=u.createElement("link"),Ln(d,"link",r),Le(d),u.head.appendChild(d)}}}function zN(r,o,u){Vr.S(r,o,u);var d=nc;if(d&&r){var g=En(d).hoistableStyles,v=ic(r);o=o||"default";var A=g.get(v);if(!A){var I={loading:0,preload:null};if(A=d.querySelector(Wu(v)))I.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},u),(u=es.get(v))&&ev(r,u);var F=A=d.createElement("link");Le(F),Ln(F,"link",r),F._p=new Promise(function(Q,st){F.onload=Q,F.onerror=st}),F.addEventListener("load",function(){I.loading|=1}),F.addEventListener("error",function(){I.loading|=2}),I.loading|=4,jd(A,o,d)}A={type:"stylesheet",instance:A,count:1,state:I},g.set(v,A)}}}function FN(r,o){Vr.X(r,o);var u=nc;if(u&&r){var d=En(u).hoistableScripts,g=sc(r),v=d.get(g);v||(v=u.querySelector($u(g)),v||(r=p({src:r,async:!0},o),(o=es.get(g))&&nv(r,o),v=u.createElement("script"),Le(v),Ln(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function HN(r,o){Vr.M(r,o);var u=nc;if(u&&r){var d=En(u).hoistableScripts,g=sc(r),v=d.get(g);v||(v=u.querySelector($u(g)),v||(r=p({src:r,async:!0,type:"module"},o),(o=es.get(g))&&nv(r,o),v=u.createElement("script"),Le(v),Ln(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function AE(r,o,u,d){var g=(g=St.current)?Vd(g):null;if(!g)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=ic(u.href),u=En(g).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=ic(u.href);var v=En(g).hoistableStyles,A=v.get(r);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,A),(v=g.querySelector(Wu(r)))&&!v._p&&(A.instance=v,A.state.loading=5),es.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},es.set(r,u),v||qN(g,r,u,A.state))),o&&d===null)throw Error(i(528,""));return A}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=sc(u),u=En(g).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function ic(r){return'href="'+cn(r)+'"'}function Wu(r){return'link[rel="stylesheet"]['+r+"]"}function RE(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function qN(r,o,u,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Ln(o,"link",u),Le(o),r.head.appendChild(o))}function sc(r){return'[src="'+cn(r)+'"]'}function $u(r){return"script[async]"+r}function CE(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+cn(u.href)+'"]');if(d)return o.instance=d,Le(d),d;var g=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Le(d),Ln(d,"style",g),jd(d,u.precedence,r),o.instance=d;case"stylesheet":g=ic(u.href);var v=r.querySelector(Wu(g));if(v)return o.state.loading|=4,o.instance=v,Le(v),v;d=RE(u),(g=es.get(g))&&ev(d,g),v=(r.ownerDocument||r).createElement("link"),Le(v);var A=v;return A._p=new Promise(function(I,F){A.onload=I,A.onerror=F}),Ln(v,"link",d),o.state.loading|=4,jd(v,u.precedence,r),o.instance=v;case"script":return v=sc(u.src),(g=r.querySelector($u(v)))?(o.instance=g,Le(g),g):(d=u,(g=es.get(v))&&(d=p({},u),nv(d,g)),r=r.ownerDocument||r,g=r.createElement("script"),Le(g),Ln(g,"link",d),r.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,jd(d,u.precedence,r));return o.instance}function jd(r,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,v=g,A=0;A<d.length;A++){var I=d[A];if(I.dataset.precedence===o)v=I;else if(v!==g)break}v?v.parentNode.insertBefore(r,v.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function ev(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function nv(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Ud=null;function DE(r,o,u){if(Ud===null){var d=new Map,g=Ud=new Map;g.set(u,d)}else g=Ud,d=g.get(u),d||(d=new Map,g.set(u,d));if(d.has(r))return d;for(d.set(r,null),u=u.getElementsByTagName(r),g=0;g<u.length;g++){var v=u[g];if(!(v[ln]||v[_t]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(o)||"";A=r+A;var I=d.get(A);I?I.push(v):d.set(A,[v])}}return d}function IE(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function WN(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function kE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Gu=null;function $N(){}function GN(r,o,u){if(Gu===null)throw Error(i(475));var d=Gu;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=ic(u.href),v=r.querySelector(Wu(g));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=Bd.bind(d),r.then(d,d)),o.state.loading|=4,o.instance=v,Le(v);return}v=r.ownerDocument||r,u=RE(u),(g=es.get(g))&&ev(u,g),v=v.createElement("link"),Le(v);var A=v;A._p=new Promise(function(I,F){A.onload=I,A.onerror=F}),Ln(v,"link",u),o.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=Bd.bind(d),r.addEventListener("load",o),r.addEventListener("error",o))}}function KN(){if(Gu===null)throw Error(i(475));var r=Gu;return r.stylesheets&&r.count===0&&iv(r,r.stylesheets),0<r.count?function(o){var u=setTimeout(function(){if(r.stylesheets&&iv(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u)}}:null}function Bd(){if(this.count--,this.count===0){if(this.stylesheets)iv(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var zd=null;function iv(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,zd=new Map,o.forEach(YN,r),zd=null,Bd.call(r))}function YN(r,o){if(!(o.state.loading&4)){var u=zd.get(r);if(u)var d=u.get(null);else{u=new Map,zd.set(r,u);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var A=g[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),d=A)}d&&u.set(null,d)}g=o.instance,A=g.getAttribute("data-precedence"),v=u.get(A)||d,v===d&&u.set(null,g),u.set(A,g),this.count++,d=Bd.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),v?v.parentNode.insertBefore(g,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),o.state.loading|=4}}var Ku={$$typeof:O,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function XN(r,o,u,d,g,v,A,I){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function PE(r,o,u,d,g,v,A,I,F,Q,st,at){return r=new XN(r,o,u,A,I,F,Q,at),o=1,v===!0&&(o|=24),v=Ci(3,null,null,o),r.current=v,v.stateNode=r,o=jg(),o.refCount++,r.pooledCache=o,o.refCount++,v.memoizedState={element:d,isDehydrated:u,cache:o},Fg(v),r}function ME(r){return r?(r=Nl,r):Nl}function OE(r,o,u,d,g,v){g=ME(g),d.context===null?d.context=g:d.pendingContext=g,d=la(o),d.payload={element:u},v=v===void 0?null:v,v!==null&&(d.callback=v),u=ca(r,d,o),u!==null&&(Mi(u,r,o),Eu(u,r,o))}function NE(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function sv(r,o){NE(r,o),(r=r.alternate)&&NE(r,o)}function LE(r){if(r.tag===13){var o=Ol(r,67108864);o!==null&&Mi(o,r,67108864),sv(r,67108864)}}var Fd=!0;function QN(r,o,u,d){var g=K.T;K.T=null;var v=et.p;try{et.p=2,rv(r,o,u,d)}finally{et.p=v,K.T=g}}function ZN(r,o,u,d){var g=K.T;K.T=null;var v=et.p;try{et.p=8,rv(r,o,u,d)}finally{et.p=v,K.T=g}}function rv(r,o,u,d){if(Fd){var g=av(d);if(g===null)$y(r,o,d,Hd,u),jE(r,d);else if(t2(g,r,o,u,d))d.stopPropagation();else if(jE(r,d),o&4&&-1<JN.indexOf(r)){for(;g!==null;){var v=Fi(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=Kt(v.pendingLanes);if(A!==0){var I=v;for(I.pendingLanes|=2,I.entangledLanes|=2;A;){var F=1<<31-Rt(A);I.entanglements[1]|=F,A&=~F}qs(v),(be&6)===0&&(Ad=qe()+500,zu(0))}}break;case 13:I=Ol(v,2),I!==null&&Mi(I,v,2),Cd(),sv(v,2)}if(v=av(d),v===null&&$y(r,o,d,Hd,u),v===g)break;g=v}g!==null&&d.stopPropagation()}else $y(r,o,d,null,u)}}function av(r){return r=$i(r),ov(r)}var Hd=null;function ov(r){if(Hd=null,r=qn(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Hd=r,null}function VE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ei()){case fe:return 2;case si:return 8;case ri:case ds:return 32;case hi:return 268435456;default:return 32}default:return 32}}var lv=!1,Ta=null,Sa=null,Ea=null,Yu=new Map,Xu=new Map,xa=[],JN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jE(r,o){switch(r){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":Yu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xu.delete(o.pointerId)}}function Qu(r,o,u,d,g,v){return r===null||r.nativeEvent!==v?(r={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},o!==null&&(o=Fi(o),o!==null&&LE(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),r)}function t2(r,o,u,d,g){switch(o){case"focusin":return Ta=Qu(Ta,r,o,u,d,g),!0;case"dragenter":return Sa=Qu(Sa,r,o,u,d,g),!0;case"mouseover":return Ea=Qu(Ea,r,o,u,d,g),!0;case"pointerover":var v=g.pointerId;return Yu.set(v,Qu(Yu.get(v)||null,r,o,u,d,g)),!0;case"gotpointercapture":return v=g.pointerId,Xu.set(v,Qu(Xu.get(v)||null,r,o,u,d,g)),!0}return!1}function UE(r){var o=qn(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,zi(r.priority,function(){if(u.tag===13){var d=Pi();d=Et(d);var g=Ol(u,d);g!==null&&Mi(g,u,d),sv(u,d)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function qd(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=av(r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);_r=d,u.target.dispatchEvent(d),_r=null}else return o=Fi(u),o!==null&&LE(o),r.blockedOn=u,!1;o.shift()}return!0}function BE(r,o,u){qd(r)&&u.delete(o)}function e2(){lv=!1,Ta!==null&&qd(Ta)&&(Ta=null),Sa!==null&&qd(Sa)&&(Sa=null),Ea!==null&&qd(Ea)&&(Ea=null),Yu.forEach(BE),Xu.forEach(BE)}function Wd(r,o){r.blockedOn===o&&(r.blockedOn=null,lv||(lv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,e2)))}var $d=null;function zE(r){$d!==r&&($d=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){$d===r&&($d=null);for(var o=0;o<r.length;o+=3){var u=r[o],d=r[o+1],g=r[o+2];if(typeof d!="function"){if(ov(d||u)===null)continue;break}var v=Fi(u);v!==null&&(r.splice(o,3),o-=3,oy(v,{pending:!0,data:g,method:u.method,action:d},d,g))}}))}function Zu(r){function o(F){return Wd(F,r)}Ta!==null&&Wd(Ta,r),Sa!==null&&Wd(Sa,r),Ea!==null&&Wd(Ea,r),Yu.forEach(o),Xu.forEach(o);for(var u=0;u<xa.length;u++){var d=xa[u];d.blockedOn===r&&(d.blockedOn=null)}for(;0<xa.length&&(u=xa[0],u.blockedOn===null);)UE(u),u.blockedOn===null&&xa.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var g=u[d],v=u[d+1],A=g[bt]||null;if(typeof v=="function")A||zE(u);else if(A){var I=null;if(v&&v.hasAttribute("formAction")){if(g=v,A=v[bt]||null)I=A.formAction;else if(ov(g)!==null)continue}else I=A.action;typeof I=="function"?u[d+1]=I:(u.splice(d,3),d-=3),zE(u)}}}function cv(r){this._internalRoot=r}Gd.prototype.render=cv.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,d=Pi();OE(u,d,r,o,null,null)},Gd.prototype.unmount=cv.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;OE(r.current,2,null,r,null,null),Cd(),o[de]=null}};function Gd(r){this._internalRoot=r}Gd.prototype.unstable_scheduleHydration=function(r){if(r){var o=Ke();r={blockedOn:null,target:r,priority:o};for(var u=0;u<xa.length&&o!==0&&o<xa[u].priority;u++);xa.splice(u,0,r),u===0&&UE(r)}};var FE=t.version;if(FE!=="19.1.0")throw Error(i(527,FE,"19.1.0"));et.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var n2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kd.isDisabled&&Kd.supportsFiber)try{it=Kd.inject(n2),pt=Kd}catch{}}return th.createRoot=function(r,o){if(!s(r))throw Error(i(299));var u=!1,d="",g=sS,v=rS,A=aS,I=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks)),o=PE(r,1,!1,null,null,u,d,g,v,A,I,null),r[de]=o.current,Wy(r),new cv(o)},th.hydrateRoot=function(r,o,u){if(!s(r))throw Error(i(299));var d=!1,g="",v=sS,A=rS,I=aS,F=null,Q=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(F=u.unstable_transitionCallbacks),u.formState!==void 0&&(Q=u.formState)),o=PE(r,1,!0,o,u??null,d,g,v,A,I,F,Q),o.context=ME(null),u=o.current,d=Pi(),d=Et(d),g=la(d),g.callback=null,ca(u,g,d),u=d,o.current.lanes=u,Ne(o,u),qs(o),r[de]=o.current,Wy(r),new Gd(o)},th.version="19.1.0",th}var ZE;function p2(){if(ZE)return fv.exports;ZE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fv.exports=d2(),fv.exports}var m2=p2(),eh={},JE;function g2(){if(JE)return eh;JE=1,Object.defineProperty(eh,"__esModule",{value:!0}),eh.parse=l,eh.serialize=f;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,b){const T=new a,E=_.length;if(E<2)return T;const S=(b==null?void 0:b.decode)||p;let C=0;do{const j=_.indexOf("=",C);if(j===-1)break;const O=_.indexOf(";",C),q=O===-1?E:O;if(j>q){C=_.lastIndexOf(";",j-1)+1;continue}const z=c(_,C,j),$=h(_,j,z),M=_.slice(z,$);if(T[M]===void 0){let D=c(_,j+1,q),k=h(_,q,D);const U=S(_.slice(D,k));T[M]=U}C=q+1}while(C<E);return T}function c(_,b,T){do{const E=_.charCodeAt(b);if(E!==32&&E!==9)return b}while(++b<T);return T}function h(_,b,T){for(;b>T;){const E=_.charCodeAt(--b);if(E!==32&&E!==9)return b+1}return T}function f(_,b,T){const E=(T==null?void 0:T.encode)||encodeURIComponent;if(!e.test(_))throw new TypeError(`argument name is invalid: ${_}`);const S=E(b);if(!t.test(S))throw new TypeError(`argument val is invalid: ${b}`);let C=_+"="+S;if(!T)return C;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);C+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);C+="; Domain="+T.domain}if(T.path){if(!i.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);C+="; Path="+T.path}if(T.expires){if(!y(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);C+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(C+="; HttpOnly"),T.secure&&(C+="; Secure"),T.partitioned&&(C+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return C}function p(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return s.call(_)==="[object Date]"}return eh}g2();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tx="popstate";function y2(e={}){function t(s,a){let{pathname:l="/",search:c="",hash:h=""}=ul(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),c_("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=s.location.href,f=h.indexOf("#");c=f===-1?h:h.slice(0,f)}return c+"#"+(typeof a=="string"?a:Oh(a))}function i(s,a){cs(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return _2(t,n,i,e)}function je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function v2(){return Math.random().toString(36).substring(2,10)}function ex(e,t){return{usr:e.state,key:e.key,idx:t}}function c_(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ul(t):t,state:n,key:t&&t.key||i||v2()}}function Oh({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ul(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function _2(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,c="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function y(){c="POP";let S=p(),C=S==null?null:S-f;f=S,h&&h({action:c,location:E.location,delta:C})}function _(S,C){c="PUSH";let j=c_(E.location,S,C);n&&n(j,S),f=p()+1;let O=ex(j,f),q=E.createHref(j);try{l.pushState(O,"",q)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(q)}a&&h&&h({action:c,location:E.location,delta:1})}function b(S,C){c="REPLACE";let j=c_(E.location,S,C);n&&n(j,S),f=p();let O=ex(j,f),q=E.createHref(j);l.replaceState(O,"",q),a&&h&&h({action:c,location:E.location,delta:0})}function T(S){let C=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof S=="string"?S:Oh(S);return j=j.replace(/ $/,"%20"),je(C,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,C)}let E={get action(){return c},get location(){return e(s,l)},listen(S){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(tx,y),h=S,()=>{s.removeEventListener(tx,y),h=null}},createHref(S){return t(s,S)},createURL:T,encodeLocation(S){let C=T(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:b,go(S){return l.go(S)}};return E}function B1(e,t,n="/"){return b2(e,t,n,!1)}function b2(e,t,n,i){let s=typeof t=="string"?ul(t):t,a=Gr(s.pathname||"/",n);if(a==null)return null;let l=z1(e);w2(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=P2(a);c=I2(l[h],f,i)}return c}function z1(e,t=[],n=[],i=""){let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(je(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=Wr([i,h.relativePath]),p=n.concat(h);a.children&&a.children.length>0&&(je(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),z1(a.children,t,p,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:C2(f,a.index),routesMeta:p})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of F1(a.path))s(a,l,h)}),t}function F1(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=F1(i.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function w2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:D2(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var T2=/^:[\w-]+$/,S2=3,E2=2,x2=1,A2=10,R2=-2,nx=e=>e==="*";function C2(e,t){let n=e.split("/"),i=n.length;return n.some(nx)&&(i+=R2),t&&(i+=E2),n.filter(s=>!nx(s)).reduce((s,a)=>s+(T2.test(a)?S2:a===""?x2:A2),i)}function D2(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function I2(e,t,n=!1){let{routesMeta:i}=e,s={},a="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],f=c===i.length-1,p=a==="/"?t:t.slice(a.length)||"/",y=Fp({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),_=h.route;if(!y&&f&&n&&!i[i.length-1].route.index&&(y=Fp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:Wr([a,y.pathname]),pathnameBase:L2(Wr([a,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(a=Wr([a,y.pathnameBase]))}return l}function Fp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=k2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:y},_)=>{if(p==="*"){let T=c[_]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const b=c[_];return y&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:e}}function k2(e,t=!1,n=!0){cs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function P2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Gr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function M2(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?ul(e):e;return{pathname:n?n.startsWith("/")?n:O2(n,t):t,search:V2(i),hash:j2(s)}}function O2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function gv(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function w0(e){let t=N2(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function T0(e,t,n,i=!1){let s;typeof e=="string"?s=ul(e):(s={...e},je(!s.pathname||!s.pathname.includes("?"),gv("?","pathname","search",s)),je(!s.pathname||!s.pathname.includes("#"),gv("#","pathname","hash",s)),je(!s.search||!s.search.includes("#"),gv("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let y=t.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;s.pathname=_.join("/")}c=y>=0?t[y]:"/"}let h=M2(s,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var Wr=e=>e.join("/").replace(/\/\/+/g,"/"),L2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,j2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function U2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var H1=["POST","PUT","PATCH","DELETE"];new Set(H1);var B2=["GET",...H1];new Set(B2);var zc=P.createContext(null);zc.displayName="DataRouter";var Dm=P.createContext(null);Dm.displayName="DataRouterState";var q1=P.createContext({isTransitioning:!1});q1.displayName="ViewTransition";var z2=P.createContext(new Map);z2.displayName="Fetchers";var F2=P.createContext(null);F2.displayName="Await";var Ds=P.createContext(null);Ds.displayName="Navigation";var hf=P.createContext(null);hf.displayName="Location";var dr=P.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var S0=P.createContext(null);S0.displayName="RouteError";function H2(e,{relative:t}={}){je(Fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(Ds),{hash:s,pathname:a,search:l}=ff(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:Wr([n,a])),i.createHref({pathname:c,search:l,hash:s})}function Fc(){return P.useContext(hf)!=null}function pr(){return je(Fc(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(hf).location}var W1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $1(e){P.useContext(Ds).static||P.useLayoutEffect(e)}function Is(){let{isDataRoute:e}=P.useContext(dr);return e?nL():q2()}function q2(){je(Fc(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(zc),{basename:t,navigator:n}=P.useContext(Ds),{matches:i}=P.useContext(dr),{pathname:s}=pr(),a=JSON.stringify(w0(i)),l=P.useRef(!1);return $1(()=>{l.current=!0}),P.useCallback((h,f={})=>{if(cs(l.current,W1),!l.current)return;if(typeof h=="number"){n.go(h);return}let p=T0(h,JSON.parse(a),s,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Wr([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,a,s,e])}P.createContext(null);function ff(e,{relative:t}={}){let{matches:n}=P.useContext(dr),{pathname:i}=pr(),s=JSON.stringify(w0(n));return P.useMemo(()=>T0(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function W2(e,t){return G1(e,t)}function G1(e,t,n,i){var j;je(Fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=P.useContext(Ds),{matches:l}=P.useContext(dr),c=l[l.length-1],h=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let O=y&&y.path||"";K1(f,!y||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let _=pr(),b;if(t){let O=typeof t=="string"?ul(t):t;je(p==="/"||((j=O.pathname)==null?void 0:j.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${O.pathname}" was given in the \`location\` prop.`),b=O}else b=_;let T=b.pathname||"/",E=T;if(p!=="/"){let O=p.replace(/^\//,"").split("/");E="/"+T.replace(/^\//,"").split("/").slice(O.length).join("/")}let S=!a&&n&&n.matches&&n.matches.length>0?n.matches:B1(e,{pathname:E});cs(y||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),cs(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=X2(S&&S.map(O=>Object.assign({},O,{params:Object.assign({},h,O.params),pathname:Wr([p,s.encodeLocation?s.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:Wr([p,s.encodeLocation?s.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),l,n,i);return t&&C?P.createElement(hf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function $2(){let e=eL(),t=U2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:a},"ErrorBoundary")," or"," ",P.createElement("code",{style:a},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:s},n):null,l)}var G2=P.createElement($2,null),K2=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(dr.Provider,{value:this.props.routeContext},P.createElement(S0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Y2({routeContext:e,match:t,children:n}){let i=P.useContext(zc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(dr.Provider,{value:e},n)}function X2(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);je(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:y}=n,_=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,f,p)=>{let y,_=!1,b=null,T=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||G2,l&&(c<0&&p===0?(K1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):c===p&&(_=!0,T=f.route.hydrateFallbackElement||null)));let E=t.concat(s.slice(0,p+1)),S=()=>{let C;return y?C=b:_?C=T:f.route.Component?C=P.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=h,P.createElement(Y2,{match:f,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:C})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?P.createElement(K2,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:S(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):S()},null)}function E0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q2(e){let t=P.useContext(zc);return je(t,E0(e)),t}function Z2(e){let t=P.useContext(Dm);return je(t,E0(e)),t}function J2(e){let t=P.useContext(dr);return je(t,E0(e)),t}function x0(e){let t=J2(e),n=t.matches[t.matches.length-1];return je(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function tL(){return x0("useRouteId")}function eL(){var i;let e=P.useContext(S0),t=Z2("useRouteError"),n=x0("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function nL(){let{router:e}=Q2("useNavigate"),t=x0("useNavigate"),n=P.useRef(!1);return $1(()=>{n.current=!0}),P.useCallback(async(s,a={})=>{cs(n.current,W1),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var ix={};function K1(e,t,n){!t&&!ix[e]&&(ix[e]=!0,cs(!1,n))}P.memo(iL);function iL({routes:e,future:t,state:n}){return G1(e,void 0,n,t)}function Y1({to:e,replace:t,state:n,relative:i}){je(Fc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=P.useContext(Ds);cs(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=P.useContext(dr),{pathname:l}=pr(),c=Is(),h=T0(e,w0(a),l,i==="path"),f=JSON.stringify(h);return P.useEffect(()=>{c(JSON.parse(f),{replace:t,state:n,relative:i})},[c,f,i,t,n]),null}function vs(e){je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sL({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){je(!Fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=P.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=ul(n));let{pathname:h="/",search:f="",hash:p="",state:y=null,key:_="default"}=n,b=P.useMemo(()=>{let T=Gr(h,l);return T==null?null:{location:{pathname:T,search:f,hash:p,state:y,key:_},navigationType:i}},[l,h,f,p,y,_,i]);return cs(b!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:P.createElement(Ds.Provider,{value:c},P.createElement(hf.Provider,{children:t,value:b}))}function rL({children:e,location:t}){return W2(u_(e),t)}function u_(e,t=[]){let n=[];return P.Children.forEach(e,(i,s)=>{if(!P.isValidElement(i))return;let a=[...t,s];if(i.type===P.Fragment){n.push.apply(n,u_(i.props.children,a));return}je(i.type===vs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),je(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=u_(i.props.children,a)),n.push(l)}),n}var Tp="get",Sp="application/x-www-form-urlencoded";function Im(e){return e!=null&&typeof e.tagName=="string"}function aL(e){return Im(e)&&e.tagName.toLowerCase()==="button"}function oL(e){return Im(e)&&e.tagName.toLowerCase()==="form"}function lL(e){return Im(e)&&e.tagName.toLowerCase()==="input"}function cL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uL(e,t){return e.button===0&&(!t||t==="_self")&&!cL(e)}var Yd=null;function hL(){if(Yd===null)try{new FormData(document.createElement("form"),0),Yd=!1}catch{Yd=!0}return Yd}var fL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yv(e){return e!=null&&!fL.has(e)?(cs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sp}"`),null):e}function dL(e,t){let n,i,s,a,l;if(oL(e)){let c=e.getAttribute("action");i=c?Gr(c,t):null,n=e.getAttribute("method")||Tp,s=yv(e.getAttribute("enctype"))||Sp,a=new FormData(e)}else if(aL(e)||lL(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||c.getAttribute("action");if(i=h?Gr(h,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Tp,s=yv(e.getAttribute("formenctype"))||yv(c.getAttribute("enctype"))||Sp,a=new FormData(c,e),!hL()){let{name:f,type:p,value:y}=e;if(p==="image"){let _=f?`${f}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else f&&a.append(f,y)}}else{if(Im(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Tp,i=null,s=Sp,l=e}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:l}}function A0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function pL(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mL(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function gL(e,t,n){let i=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await pL(a,n);return l.links?l.links():[]}return[]}));return bL(i.flat(1).filter(mL).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function sx(e,t,n,i,s,a){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,c=(h,f)=>{var p;return n[f].pathname!==h.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==h.params["*"]};return a==="assets"?t.filter((h,f)=>l(h,f)||c(h,f)):a==="data"?t.filter((h,f)=>{var y;let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function yL(e,t,{includeHydrateFallback:n}={}){return vL(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function vL(e){return[...new Set(e)]}function _L(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function bL(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let a=JSON.stringify(_L(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function wL(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Gr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function X1(){let e=P.useContext(zc);return A0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function TL(){let e=P.useContext(Dm);return A0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var R0=P.createContext(void 0);R0.displayName="FrameworkContext";function Q1(){let e=P.useContext(R0);return A0(e,"You must render this element inside a <HydratedRouter> element"),e}function SL(e,t){let n=P.useContext(R0),[i,s]=P.useState(!1),[a,l]=P.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:y}=t,_=P.useRef(null);P.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let E=C=>{C.forEach(j=>{l(j.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return _.current&&S.observe(_.current),()=>{S.disconnect()}}},[e]),P.useEffect(()=>{if(i){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[i]);let b=()=>{s(!0)},T=()=>{s(!1),l(!1)};return n?e!=="intent"?[a,_,{}]:[a,_,{onFocus:nh(c,b),onBlur:nh(h,T),onMouseEnter:nh(f,b),onMouseLeave:nh(p,T),onTouchStart:nh(y,b)}]:[!1,_,{}]}function nh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function EL({page:e,...t}){let{router:n}=X1(),i=P.useMemo(()=>B1(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?P.createElement(AL,{page:e,matches:i,...t}):null}function xL(e){let{manifest:t,routeModules:n}=Q1(),[i,s]=P.useState([]);return P.useEffect(()=>{let a=!1;return gL(e,t,n).then(l=>{a||s(l)}),()=>{a=!0}},[e,t,n]),i}function AL({page:e,matches:t,...n}){let i=pr(),{manifest:s,routeModules:a}=Q1(),{basename:l}=X1(),{loaderData:c,matches:h}=TL(),f=P.useMemo(()=>sx(e,t,h,s,i,"data"),[e,t,h,s,i]),p=P.useMemo(()=>sx(e,t,h,s,i,"assets"),[e,t,h,s,i]),y=P.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let T=new Set,E=!1;if(t.forEach(C=>{var O;let j=s.routes[C.route.id];!j||!j.hasLoader||(!f.some(q=>q.route.id===C.route.id)&&C.route.id in c&&((O=a[C.route.id])!=null&&O.shouldRevalidate)||j.hasClientLoader?E=!0:T.add(C.route.id))}),T.size===0)return[];let S=wL(e,l);return E&&T.size>0&&S.searchParams.set("_routes",t.filter(C=>T.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[l,c,i,s,f,t,e,a]),_=P.useMemo(()=>yL(p,s),[p,s]),b=xL(p);return P.createElement(P.Fragment,null,y.map(T=>P.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),_.map(T=>P.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),b.map(({key:T,link:E})=>P.createElement("link",{key:T,...E})))}function RL(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Z1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z1&&(window.__reactRouterVersion="7.5.0")}catch{}function CL({basename:e,children:t,window:n}){let i=P.useRef();i.current==null&&(i.current=y2({window:n,v5Compat:!0}));let s=i.current,[a,l]=P.useState({action:s.action,location:s.location}),c=P.useCallback(h=>{P.startTransition(()=>l(h))},[l]);return P.useLayoutEffect(()=>s.listen(c),[s,c]),P.createElement(sL,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var J1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ka=P.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:f,preventScrollReset:p,viewTransition:y,..._},b){let{basename:T}=P.useContext(Ds),E=typeof f=="string"&&J1.test(f),S,C=!1;if(typeof f=="string"&&E&&(S=f,Z1))try{let k=new URL(window.location.href),U=f.startsWith("//")?new URL(k.protocol+f):new URL(f),L=Gr(U.pathname,T);U.origin===k.origin&&L!=null?f=L+U.search+U.hash:C=!0}catch{cs(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=H2(f,{relative:s}),[O,q,z]=SL(i,_),$=PL(f,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:y});function M(k){t&&t(k),k.defaultPrevented||$(k)}let D=P.createElement("a",{..._,...z,href:S||j,onClick:C||a?t:M,ref:RL(b,q),target:h,"data-discover":!E&&n==="render"?"true":void 0});return O&&!E?P.createElement(P.Fragment,null,D,P.createElement(EL,{page:j})):D});ka.displayName="Link";var DL=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...f},p){let y=ff(l,{relative:f.relative}),_=pr(),b=P.useContext(Dm),{navigator:T,basename:E}=P.useContext(Ds),S=b!=null&&VL(y)&&c===!0,C=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,j=_.pathname,O=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(j=j.toLowerCase(),O=O?O.toLowerCase():null,C=C.toLowerCase()),O&&E&&(O=Gr(O,E)||O);const q=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let z=j===C||!s&&j.startsWith(C)&&j.charAt(q)==="/",$=O!=null&&(O===C||!s&&O.startsWith(C)&&O.charAt(C.length)==="/"),M={isActive:z,isPending:$,isTransitioning:S},D=z?t:void 0,k;typeof i=="function"?k=i(M):k=[i,z?"active":null,$?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(M):a;return P.createElement(ka,{...f,"aria-current":D,className:k,ref:p,style:U,to:l,viewTransition:c},typeof h=="function"?h(M):h)});DL.displayName="NavLink";var IL=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:a,method:l=Tp,action:c,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:y,..._},b)=>{let T=NL(),E=LL(c,{relative:f}),S=l.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&J1.test(c),j=O=>{if(h&&h(O),O.defaultPrevented)return;O.preventDefault();let q=O.nativeEvent.submitter,z=(q==null?void 0:q.getAttribute("formmethod"))||l;T(q||O.currentTarget,{fetcherKey:t,method:z,navigate:n,replace:s,state:a,relative:f,preventScrollReset:p,viewTransition:y})};return P.createElement("form",{ref:b,method:S,action:E,onSubmit:i?h:j,..._,"data-discover":!C&&e==="render"?"true":void 0})});IL.displayName="Form";function kL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tD(e){let t=P.useContext(zc);return je(t,kL(e)),t}function PL(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Is(),h=pr(),f=ff(e,{relative:a});return P.useCallback(p=>{if(uL(p,t)){p.preventDefault();let y=n!==void 0?n:Oh(h)===Oh(f);c(e,{replace:y,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,f,n,i,t,e,s,a,l])}var ML=0,OL=()=>`__${String(++ML)}__`;function NL(){let{router:e}=tD("useSubmit"),{basename:t}=P.useContext(Ds),n=tL();return P.useCallback(async(i,s={})=>{let{action:a,method:l,encType:c,formData:h,body:f}=dL(i,t);if(s.navigate===!1){let p=s.fetcherKey||OL();await e.fetch(p,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function LL(e,{relative:t}={}){let{basename:n}=P.useContext(Ds),i=P.useContext(dr);je(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...ff(e||".",{relative:t})},l=pr();if(e==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Wr([n,a.pathname])),Oh(a)}function VL(e,t={}){let n=P.useContext(q1);je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=tD("useViewTransitionState"),s=ff(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Gr(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=Gr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Fp(s.pathname,l)!=null||Fp(s.pathname,a)!=null}new TextEncoder;const jL=()=>{};var rx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},UL=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=e[n++];t[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=e[n++],l=e[n++],c=e[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const a=e[n++],l=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return t.join("")},nD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const a=e[s],l=s+1<e.length,c=l?e[s+1]:0,h=s+2<e.length,f=h?e[s+2]:0,p=a>>2,y=(a&3)<<4|c>>4;let _=(c&15)<<2|f>>6,b=f&63;h||(b=64,l||(_=64)),i.push(n[p],n[y],n[_],n[b])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(eD(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):UL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const a=n[e.charAt(s++)],c=s<e.length?n[e.charAt(s)]:0;++s;const f=s<e.length?n[e.charAt(s)]:64;++s;const y=s<e.length?n[e.charAt(s)]:64;if(++s,a==null||c==null||f==null||y==null)throw new BL;const _=a<<2|c>>4;if(i.push(_),f!==64){const b=c<<4&240|f>>2;if(i.push(b),y!==64){const T=f<<6&192|y;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class BL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zL=function(e){const t=eD(e);return nD.encodeByteArray(t,!0)},Hp=function(e){return zL(e).replace(/\./g,"")},iD=function(e){try{return nD.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=()=>FL().__FIREBASE_DEFAULTS__,qL=()=>{if(typeof process>"u"||typeof rx>"u")return;const e=rx.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},WL=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&iD(e[1]);return t&&JSON.parse(t)},km=()=>{try{return jL()||HL()||qL()||WL()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},sD=e=>{var t,n;return(n=(t=km())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},$L=e=>{const t=sD(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},rD=()=>{var e;return(e=km())===null||e===void 0?void 0:e.config},aD=e=>{var t;return(t=km())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Hp(JSON.stringify(n)),Hp(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ti())}function XL(){var e;const t=(e=km())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oD(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function ZL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JL(){const e=ti();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function tV(){return!XL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lD(){try{return typeof indexedDB=="object"}catch{return!1}}function cD(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;t(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}function eV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV="FirebaseError";class ks extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=nV,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hl.prototype.create)}}class hl{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,a=this.errors[t],l=a?iV(a,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new ks(s,c,i)}}function iV(e,t){return e.replace(sV,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const sV=/\{\$([^}]+)}/g;function rV(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Kr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const a=e[s],l=t[s];if(ax(a)&&ax(l)){if(!Kr(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function ax(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ch(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(a)}}),t}function uh(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function aV(e,t){const n=new oV(e,t);return n.subscribe.bind(n)}class oV{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");lV(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=vv),s.error===void 0&&(s.error=vv),s.complete===void 0&&(s.complete=vv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lV(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function vv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=1e3,uV=2,hV=4*60*60*1e3,fV=.5;function ox(e,t=cV,n=uV){const i=t*Math.pow(n,e),s=Math.round(fV*i*(Math.random()-.5)*2);return Math.min(hV,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(e){return e&&e._delegate?e._delegate:e}class Es{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new GL;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mV(t))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(t=Uo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Uo){return this.instances.has(t)}getOptions(t=Uo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);i===c&&l.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:pV(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Uo){return this.component?this.component.multipleInstances?t:Uo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pV(e){return e===Uo?void 0:e}function mV(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new dV(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ee||(ee={}));const yV={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},vV=ee.INFO,_V={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},bV=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=_V[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Pm{constructor(t){this.name=t,this._logLevel=vV,this._logHandler=bV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ee))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...t),this._logHandler(this,ee.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...t),this._logHandler(this,ee.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...t),this._logHandler(this,ee.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...t),this._logHandler(this,ee.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...t),this._logHandler(this,ee.ERROR,...t)}}const wV=(e,t)=>t.some(n=>e instanceof n);let lx,cx;function TV(){return lx||(lx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SV(){return cx||(cx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uD=new WeakMap,h_=new WeakMap,hD=new WeakMap,_v=new WeakMap,C0=new WeakMap;function EV(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{n(Ua(e.result)),s()},l=()=>{i(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&uD.set(n,e)}).catch(()=>{}),C0.set(t,e),t}function xV(e){if(h_.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});h_.set(e,t)}let f_={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return h_.get(e);if(t==="objectStoreNames")return e.objectStoreNames||hD.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ua(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function AV(e){f_=e(f_)}function RV(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(bv(this),t,...n);return hD.set(i,t.sort?t.sort():[t]),Ua(i)}:SV().includes(e)?function(...t){return e.apply(bv(this),t),Ua(uD.get(this))}:function(...t){return Ua(e.apply(bv(this),t))}}function CV(e){return typeof e=="function"?RV(e):(e instanceof IDBTransaction&&xV(e),wV(e,TV())?new Proxy(e,f_):e)}function Ua(e){if(e instanceof IDBRequest)return EV(e);if(_v.has(e))return _v.get(e);const t=CV(e);return t!==e&&(_v.set(e,t),C0.set(t,e)),t}const bv=e=>C0.get(e);function fD(e,t,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(e,t),c=Ua(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Ua(l.result),h.oldVersion,h.newVersion,Ua(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const DV=["get","getKey","getAll","getAllKeys","count"],IV=["put","add","delete","clear"],wv=new Map;function ux(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(wv.get(t))return wv.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=IV.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||DV.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&h.done]))[0]};return wv.set(t,a),a}AV(e=>({...e,get:(t,n,i)=>ux(t,n)||e.get(t,n,i),has:(t,n)=>!!ux(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PV(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function PV(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const d_="@firebase/app",hx="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new Pm("@firebase/app"),MV="@firebase/app-compat",OV="@firebase/analytics-compat",NV="@firebase/analytics",LV="@firebase/app-check-compat",VV="@firebase/app-check",jV="@firebase/auth",UV="@firebase/auth-compat",BV="@firebase/database",zV="@firebase/data-connect",FV="@firebase/database-compat",HV="@firebase/functions",qV="@firebase/functions-compat",WV="@firebase/installations",$V="@firebase/installations-compat",GV="@firebase/messaging",KV="@firebase/messaging-compat",YV="@firebase/performance",XV="@firebase/performance-compat",QV="@firebase/remote-config",ZV="@firebase/remote-config-compat",JV="@firebase/storage",tj="@firebase/storage-compat",ej="@firebase/firestore",nj="@firebase/vertexai",ij="@firebase/firestore-compat",sj="firebase",rj="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="[DEFAULT]",aj={[d_]:"fire-core",[MV]:"fire-core-compat",[NV]:"fire-analytics",[OV]:"fire-analytics-compat",[VV]:"fire-app-check",[LV]:"fire-app-check-compat",[jV]:"fire-auth",[UV]:"fire-auth-compat",[BV]:"fire-rtdb",[zV]:"fire-data-connect",[FV]:"fire-rtdb-compat",[HV]:"fire-fn",[qV]:"fire-fn-compat",[WV]:"fire-iid",[$V]:"fire-iid-compat",[GV]:"fire-fcm",[KV]:"fire-fcm-compat",[YV]:"fire-perf",[XV]:"fire-perf-compat",[QV]:"fire-rc",[ZV]:"fire-rc-compat",[JV]:"fire-gcs",[tj]:"fire-gcs-compat",[ej]:"fire-fst",[ij]:"fire-fst-compat",[nj]:"fire-vertex","fire-js":"fire-js",[sj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=new Map,oj=new Map,m_=new Map;function fx(e,t){try{e.container.addComponent(t)}catch(n){Yr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function lr(e){const t=e.name;if(m_.has(t))return Yr.debug(`There were multiple attempts to register component ${t}.`),!1;m_.set(t,e);for(const n of qp.values())fx(n,e);for(const n of oj.values())fx(n,e);return!0}function fl(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Oi(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ba=new hl("app","Firebase",lj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ba.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=rj;function dD(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:p_,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw Ba.create("bad-app-name",{appName:String(s)});if(n||(n=rD()),!n)throw Ba.create("no-options");const a=qp.get(s);if(a){if(Kr(n,a.options)&&Kr(i,a.config))return a;throw Ba.create("duplicate-app",{appName:s})}const l=new gV(s);for(const h of m_.values())l.addComponent(h);const c=new cj(n,i,l);return qp.set(s,c),c}function D0(e=p_){const t=qp.get(e);if(!t&&e===p_&&rD())return dD();if(!t)throw Ba.create("no-app",{appName:e});return t}function os(e,t,n){var i;let s=(i=aj[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yr.warn(c.join(" "));return}lr(new Es(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="firebase-heartbeat-database",hj=1,Nh="firebase-heartbeat-store";let Tv=null;function pD(){return Tv||(Tv=fD(uj,hj,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Nh)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ba.create("idb-open",{originalErrorMessage:e.message})})),Tv}async function fj(e){try{const n=(await pD()).transaction(Nh),i=await n.objectStore(Nh).get(mD(e));return await n.done,i}catch(t){if(t instanceof ks)Yr.warn(t.message);else{const n=Ba.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Yr.warn(n.message)}}}async function dx(e,t){try{const i=(await pD()).transaction(Nh,"readwrite");await i.objectStore(Nh).put(t,mD(e)),await i.done}catch(n){if(n instanceof ks)Yr.warn(n.message);else{const i=Ba.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yr.warn(i.message)}}}function mD(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=1024,pj=30;class mj{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yj(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=px();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>pj){const l=vj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Yr.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=px(),{heartbeatsToSend:i,unsentEntries:s}=gj(this._heartbeatsCache.heartbeats),a=Hp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Yr.warn(n),""}}}function px(){return new Date().toISOString().substring(0,10)}function gj(e,t=dj){const n=[];let i=e.slice();for(const s of e){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),mx(n)>t){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),mx(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class yj{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lD()?cD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return dx(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return dx(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function mx(e){return Hp(JSON.stringify({version:2,heartbeats:e})).length}function vj(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(e){lr(new Es("platform-logger",t=>new kV(t),"PRIVATE")),lr(new Es("heartbeat",t=>new mj(t),"PRIVATE")),os(d_,hx,e),os(d_,hx,"esm2017"),os("fire-js","")}_j("");function I0(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function gD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bj=gD,yD=new hl("auth","Firebase",gD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=new Pm("@firebase/auth");function wj(e,...t){Wp.logLevel<=ee.WARN&&Wp.warn(`Auth (${Hc}): ${e}`,...t)}function Ep(e,...t){Wp.logLevel<=ee.ERROR&&Wp.error(`Auth (${Hc}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(e,...t){throw P0(e,...t)}function Ts(e,...t){return P0(e,...t)}function k0(e,t,n){const i=Object.assign(Object.assign({},bj()),{[t]:n});return new hl("auth","Firebase",i).create(t,{appName:e.name})}function $r(e){return k0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tj(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&us(e,"argument-error"),k0(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function P0(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return yD.create(e,...t)}function Nt(e,t,...n){if(!e)throw P0(t,...n)}function Hr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ep(t),new Error(t)}function Xr(e,t){e||Hr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Sj(){return gx()==="http:"||gx()==="https:"}function gx(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Sj()||oD()||"connection"in navigator)?navigator.onLine:!0}function xj(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,n){this.shortDelay=t,this.longDelay=n,Xr(n>t,"Short delay should be less than long delay!"),this.isMobile=YL()||ZL()}get(){return Ej()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(e,t){Xr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Cj=new pf(3e4,6e4);function Ja(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function to(e,t,n,i,s={}){return _D(e,s,async()=>{let a={},l={};i&&(t==="GET"?l=i:a={body:JSON.stringify(i)});const c=df(Object.assign({key:e.config.apiKey},l)).slice(1),h=await e._getAdditionalHeaders();h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode);const f=Object.assign({method:t,headers:h},a);return QL()||(f.referrerPolicy="no-referrer"),vD.fetch()(await bD(e,e.config.apiHost,n,c),f)})}async function _D(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},Aj),t);try{const s=new Ij(e),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Xd(e,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xd(e,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Xd(e,"email-already-in-use",l);if(h==="USER_DISABLED")throw Xd(e,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw k0(e,p,f);us(e,p)}}catch(s){if(s instanceof ks)throw s;us(e,"network-request-failed",{message:String(s)})}}async function mf(e,t,n,i,s={}){const a=await to(e,t,n,i,s);return"mfaPendingCredential"in a&&us(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function bD(e,t,n,i){const s=`${t}${n}?${i}`,a=e,l=a.config.emulator?M0(e.config,s):`${e.config.apiScheme}://${s}`;return Rj.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function Dj(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ij{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ts(this.auth,"network-request-failed")),Cj.get())})}}function Xd(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Ts(e,t,i);return s.customData._tokenResponse=n,s}function yx(e){return e!==void 0&&e.enterprise!==void 0}class kj{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Dj(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Pj(e,t){return to(e,"GET","/v2/recaptchaConfig",Ja(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(e,t){return to(e,"POST","/v1/accounts:delete",t)}async function $p(e,t){return to(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Oj(e,t=!1){const n=zn(e),i=await n.getIdToken(t),s=O0(i);Nt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:bh(Sv(s.auth_time)),issuedAtTime:bh(Sv(s.iat)),expirationTime:bh(Sv(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Sv(e){return Number(e)*1e3}function O0(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Ep("JWT malformed, contained fewer than 3 sections"),null;try{const s=iD(n);return s?JSON.parse(s):(Ep("Failed to decode base64 JWT payload"),null)}catch(s){return Ep("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function vx(e){const t=O0(e);return Nt(t,"internal-error"),Nt(typeof t.exp<"u","internal-error"),Nt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ks&&Nj(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function Nj({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bh(this.lastLoginAt),this.creationTime=bh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gp(e){var t;const n=e.auth,i=await e.getIdToken(),s=await Lh(e,$p(n,{idToken:i}));Nt(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?wD(a.providerUserInfo):[],c=jj(e.providerData,l),h=e.isAnonymous,f=!(e.email&&a.passwordHash)&&!(c!=null&&c.length),p=h?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new y_(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function Vj(e){const t=zn(e);await Gp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function jj(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function wD(e){return e.map(t=>{var{providerId:n}=t,i=I0(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uj(e,t){const n=await _D(e,{},async()=>{const i=df({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=e.config,l=await bD(e,s,"/v1/token",`key=${a}`),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",vD.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Bj(e,t){return to(e,"POST","/v2/accounts:revokeToken",Ja(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Nt(t.idToken,"internal-error"),Nt(typeof t.idToken<"u","internal-error"),Nt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):vx(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Nt(t.length!==0,"internal-error");const n=vx(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Nt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await Uj(t,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,l=new gc;return i&&(Nt(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(Nt(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),a&&(Nt(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new gc,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(e,t){Nt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class bs{constructor(t){var{uid:n,auth:i,stsTokenManager:s}=t,a=I0(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new y_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await Lh(this,this.stsTokenManager.getToken(this.auth,t));return Nt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Oj(this,t)}reload(){return Vj(this)}_assign(t){this!==t&&(Nt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new bs(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Gp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Oi(this.auth.app))return Promise.reject($r(this.auth));const t=await this.getIdToken();return await Lh(this,Mj(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,s,a,l,c,h,f,p;const y=(i=n.displayName)!==null&&i!==void 0?i:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,b=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,T=(l=n.photoURL)!==null&&l!==void 0?l:void 0,E=(c=n.tenantId)!==null&&c!==void 0?c:void 0,S=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,C=(f=n.createdAt)!==null&&f!==void 0?f:void 0,j=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:O,emailVerified:q,isAnonymous:z,providerData:$,stsTokenManager:M}=n;Nt(O&&M,t,"internal-error");const D=gc.fromJSON(this.name,M);Nt(typeof O=="string",t,"internal-error"),Ra(y,t.name),Ra(_,t.name),Nt(typeof q=="boolean",t,"internal-error"),Nt(typeof z=="boolean",t,"internal-error"),Ra(b,t.name),Ra(T,t.name),Ra(E,t.name),Ra(S,t.name),Ra(C,t.name),Ra(j,t.name);const k=new bs({uid:O,auth:t,email:_,emailVerified:q,displayName:y,isAnonymous:z,photoURL:T,phoneNumber:b,tenantId:E,stsTokenManager:D,createdAt:C,lastLoginAt:j});return $&&Array.isArray($)&&(k.providerData=$.map(U=>Object.assign({},U))),S&&(k._redirectEventId=S),k}static async _fromIdTokenResponse(t,n,i=!1){const s=new gc;s.updateFromServerResponse(n);const a=new bs({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Gp(a),a}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];Nt(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?wD(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new gc;c.updateFromIdToken(i);const h=new bs({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new y_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new Map;function qr(e){Xr(e instanceof Function,"Expected a class definition");let t=_x.get(e);return t?(Xr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_x.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}TD.type="NONE";const bx=TD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(e,t,n){return`firebase:${e}:${t}:${n}`}class yc{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=xp(this.userKey,s.apiKey,a),this.fullPersistenceKey=xp("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await $p(this.auth,{idToken:t}).catch(()=>{});return n?bs._fromGetAccountInfoResponse(this.auth,n,t):null}return bs._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new yc(qr(bx),t,i);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=s[0]||qr(bx);const l=xp(i,t.config.apiKey,t.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){let y;if(typeof p=="string"){const _=await $p(t,{idToken:p}).catch(()=>{});if(!_)break;y=await bs._fromGetAccountInfoResponse(t,_,p)}else y=bs._fromJSON(t,p);f!==a&&(c=y),a=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new yc(a,t,i):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new yc(a,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(AD(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(SD(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(CD(t))return"Blackberry";if(DD(t))return"Webos";if(ED(t))return"Safari";if((t.includes("chrome/")||xD(t))&&!t.includes("edge/"))return"Chrome";if(RD(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function SD(e=ti()){return/firefox\//i.test(e)}function ED(e=ti()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xD(e=ti()){return/crios\//i.test(e)}function AD(e=ti()){return/iemobile/i.test(e)}function RD(e=ti()){return/android/i.test(e)}function CD(e=ti()){return/blackberry/i.test(e)}function DD(e=ti()){return/webos/i.test(e)}function N0(e=ti()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function zj(e=ti()){var t;return N0(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Fj(){return JL()&&document.documentMode===10}function ID(e=ti()){return N0(e)||RD(e)||DD(e)||CD(e)||/windows phone/i.test(e)||AD(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(e,t=[]){let n;switch(e){case"Browser":n=wx(ti());break;case"Worker":n=`${wx(ti())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=a=>new Promise((l,c)=>{try{const h=t(a);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(e,t={}){return to(e,"GET","/v2/passwordPolicy",Ja(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=6;class $j{constructor(t){var n,i,s,a;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:Wj,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=t.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,s,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,h),this.validatePasswordCharacterOptions(t,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tx(this),this.idTokenSubscription=new Tx(this),this.beforeStateQueue=new Hj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=qr(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await yc.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await $p(this,{idToken:t}),i=await bs._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Oi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Gp(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=xj()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Oi(this.app))return Promise.reject($r(this));const n=t?zn(t):null;return n&&Nt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Nt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Oi(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Oi(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await qj(this),n=new $j(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new hl("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Bj(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&qr(t)||this._popupRedirectResolver;Nt(n,this,"argument-error"),this.redirectPersistenceManager=await yc.create(this,[qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Nt(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=t.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=t.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;if(Oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&wj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ea(e){return zn(e)}class Tx{constructor(t){this.auth=t,this.observer=null,this.addObserver=aV(n=>this.observer=n)}get next(){return Nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kj(e){Mm=e}function PD(e){return Mm.loadJS(e)}function Yj(){return Mm.recaptchaEnterpriseScript}function Xj(){return Mm.gapiScript}function Qj(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class Zj{constructor(){this.enterprise=new Jj}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Jj{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const tU="recaptcha-enterprise",MD="NO_RECAPTCHA";class eU{constructor(t){this.type=tU,this.auth=ea(t)}async verify(t="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{Pj(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new kj(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function s(a,l,c){const h=window.grecaptcha;yx(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:t}).then(f=>{l(f)}).catch(()=>{l(MD)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Zj().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(c=>{if(!n&&yx(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=Yj();h.length!==0&&(h+=c),PD(h).then(()=>{s(c,a,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function Sx(e,t,n,i=!1,s=!1){const a=new eU(e);let l;if(s)l=MD;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function v_(e,t,n,i,s){var a;if(!((a=e._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Sx(e,t,n,n==="getOobCode");return i(e,l)}else return i(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Sx(e,t,n,n==="getOobCode");return i(e,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(e,t){const n=fl(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Kr(a,t??{}))return s;us(s,"already-initialized")}return n.initialize({options:t})}function iU(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(qr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function sU(e,t,n){const i=ea(e);Nt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,a=OD(t),{host:l,port:c}=rU(t),h=c===null?"":`:${c}`,f={url:`${a}//${l}${h}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Nt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Nt(Kr(f,i.config.emulator)&&Kr(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,aU()}function OD(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function rU(e){const t=OD(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:Ex(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:Ex(l)}}}function Ex(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function aU(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(t){return Hr("not implemented")}_linkToIdToken(t,n){return Hr("not implemented")}_getReauthenticationResolver(t){return Hr("not implemented")}}async function oU(e,t){return to(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(e,t){return mf(e,"POST","/v1/accounts:signInWithPassword",Ja(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(e,t){return mf(e,"POST","/v1/accounts:signInWithEmailLink",Ja(e,t))}async function uU(e,t){return mf(e,"POST","/v1/accounts:signInWithEmailLink",Ja(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends L0{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new Vh(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Vh(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return v_(t,n,"signInWithPassword",lU);case"emailLink":return cU(t,{email:this._email,oobCode:this._password});default:us(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return v_(t,i,"signUpPassword",oU);case"emailLink":return uU(t,{idToken:n,email:this._email,oobCode:this._password});default:us(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(e,t){return mf(e,"POST","/v1/accounts:signInWithIdp",Ja(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU="http://localhost";class tl extends L0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new tl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):us("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=n,a=I0(n,["providerId","signInMethod"]);if(!i||!s)return null;const l=new tl(i,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const n=this.buildRequest();return vc(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,vc(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,vc(t,n)}buildRequest(){const t={requestUri:hU,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=df(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dU(e){const t=ch(uh(e)).link,n=t?ch(uh(t)).deep_link_id:null,i=ch(uh(e)).deep_link_id;return(i?ch(uh(i)).link:null)||i||n||t||e}class V0{constructor(t){var n,i,s,a,l,c;const h=ch(uh(t)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,p=(i=h.oobCode)!==null&&i!==void 0?i:null,y=fU((s=h.mode)!==null&&s!==void 0?s:null);Nt(f&&p&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=p,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const n=dU(t);try{return new V0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this.providerId=qc.PROVIDER_ID}static credential(t,n){return Vh._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=V0.parseLink(n);return Nt(i,"argument-error"),Vh._fromEmailAndCode(t,i.code,i.tenantId)}}qc.PROVIDER_ID="password";qc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends j0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends gf{constructor(){super("facebook.com")}static credential(t){return tl._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pa.credentialFromTaggedObject(t)}static credentialFromError(t){return Pa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pa.credential(t.oauthAccessToken)}catch{return null}}}Pa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends gf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return tl._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Fr.credential(n,i)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends gf{constructor(){super("github.com")}static credential(t){return tl._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ma.credentialFromTaggedObject(t)}static credentialFromError(t){return Ma.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ma.credential(t.oauthAccessToken)}catch{return null}}}Ma.GITHUB_SIGN_IN_METHOD="github.com";Ma.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends gf{constructor(){super("twitter.com")}static credential(t,n){return tl._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Oa.credentialFromTaggedObject(t)}static credentialFromError(t){return Oa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Oa.credential(n,i)}catch{return null}}}Oa.TWITTER_SIGN_IN_METHOD="twitter.com";Oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(e,t){return mf(e,"POST","/v1/accounts:signUp",Ja(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const a=await bs._fromIdTokenResponse(t,i,s),l=xx(i);return new el({user:a,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=xx(i);return new el({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function xx(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends ks{constructor(t,n,i,s){var a;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Kp.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Kp(t,n,i,s)}}function ND(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Kp._fromErrorAndOperation(e,a,t,i):a})}async function mU(e,t,n=!1){const i=await Lh(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return el._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(e,t,n=!1){const{auth:i}=e;if(Oi(i.app))return Promise.reject($r(i));const s="reauthenticate";try{const a=await Lh(e,ND(i,s,t,e),n);Nt(a.idToken,i,"internal-error");const l=O0(a.idToken);Nt(l,i,"internal-error");const{sub:c}=l;return Nt(e.uid===c,i,"user-mismatch"),el._forOperation(e,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&us(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(e,t,n=!1){if(Oi(e.app))return Promise.reject($r(e));const i="signIn",s=await ND(e,i,t),a=await el._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(a.user),a}async function yU(e,t){return LD(ea(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(e){const t=ea(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function vU(e,t,n){if(Oi(e.app))return Promise.reject($r(e));const i=ea(e),l=await v_(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pU).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&VD(e),h}),c=await el._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function _U(e,t,n){return Oi(e.app)?Promise.reject($r(e)):yU(zn(e),qc.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&VD(e),i})}function bU(e,t,n,i){return zn(e).onIdTokenChanged(t,n,i)}function wU(e,t,n){return zn(e).beforeAuthStateChanged(t,n)}function TU(e){return zn(e).signOut()}const Yp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yp,"1"),this.storage.removeItem(Yp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=1e3,EU=10;class UD extends jD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ID(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);Fj()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,EU):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},SU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}UD.type="LOCAL";const xU=UD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD extends jD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}BD.type="SESSION";const zD=BD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new Om(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(n.origin,a)),h=await AU(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Om.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const f=U0("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(_.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(){return window}function CU(e){Zs().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(){return typeof Zs().WorkerGlobalScope<"u"&&typeof Zs().importScripts=="function"}async function DU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IU(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function kU(){return FD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="firebaseLocalStorageDb",PU=1,Xp="firebaseLocalStorage",qD="fbase_key";class yf{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nm(e,t){return e.transaction([Xp],t?"readwrite":"readonly").objectStore(Xp)}function MU(){const e=indexedDB.deleteDatabase(HD);return new yf(e).toPromise()}function __(){const e=indexedDB.open(HD,PU);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Xp,{keyPath:qD})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Xp)?t(i):(i.close(),await MU(),t(await __()))})})}async function Ax(e,t,n){const i=Nm(e,!0).put({[qD]:t,value:n});return new yf(i).toPromise()}async function OU(e,t){const n=Nm(e,!1).get(t),i=await new yf(n).toPromise();return i===void 0?null:i.value}function Rx(e,t){const n=Nm(e,!0).delete(t);return new yf(n).toPromise()}const NU=800,LU=3;class WD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await __(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>LU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Om._getInstance(kU()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await DU(),!this.activeServiceWorker)return;this.sender=new RU(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||IU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await __();return await Ax(t,Yp,"1"),await Rx(t,Yp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ax(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>OU(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rx(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const a=Nm(s,!1).getAll();return new yf(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WD.type="LOCAL";const VU=WD;new pf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(e,t){return t?qr(t):(Nt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0 extends L0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return vc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return vc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return vc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function jU(e){return LD(e.auth,new B0(e),e.bypassAuthState)}function UU(e){const{auth:t,user:n}=e;return Nt(n,t,"internal-error"),gU(n,new B0(e),e.bypassAuthState)}async function BU(e){const{auth:t,user:n}=e;return Nt(n,t,"internal-error"),mU(n,new B0(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t,n,i,s,a=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:l,type:c}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return jU;case"linkViaPopup":case"linkViaRedirect":return BU;case"reauthViaPopup":case"reauthViaRedirect":return UU;default:us(this.auth,"internal-error")}}resolve(t){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=new pf(2e3,1e4);async function FU(e,t,n){if(Oi(e.app))return Promise.reject(Ts(e,"operation-not-supported-in-this-environment"));const i=ea(e);Tj(e,t,j0);const s=$D(i,n);return new Ho(i,"signInViaPopup",t,s).executeNotNull()}class Ho extends GD{constructor(t,n,i,s,a){super(t,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Nt(t,this.auth,"internal-error"),t}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const t=U0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zU.get())};t()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU="pendingRedirect",Ap=new Map;class qU extends GD{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Ap.get(this.auth._key());if(!t){try{const i=await WU(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Ap.set(this.auth._key(),t)}return this.bypassAuthState||Ap.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WU(e,t){const n=KU(t),i=GU(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function $U(e,t){Ap.set(e._key(),t)}function GU(e){return qr(e._redirectPersistence)}function KU(e){return xp(HU,e.config.apiKey,e.name)}async function YU(e,t){return await ea(e)._initializationPromise,KD(e,t,!1)}async function KD(e,t,n=!1){if(Oi(e.app))return Promise.reject($r(e));const i=ea(e),s=$D(i,t),l=await new qU(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=10*60*1e3;class QU{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ZU(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!YD(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Ts(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=XU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cx(t))}saveEventToCache(t){this.cachedEventUids.add(Cx(t)),this.lastProcessedEventTime=Date.now()}}function Cx(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function YD({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function ZU(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YD(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU(e,t={}){return to(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eB=/^https?/;async function nB(e){if(e.config.emulator)return;const{authorizedDomains:t}=await JU(e);for(const n of t)try{if(iB(n))return}catch{}us(e,"unauthorized-domain")}function iB(e){const t=g_(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const l=new URL(e);return l.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!eB.test(n))return!1;if(tB.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB=new pf(3e4,6e4);function Dx(){const e=Zs().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function rB(e){return new Promise((t,n)=>{var i,s,a;function l(){Dx(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Dx(),n(Ts(e,"network-request-failed"))},timeout:sB.get()})}if(!((s=(i=Zs().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((a=Zs().gapi)===null||a===void 0)&&a.load)l();else{const c=Qj("iframefcb");return Zs()[c]=()=>{gapi.load?l():n(Ts(e,"network-request-failed"))},PD(`${Xj()}?onload=${c}`).catch(h=>n(h))}}).catch(t=>{throw Rp=null,t})}let Rp=null;function aB(e){return Rp=Rp||rB(e),Rp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB=new pf(5e3,15e3),lB="__/auth/iframe",cB="emulator/auth/iframe",uB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fB(e){const t=e.config;Nt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?M0(t,cB):`https://${e.config.authDomain}/${lB}`,i={apiKey:t.apiKey,appName:e.name,v:Hc},s=hB.get(e.config.apiHost);s&&(i.eid=s);const a=e._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${df(i).slice(1)}`}async function dB(e){const t=await aB(e),n=Zs().gapi;return Nt(n,e,"internal-error"),t.open({where:document.body,url:fB(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uB,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const l=Ts(e,"network-request-failed"),c=Zs().setTimeout(()=>{a(l)},oB.get());function h(){Zs().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mB=500,gB=600,yB="_blank",vB="http://localhost";class Ix{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _B(e,t,n,i=mB,s=gB){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},pB),{width:i.toString(),height:s.toString(),top:a,left:l}),f=ti().toLowerCase();n&&(c=xD(f)?yB:n),SD(f)&&(t=t||vB,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[b,T])=>`${_}${b}=${T},`,"");if(zj(f)&&c!=="_self")return bB(t||"",c),new Ix(null);const y=window.open(t||"",c,p);Nt(y,e,"popup-blocked");try{y.focus()}catch{}return new Ix(y)}function bB(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB="__/auth/handler",TB="emulator/auth/handler",SB=encodeURIComponent("fac");async function kx(e,t,n,i,s,a){Nt(e.config.authDomain,e,"auth-domain-config-required"),Nt(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Hc,eventId:s};if(t instanceof j0){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",rV(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof gf){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await e._getAppCheckToken(),f=h?`#${SB}=${encodeURIComponent(h)}`:"";return`${EB(e)}?${df(c).slice(1)}${f}`}function EB({config:e}){return e.emulator?M0(e,TB):`https://${e.authDomain}/${wB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="webStorageSupport";class xB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zD,this._completeRedirectFn=KD,this._overrideRedirectResult=$U}async _openPopup(t,n,i,s){var a;Xr((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await kx(t,n,i,g_(),s);return _B(t,l,U0())}async _openRedirect(t,n,i,s){await this._originValidation(t);const a=await kx(t,n,i,g_(),s);return CU(a),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Xr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await dB(t),i=new QU(t);return n.register("authEvent",s=>(Nt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ev,{type:Ev},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Ev];l!==void 0&&n(!!l),us(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nB(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return ID()||ED()||N0()}}const AB=xB;var Px="@firebase/auth",Mx="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DB(e){lr(new Es("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;Nt(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kD(e)},f=new Gj(i,s,a,h);return iU(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),lr(new Es("auth-internal",t=>{const n=ea(t.getProvider("auth").getImmediate());return(i=>new RB(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),os(Px,Mx,CB(e)),os(Px,Mx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=5*60,kB=aD("authIdTokenMaxAge")||IB;let Ox=null;const PB=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>kB)return;const s=n==null?void 0:n.token;Ox!==s&&(Ox=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function MB(e=D0()){const t=fl(e,"auth");if(t.isInitialized())return t.getImmediate();const n=nU(e,{popupRedirectResolver:AB,persistence:[VU,xU,zD]}),i=aD("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=PB(a.toString());wU(n,l,()=>l(n.currentUser)),bU(n,c=>l(c))}}const s=sD("auth");return s&&sU(n,`http://${s}`),n}function OB(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}Kj({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const a=Ts("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",OB().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DB("Browser");var Nx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var za,XD;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,D){function k(){}k.prototype=D.prototype,M.D=D.prototype,M.prototype=new k,M.prototype.constructor=M,M.C=function(U,L,B){for(var V=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)V[ft-2]=arguments[ft];return D.prototype[L].apply(U,V)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,D,k){k||(k=0);var U=Array(16);if(typeof D=="string")for(var L=0;16>L;++L)U[L]=D.charCodeAt(k++)|D.charCodeAt(k++)<<8|D.charCodeAt(k++)<<16|D.charCodeAt(k++)<<24;else for(L=0;16>L;++L)U[L]=D[k++]|D[k++]<<8|D[k++]<<16|D[k++]<<24;D=M.g[0],k=M.g[1],L=M.g[2];var B=M.g[3],V=D+(B^k&(L^B))+U[0]+3614090360&4294967295;D=k+(V<<7&4294967295|V>>>25),V=B+(L^D&(k^L))+U[1]+3905402710&4294967295,B=D+(V<<12&4294967295|V>>>20),V=L+(k^B&(D^k))+U[2]+606105819&4294967295,L=B+(V<<17&4294967295|V>>>15),V=k+(D^L&(B^D))+U[3]+3250441966&4294967295,k=L+(V<<22&4294967295|V>>>10),V=D+(B^k&(L^B))+U[4]+4118548399&4294967295,D=k+(V<<7&4294967295|V>>>25),V=B+(L^D&(k^L))+U[5]+1200080426&4294967295,B=D+(V<<12&4294967295|V>>>20),V=L+(k^B&(D^k))+U[6]+2821735955&4294967295,L=B+(V<<17&4294967295|V>>>15),V=k+(D^L&(B^D))+U[7]+4249261313&4294967295,k=L+(V<<22&4294967295|V>>>10),V=D+(B^k&(L^B))+U[8]+1770035416&4294967295,D=k+(V<<7&4294967295|V>>>25),V=B+(L^D&(k^L))+U[9]+2336552879&4294967295,B=D+(V<<12&4294967295|V>>>20),V=L+(k^B&(D^k))+U[10]+4294925233&4294967295,L=B+(V<<17&4294967295|V>>>15),V=k+(D^L&(B^D))+U[11]+2304563134&4294967295,k=L+(V<<22&4294967295|V>>>10),V=D+(B^k&(L^B))+U[12]+1804603682&4294967295,D=k+(V<<7&4294967295|V>>>25),V=B+(L^D&(k^L))+U[13]+4254626195&4294967295,B=D+(V<<12&4294967295|V>>>20),V=L+(k^B&(D^k))+U[14]+2792965006&4294967295,L=B+(V<<17&4294967295|V>>>15),V=k+(D^L&(B^D))+U[15]+1236535329&4294967295,k=L+(V<<22&4294967295|V>>>10),V=D+(L^B&(k^L))+U[1]+4129170786&4294967295,D=k+(V<<5&4294967295|V>>>27),V=B+(k^L&(D^k))+U[6]+3225465664&4294967295,B=D+(V<<9&4294967295|V>>>23),V=L+(D^k&(B^D))+U[11]+643717713&4294967295,L=B+(V<<14&4294967295|V>>>18),V=k+(B^D&(L^B))+U[0]+3921069994&4294967295,k=L+(V<<20&4294967295|V>>>12),V=D+(L^B&(k^L))+U[5]+3593408605&4294967295,D=k+(V<<5&4294967295|V>>>27),V=B+(k^L&(D^k))+U[10]+38016083&4294967295,B=D+(V<<9&4294967295|V>>>23),V=L+(D^k&(B^D))+U[15]+3634488961&4294967295,L=B+(V<<14&4294967295|V>>>18),V=k+(B^D&(L^B))+U[4]+3889429448&4294967295,k=L+(V<<20&4294967295|V>>>12),V=D+(L^B&(k^L))+U[9]+568446438&4294967295,D=k+(V<<5&4294967295|V>>>27),V=B+(k^L&(D^k))+U[14]+3275163606&4294967295,B=D+(V<<9&4294967295|V>>>23),V=L+(D^k&(B^D))+U[3]+4107603335&4294967295,L=B+(V<<14&4294967295|V>>>18),V=k+(B^D&(L^B))+U[8]+1163531501&4294967295,k=L+(V<<20&4294967295|V>>>12),V=D+(L^B&(k^L))+U[13]+2850285829&4294967295,D=k+(V<<5&4294967295|V>>>27),V=B+(k^L&(D^k))+U[2]+4243563512&4294967295,B=D+(V<<9&4294967295|V>>>23),V=L+(D^k&(B^D))+U[7]+1735328473&4294967295,L=B+(V<<14&4294967295|V>>>18),V=k+(B^D&(L^B))+U[12]+2368359562&4294967295,k=L+(V<<20&4294967295|V>>>12),V=D+(k^L^B)+U[5]+4294588738&4294967295,D=k+(V<<4&4294967295|V>>>28),V=B+(D^k^L)+U[8]+2272392833&4294967295,B=D+(V<<11&4294967295|V>>>21),V=L+(B^D^k)+U[11]+1839030562&4294967295,L=B+(V<<16&4294967295|V>>>16),V=k+(L^B^D)+U[14]+4259657740&4294967295,k=L+(V<<23&4294967295|V>>>9),V=D+(k^L^B)+U[1]+2763975236&4294967295,D=k+(V<<4&4294967295|V>>>28),V=B+(D^k^L)+U[4]+1272893353&4294967295,B=D+(V<<11&4294967295|V>>>21),V=L+(B^D^k)+U[7]+4139469664&4294967295,L=B+(V<<16&4294967295|V>>>16),V=k+(L^B^D)+U[10]+3200236656&4294967295,k=L+(V<<23&4294967295|V>>>9),V=D+(k^L^B)+U[13]+681279174&4294967295,D=k+(V<<4&4294967295|V>>>28),V=B+(D^k^L)+U[0]+3936430074&4294967295,B=D+(V<<11&4294967295|V>>>21),V=L+(B^D^k)+U[3]+3572445317&4294967295,L=B+(V<<16&4294967295|V>>>16),V=k+(L^B^D)+U[6]+76029189&4294967295,k=L+(V<<23&4294967295|V>>>9),V=D+(k^L^B)+U[9]+3654602809&4294967295,D=k+(V<<4&4294967295|V>>>28),V=B+(D^k^L)+U[12]+3873151461&4294967295,B=D+(V<<11&4294967295|V>>>21),V=L+(B^D^k)+U[15]+530742520&4294967295,L=B+(V<<16&4294967295|V>>>16),V=k+(L^B^D)+U[2]+3299628645&4294967295,k=L+(V<<23&4294967295|V>>>9),V=D+(L^(k|~B))+U[0]+4096336452&4294967295,D=k+(V<<6&4294967295|V>>>26),V=B+(k^(D|~L))+U[7]+1126891415&4294967295,B=D+(V<<10&4294967295|V>>>22),V=L+(D^(B|~k))+U[14]+2878612391&4294967295,L=B+(V<<15&4294967295|V>>>17),V=k+(B^(L|~D))+U[5]+4237533241&4294967295,k=L+(V<<21&4294967295|V>>>11),V=D+(L^(k|~B))+U[12]+1700485571&4294967295,D=k+(V<<6&4294967295|V>>>26),V=B+(k^(D|~L))+U[3]+2399980690&4294967295,B=D+(V<<10&4294967295|V>>>22),V=L+(D^(B|~k))+U[10]+4293915773&4294967295,L=B+(V<<15&4294967295|V>>>17),V=k+(B^(L|~D))+U[1]+2240044497&4294967295,k=L+(V<<21&4294967295|V>>>11),V=D+(L^(k|~B))+U[8]+1873313359&4294967295,D=k+(V<<6&4294967295|V>>>26),V=B+(k^(D|~L))+U[15]+4264355552&4294967295,B=D+(V<<10&4294967295|V>>>22),V=L+(D^(B|~k))+U[6]+2734768916&4294967295,L=B+(V<<15&4294967295|V>>>17),V=k+(B^(L|~D))+U[13]+1309151649&4294967295,k=L+(V<<21&4294967295|V>>>11),V=D+(L^(k|~B))+U[4]+4149444226&4294967295,D=k+(V<<6&4294967295|V>>>26),V=B+(k^(D|~L))+U[11]+3174756917&4294967295,B=D+(V<<10&4294967295|V>>>22),V=L+(D^(B|~k))+U[2]+718787259&4294967295,L=B+(V<<15&4294967295|V>>>17),V=k+(B^(L|~D))+U[9]+3951481745&4294967295,M.g[0]=M.g[0]+D&4294967295,M.g[1]=M.g[1]+(L+(V<<21&4294967295|V>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+B&4294967295}i.prototype.u=function(M,D){D===void 0&&(D=M.length);for(var k=D-this.blockSize,U=this.B,L=this.h,B=0;B<D;){if(L==0)for(;B<=k;)s(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<D;)if(U[L++]=M.charCodeAt(B++),L==this.blockSize){s(this,U),L=0;break}}else for(;B<D;)if(U[L++]=M[B++],L==this.blockSize){s(this,U),L=0;break}}this.h=L,this.o+=D},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var D=1;D<M.length-8;++D)M[D]=0;var k=8*this.o;for(D=M.length-8;D<M.length;++D)M[D]=k&255,k/=256;for(this.u(M),M=Array(16),D=k=0;4>D;++D)for(var U=0;32>U;U+=8)M[k++]=this.g[D]>>>U&255;return M};function a(M,D){var k=c;return Object.prototype.hasOwnProperty.call(k,M)?k[M]:k[M]=D(M)}function l(M,D){this.h=D;for(var k=[],U=!0,L=M.length-1;0<=L;L--){var B=M[L]|0;U&&B==D||(k[L]=B,U=!1)}this.g=k}var c={};function h(M){return-128<=M&&128>M?a(M,function(D){return new l([D|0],0>D?-1:0)}):new l([M|0],0>M?-1:0)}function f(M){if(isNaN(M)||!isFinite(M))return y;if(0>M)return S(f(-M));for(var D=[],k=1,U=0;M>=k;U++)D[U]=M/k|0,k*=4294967296;return new l(D,0)}function p(M,D){if(M.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(M.charAt(0)=="-")return S(p(M.substring(1),D));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=f(Math.pow(D,8)),U=y,L=0;L<M.length;L+=8){var B=Math.min(8,M.length-L),V=parseInt(M.substring(L,L+B),D);8>B?(B=f(Math.pow(D,B)),U=U.j(B).add(f(V))):(U=U.j(k),U=U.add(f(V)))}return U}var y=h(0),_=h(1),b=h(16777216);e=l.prototype,e.m=function(){if(E(this))return-S(this).m();for(var M=0,D=1,k=0;k<this.g.length;k++){var U=this.i(k);M+=(0<=U?U:4294967296+U)*D,D*=4294967296}return M},e.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(T(this))return"0";if(E(this))return"-"+S(this).toString(M);for(var D=f(Math.pow(M,6)),k=this,U="";;){var L=q(k,D).g;k=C(k,L.j(D));var B=((0<k.g.length?k.g[0]:k.h)>>>0).toString(M);if(k=L,T(k))return B+U;for(;6>B.length;)B="0"+B;U=B+U}},e.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function T(M){if(M.h!=0)return!1;for(var D=0;D<M.g.length;D++)if(M.g[D]!=0)return!1;return!0}function E(M){return M.h==-1}e.l=function(M){return M=C(this,M),E(M)?-1:T(M)?0:1};function S(M){for(var D=M.g.length,k=[],U=0;U<D;U++)k[U]=~M.g[U];return new l(k,~M.h).add(_)}e.abs=function(){return E(this)?S(this):this},e.add=function(M){for(var D=Math.max(this.g.length,M.g.length),k=[],U=0,L=0;L<=D;L++){var B=U+(this.i(L)&65535)+(M.i(L)&65535),V=(B>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);U=V>>>16,B&=65535,V&=65535,k[L]=V<<16|B}return new l(k,k[k.length-1]&-2147483648?-1:0)};function C(M,D){return M.add(S(D))}e.j=function(M){if(T(this)||T(M))return y;if(E(this))return E(M)?S(this).j(S(M)):S(S(this).j(M));if(E(M))return S(this.j(S(M)));if(0>this.l(b)&&0>M.l(b))return f(this.m()*M.m());for(var D=this.g.length+M.g.length,k=[],U=0;U<2*D;U++)k[U]=0;for(U=0;U<this.g.length;U++)for(var L=0;L<M.g.length;L++){var B=this.i(U)>>>16,V=this.i(U)&65535,ft=M.i(L)>>>16,gt=M.i(L)&65535;k[2*U+2*L]+=V*gt,j(k,2*U+2*L),k[2*U+2*L+1]+=B*gt,j(k,2*U+2*L+1),k[2*U+2*L+1]+=V*ft,j(k,2*U+2*L+1),k[2*U+2*L+2]+=B*ft,j(k,2*U+2*L+2)}for(U=0;U<D;U++)k[U]=k[2*U+1]<<16|k[2*U];for(U=D;U<2*D;U++)k[U]=0;return new l(k,0)};function j(M,D){for(;(M[D]&65535)!=M[D];)M[D+1]+=M[D]>>>16,M[D]&=65535,D++}function O(M,D){this.g=M,this.h=D}function q(M,D){if(T(D))throw Error("division by zero");if(T(M))return new O(y,y);if(E(M))return D=q(S(M),D),new O(S(D.g),S(D.h));if(E(D))return D=q(M,S(D)),new O(S(D.g),D.h);if(30<M.g.length){if(E(M)||E(D))throw Error("slowDivide_ only works with positive integers.");for(var k=_,U=D;0>=U.l(M);)k=z(k),U=z(U);var L=$(k,1),B=$(U,1);for(U=$(U,2),k=$(k,2);!T(U);){var V=B.add(U);0>=V.l(M)&&(L=L.add(k),B=V),U=$(U,1),k=$(k,1)}return D=C(M,L.j(D)),new O(L,D)}for(L=y;0<=M.l(D);){for(k=Math.max(1,Math.floor(M.m()/D.m())),U=Math.ceil(Math.log(k)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),B=f(k),V=B.j(D);E(V)||0<V.l(M);)k-=U,B=f(k),V=B.j(D);T(B)&&(B=_),L=L.add(B),M=C(M,V)}return new O(L,M)}e.A=function(M){return q(this,M).h},e.and=function(M){for(var D=Math.max(this.g.length,M.g.length),k=[],U=0;U<D;U++)k[U]=this.i(U)&M.i(U);return new l(k,this.h&M.h)},e.or=function(M){for(var D=Math.max(this.g.length,M.g.length),k=[],U=0;U<D;U++)k[U]=this.i(U)|M.i(U);return new l(k,this.h|M.h)},e.xor=function(M){for(var D=Math.max(this.g.length,M.g.length),k=[],U=0;U<D;U++)k[U]=this.i(U)^M.i(U);return new l(k,this.h^M.h)};function z(M){for(var D=M.g.length+1,k=[],U=0;U<D;U++)k[U]=M.i(U)<<1|M.i(U-1)>>>31;return new l(k,M.h)}function $(M,D){var k=D>>5;D%=32;for(var U=M.g.length-k,L=[],B=0;B<U;B++)L[B]=0<D?M.i(B+k)>>>D|M.i(B+k+1)<<32-D:M.i(B+k);return new l(L,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,XD=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,za=l}).apply(typeof Nx<"u"?Nx:typeof self<"u"?self:typeof window<"u"?window:{});var Qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QD,hh,ZD,Cp,b_,JD,tI,eI;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,w,x){return m==Array.prototype||m==Object.prototype||(m[w]=x.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qd=="object"&&Qd];for(var w=0;w<m.length;++w){var x=m[w];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=n(this);function s(m,w){if(w)t:{var x=i;m=m.split(".");for(var N=0;N<m.length-1;N++){var Y=m[N];if(!(Y in x))break t;x=x[Y]}m=m[m.length-1],N=x[m],w=w(N),w!=N&&w!=null&&t(x,m,{configurable:!0,writable:!0,value:w})}}function a(m,w){m instanceof String&&(m+="");var x=0,N=!1,Y={next:function(){if(!N&&x<m.length){var tt=x++;return{value:w(tt,m[tt]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(m){return m||function(){return a(this,function(w,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(m){var w=typeof m;return w=w!="object"?w:m?Array.isArray(m)?"array":w:"null",w=="array"||w=="object"&&typeof m.length=="number"}function f(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function p(m,w,x){return m.call.apply(m.bind,arguments)}function y(m,w,x){if(!m)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,N),m.apply(w,Y)}}return function(){return m.apply(w,arguments)}}function _(m,w,x){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,_.apply(null,arguments)}function b(m,w){var x=Array.prototype.slice.call(arguments,1);return function(){var N=x.slice();return N.push.apply(N,arguments),m.apply(this,N)}}function T(m,w){function x(){}x.prototype=w.prototype,m.aa=w.prototype,m.prototype=new x,m.prototype.constructor=m,m.Qb=function(N,Y,tt){for(var mt=Array(arguments.length-2),re=2;re<arguments.length;re++)mt[re-2]=arguments[re];return w.prototype[Y].apply(N,mt)}}function E(m){const w=m.length;if(0<w){const x=Array(w);for(let N=0;N<w;N++)x[N]=m[N];return x}return[]}function S(m,w){for(let x=1;x<arguments.length;x++){const N=arguments[x];if(h(N)){const Y=m.length||0,tt=N.length||0;m.length=Y+tt;for(let mt=0;mt<tt;mt++)m[Y+mt]=N[mt]}else m.push(N)}}class C{constructor(w,x){this.i=w,this.j=x,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function j(m){return/^[\s\xa0]*$/.test(m)}function O(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function q(m){return q[" "](m),m}q[" "]=function(){};var z=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function $(m,w,x){for(const N in m)w.call(x,m[N],N,m)}function M(m,w){for(const x in m)w.call(void 0,m[x],x,m)}function D(m){const w={};for(const x in m)w[x]=m[x];return w}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(m,w){let x,N;for(let Y=1;Y<arguments.length;Y++){N=arguments[Y];for(x in N)m[x]=N[x];for(let tt=0;tt<k.length;tt++)x=k[tt],Object.prototype.hasOwnProperty.call(N,x)&&(m[x]=N[x])}}function L(m){var w=1;m=m.split(":");const x=[];for(;0<w&&m.length;)x.push(m.shift()),w--;return m.length&&x.push(m.join(":")),x}function B(m){c.setTimeout(()=>{throw m},0)}function V(){var m=xt;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class ft{constructor(){this.h=this.g=null}add(w,x){const N=gt.get();N.set(w,x),this.h?this.h.next=N:this.g=N,this.h=N}}var gt=new C(()=>new K,m=>m.reset());class K{constructor(){this.next=this.g=this.h=null}set(w,x){this.h=w,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let et,dt=!1,xt=new ft,H=()=>{const m=c.Promise.resolve(void 0);et=()=>{m.then(nt)}};var nt=()=>{for(var m;m=V();){try{m.h.call(m.g)}catch(x){B(x)}var w=gt;w.j(m),100>w.h&&(w.h++,m.next=w.g,w.g=m)}dt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const x=()=>{};c.addEventListener("test",x,w),c.removeEventListener("test",x,w)}catch{}return m}();function kt(m,w){if(lt.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var x=this.type=m.type,N=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget){if(z){t:{try{q(w.nodeName);var Y=!0;break t}catch{}Y=!1}Y||(w=null)}}else x=="mouseover"?w=m.fromElement:x=="mouseout"&&(w=m.toElement);this.relatedTarget=w,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:St[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&kt.aa.h.call(this)}}T(kt,lt);var St={2:"touch",3:"pen",4:"mouse"};kt.prototype.h=function(){kt.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function He(m,w,x,N,Y){this.listener=m,this.proxy=null,this.src=w,this.type=x,this.capture=!!N,this.ha=Y,this.key=++Ft,this.da=this.fa=!1}function Oe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function tn(m){this.src=m,this.g={},this.h=0}tn.prototype.add=function(m,w,x,N,Y){var tt=m.toString();m=this.g[tt],m||(m=this.g[tt]=[],this.h++);var mt=Sn(m,w,N,Y);return-1<mt?(w=m[mt],x||(w.fa=!1)):(w=new He(w,this.src,tt,!!N,Y),w.fa=x,m.push(w)),w};function ni(m,w){var x=w.type;if(x in m.g){var N=m.g[x],Y=Array.prototype.indexOf.call(N,w,void 0),tt;(tt=0<=Y)&&Array.prototype.splice.call(N,Y,1),tt&&(Oe(w),m.g[x].length==0&&(delete m.g[x],m.h--))}}function Sn(m,w,x,N){for(var Y=0;Y<m.length;++Y){var tt=m[Y];if(!tt.da&&tt.listener==w&&tt.capture==!!x&&tt.ha==N)return Y}return-1}var ii="closure_lm_"+(1e6*Math.random()|0),De={};function fs(m,w,x,N,Y){if(Array.isArray(w)){for(var tt=0;tt<w.length;tt++)fs(m,w[tt],x,N,Y);return null}return x=Hn(x),m&&m[me]?m.K(w,x,f(N)?!!N.capture:!1,Y):qe(m,w,x,!1,N,Y)}function qe(m,w,x,N,Y,tt){if(!w)throw Error("Invalid event type");var mt=f(Y)?!!Y.capture:!!Y,re=hi(m);if(re||(m[ii]=re=new tn(m)),x=re.add(w,x,N,mt,tt),x.proxy)return x;if(N=Ei(),x.proxy=N,N.src=m,N.listener=x,m.addEventListener)yt||(Y=mt),Y===void 0&&(Y=!1),m.addEventListener(w.toString(),N,Y);else if(m.attachEvent)m.attachEvent(ri(w.toString()),N);else if(m.addListener&&m.removeListener)m.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ei(){function m(x){return w.call(m.src,m.listener,x)}const w=ds;return m}function fe(m,w,x,N,Y){if(Array.isArray(w))for(var tt=0;tt<w.length;tt++)fe(m,w[tt],x,N,Y);else N=f(N)?!!N.capture:!!N,x=Hn(x),m&&m[me]?(m=m.i,w=String(w).toString(),w in m.g&&(tt=m.g[w],x=Sn(tt,x,N,Y),-1<x&&(Oe(tt[x]),Array.prototype.splice.call(tt,x,1),tt.length==0&&(delete m.g[w],m.h--)))):m&&(m=hi(m))&&(w=m.g[w.toString()],m=-1,w&&(m=Sn(w,x,N,Y)),(x=-1<m?w[m]:null)&&si(x))}function si(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[me])ni(w.i,m);else{var x=m.type,N=m.proxy;w.removeEventListener?w.removeEventListener(x,N,m.capture):w.detachEvent?w.detachEvent(ri(x),N):w.addListener&&w.removeListener&&w.removeListener(N),(x=hi(w))?(ni(x,m),x.h==0&&(x.src=null,w[ii]=null)):Oe(m)}}}function ri(m){return m in De?De[m]:De[m]="on"+m}function ds(m,w){if(m.da)m=!0;else{w=new kt(w,this);var x=m.listener,N=m.ha||m.src;m.fa&&si(m),m=x.call(N,w)}return m}function hi(m){return m=m[ii],m instanceof tn?m:null}var Bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hn(m){return typeof m=="function"?m:(m[Bi]||(m[Bi]=function(w){return m.handleEvent(w)}),m[Bi])}function it(){ht.call(this),this.i=new tn(this),this.M=this,this.F=null}T(it,ht),it.prototype[me]=!0,it.prototype.removeEventListener=function(m,w,x,N){fe(this,m,w,x,N)};function pt(m,w){var x,N=m.F;if(N)for(x=[];N;N=N.F)x.push(N);if(m=m.M,N=w.type||w,typeof w=="string")w=new lt(w,m);else if(w instanceof lt)w.target=w.target||m;else{var Y=w;w=new lt(N,m),U(w,Y)}if(Y=!0,x)for(var tt=x.length-1;0<=tt;tt--){var mt=w.g=x[tt];Y=Ot(mt,N,!0,w)&&Y}if(mt=w.g=m,Y=Ot(mt,N,!0,w)&&Y,Y=Ot(mt,N,!1,w)&&Y,x)for(tt=0;tt<x.length;tt++)mt=w.g=x[tt],Y=Ot(mt,N,!1,w)&&Y}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var m=this.i,w;for(w in m.g){for(var x=m.g[w],N=0;N<x.length;N++)Oe(x[N]);delete m.g[w],m.h--}}this.F=null},it.prototype.K=function(m,w,x,N){return this.i.add(String(m),w,!1,x,N)},it.prototype.L=function(m,w,x,N){return this.i.add(String(m),w,!0,x,N)};function Ot(m,w,x,N){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();for(var Y=!0,tt=0;tt<w.length;++tt){var mt=w[tt];if(mt&&!mt.da&&mt.capture==x){var re=mt.listener,gn=mt.ha||mt.src;mt.fa&&ni(m.i,mt),Y=re.call(gn,N)!==!1&&Y}}return Y&&!N.defaultPrevented}function Rt(m,w,x){if(typeof m=="function")x&&(m=_(m,x));else if(m&&typeof m.handleEvent=="function")m=_(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(m,w||0)}function Tt(m){m.g=Rt(()=>{m.g=null,m.i&&(m.i=!1,Tt(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class Lt extends ht{constructor(w,x){super(),this.m=w,this.l=x,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wt(m){ht.call(this),this.h=m,this.g={}}T(Wt,ht);var qt=[];function Vt(m){$(m.g,function(w,x){this.g.hasOwnProperty(x)&&si(w)},m),m.g={}}Wt.prototype.N=function(){Wt.aa.N.call(this),Vt(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kt=c.JSON.stringify,Ue=c.JSON.parse,pn=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function fi(){}fi.prototype.h=null;function ai(m){return m.h||(m.h=m.i())}function We(){}var Re={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ne(){lt.call(this,"d")}T(Ne,lt);function $e(){lt.call(this,"c")}T($e,lt);var ce={},Ge=null;function Et(){return Ge=Ge||new it}ce.La="serverreachability";function $t(m){lt.call(this,ce.La,m)}T($t,lt);function Ke(m){const w=Et();pt(w,new $t(w))}ce.STAT_EVENT="statevent";function zi(m,w){lt.call(this,ce.STAT_EVENT,m),this.stat=w}T(zi,lt);function ut(m){const w=Et();pt(w,new zi(w,m))}ce.Ma="timingevent";function _t(m,w){lt.call(this,ce.Ma,m),this.size=w}T(_t,lt);function bt(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},w)}function de(){this.g=!0}de.prototype.xa=function(){this.g=!1};function Ye(m,w,x,N,Y,tt){m.info(function(){if(m.g)if(tt)for(var mt="",re=tt.split("&"),gn=0;gn<re.length;gn++){var ae=re[gn].split("=");if(1<ae.length){var An=ae[0];ae=ae[1];var yn=An.split("_");mt=2<=yn.length&&yn[1]=="type"?mt+(An+"="+ae+"&"):mt+(An+"=redacted&")}}else mt=null;else mt=tt;return"XMLHTTP REQ ("+N+") [attempt "+Y+"]: "+w+`
`+x+`
`+mt})}function di(m,w,x,N,Y,tt,mt){m.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Y+"]: "+w+`
`+x+`
`+tt+" "+mt})}function mn(m,w,x,N){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+ln(m,x)+(N?" "+N:"")})}function on(m,w){m.info(function(){return"TIMEOUT: "+w})}de.prototype.info=function(){};function ln(m,w){if(!m.g)return w;if(!w)return null;try{var x=JSON.parse(w);if(x){for(m=0;m<x.length;m++)if(Array.isArray(x[m])){var N=x[m];if(!(2>N.length)){var Y=N[1];if(Array.isArray(Y)&&!(1>Y.length)){var tt=Y[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(var mt=1;mt<Y.length;mt++)Y[mt]=""}}}}return Kt(x)}catch{return w}}var ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fi;function Hi(){}T(Hi,fi),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},Fi=new Hi;function En(m,w,x,N){this.j=m,this.i=w,this.l=x,this.R=N||1,this.U=new Wt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}var na={},gr={};function pi(m,w,x){m.L=1,m.v=lo(Ai(w)),m.m=x,m.P=!0,Yt(m,null)}function Yt(m,w){m.F=Date.now(),xi(m),m.A=Ai(m.v);var x=m.A,N=m.R;Array.isArray(N)||(N=[String(N)]),au(x.i,"t",N),m.C=0,x=m.j.J,m.h=new Le,m.g=Wf(m.j,x?w:null,!m.m),0<m.O&&(m.M=new Lt(_(m.Y,m,m.g),m.O)),w=m.U,x=m.g,N=m.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(qt[0]=Y.toString()),Y=qt);for(var tt=0;tt<Y.length;tt++){var mt=fs(x,Y[tt],N||w.handleEvent,!1,w.h||w);if(!mt)break;w.g[mt.key]=mt}w=m.H?D(m.H):{},m.m?(m.u||(m.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,w)):(m.u="GET",m.g.ea(m.A,m.u,null,w)),Ke(),Ye(m.i,m.u,m.A,m.l,m.R,m.m)}En.prototype.ca=function(m){m=m.target;const w=this.M;w&&Ki(m)==3?w.j():this.Y(m)},En.prototype.Y=function(m){try{if(m==this.g)t:{const yn=Ki(this.g);var w=this.g.Ba();const Er=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||Vf(this.g)))){this.J||yn!=4||w==7||(w==8||0>=Er?Ke(3):Ke(2)),qi(this);var x=this.g.Z();this.X=x;e:if(mi(this)){var N=Vf(this.g);m="";var Y=N.length,tt=Ki(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pn(this),Ps(this);var mt="";break e}this.h.i=new c.TextDecoder}for(w=0;w<Y;w++)this.h.h=!0,m+=this.h.i.decode(N[w],{stream:!(tt&&w==Y-1)});N.length=0,this.h.g+=m,this.C=0,mt=this.h.g}else mt=this.g.oa();if(this.o=x==200,di(this.i,this.u,this.A,this.l,this.R,yn,x),this.o){if(this.T&&!this.K){e:{if(this.g){var re,gn=this.g;if((re=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(re)){var ae=re;break e}}ae=null}if(x=ae)mn(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ro(this,x);else{this.o=!1,this.s=3,ut(12),Pn(this),Ps(this);break t}}if(this.P){x=!0;let Mn;for(;!this.J&&this.C<mt.length;)if(Mn=ia(this,mt),Mn==gr){yn==4&&(this.s=4,ut(14),x=!1),mn(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==na){this.s=4,ut(15),mn(this.i,this.l,mt,"[Invalid Chunk]"),x=!1;break}else mn(this.i,this.l,Mn,null),ro(this,Mn);if(mi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||mt.length!=0||this.h.h||(this.s=1,ut(16),x=!1),this.o=this.o&&x,!x)mn(this.i,this.l,mt,"[Invalid Chunked Response]"),Pn(this),Ps(this);else if(0<mt.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+mt.length),yo(An),An.M=!0,ut(11))}}else mn(this.i,this.l,mt,null),ro(this,mt);yn==4&&Pn(this),this.o&&!this.J&&(yn==4?Ff(this.j,this):(this.o=!1,xi(this)))}else vg(this.g),x==400&&0<mt.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Pn(this),Ps(this)}}}catch{}finally{}};function mi(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function ia(m,w){var x=m.C,N=w.indexOf(`
`,x);return N==-1?gr:(x=Number(w.substring(x,N)),isNaN(x)?na:(N+=1,N+x>w.length?gr:(w=w.slice(N,N+x),m.C=N+x,w)))}En.prototype.cancel=function(){this.J=!0,Pn(this)};function xi(m){m.S=Date.now()+m.I,yl(m,m.I)}function yl(m,w){if(m.B!=null)throw Error("WatchDog timer not null");m.B=bt(_(m.ba,m),w)}function qi(m){m.B&&(c.clearTimeout(m.B),m.B=null)}En.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(on(this.i,this.A),this.L!=2&&(Ke(),ut(17)),Pn(this),this.s=2,Ps(this)):yl(this,this.S-m)};function Ps(m){m.j.G==0||m.J||Ff(m.j,m)}function Pn(m){qi(m);var w=m.M;w&&typeof w.ma=="function"&&w.ma(),m.M=null,Vt(m.U),m.g&&(w=m.g,m.g=null,w.abort(),w.ma())}function ro(m,w){try{var x=m.j;if(x.G!=0&&(x.g==m||eu(x.h,m))){if(!m.K&&eu(x.h,m)&&x.G==3){try{var N=x.Da.g.parse(w)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Y=N;if(Y[0]==0){t:if(!x.u){if(x.g)if(x.g.F+3e3<m.F)Dl(x),Rl(x);else break t;hu(x),ut(18)}}else x.za=Y[1],0<x.za-x.T&&37500>Y[2]&&x.F&&x.v==0&&!x.C&&(x.C=bt(_(x.Za,x),6e3));if(1>=_l(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Sr(x,11)}else if((m.K||x.g==m)&&Dl(x),!j(w))for(Y=x.Da.g.parse(w),w=0;w<Y.length;w++){let ae=Y[w];if(x.T=ae[0],ae=ae[1],x.G==2)if(ae[0]=="c"){x.K=ae[1],x.ia=ae[2];const An=ae[3];An!=null&&(x.la=An,x.j.info("VER="+x.la));const yn=ae[4];yn!=null&&(x.Aa=yn,x.j.info("SVER="+x.Aa));const Er=ae[5];Er!=null&&typeof Er=="number"&&0<Er&&(N=1.5*Er,x.L=N,x.j.info("backChannelRequestTimeoutMs_="+N)),N=x;const Mn=m.g;if(Mn){const Us=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var tt=N.h;tt.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(bl(tt,tt.h),tt.h=null))}if(N.D){const du=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;du&&(N.ya=du,Se(N.I,N.D,du))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-m.F,x.j.info("Handshake RTT: "+x.R+"ms")),N=x;var mt=m;if(N.qa=qf(N,N.J?N.ia:null,N.W),mt.K){oi(N.h,mt);var re=mt,gn=N.L;gn&&(re.I=gn),re.B&&(qi(re),xi(re)),N.g=mt}else Bf(N);0<x.i.length&&Cl(x)}else ae[0]!="stop"&&ae[0]!="close"||Sr(x,7);else x.G==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?Sr(x,7):cu(x):ae[0]!="noop"&&x.l&&x.l.ta(ae),x.v=0)}}Ke(4)}catch{}}var Mf=class{constructor(m,w){this.g=m,this.map=w}};function yr(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vl(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function _l(m){return m.h?1:m.g?m.g.size:0}function eu(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function bl(m,w){m.g?m.g.add(w):m.h=w}function oi(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}yr.prototype.cancel=function(){if(this.i=nu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function nu(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const x of m.g.values())w=w.concat(x.D);return w}return E(m.i)}function pg(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var w=[],x=m.length,N=0;N<x;N++)w.push(m[N]);return w}w=[],x=0;for(N in m)w[x++]=m[N];return w}function wl(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var w=[];m=m.length;for(var x=0;x<m;x++)w.push(x);return w}w=[],x=0;for(const N in m)w[x++]=N;return w}}}function iu(m,w){if(m.forEach&&typeof m.forEach=="function")m.forEach(w,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,w,void 0);else for(var x=wl(m),N=pg(m),Y=N.length,tt=0;tt<Y;tt++)w.call(void 0,N[tt],x&&x[tt],m)}var ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mg(m,w){if(m){m=m.split("&");for(var x=0;x<m.length;x++){var N=m[x].indexOf("="),Y=null;if(0<=N){var tt=m[x].substring(0,N);Y=m[x].substring(N+1)}else tt=m[x];w(tt,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function cn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof cn){this.h=m.h,oo(this,m.j),this.o=m.o,this.g=m.g,sa(this,m.s),this.l=m.l;var w=m.i,x=new _r;x.i=w.i,w.g&&(x.g=new Map(w.g),x.h=w.h),vr(this,x),this.m=m.m}else m&&(w=String(m).match(ao))?(this.h=!1,oo(this,w[1]||"",!0),this.o=Wi(w[2]||""),this.g=Wi(w[3]||"",!0),sa(this,w[4]),this.l=Wi(w[5]||"",!0),vr(this,w[6]||"",!0),this.m=Wi(w[7]||"")):(this.h=!1,this.i=new _r(null,this.h))}cn.prototype.toString=function(){var m=[],w=this.j;w&&m.push(co(w,su,!0),":");var x=this.g;return(x||w=="file")&&(m.push("//"),(w=this.o)&&m.push(co(w,su,!0),"@"),m.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&m.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&m.push("/"),m.push(co(x,x.charAt(0)=="/"?gg:ru,!0))),(x=this.i.toString())&&m.push("?",x),(x=this.m)&&m.push("#",co(x,Tl)),m.join("")};function Ai(m){return new cn(m)}function oo(m,w,x){m.j=x?Wi(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function sa(m,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);m.s=w}else m.s=null}function vr(m,w,x){w instanceof _r?(m.i=w,Nf(m.i,m.h)):(x||(w=co(w,yg)),m.i=new _r(w,m.h))}function Se(m,w,x){m.i.set(w,x)}function lo(m){return Se(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Wi(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function co(m,w,x){return typeof m=="string"?(m=encodeURI(m).replace(w,Of),x&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Of(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var su=/[#\/\?@]/g,ru=/[#\?:]/g,gg=/[#\?]/g,yg=/[#\?@]/g,Tl=/#/g;function _r(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function $i(m){m.g||(m.g=new Map,m.h=0,m.i&&mg(m.i,function(w,x){m.add(decodeURIComponent(w.replace(/\+/g," ")),x)}))}e=_r.prototype,e.add=function(m,w){$i(this),this.i=null,m=Ms(this,m);var x=this.g.get(m);return x||this.g.set(m,x=[]),x.push(w),this.h+=1,this};function br(m,w){$i(m),w=Ms(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function wr(m,w){return $i(m),w=Ms(m,w),m.g.has(w)}e.forEach=function(m,w){$i(this),this.g.forEach(function(x,N){x.forEach(function(Y){m.call(w,Y,N,this)},this)},this)},e.na=function(){$i(this);const m=Array.from(this.g.values()),w=Array.from(this.g.keys()),x=[];for(let N=0;N<w.length;N++){const Y=m[N];for(let tt=0;tt<Y.length;tt++)x.push(w[N])}return x},e.V=function(m){$i(this);let w=[];if(typeof m=="string")wr(this,m)&&(w=w.concat(this.g.get(Ms(this,m))));else{m=Array.from(this.g.values());for(let x=0;x<m.length;x++)w=w.concat(m[x])}return w},e.set=function(m,w){return $i(this),this.i=null,m=Ms(this,m),wr(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},e.get=function(m,w){return m?(m=this.V(m),0<m.length?String(m[0]):w):w};function au(m,w,x){br(m,w),0<x.length&&(m.i=null,m.g.set(Ms(m,w),E(x)),m.h+=x.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(var x=0;x<w.length;x++){var N=w[x];const tt=encodeURIComponent(String(N)),mt=this.V(N);for(N=0;N<mt.length;N++){var Y=tt;mt[N]!==""&&(Y+="="+encodeURIComponent(String(mt[N]))),m.push(Y)}}return this.i=m.join("&")};function Ms(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function Nf(m,w){w&&!m.j&&($i(m),m.i=null,m.g.forEach(function(x,N){var Y=N.toLowerCase();N!=Y&&(br(this,N),au(this,Y,x))},m)),m.j=w}function uo(m,w){const x=new de;if(c.Image){const N=new Image;N.onload=b(Gi,x,"TestLoadImage: loaded",!0,w,N),N.onerror=b(Gi,x,"TestLoadImage: error",!1,w,N),N.onabort=b(Gi,x,"TestLoadImage: abort",!1,w,N),N.ontimeout=b(Gi,x,"TestLoadImage: timeout",!1,w,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=m}else w(!1)}function ps(m,w){const x=new de,N=new AbortController,Y=setTimeout(()=>{N.abort(),Gi(x,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:N.signal}).then(tt=>{clearTimeout(Y),tt.ok?Gi(x,"TestPingServer: ok",!0,w):Gi(x,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Y),Gi(x,"TestPingServer: error",!1,w)})}function Gi(m,w,x,N,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),N(x)}catch{}}function ho(){this.g=new pn}function Os(m,w,x){const N=x||"";try{iu(m,function(Y,tt){let mt=Y;f(Y)&&(mt=Kt(Y)),w.push(N+tt+"="+encodeURIComponent(mt))})}catch(Y){throw w.push(N+"type="+encodeURIComponent("_badmap")),Y}}function ra(m){this.l=m.Ub||null,this.j=m.eb||!1}T(ra,fi),ra.prototype.g=function(){return new Tr(this.l,this.j)},ra.prototype.i=function(m){return function(){return m}}({});function Tr(m,w){it.call(this),this.D=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Tr,it),e=Tr.prototype,e.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=w,this.readyState=1,Ls(this)},e.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(w.body=m),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},e.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ls(this)),this.g&&(this.readyState=3,Ls(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ou(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function ou(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}e.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?Ns(this):Ls(this),this.readyState==3&&ou(this)}},e.Ra=function(m){this.g&&(this.response=this.responseText=m,Ns(this))},e.Qa=function(m){this.g&&(this.response=m,Ns(this))},e.ga=function(){this.g&&Ns(this)};function Ns(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ls(m)}e.setRequestHeader=function(m,w){this.u.append(m,w)},e.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var x=w.next();!x.done;)x=x.value,m.push(x[0]+": "+x[1]),x=w.next();return m.join(`\r
`)};function Ls(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function lu(m){let w="";return $(m,function(x,N){w+=N,w+=":",w+=x,w+=`\r
`}),w}function xn(m,w,x){t:{for(N in x){var N=!1;break t}N=!0}N||(x=lu(x),typeof m=="string"?x!=null&&encodeURIComponent(String(x)):Se(m,w,x))}function ye(m){it.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(ye,it);var Sl=/^https?$/i,fo=["POST","PUT"];e=ye.prototype,e.Ha=function(m){this.J=m},e.ea=function(m,w,x,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fi.g(),this.v=this.o?ai(this.o):ai(Fi),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(tt){Lf(this,tt);return}if(m=x||"",x=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Y in N)x.set(Y,N[Y]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const tt of N.keys())x.set(tt,N.get(tt));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(x.keys()).find(tt=>tt.toLowerCase()=="content-type"),Y=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(fo,w,void 0))||N||Y||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,mt]of x)this.g.setRequestHeader(tt,mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{po(this),this.u=!0,this.g.send(m),this.u=!1}catch(tt){Lf(this,tt)}};function Lf(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.m=5,El(m),Vs(m)}function El(m){m.A||(m.A=!0,pt(m,"complete"),pt(m,"error"))}e.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,pt(this,"complete"),pt(this,"abort"),Vs(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vs(this,!0)),ye.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?xl(this):this.bb())},e.bb=function(){xl(this)};function xl(m){if(m.h&&typeof l<"u"&&(!m.v[1]||Ki(m)!=4||m.Z()!=2)){if(m.u&&Ki(m)==4)Rt(m.Ea,0,m);else if(pt(m,"readystatechange"),Ki(m)==4){m.h=!1;try{const mt=m.Z();t:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var x;if(!(x=w)){var N;if(N=mt===0){var Y=String(m.D).match(ao)[1]||null;!Y&&c.self&&c.self.location&&(Y=c.self.location.protocol.slice(0,-1)),N=!Sl.test(Y?Y.toLowerCase():"")}x=N}if(x)pt(m,"complete"),pt(m,"success");else{m.m=6;try{var tt=2<Ki(m)?m.g.statusText:""}catch{tt=""}m.l=tt+" ["+m.Z()+"]",El(m)}}finally{Vs(m)}}}}function Vs(m,w){if(m.g){po(m);const x=m.g,N=m.v[0]?()=>{}:null;m.g=null,m.v=null,w||pt(m,"ready");try{x.onreadystatechange=N}catch{}}}function po(m){m.I&&(c.clearTimeout(m.I),m.I=null)}e.isActive=function(){return!!this.g};function Ki(m){return m.g?m.g.readyState:0}e.Z=function(){try{return 2<Ki(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),Ue(w)}};function Vf(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function vg(m){const w={};m=(m.g&&2<=Ki(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<m.length;N++){if(j(m[N]))continue;var x=L(m[N]);const Y=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const tt=w[Y]||[];w[Y]=tt,tt.push(x)}M(w,function(N){return N.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mo(m,w,x){return x&&x.internalChannelParams&&x.internalChannelParams[m]||w}function Al(m){this.Aa=0,this.i=[],this.j=new de,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mo("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mo("baseRetryDelayMs",5e3,m),this.cb=mo("retryDelaySeedMs",1e4,m),this.Wa=mo("forwardChannelMaxRetries",2,m),this.wa=mo("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new yr(m&&m.concurrentRequestLimit),this.Da=new ho,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Al.prototype,e.la=8,e.G=1,e.connect=function(m,w,x,N){ut(0),this.W=m,this.H=w||{},x&&N!==void 0&&(this.H.OSID=x,this.H.OAID=N),this.F=this.X,this.I=qf(this,null,this.W),Cl(this)};function cu(m){if(jf(m),m.G==3){var w=m.U++,x=Ai(m.I);if(Se(x,"SID",m.K),Se(x,"RID",w),Se(x,"TYPE","terminate"),go(m,x),w=new En(m,m.j,w),w.L=2,w.v=lo(Ai(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!x&&c.Image&&(new Image().src=w.v,x=!0),x||(w.g=Wf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),xi(w)}Hf(m)}function Rl(m){m.g&&(yo(m),m.g.cancel(),m.g=null)}function jf(m){Rl(m),m.u&&(c.clearTimeout(m.u),m.u=null),Dl(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function Cl(m){if(!vl(m.h)&&!m.s){m.s=!0;var w=m.Ga;et||H(),dt||(et(),dt=!0),xt.add(w,m),m.B=0}}function _g(m,w){return _l(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=w.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=bt(_(m.Ga,m,w),fu(m,m.B)),m.B++,!0)}e.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Y=new En(this,this.j,m);let tt=this.o;if(this.S&&(tt?(tt=D(tt),U(tt,this.S)):tt=this.S),this.m!==null||this.O||(Y.H=tt,tt=null),this.P)t:{for(var w=0,x=0;x<this.i.length;x++){e:{var N=this.i[x];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break e}N=void 0}if(N===void 0)break;if(w+=N,4096<w){w=x;break t}if(w===4096||x===this.i.length-1){w=x+1;break t}}w=1e3}else w=1e3;w=Uf(this,Y,w),x=Ai(this.I),Se(x,"RID",m),Se(x,"CVER",22),this.D&&Se(x,"X-HTTP-Session-Id",this.D),go(this,x),tt&&(this.O?w="headers="+encodeURIComponent(String(lu(tt)))+"&"+w:this.m&&xn(x,this.m,tt)),bl(this.h,Y),this.Ua&&Se(x,"TYPE","init"),this.P?(Se(x,"$req",w),Se(x,"SID","null"),Y.T=!0,pi(Y,x,null)):pi(Y,x,w),this.G=2}}else this.G==3&&(m?uu(this,m):this.i.length==0||vl(this.h)||uu(this))};function uu(m,w){var x;w?x=w.l:x=m.U++;const N=Ai(m.I);Se(N,"SID",m.K),Se(N,"RID",x),Se(N,"AID",m.T),go(m,N),m.m&&m.o&&xn(N,m.m,m.o),x=new En(m,m.j,x,m.B+1),m.m===null&&(x.H=m.o),w&&(m.i=w.D.concat(m.i)),w=Uf(m,x,1e3),x.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),bl(m.h,x),pi(x,N,w)}function go(m,w){m.H&&$(m.H,function(x,N){Se(w,N,x)}),m.l&&iu({},function(x,N){Se(w,N,x)})}function Uf(m,w,x){x=Math.min(m.i.length,x);var N=m.l?_(m.l.Na,m.l,m):null;t:{var Y=m.i;let tt=-1;for(;;){const mt=["count="+x];tt==-1?0<x?(tt=Y[0].g,mt.push("ofs="+tt)):tt=0:mt.push("ofs="+tt);let re=!0;for(let gn=0;gn<x;gn++){let ae=Y[gn].g;const An=Y[gn].map;if(ae-=tt,0>ae)tt=Math.max(0,Y[gn].g-100),re=!1;else try{Os(An,mt,"req"+ae+"_")}catch{N&&N(An)}}if(re){N=mt.join("&");break t}}}return m=m.i.splice(0,x),w.D=m,N}function Bf(m){if(!m.g&&!m.u){m.Y=1;var w=m.Fa;et||H(),dt||(et(),dt=!0),xt.add(w,m),m.v=0}}function hu(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=bt(_(m.Fa,m),fu(m,m.v)),m.v++,!0)}e.Fa=function(){if(this.u=null,zf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=bt(_(this.ab,this),m)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Rl(this),zf(this))};function yo(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function zf(m){m.g=new En(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var w=Ai(m.qa);Se(w,"RID","rpc"),Se(w,"SID",m.K),Se(w,"AID",m.T),Se(w,"CI",m.F?"0":"1"),!m.F&&m.ja&&Se(w,"TO",m.ja),Se(w,"TYPE","xmlhttp"),go(m,w),m.m&&m.o&&xn(w,m.m,m.o),m.L&&(m.g.I=m.L);var x=m.g;m=m.ia,x.L=1,x.v=lo(Ai(w)),x.m=null,x.P=!0,Yt(x,m)}e.Za=function(){this.C!=null&&(this.C=null,Rl(this),hu(this),ut(19))};function Dl(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Ff(m,w){var x=null;if(m.g==w){Dl(m),yo(m),m.g=null;var N=2}else if(eu(m.h,w))x=w.D,oi(m.h,w),N=1;else return;if(m.G!=0){if(w.o)if(N==1){x=w.m?w.m.length:0,w=Date.now()-w.F;var Y=m.B;N=Et(),pt(N,new _t(N,x)),Cl(m)}else Bf(m);else if(Y=w.s,Y==3||Y==0&&0<w.X||!(N==1&&_g(m,w)||N==2&&hu(m)))switch(x&&0<x.length&&(w=m.h,w.i=w.i.concat(x)),Y){case 1:Sr(m,5);break;case 4:Sr(m,10);break;case 3:Sr(m,6);break;default:Sr(m,2)}}}function fu(m,w){let x=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(x*=2),x*w}function Sr(m,w){if(m.j.info("Error code "+w),w==2){var x=_(m.fb,m),N=m.Xa;const Y=!N;N=new cn(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||oo(N,"https"),lo(N),Y?uo(N.toString(),x):ps(N.toString(),x)}else ut(2);m.G=0,m.l&&m.l.sa(w),Hf(m),jf(m)}e.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Hf(m){if(m.G=0,m.ka=[],m.l){const w=nu(m.h);(w.length!=0||m.i.length!=0)&&(S(m.ka,w),S(m.ka,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.ra()}}function qf(m,w,x){var N=x instanceof cn?Ai(x):new cn(x);if(N.g!="")w&&(N.g=w+"."+N.g),sa(N,N.s);else{var Y=c.location;N=Y.protocol,w=w?w+"."+Y.hostname:Y.hostname,Y=+Y.port;var tt=new cn(null);N&&oo(tt,N),w&&(tt.g=w),Y&&sa(tt,Y),x&&(tt.l=x),N=tt}return x=m.D,w=m.ya,x&&w&&Se(N,x,w),Se(N,"VER",m.la),go(m,N),N}function Wf(m,w,x){if(w&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Ca&&!m.pa?new ye(new ra({eb:x})):new ye(m.pa),w.Ha(m.J),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function $f(){}e=$f.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Il(){}Il.prototype.g=function(m,w){return new li(m,w)};function li(m,w){it.call(this),this.g=new Al(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(m?m["X-WebChannel-Client-Profile"]=w.va:m={"X-WebChannel-Client-Profile":w.va}),this.g.S=m,(m=w&&w.Sb)&&!j(m)&&(this.g.m=m),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!j(w)&&(this.g.D=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new js(this)}T(li,it),li.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},li.prototype.close=function(){cu(this.g)},li.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var x={};x.__data__=m,m=x}else this.u&&(x={},x.__data__=Kt(m),m=x);w.i.push(new Mf(w.Ya++,m)),w.G==3&&Cl(w)},li.prototype.N=function(){this.g.l=null,delete this.j,cu(this.g),delete this.g,li.aa.N.call(this)};function Gf(m){Ne.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){t:{for(const x in w){m=x;break t}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}T(Gf,Ne);function Kf(){$e.call(this),this.status=1}T(Kf,$e);function js(m){this.g=m}T(js,$f),js.prototype.ua=function(){pt(this.g,"a")},js.prototype.ta=function(m){pt(this.g,new Gf(m))},js.prototype.sa=function(m){pt(this.g,new Kf)},js.prototype.ra=function(){pt(this.g,"b")},Il.prototype.createWebChannel=Il.prototype.g,li.prototype.send=li.prototype.o,li.prototype.open=li.prototype.m,li.prototype.close=li.prototype.close,eI=function(){return new Il},tI=function(){return Et()},JD=ce,b_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,Cp=ue,qn.COMPLETE="complete",ZD=qn,We.EventType=Re,Re.OPEN="a",Re.CLOSE="b",Re.ERROR="c",Re.MESSAGE="d",it.prototype.listen=it.prototype.K,hh=We,ye.prototype.listenOnce=ye.prototype.L,ye.prototype.getLastError=ye.prototype.Ka,ye.prototype.getLastErrorCode=ye.prototype.Ba,ye.prototype.getStatus=ye.prototype.Z,ye.prototype.getResponseJson=ye.prototype.Oa,ye.prototype.getResponseText=ye.prototype.oa,ye.prototype.send=ye.prototype.ea,ye.prototype.setWithCredentials=ye.prototype.Ha,QD=ye}).apply(typeof Qd<"u"?Qd:typeof self<"u"?self:typeof window<"u"?window:{});const Lx="@firebase/firestore",Vx="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=new Pm("@firebase/firestore");function oc(){return nl.logLevel}function vt(e,...t){if(nl.logLevel<=ee.DEBUG){const n=t.map(z0);nl.debug(`Firestore (${Wc}): ${e}`,...n)}}function Qr(e,...t){if(nl.logLevel<=ee.ERROR){const n=t.map(z0);nl.error(`Firestore (${Wc}): ${e}`,...n)}}function xc(e,...t){if(nl.logLevel<=ee.WARN){const n=t.map(z0);nl.warn(`Firestore (${Wc}): ${e}`,...n)}}function z0(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(e="Unexpected state"){const t=`FIRESTORE (${Wc}) INTERNAL ASSERTION FAILED: `+e;throw Qr(t),new Error(t)}function _e(e,t){e||Ut()}function Ht(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends ks{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class NB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Xn.UNAUTHENTICATED))}shutdown(){}}class LB{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VB{constructor(t){this.t=t,this.currentUser=Xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){_e(this.o===void 0);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let a=new Fa;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Fa,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Fa)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_e(typeof i.accessToken=="string"),new nI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _e(t===null||typeof t=="string"),new Xn(t)}}class jB{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Xn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class UB{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new jB(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BB{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Oi(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){_e(this.o===void 0);const i=a=>{a.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,vt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const s=a=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new jx(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(_e(typeof n.token=="string"),this.R=n.token,new jx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=zB(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<n&&(i+=t.charAt(s[a]%62))}return i}}function Qt(e,t){return e<t?-1:e>t?1:0}function w_(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),s=t.codePointAt(n);if(i!==s){if(i<128&&s<128)return Qt(i,s);{const a=iI(),l=FB(a.encode(Ux(e,n)),a.encode(Ux(t,n)));return l!==0?l:Qt(i,s)}}n+=i>65535?2:1}return Qt(e.length,t.length)}function Ux(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function FB(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Qt(e[n],t[n]);return Qt(e.length,t.length)}function Ac(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=-62135596800,zx=1e6;class wn{static now(){return wn.fromMillis(Date.now())}static fromDate(t){return wn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*zx);return new wn(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ct(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ct(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Bx)throw new Ct(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zx}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Bx;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{static fromTimestamp(t){return new zt(t)}static min(){return new zt(new wn(0,0))}static max(){return new zt(new wn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="__name__";class Ys{constructor(t,n,i){n===void 0?n=0:n>t.length&&Ut(),i===void 0?i=t.length-n:i>t.length-n&&Ut(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Ys.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ys?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const a=Ys.compareSegments(t.get(s),n.get(s));if(a!==0)return a}return Qt(t.length,n.length)}static compareSegments(t,n){const i=Ys.isNumericId(t),s=Ys.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Ys.extractNumericId(t).compare(Ys.extractNumericId(n)):w_(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return za.fromString(t.substring(4,t.length-2))}}class Je extends Ys{construct(t,n,i){return new Je(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ct(ct.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const HB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends Ys{construct(t,n,i){return new Un(t,n,i)}static isValidIdentifier(t){return HB.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fx}static keyField(){return new Un([Fx])}static fromServerFormat(t){const n=[];let i="",s=0;const a=()=>{if(i.length===0)throw new Ct(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new Ct(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ct(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new Ct(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Un(n)}static emptyPath(){return new Un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.path=t}static fromPath(t){return new It(Je.fromString(t))}static fromName(t){return new It(Je.fromString(t).popFirst(5))}static empty(){return new It(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Je.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Je.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new It(new Je(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=-1;function qB(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=zt.fromTimestamp(i===1e9?new wn(n+1,0):new wn(n,i));return new qa(s,It.empty(),t)}function WB(e){return new qa(e.readTime,e.key,jh)}class qa{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new qa(zt.min(),It.empty(),jh)}static max(){return new qa(zt.max(),It.empty(),jh)}}function $B(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=It.comparator(e.documentKey,t.documentKey),n!==0?n:Qt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(e){if(e.code!==ct.FAILED_PRECONDITION||e.message!==GB)throw e;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ot((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ot?n:ot.resolve(n)}catch(n){return ot.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ot.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ot.reject(n)}static resolve(t){return new ot((n,i)=>{n(t)})}static reject(t){return new ot((n,i)=>{i(t)})}static waitFor(t){return new ot((n,i)=>{let s=0,a=0,l=!1;t.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&n()},h=>i(h))}),l=!0,a===s&&n()})}static or(t){let n=ot.resolve(!1);for(const i of t)n=n.next(s=>s?ot.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,a)=>{i.push(n.call(this,s,a))}),this.waitFor(i)}static mapArray(t,n){return new ot((i,s)=>{const a=t.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const f=h;n(t[f]).next(p=>{l[f]=p,++c,c===a&&i(l)},p=>s(p))}})}static doWhile(t,n){return new ot((i,s)=>{const a=()=>{t()===!0?n().next(()=>{a()},s):i()};a()})}}function YB(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Lm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=-1;function Vm(e){return e==null}function Qp(e){return e===0&&1/e==-1/0}function XB(e){return typeof e=="number"&&Number.isInteger(e)&&!Qp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="";function QB(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Hx(t)),t=ZB(e.get(n),t);return Hx(t)}function ZB(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const a=e.charAt(s);switch(a){case"\0":n+="";break;case rI:n+="";break;default:n+=a}}return n}function Hx(e){return e+rI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function eo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function aI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t,n){this.comparator=t,this.root=n||jn.EMPTY}insert(t,n){return new Fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(t){return new Fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zd(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zd(this.root,t,this.comparator,!0)}}class Zd{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?i(t.key,n):1,n&&s&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class jn{constructor(t,n,i,s,a){this.key=t,this.value=n,this.color=i??jn.RED,this.left=s??jn.EMPTY,this.right=a??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,a){return new jn(t??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const a=i(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,n,i),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return jn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ut();const t=this.left.check();if(t!==this.right.check())throw Ut();return t+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut()}get value(){throw Ut()}get color(){throw Ut()}get left(){throw Ut()}get right(){throw Ut()}copy(t,n,i,s,a){return this}insert(t,n,i){return new jn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.comparator=t,this.data=new Fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wx(this.data.getIterator())}getIteratorFrom(t){return new Wx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Tn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Tn(this.comparator);return n.data=t,n}}class Wx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t){this.fields=t,t.sort(Un.comparator)}static empty(){return new Ni([])}unionWith(t){let n=new Tn(Un.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Ni(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ac(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new oI("Invalid base64 string: "+a):a}}(t);return new Fn(n)}static fromUint8Array(t){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(t);return new Fn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const JB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wa(e){if(_e(!!e),typeof e=="string"){let t=0;const n=JB.exec(e);if(_e(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:rn(e.seconds),nanos:rn(e.nanos)}}function rn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function $a(e){return typeof e=="string"?Fn.fromBase64String(e):Fn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="server_timestamp",cI="__type__",uI="__previous_value__",hI="__local_write_time__";function H0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[cI])===null||n===void 0?void 0:n.stringValue)===lI}function jm(e){const t=e.mapValue.fields[uI];return H0(t)?jm(t):t}function Uh(e){const t=Wa(e.mapValue.fields[hI].timestampValue);return new wn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(t,n,i,s,a,l,c,h,f){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}const Zp="(default)";class Bh{constructor(t,n){this.projectId=t,this.database=n||Zp}static empty(){return new Bh("","")}get isDefaultDatabase(){return this.database===Zp}isEqual(t){return t instanceof Bh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="__type__",e4="__max__",Jd={mapValue:{}},dI="__vector__",Jp="value";function Ga(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?H0(e)?4:i4(e)?9007199254740991:n4(e)?10:11:Ut()}function cr(e,t){if(e===t)return!0;const n=Ga(e);if(n!==Ga(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Uh(e).isEqual(Uh(t));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Wa(s.timestampValue),c=Wa(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,a){return $a(s.bytesValue).isEqual($a(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,a){return rn(s.geoPointValue.latitude)===rn(a.geoPointValue.latitude)&&rn(s.geoPointValue.longitude)===rn(a.geoPointValue.longitude)}(e,t);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return rn(s.integerValue)===rn(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=rn(s.doubleValue),c=rn(a.doubleValue);return l===c?Qp(l)===Qp(c):isNaN(l)&&isNaN(c)}return!1}(e,t);case 9:return Ac(e.arrayValue.values||[],t.arrayValue.values||[],cr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(qx(l)!==qx(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!cr(l[h],c[h])))return!1;return!0}(e,t);default:return Ut()}}function zh(e,t){return(e.values||[]).find(n=>cr(n,t))!==void 0}function Rc(e,t){if(e===t)return 0;const n=Ga(e),i=Ga(t);if(n!==i)return Qt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(e.booleanValue,t.booleanValue);case 2:return function(a,l){const c=rn(a.integerValue||a.doubleValue),h=rn(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(e,t);case 3:return $x(e.timestampValue,t.timestampValue);case 4:return $x(Uh(e),Uh(t));case 5:return w_(e.stringValue,t.stringValue);case 6:return function(a,l){const c=$a(a),h=$a(l);return c.compareTo(h)}(e.bytesValue,t.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const p=Qt(c[f],h[f]);if(p!==0)return p}return Qt(c.length,h.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,l){const c=Qt(rn(a.latitude),rn(l.latitude));return c!==0?c:Qt(rn(a.longitude),rn(l.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Gx(e.arrayValue,t.arrayValue);case 10:return function(a,l){var c,h,f,p;const y=a.fields||{},_=l.fields||{},b=(c=y[Jp])===null||c===void 0?void 0:c.arrayValue,T=(h=_[Jp])===null||h===void 0?void 0:h.arrayValue,E=Qt(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0);return E!==0?E:Gx(b,T)}(e.mapValue,t.mapValue);case 11:return function(a,l){if(a===Jd.mapValue&&l===Jd.mapValue)return 0;if(a===Jd.mapValue)return 1;if(l===Jd.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const _=w_(h[y],p[y]);if(_!==0)return _;const b=Rc(c[h[y]],f[p[y]]);if(b!==0)return b}return Qt(h.length,p.length)}(e.mapValue,t.mapValue);default:throw Ut()}}function $x(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Qt(e,t);const n=Wa(e),i=Wa(t),s=Qt(n.seconds,i.seconds);return s!==0?s:Qt(n.nanos,i.nanos)}function Gx(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const a=Rc(n[s],i[s]);if(a)return a}return Qt(n.length,i.length)}function Cc(e){return T_(e)}function T_(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Wa(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return $a(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return It.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const a of n.values||[])s?s=!1:i+=",",i+=T_(a);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of i)a?a=!1:s+=",",s+=`${l}:${T_(n.fields[l])}`;return s+"}"}(e.mapValue):Ut()}function Dp(e){switch(Ga(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jm(e);return t?16+Dp(t):16;case 5:return 2*e.stringValue.length;case 6:return $a(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+Dp(a),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return eo(i.fields,(a,l)=>{s+=a.length+Dp(l)}),s}(e.mapValue);default:throw Ut()}}function S_(e){return!!e&&"integerValue"in e}function q0(e){return!!e&&"arrayValue"in e}function Kx(e){return!!e&&"nullValue"in e}function Yx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ip(e){return!!e&&"mapValue"in e}function n4(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[fI])===null||n===void 0?void 0:n.stringValue)===dI}function wh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return eo(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=wh(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=wh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function i4(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===e4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t){this.value=t}static empty(){return new wi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Ip(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=wh(n)}setAll(t){let n=Un.emptyPath(),i={},s=[];t.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=wh(l):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,s)}delete(t){const n=this.field(t.popLast());Ip(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return cr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];Ip(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){eo(n,(s,a)=>t[s]=a);for(const s of i)delete t[s]}clone(){return new wi(wh(this.value))}}function pI(e){const t=[];return eo(e.fields,(n,i)=>{const s=new Un([n]);if(Ip(i)){const a=pI(i.mapValue).fields;if(a.length===0)t.push(s);else for(const l of a)t.push(s.child(l))}else t.push(s)}),new Ni(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t,n,i,s,a,l,c){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(t){return new Qn(t,0,zt.min(),zt.min(),zt.min(),wi.empty(),0)}static newFoundDocument(t,n,i,s){return new Qn(t,1,n,zt.min(),i,s,0)}static newNoDocument(t,n){return new Qn(t,2,n,zt.min(),zt.min(),wi.empty(),0)}static newUnknownDocument(t,n){return new Qn(t,3,n,zt.min(),zt.min(),wi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,n){this.position=t,this.inclusive=n}}function Xx(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const a=t[s],l=e.position[s];if(a.field.isKeyField()?i=It.comparator(It.fromName(l.referenceValue),n.key):i=Rc(l,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Qx(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!cr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(t,n="asc"){this.field=t,this.dir=n}}function s4(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{}class bn extends mI{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new a4(t,n,i):n==="array-contains"?new c4(t,i):n==="in"?new u4(t,i):n==="not-in"?new h4(t,i):n==="array-contains-any"?new f4(t,i):new bn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new o4(t,i):new l4(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Rc(n,this.value)):n!==null&&Ga(this.value)===Ga(n)&&this.matchesComparison(Rc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends mI{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new ur(t,n)}matches(t){return gI(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function gI(e){return e.op==="and"}function yI(e){return r4(e)&&gI(e)}function r4(e){for(const t of e.filters)if(t instanceof ur)return!1;return!0}function E_(e){if(e instanceof bn)return e.field.canonicalString()+e.op.toString()+Cc(e.value);if(yI(e))return e.filters.map(t=>E_(t)).join(",");{const t=e.filters.map(n=>E_(n)).join(",");return`${e.op}(${t})`}}function vI(e,t){return e instanceof bn?function(i,s){return s instanceof bn&&i.op===s.op&&i.field.isEqual(s.field)&&cr(i.value,s.value)}(e,t):e instanceof ur?function(i,s){return s instanceof ur&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,l,c)=>a&&vI(l,s.filters[c]),!0):!1}(e,t):void Ut()}function _I(e){return e instanceof bn?function(n){return`${n.field.canonicalString()} ${n.op} ${Cc(n.value)}`}(e):e instanceof ur?function(n){return n.op.toString()+" {"+n.getFilters().map(_I).join(" ,")+"}"}(e):"Filter"}class a4 extends bn{constructor(t,n,i){super(t,n,i),this.key=It.fromName(i.referenceValue)}matches(t){const n=It.comparator(t.key,this.key);return this.matchesComparison(n)}}class o4 extends bn{constructor(t,n){super(t,"in",n),this.keys=bI("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class l4 extends bn{constructor(t,n){super(t,"not-in",n),this.keys=bI("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function bI(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>It.fromName(i.referenceValue))}class c4 extends bn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return q0(n)&&zh(n.arrayValue,this.value)}}class u4 extends bn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&zh(this.value.arrayValue,n)}}class h4 extends bn{constructor(t,n){super(t,"not-in",n)}matches(t){if(zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!zh(this.value.arrayValue,n)}}class f4 extends bn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!q0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>zh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(t,n=null,i=[],s=[],a=null,l=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function Zx(e,t=null,n=[],i=[],s=null,a=null,l=null){return new d4(e,t,n,i,s,a,l)}function W0(e){const t=Ht(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>E_(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Vm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Cc(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Cc(i)).join(",")),t.le=n}return t.le}function $0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!s4(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!vI(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Qx(e.startAt,t.startAt)&&Qx(e.endAt,t.endAt)}function x_(e){return It.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,n=null,i=[],s=[],a=null,l="F",c=null,h=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function p4(e,t,n,i,s,a,l,c){return new Um(e,t,n,i,s,a,l,c)}function G0(e){return new Um(e)}function Jx(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function m4(e){return e.collectionGroup!==null}function Th(e){const t=Ht(e);if(t.he===null){t.he=[];const n=new Set;for(const a of t.explicitOrderBy)t.he.push(a),n.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Tn(Un.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.he.push(new em(a,i))}),n.has(Un.keyField().canonicalString())||t.he.push(new em(Un.keyField(),i))}return t.he}function Js(e){const t=Ht(e);return t.Pe||(t.Pe=g4(t,Th(e))),t.Pe}function g4(e,t){if(e.limitType==="F")return Zx(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new em(s.field,a)});const n=e.endAt?new tm(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new tm(e.startAt.position,e.startAt.inclusive):null;return Zx(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function A_(e,t,n){return new Um(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bm(e,t){return $0(Js(e),Js(t))&&e.limitType===t.limitType}function wI(e){return`${W0(Js(e))}|lt:${e.limitType}`}function lc(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>_I(s)).join(", ")}]`),Vm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Cc(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Cc(s)).join(",")),`Target(${i})`}(Js(e))}; limitType=${e.limitType})`}function zm(e,t){return t.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):It.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(e,t)&&function(i,s){for(const a of Th(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(l,c,h){const f=Xx(l,c,h);return l.inclusive?f<=0:f<0}(i.startAt,Th(i),s)||i.endAt&&!function(l,c,h){const f=Xx(l,c,h);return l.inclusive?f>=0:f>0}(i.endAt,Th(i),s))}(e,t)}function y4(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function TI(e){return(t,n)=>{let i=!1;for(const s of Th(e)){const a=v4(s,t,n);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function v4(e,t,n){const i=e.field.isKeyField()?It.comparator(t.key,n.key):function(a,l,c){const h=l.data.field(a),f=c.data.field(a);return h!==null&&f!==null?Rc(h,f):Ut()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Ut()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return void(s[a]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){eo(this.inner,(n,i)=>{for(const[s,a]of i)t(s,a)})}isEmpty(){return aI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new Fe(It.comparator);function Zr(){return _4}const SI=new Fe(It.comparator);function fh(...e){let t=SI;for(const n of e)t=t.insert(n.key,n);return t}function EI(e){let t=SI;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function qo(){return Sh()}function xI(){return Sh()}function Sh(){return new dl(e=>e.toString(),(e,t)=>e.isEqual(t))}const b4=new Fe(It.comparator),w4=new Tn(It.comparator);function ie(...e){let t=w4;for(const n of e)t=t.add(n);return t}const T4=new Tn(Qt);function S4(){return T4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qp(t)?"-0":t}}function AI(e){return{integerValue:""+e}}function E4(e,t){return XB(t)?AI(t):K0(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this._=void 0}}function x4(e,t,n){return e instanceof Fh?function(s,a){const l={fields:{[cI]:{stringValue:lI},[hI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&H0(a)&&(a=jm(a)),a&&(l.fields[uI]=a),{mapValue:l}}(n,t):e instanceof Dc?CI(e,t):e instanceof Hh?DI(e,t):function(s,a){const l=RI(s,a),c=tA(l)+tA(s.Ie);return S_(l)&&S_(s.Ie)?AI(c):K0(s.serializer,c)}(e,t)}function A4(e,t,n){return e instanceof Dc?CI(e,t):e instanceof Hh?DI(e,t):n}function RI(e,t){return e instanceof nm?function(i){return S_(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class Fh extends Fm{}class Dc extends Fm{constructor(t){super(),this.elements=t}}function CI(e,t){const n=II(t);for(const i of e.elements)n.some(s=>cr(s,i))||n.push(i);return{arrayValue:{values:n}}}class Hh extends Fm{constructor(t){super(),this.elements=t}}function DI(e,t){let n=II(t);for(const i of e.elements)n=n.filter(s=>!cr(s,i));return{arrayValue:{values:n}}}class nm extends Fm{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function tA(e){return rn(e.integerValue||e.doubleValue)}function II(e){return q0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t,n){this.field=t,this.transform=n}}function R4(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Dc&&s instanceof Dc||i instanceof Hh&&s instanceof Hh?Ac(i.elements,s.elements,cr):i instanceof nm&&s instanceof nm?cr(i.Ie,s.Ie):i instanceof Fh&&s instanceof Fh}(e.transform,t.transform)}class C4{constructor(t,n){this.version=t,this.transformResults=n}}class tr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new tr}static exists(t){return new tr(void 0,t)}static updateTime(t){return new tr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kp(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Hm{}function PI(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new OI(e.key,tr.none()):new vf(e.key,e.data,tr.none());{const n=e.data,i=wi.empty();let s=new Tn(Un.comparator);for(let a of t.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?i.delete(a):i.set(a,l),s=s.add(a)}return new no(e.key,i,new Ni(s.toArray()),tr.none())}}function D4(e,t,n){e instanceof vf?function(s,a,l){const c=s.value.clone(),h=nA(s.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(e,t,n):e instanceof no?function(s,a,l){if(!kp(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=nA(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(MI(s)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(e,t,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,n)}function Eh(e,t,n,i){return e instanceof vf?function(a,l,c,h){if(!kp(a.precondition,l))return c;const f=a.value.clone(),p=iA(a.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(e,t,n,i):e instanceof no?function(a,l,c,h){if(!kp(a.precondition,l))return c;const f=iA(a.fieldTransforms,h,l),p=l.data;return p.setAll(MI(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(e,t,n,i):function(a,l,c){return kp(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(e,t,n)}function I4(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),a=RI(i.transform,s||null);a!=null&&(n===null&&(n=wi.empty()),n.set(i.field,a))}return n||null}function eA(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Ac(i,s,(a,l)=>R4(a,l))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class vf extends Hm{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class no extends Hm{constructor(t,n,i,s,a=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function MI(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function nA(e,t,n){const i=new Map;_e(e.length===n.length);for(let s=0;s<n.length;s++){const a=e[s],l=a.transform,c=t.data.field(a.field);i.set(a.field,A4(l,c,n[s]))}return i}function iA(e,t,n){const i=new Map;for(const s of e){const a=s.transform,l=n.data.field(s.field);i.set(s.field,x4(a,l,t))}return i}class OI extends Hm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k4 extends Hm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(t.key)&&D4(a,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Eh(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Eh(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=xI();return this.mutations.forEach(s=>{const a=t.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const h=PI(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(zt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ie())}isEqual(t){return this.batchId===t.batchId&&Ac(this.mutations,t.mutations,(n,i)=>eA(n,i))&&Ac(this.baseMutations,t.baseMutations,(n,i)=>eA(n,i))}}class Y0{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){_e(t.mutations.length===i.length);let s=function(){return b4}();const a=t.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,i[l].version);return new Y0(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,le;function N4(e){switch(e){case ct.OK:return Ut();case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return Ut()}}function NI(e){if(e===void 0)return Qr("GRPC error has no .code"),ct.UNKNOWN;switch(e){case fn.OK:return ct.OK;case fn.CANCELLED:return ct.CANCELLED;case fn.UNKNOWN:return ct.UNKNOWN;case fn.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case fn.INTERNAL:return ct.INTERNAL;case fn.UNAVAILABLE:return ct.UNAVAILABLE;case fn.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case fn.NOT_FOUND:return ct.NOT_FOUND;case fn.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case fn.ABORTED:return ct.ABORTED;case fn.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case fn.DATA_LOSS:return ct.DATA_LOSS;default:return Ut()}}(le=fn||(fn={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=new za([4294967295,4294967295],0);function sA(e){const t=iI().encode(e),n=new XD;return n.update(t),new Uint8Array(n.digest())}function rA(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new za([n,i],0),new za([s,a],0)]}class X0{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new dh(`Invalid padding: ${n}`);if(i<0)throw new dh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new dh(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new dh(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=za.fromNumber(this.Ee)}Ae(t,n,i){let s=t.add(n.multiply(za.fromNumber(i)));return s.compare(L4)===1&&(s=new za([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=sA(t),[i,s]=rA(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(i,s,a);if(!this.Re(l))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new X0(a,s,n);return i.forEach(c=>l.insert(c)),l}insert(t){if(this.Ee===0)return;const n=sA(t),[i,s]=rA(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(i,s,a);this.Ve(l)}}Ve(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class dh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,n,i,s,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,_f.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new qm(zt.min(),s,new Fe(Qt),Zr(),ie())}}class _f{constructor(t,n,i,s,a){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new _f(i,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(t,n,i,s){this.me=t,this.removedTargetIds=n,this.key=i,this.fe=s}}class LI{constructor(t,n){this.targetId=t,this.ge=n}}class VI{constructor(t,n,i=Fn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class aA{constructor(){this.pe=0,this.ye=oA(),this.we=Fn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=ie(),n=ie(),i=ie();return this.ye.forEach((s,a)=>{switch(a){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ut()}}),new _f(this.we,this.Se,t,n,i)}Me(){this.be=!1,this.ye=oA()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,_e(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class V4{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Zr(),this.$e=tp(),this.Ue=tp(),this.Ke=new Fe(Qt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const i=this.He(n);switch(t.state){case 0:this.Je(n)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(t.resumeToken));break;default:Ut()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((i,s)=>{this.Je(s)&&n(s)})}Ze(t){const n=t.targetId,i=t.ge.count,s=this.Xe(n);if(s){const a=s.target;if(x_(a))if(i===0){const l=new It(a.path);this.ze(n,l,Qn.newNoDocument(l,zt.min()))}else _e(i===1);else{const l=this.et(n);if(l!==i){const c=this.tt(t),h=c?this.nt(c,t,l):1;if(h!==0){this.Ye(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=$a(i).toUint8Array()}catch(h){if(h instanceof oI)return xc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new X0(l,s,a)}catch(h){return xc(h instanceof dh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(t,n,i){return n.ge.count===i-this.st(t,n.targetId)?0:2}st(t,n){const i=this.ke.getRemoteKeysForTarget(n);let s=0;return i.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(c)||(this.ze(n,a,null),s++)}),s}ot(t){const n=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&x_(c.target)){const h=new It(c.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,Qn.newNoDocument(h,t))}a.ve&&(n.set(l,a.Fe()),a.Me())}});let i=ie();this.Ue.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const f=this.Xe(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(t));const s=new qm(t,n,this.Ke,this.Qe,i);return this.Qe=Zr(),this.$e=tp(),this.Ue=tp(),this.Ke=new Fe(Qt),s}Ge(t,n){if(!this.Je(t))return;const i=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,i){if(!this.Je(t))return;const s=this.He(t);this.ut(t,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new aA,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Tn(Qt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Tn(Qt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||vt("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new aA),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function tp(){return new Fe(It.comparator)}function oA(){return new Fe(It.comparator)}const j4={asc:"ASCENDING",desc:"DESCENDING"},U4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B4={and:"AND",or:"OR"};class z4{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function R_(e,t){return e.useProto3Json||Vm(t)?t:{value:t}}function im(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function F4(e,t){return im(e,t.toTimestamp())}function er(e){return _e(!!e),zt.fromTimestamp(function(n){const i=Wa(n);return new wn(i.seconds,i.nanos)}(e))}function Q0(e,t){return C_(e,t).canonicalString()}function C_(e,t){const n=function(s){return new Je(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function UI(e){const t=Je.fromString(e);return _e(qI(t)),t}function D_(e,t){return Q0(e.databaseId,t.path)}function xv(e,t){const n=UI(t);if(n.get(1)!==e.databaseId.projectId)throw new Ct(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ct(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new It(zI(n))}function BI(e,t){return Q0(e.databaseId,t)}function H4(e){const t=UI(e);return t.length===4?Je.emptyPath():zI(t)}function I_(e){return new Je(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function zI(e){return _e(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function lA(e,t,n){return{name:D_(e,t),fields:n.value.mapValue.fields}}function q4(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ut()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(_e(p===void 0||typeof p=="string"),Fn.fromBase64String(p||"")):(_e(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Fn.fromUint8Array(p||new Uint8Array))}(e,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(f){const p=f.code===void 0?ct.UNKNOWN:NI(f.code);return new Ct(p,f.message||"")}(l);n=new VI(i,s,a,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=xv(e,i.document.name),a=er(i.document.updateTime),l=i.document.createTime?er(i.document.createTime):zt.min(),c=new wi({mapValue:{fields:i.document.fields}}),h=Qn.newFoundDocument(s,a,l,c),f=i.targetIds||[],p=i.removedTargetIds||[];n=new Pp(f,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=xv(e,i.document),a=i.readTime?er(i.readTime):zt.min(),l=Qn.newNoDocument(s,a),c=i.removedTargetIds||[];n=new Pp([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=xv(e,i.document),a=i.removedTargetIds||[];n=new Pp([],a,s,null)}else{if(!("filter"in t))return Ut();{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,l=new O4(s,a),c=i.targetId;n=new LI(c,l)}}return n}function W4(e,t){let n;if(t instanceof vf)n={update:lA(e,t.key,t.value)};else if(t instanceof OI)n={delete:D_(e,t.key)};else if(t instanceof no)n={update:lA(e,t.key,t.data),updateMask:tz(t.fieldMask)};else{if(!(t instanceof k4))return Ut();n={verify:D_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(a,l){const c=l.transform;if(c instanceof Fh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Dc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Hh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof nm)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Ut()}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:F4(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ut()}(e,t.precondition)),n}function $4(e,t){return e&&e.length>0?(_e(t!==void 0),e.map(n=>function(s,a){let l=s.updateTime?er(s.updateTime):er(a);return l.isEqual(zt.min())&&(l=er(a)),new C4(l,s.transformResults||[])}(n,t))):[]}function G4(e,t){return{documents:[BI(e,t.path)]}}function K4(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=BI(e,s);const a=function(f){if(f.length!==0)return HI(ur.create(f,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(p=>function(_){return{field:cc(_.field),direction:Q4(_.dir)}}(p))}(t.orderBy);l&&(n.structuredQuery.orderBy=l);const c=R_(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{ht:n,parent:s}}function Y4(e){let t=H4(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){_e(i===1);const p=n.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let a=[];n.where&&(a=function(y){const _=FI(y);return _ instanceof ur&&yI(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(_=>function(T){return new em(uc(T.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,Vm(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(y){const _=!!y.before,b=y.values||[];return new tm(b,_)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const _=!y.before,b=y.values||[];return new tm(b,_)}(n.endAt)),p4(t,s,l,a,c,"F",h,f)}function X4(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function FI(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=uc(n.unaryFilter.field);return bn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=uc(n.unaryFilter.field);return bn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=uc(n.unaryFilter.field);return bn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=uc(n.unaryFilter.field);return bn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ut()}}(e):e.fieldFilter!==void 0?function(n){return bn.create(uc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ut()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ur.create(n.compositeFilter.filters.map(i=>FI(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ut()}}(n.compositeFilter.op))}(e):Ut()}function Q4(e){return j4[e]}function Z4(e){return U4[e]}function J4(e){return B4[e]}function cc(e){return{fieldPath:e.canonicalString()}}function uc(e){return Un.fromServerFormat(e.fieldPath)}function HI(e){return e instanceof bn?function(n){if(n.op==="=="){if(Yx(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NAN"}};if(Kx(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Yx(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NOT_NAN"}};if(Kx(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cc(n.field),op:Z4(n.op),value:n.value}}}(e):e instanceof ur?function(n){const i=n.getFilters().map(s=>HI(s));return i.length===1?i[0]:{compositeFilter:{op:J4(n.op),filters:i}}}(e):Ut()}function tz(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function qI(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t,n,i,s,a=zt.min(),l=zt.min(),c=Fn.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new Na(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(t){this.Tt=t}}function nz(e){const t=Y4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?A_(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(){this.Tn=new sz}addToCollectionParentIndex(t,n){return this.Tn.add(n),ot.resolve()}getCollectionParents(t,n){return ot.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return ot.resolve()}deleteFieldIndex(t,n){return ot.resolve()}deleteAllFieldIndexes(t){return ot.resolve()}createTargetIndexes(t,n){return ot.resolve()}getDocumentsMatchingTarget(t,n){return ot.resolve(null)}getIndexType(t,n){return ot.resolve(0)}getFieldIndexes(t,n){return ot.resolve([])}getNextCollectionGroupToUpdate(t){return ot.resolve(null)}getMinOffset(t,n){return ot.resolve(qa.min())}getMinOffsetFromCollectionGroup(t,n){return ot.resolve(qa.min())}updateCollectionGroup(t,n,i){return ot.resolve()}updateIndexEntries(t,n){return ot.resolve()}}class sz{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new Tn(Je.comparator),a=!s.has(i);return this.index[n]=s.add(i),a}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Tn(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WI=41943040;class bi{static withCacheSize(t){return new bi(t,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi.DEFAULT_COLLECTION_PERCENTILE=10,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bi.DEFAULT=new bi(WI,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bi.DISABLED=new bi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Ic(0)}static Kn(){return new Ic(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="LruGarbageCollector",rz=1048576;function hA([e,t],[n,i]){const s=Qt(e,n);return s===0?Qt(t,i):s}class az{constructor(t){this.Hn=t,this.buffer=new Tn(hA),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();hA(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oz{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){vt(uA,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gc(n)?vt(uA,"Ignoring IndexedDB error during garbage collection: ",n):await $c(n)}await this.er(3e5)})}}class lz{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return ot.resolve(Lm.ae);const i=new az(n);return this.tr.forEachTarget(t,s=>i.Zn(s.sequenceNumber)).next(()=>this.tr.rr(t,s=>i.Zn(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.tr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(cA)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cA):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let i,s,a,l,c,h,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(t,s))).next(y=>(i=y,c=Date.now(),this.removeTargets(t,i,n))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(f=Date.now(),oc()<=ee.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y})))}}function cz(e,t){return new lz(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(){this.changes=new dl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ot.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&Eh(i.mutation,s,Ni.empty(),wn.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,ie()).next(()=>i))}getLocalViewOfDocuments(t,n,i=ie()){const s=qo();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(a=>{let l=fh();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const i=qo();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,ie()))}populateOverlays(t,n,i){const s=[];return i.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(t,s).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(t,n,i,s){let a=Zr();const l=Sh(),c=function(){return Sh()}();return n.forEach((h,f)=>{const p=i.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof no)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Eh(p.mutation,f,p.mutation.getFieldMask(),wn.now())):l.set(f.key,Ni.empty())}),this.recalculateAndSaveOverlays(t,a).next(h=>(h.forEach((f,p)=>l.set(f,p)),n.forEach((f,p)=>{var y;return c.set(f,new hz(p,(y=l.get(f))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(t,n){const i=Sh();let s=new Fe((l,c)=>l-c),a=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=i.get(h)||Ni.empty();p=c.applyToLocalView(f,p),i.set(h,p);const y=(s.get(c.batchId)||ie()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,p=h.value,y=xI();p.forEach(_=>{if(!a.has(_)){const b=PI(n.get(_),i.get(_));b!==null&&y.set(_,b),a=a.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,y))}return ot.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(l){return It.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):m4(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-a.size):ot.resolve(qo());let c=jh,h=a;return l.next(f=>ot.forEach(f,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(p)?ot.resolve():this.remoteDocumentCache.getEntry(t,p).next(_=>{h=h.insert(p,_)}))).next(()=>this.populateOverlays(t,f,a)).next(()=>this.computeViews(t,h,f,ie())).next(p=>({batchId:c,changes:EI(p)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new It(n)).next(i=>{let s=fh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const a=n.collectionGroup;let l=fh();return this.indexManager.getCollectionParents(t,a).next(c=>ot.forEach(c,h=>{const f=function(y,_){return new Um(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,f,i,s).next(p=>{p.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,n,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,a,s))).next(l=>{a.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Qn.newInvalidDocument(p)))});let c=fh();return l.forEach((h,f)=>{const p=a.get(h);p!==void 0&&Eh(p.mutation,f,Ni.empty(),wn.now()),zm(n,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return ot.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:er(s.createTime)}}(n)),ot.resolve()}getNamedQuery(t,n){return ot.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:nz(s.bundledQuery),readTime:er(s.readTime)}}(n)),ot.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(){this.overlays=new Fe(It.comparator),this.Rr=new Map}getOverlay(t,n){return ot.resolve(this.overlays.get(n))}getOverlays(t,n){const i=qo();return ot.forEach(n,s=>this.getOverlay(t,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,a)=>{this.Et(t,n,a)}),ot.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.Rr.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),ot.resolve()}getOverlaysForCollection(t,n,i){const s=qo(),a=n.length+1,l=new It(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>i&&s.set(h.getKey(),h)}return ot.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let a=new Fe((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=a.get(f.largestBatchId);p===null&&(p=qo(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=qo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=s)););return ot.resolve(c)}Et(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(i.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new M4(n,i));let a=this.Rr.get(n);a===void 0&&(a=ie(),this.Rr.set(n,a)),this.Rr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(t){return ot.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ot.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(){this.Vr=new Tn(In.mr),this.gr=new Tn(In.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const i=new In(t,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.wr(new In(t,n))}Sr(t,n){t.forEach(i=>this.removeReference(i,n))}br(t){const n=new It(new Je([])),i=new In(n,t),s=new In(n,t+1),a=[];return this.gr.forEachInRange([i,s],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new It(new Je([])),i=new In(n,t),s=new In(n,t+1);let a=ie();return this.gr.forEachInRange([i,s],l=>{a=a.add(l.key)}),a}containsKey(t){const n=new In(t,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class In{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return It.comparator(t.key,n.key)||Qt(t.Cr,n.Cr)}static pr(t,n){return Qt(t.Cr,n.Cr)||It.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Tn(In.mr)}checkEmpty(t){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new P4(a,n,i,s);this.mutationQueue.push(l);for(const c of s)this.Mr=this.Mr.add(new In(c.key,a)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return ot.resolve(l)}lookupMutationBatch(t,n){return ot.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.Nr(i),a=s<0?0:s;return ot.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?F0:this.Fr-1)}getAllMutationBatches(t){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new In(n,0),s=new In(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,s],l=>{const c=this.Or(l.Cr);a.push(c)}),ot.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Tn(Qt);return n.forEach(s=>{const a=new In(s,0),l=new In(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{i=i.add(c.Cr)})}),ot.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let a=i;It.isDocumentKey(a)||(a=a.child(""));const l=new In(new It(a),0);let c=new Tn(Qt);return this.Mr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(h.Cr)),!0)},l),ot.resolve(this.Br(c))}Br(t){const n=[];return t.forEach(i=>{const s=this.Or(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){_e(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ot.forEach(n.mutations,s=>{const a=new In(s.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,n){const i=new In(n,0),s=this.Mr.firstAfterOrEqual(i);return ot.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,ot.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(t){this.kr=t,this.docs=function(){return new Fe(It.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return ot.resolve(i?i.document.mutableCopy():Qn.newInvalidDocument(n))}getEntries(t,n){let i=Zr();return n.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():Qn.newInvalidDocument(s))}),ot.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let a=Zr();const l=n.path,c=new It(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||$B(WB(p),i)<=0||(s.has(p.key)||zm(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return ot.resolve(a)}getAllFromCollectionGroup(t,n,i,s){Ut()}qr(t,n){return ot.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new vz(this)}getSize(t){return ot.resolve(this.size)}}class vz extends uz{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(t,s)):this.Ir.removeEntry(i)}),ot.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(t){this.persistence=t,this.Qr=new dl(n=>W0(n),$0),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Z0,this.targetCount=0,this.Kr=Ic.Un()}forEachTarget(t,n){return this.Qr.forEach((i,s)=>n(s)),ot.resolve()}getLastRemoteSnapshotVersion(t){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ot.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),ot.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new Ic(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,ot.resolve()}updateTargetData(t,n){return this.zn(n),ot.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ot.resolve()}removeTargets(t,n,i){let s=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),ot.waitFor(a).next(()=>s)}getTargetCount(t){return ot.resolve(this.targetCount)}getTargetData(t,n){const i=this.Qr.get(n)||null;return ot.resolve(i)}addMatchingKeys(t,n,i){return this.Ur.yr(n,i),ot.resolve()}removeMatchingKeys(t,n,i){this.Ur.Sr(n,i);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(t,l))}),ot.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),ot.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Ur.vr(n);return ot.resolve(i)}containsKey(t,n){return ot.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Lm(0),this.zr=!1,this.zr=!0,this.jr=new mz,this.referenceDelegate=t(this),this.Hr=new _z(this),this.indexManager=new iz,this.remoteDocumentCache=function(s){return new yz(s)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new ez(n),this.Yr=new dz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new pz,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Wr[t.toKey()];return i||(i=new gz(n,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,i){vt("MemoryPersistence","Starting transaction:",t);const s=new bz(this.Gr.next());return this.referenceDelegate.Zr(),i(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(t,n){return ot.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,n)))}}class bz extends KB{constructor(t){super(),this.currentSequenceNumber=t}}class J0{constructor(t){this.persistence=t,this.ti=new Z0,this.ni=null}static ri(t){return new J0(t)}get ii(){if(this.ni)return this.ni;throw Ut()}addReference(t,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),ot.resolve()}removeReference(t,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),ot.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),ot.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.ii,i=>{const s=It.fromPath(i);return this.si(t,s).next(a=>{a||n.removeEntry(s,zt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return ot.or([()=>ot.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class sm{constructor(t,n){this.persistence=t,this.oi=new dl(i=>QB(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=cz(this,n)}static ri(t,n){return new sm(t,n)}Zr(){}Xr(t){return ot.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}sr(t){let n=0;return this.rr(t,i=>{n++}).next(()=>n)}rr(t,n){return ot.forEach(this.oi,(i,s)=>this.ar(t,i,s).next(a=>a?ot.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(t,l=>this.ar(t,l,n).next(c=>{c||(i++,a.removeEntry(l,zt.min()))})).next(()=>a.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),ot.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),ot.resolve()}removeReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),ot.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),ot.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Dp(t.data.value)),n}ar(t,n,i){return ot.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.oi.get(n);return ot.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Hi=i,this.Ji=s}static Yi(t,n){let i=ie(),s=ie();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new tb(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return tV()?8:YB(ti())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,i,s){const a={result:null};return this.rs(t,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(t,n,s,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new wz;return this._s(t,n,l).next(c=>{if(a.result=c,this.Xi)return this.us(t,n,l,c.size)})}).next(()=>a.result)}us(t,n,i,s){return i.documentReadCount<this.es?(oc()<=ee.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",lc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ot.resolve()):(oc()<=ee.DEBUG&&vt("QueryEngine","Query:",lc(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ts*s?(oc()<=ee.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",lc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Js(n))):ot.resolve())}rs(t,n){if(Jx(n))return ot.resolve(null);let i=Js(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=A_(n,null,"F"),i=Js(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const l=ie(...a);return this.ns.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,i).next(h=>{const f=this.cs(n,c);return this.ls(n,f,l,h.readTime)?this.rs(t,A_(n,null,"F")):this.hs(t,f,n,h)}))})))}ss(t,n,i,s){return Jx(n)||s.isEqual(zt.min())?ot.resolve(null):this.ns.getDocuments(t,i).next(a=>{const l=this.cs(n,a);return this.ls(n,l,i,s)?ot.resolve(null):(oc()<=ee.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),lc(n)),this.hs(t,l,n,qB(s,jh)).next(c=>c))})}cs(t,n){let i=new Tn(TI(t));return n.forEach((s,a)=>{zm(t,a)&&(i=i.add(a))}),i}ls(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(t,n,i){return oc()<=ee.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",lc(n)),this.ns.getDocumentsMatchingQuery(t,n,qa.min(),i)}hs(t,n,i,s){return this.ns.getDocumentsMatchingQuery(t,i,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="LocalStore",Sz=3e8;class Ez{constructor(t,n,i,s){this.persistence=t,this.Ps=n,this.serializer=s,this.Ts=new Fe(Qt),this.Is=new dl(a=>W0(a),$0),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fz(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function xz(e,t,n,i){return new Ez(e,t,n,i)}async function GI(e,t){const n=Ht(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,n.As(t),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],c=[];let h=ie();for(const f of s){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of a){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:c}))})})}function Az(e,t){const n=Ht(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,f,p){const y=f.batch,_=y.keys();let b=ot.resolve();return _.forEach(T=>{b=b.next(()=>p.getEntry(h,T)).next(E=>{const S=f.docVersions.get(T);_e(S!==null),E.version.compareTo(S)<0&&(y.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),p.addEntry(E)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(n,i,t,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=ie();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function KI(e){const t=Ht(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function Rz(e,t){const n=Ht(e),i=t.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const c=[];t.targetChanges.forEach((p,y)=>{const _=s.get(y);if(!_)return;c.push(n.Hr.removeMatchingKeys(a,p.removedDocuments,y).next(()=>n.Hr.addMatchingKeys(a,p.addedDocuments,y)));let b=_.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(y)!==null?b=b.withResumeToken(Fn.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,i)),s=s.insert(y,b),function(E,S,C){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=Sz?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(_,b,p)&&c.push(n.Hr.updateTargetData(a,b))});let h=Zr(),f=ie();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))}),c.push(Cz(a,l,t.documentUpdates).next(p=>{h=p.Vs,f=p.fs})),!i.isEqual(zt.min())){const p=n.Hr.getLastRemoteSnapshotVersion(a).next(y=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));c.push(p)}return ot.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,f)).next(()=>h)}).then(a=>(n.Ts=s,a))}function Cz(e,t,n){let i=ie(),s=ie();return n.forEach(a=>i=i.add(a)),t.getEntries(e,i).next(a=>{let l=Zr();return n.forEach((c,h)=>{const f=a.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(zt.min())?(t.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(h),l=l.insert(c,h)):vt(eb,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{Vs:l,fs:s}})}function Dz(e,t){const n=Ht(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=F0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Iz(e,t){const n=Ht(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Hr.getTargetData(i,t).next(a=>a?(s=a,ot.resolve(s)):n.Hr.allocateTargetId(i).next(l=>(s=new Na(t,l,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(t,i.targetId)),i})}async function k_(e,t,n){const i=Ht(e),s=i.Ts.get(t),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Gc(l))throw l;vt(eb,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ts=i.Ts.remove(t),i.Is.delete(s.target)}function fA(e,t,n){const i=Ht(e);let s=zt.min(),a=ie();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const y=Ht(h),_=y.Is.get(p);return _!==void 0?ot.resolve(y.Ts.get(_)):y.Hr.getTargetData(f,p)}(i,l,Js(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(l,t,n?s:zt.min(),n?a:ie())).next(c=>(kz(i,y4(t),c),{documents:c,gs:a})))}function kz(e,t,n){let i=e.Es.get(t)||zt.min();n.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),e.Es.set(t,i)}class dA{constructor(){this.activeTargetIds=S4()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Pz{constructor(){this.ho=new dA,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,i){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new dA,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="ConnectivityMonitor";class mA{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){vt(pA,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){vt(pA,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ep=null;function P_(){return ep===null?ep=function(){return 268435456+Math.round(2147483648*Math.random())}():ep++,"0x"+ep.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="RestConnection",Oz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nz{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database===Zp?`project_id=${i}`:`project_id=${i}&database_id=${s}`}So(t,n,i,s,a){const l=P_(),c=this.bo(t,n.toUriEncodedString());vt(Av,`Sending RPC '${t}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,a),this.vo(t,c,h,i).then(f=>(vt(Av,`Received RPC '${t}' ${l}: `,f),f),f=>{throw xc(Av,`RPC '${t}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}Co(t,n,i,s,a,l){return this.So(t,n,i,s,a)}Do(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}bo(t,n){const i=Oz[t];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="WebChannelConnection";class Vz extends Nz{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,i,s){const a=P_();return new Promise((l,c)=>{const h=new QD;h.setWithCredentials(!0),h.listenOnce(ZD.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Cp.NO_ERROR:const p=h.getResponseJson();vt(Gn,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case Cp.TIMEOUT:vt(Gn,`RPC '${t}' ${a} timed out`),c(new Ct(ct.DEADLINE_EXCEEDED,"Request time out"));break;case Cp.HTTP_ERROR:const y=h.getStatus();if(vt(Gn,`RPC '${t}' ${a} failed with status:`,y,"response text:",h.getResponseText()),y>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const b=_==null?void 0:_.error;if(b&&b.status&&b.message){const T=function(S){const C=S.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(C)>=0?C:ct.UNKNOWN}(b.status);c(new Ct(T,b.message))}else c(new Ct(ct.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ct(ct.UNAVAILABLE,"Connection failed."));break;default:Ut()}}finally{vt(Gn,`RPC '${t}' ${a} completed.`)}});const f=JSON.stringify(s);vt(Gn,`RPC '${t}' ${a} sending request:`,s),h.send(n,"POST",f,i,15)})}Wo(t,n,i){const s=P_(),a=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=eI(),c=tI(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=a.join("");vt(Gn,`Creating RPC '${t}' stream ${s}: ${p}`,h);const y=l.createWebChannel(p,h);let _=!1,b=!1;const T=new Lz({Fo:S=>{b?vt(Gn,`Not sending because RPC '${t}' stream ${s} is closed:`,S):(_||(vt(Gn,`Opening RPC '${t}' stream ${s} transport.`),y.open(),_=!0),vt(Gn,`RPC '${t}' stream ${s} sending:`,S),y.send(S))},Mo:()=>y.close()}),E=(S,C,j)=>{S.listen(C,O=>{try{j(O)}catch(q){setTimeout(()=>{throw q},0)}})};return E(y,hh.EventType.OPEN,()=>{b||(vt(Gn,`RPC '${t}' stream ${s} transport opened.`),T.Qo())}),E(y,hh.EventType.CLOSE,()=>{b||(b=!0,vt(Gn,`RPC '${t}' stream ${s} transport closed`),T.Uo())}),E(y,hh.EventType.ERROR,S=>{b||(b=!0,xc(Gn,`RPC '${t}' stream ${s} transport errored:`,S),T.Uo(new Ct(ct.UNAVAILABLE,"The operation could not be completed")))}),E(y,hh.EventType.MESSAGE,S=>{var C;if(!b){const j=S.data[0];_e(!!j);const O=j,q=(O==null?void 0:O.error)||((C=O[0])===null||C===void 0?void 0:C.error);if(q){vt(Gn,`RPC '${t}' stream ${s} received error:`,q);const z=q.status;let $=function(k){const U=fn[k];if(U!==void 0)return NI(U)}(z),M=q.message;$===void 0&&($=ct.INTERNAL,M="Unknown error status: "+z+" with message "+q.message),b=!0,T.Uo(new Ct($,M)),y.close()}else vt(Gn,`RPC '${t}' stream ${s} received:`,j),T.Ko(j)}}),E(c,JD.STAT_EVENT,S=>{S.stat===b_.PROXY?vt(Gn,`RPC '${t}' stream ${s} detected buffering proxy`):S.stat===b_.NOPROXY&&vt(Gn,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function Rv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(e){return new z4(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,n,i=1e3,s=1.5,a=6e4){this.Ti=t,this.timerId=n,this.Go=i,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-i);s>0&&vt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="PersistentStream";class XI{constructor(t,n,i,s,a,l,c,h){this.Ti=t,this.n_=i,this.r_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new YI(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===ct.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.i_===n&&this.V_(i,s)},i=>{t(()=>{const s=new Ct(ct.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(s)})})}V_(t,n){const i=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{i(()=>this.m_(s))}),this.stream.onMessage(s=>{i(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return vt(gA,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(vt(gA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jz extends XI{constructor(t,n,i,s,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=q4(this.serializer,t),i=function(a){if(!("targetChange"in a))return zt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?zt.min():l.readTime?er(l.readTime):zt.min()}(t);return this.listener.p_(n,i)}y_(t){const n={};n.database=I_(this.serializer),n.addTarget=function(a,l){let c;const h=l.target;if(c=x_(h)?{documents:G4(a,h)}:{query:K4(a,h).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=jI(a,l.resumeToken);const f=R_(a,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(zt.min())>0){c.readTime=im(a,l.snapshotVersion.toTimestamp());const f=R_(a,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,t);const i=X4(this.serializer,t);i&&(n.labels=i),this.I_(n)}w_(t){const n={};n.database=I_(this.serializer),n.removeTarget=t,this.I_(n)}}class Uz extends XI{constructor(t,n,i,s,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return _e(!!t.streamToken),this.lastStreamToken=t.streamToken,_e(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){_e(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=$4(t.writeResults,t.commitTime),i=er(t.commitTime);return this.listener.v_(i,n)}C_(){const t={};t.database=I_(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>W4(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{}class zz extends Bz{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Ct(ct.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(t,C_(n,i),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ct(ct.UNKNOWN,a.toString())})}Co(t,n,i,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(t,C_(n,i),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ct(ct.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Fz{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qr(n),this.N_=!1):vt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="RemoteStore";class Hz{constructor(t,n,i,s,a){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{i.enqueueAndForget(async()=>{pl(this)&&(vt(il,"Restarting streams for network reachability change."),await async function(h){const f=Ht(h);f.W_.add(4),await bf(f),f.j_.set("Unknown"),f.W_.delete(4),await $m(f)}(this))})}),this.j_=new Fz(i,s)}}async function $m(e){if(pl(e))for(const t of e.G_)await t(!0)}async function bf(e){for(const t of e.G_)await t(!1)}function QI(e,t){const n=Ht(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),rb(n)?sb(n):Kc(n).c_()&&ib(n,t))}function nb(e,t){const n=Ht(e),i=Kc(n);n.K_.delete(t),i.c_()&&ZI(n,t),n.K_.size===0&&(i.c_()?i.P_():pl(n)&&n.j_.set("Unknown"))}function ib(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(zt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Kc(e).y_(t)}function ZI(e,t){e.H_.Ne(t),Kc(e).w_(t)}function sb(e){e.H_=new V4({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Kc(e).start(),e.j_.B_()}function rb(e){return pl(e)&&!Kc(e).u_()&&e.K_.size>0}function pl(e){return Ht(e).W_.size===0}function JI(e){e.H_=void 0}async function qz(e){e.j_.set("Online")}async function Wz(e){e.K_.forEach((t,n)=>{ib(e,t)})}async function $z(e,t){JI(e),rb(e)?(e.j_.q_(t),sb(e)):e.j_.set("Unknown")}async function Gz(e,t,n){if(e.j_.set("Online"),t instanceof VI&&t.state===2&&t.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.K_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.K_.delete(c),s.H_.removeTarget(c))}(e,t)}catch(i){vt(il,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await rm(e,i)}else if(t instanceof Pp?e.H_.We(t):t instanceof LI?e.H_.Ze(t):e.H_.je(t),!n.isEqual(zt.min()))try{const i=await KI(e.localStore);n.compareTo(i)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.K_.get(f);p&&a.K_.set(f,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,f)=>{const p=a.K_.get(h);if(!p)return;a.K_.set(h,p.withResumeToken(Fn.EMPTY_BYTE_STRING,p.snapshotVersion)),ZI(a,h);const y=new Na(p.target,h,f,p.sequenceNumber);ib(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(i){vt(il,"Failed to raise snapshot:",i),await rm(e,i)}}async function rm(e,t,n){if(!Gc(t))throw t;e.W_.add(1),await bf(e),e.j_.set("Offline"),n||(n=()=>KI(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{vt(il,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await $m(e)})}function tk(e,t){return t().catch(n=>rm(e,n,t))}async function Gm(e){const t=Ht(e),n=Ka(t);let i=t.U_.length>0?t.U_[t.U_.length-1].batchId:F0;for(;Kz(t);)try{const s=await Dz(t.localStore,i);if(s===null){t.U_.length===0&&n.P_();break}i=s.batchId,Yz(t,s)}catch(s){await rm(t,s)}ek(t)&&nk(t)}function Kz(e){return pl(e)&&e.U_.length<10}function Yz(e,t){e.U_.push(t);const n=Ka(e);n.c_()&&n.S_&&n.b_(t.mutations)}function ek(e){return pl(e)&&!Ka(e).u_()&&e.U_.length>0}function nk(e){Ka(e).start()}async function Xz(e){Ka(e).C_()}async function Qz(e){const t=Ka(e);for(const n of e.U_)t.b_(n.mutations)}async function Zz(e,t,n){const i=e.U_.shift(),s=Y0.from(i,t,n);await tk(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Gm(e)}async function Jz(e,t){t&&Ka(e).S_&&await async function(i,s){if(function(l){return N4(l)&&l!==ct.ABORTED}(s.code)){const a=i.U_.shift();Ka(i).h_(),await tk(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Gm(i)}}(e,t),ek(e)&&nk(e)}async function yA(e,t){const n=Ht(e);n.asyncQueue.verifyOperationInProgress(),vt(il,"RemoteStore received new credentials");const i=pl(n);n.W_.add(3),await bf(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await $m(n)}async function tF(e,t){const n=Ht(e);t?(n.W_.delete(2),await $m(n)):t||(n.W_.add(2),await bf(n),n.j_.set("Unknown"))}function Kc(e){return e.J_||(e.J_=function(n,i,s){const a=Ht(n);return a.M_(),new jz(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(e.datastore,e.asyncQueue,{xo:qz.bind(null,e),No:Wz.bind(null,e),Lo:$z.bind(null,e),p_:Gz.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),rb(e)?sb(e):e.j_.set("Unknown")):(await e.J_.stop(),JI(e))})),e.J_}function Ka(e){return e.Y_||(e.Y_=function(n,i,s){const a=Ht(n);return a.M_(),new Uz(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:Xz.bind(null,e),Lo:Jz.bind(null,e),D_:Qz.bind(null,e),v_:Zz.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await Gm(e)):(await e.Y_.stop(),e.U_.length>0&&(vt(il,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))})),e.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t,n,i,s,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,a){const l=Date.now()+i,c=new ab(t,n,l,s,a);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ob(e,t){if(Qr("AsyncQueue",`${t}: ${e}`),Gc(e))return new Ct(ct.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{static emptySet(t){return new _c(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||It.comparator(n.key,i.key):(n,i)=>It.comparator(n.key,i.key),this.keyedMap=fh(),this.sortedSet=new Fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof _c)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new _c;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.Z_=new Fe(It.comparator)}track(t){const n=t.doc.key,i=this.Z_.get(n);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(n):t.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):Ut():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,i)=>{t.push(i)}),t}}class kc{constructor(t,n,i,s,a,l,c,h,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,n,i,s,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new kc(t,n,_c.emptySet(n),l,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class nF{constructor(){this.queries=_A(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const s=Ht(n),a=s.queries;s.queries=_A(),a.forEach((l,c)=>{for(const h of c.ta)h.onError(i)})})(this,new Ct(ct.ABORTED,"Firestore shutting down"))}}function _A(){return new dl(e=>wI(e),Bm)}async function iF(e,t){const n=Ht(e);let i=3;const s=t.query;let a=n.queries.get(s);a?!a.na()&&t.ra()&&(i=2):(a=new eF,i=t.ra()?0:1);try{switch(i){case 0:a.ea=await n.onListen(s,!0);break;case 1:a.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=ob(l,`Initialization of query '${lc(t.query)}' failed`);return void t.onError(c)}n.queries.set(s,a),a.ta.push(t),t.sa(n.onlineState),a.ea&&t.oa(a.ea)&&lb(n)}async function sF(e,t){const n=Ht(e),i=t.query;let s=3;const a=n.queries.get(i);if(a){const l=a.ta.indexOf(t);l>=0&&(a.ta.splice(l,1),a.ta.length===0?s=t.ra()?0:1:!a.na()&&t.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function rF(e,t){const n=Ht(e);let i=!1;for(const s of t){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.ta)c.oa(s)&&(i=!0);l.ea=s}}i&&lb(n)}function aF(e,t,n){const i=Ht(e),s=i.queries.get(t);if(s)for(const a of s.ta)a.onError(n);i.queries.delete(t)}function lb(e){e.ia.forEach(t=>{t.next()})}var M_,bA;(bA=M_||(M_={}))._a="default",bA.Cache="cache";class oF{constructor(t,n,i){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new kc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=kc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==M_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(t){this.key=t}}class sk{constructor(t){this.key=t}}class lF{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ie(),this.mutatedKeys=ie(),this.ya=TI(t),this.wa=new _c(this.ya)}get Sa(){return this.fa}ba(t,n){const i=n?n.Da:new vA,s=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,y)=>{const _=s.get(p),b=zm(this.query,y)?y:null,T=!!_&&this.mutatedKeys.has(_.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let S=!1;_&&b?_.data.isEqual(b.data)?T!==E&&(i.track({type:3,doc:b}),S=!0):this.va(_,b)||(i.track({type:2,doc:b}),S=!0,(h&&this.ya(b,h)>0||f&&this.ya(b,f)<0)&&(c=!0)):!_&&b?(i.track({type:0,doc:b}),S=!0):_&&!b&&(i.track({type:1,doc:_}),S=!0,(h||f)&&(c=!0)),S&&(b?(l=l.add(b),a=E?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{wa:l,Da:i,ls:c,mutatedKeys:a}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const a=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const l=t.Da.X_();l.sort((p,y)=>function(b,T){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut()}};return E(b)-E(T)}(p.type,y.type)||this.ya(p.doc,y.doc)),this.Ca(i),s=s!=null&&s;const c=n&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,f=h!==this.ga;return this.ga=h,l.length!==0||f?{snapshot:new kc(this.query,t.wa,a,l,t.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new vA,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=ie(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return t.forEach(i=>{this.pa.has(i)||n.push(new sk(i))}),this.pa.forEach(i=>{t.has(i)||n.push(new ik(i))}),n}Oa(t){this.fa=t.gs,this.pa=ie();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return kc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const cb="SyncEngine";class cF{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class uF{constructor(t){this.key=t,this.Ba=!1}}class hF{constructor(t,n,i,s,a,l){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new dl(c=>wI(c),Bm),this.qa=new Map,this.Qa=new Set,this.$a=new Fe(It.comparator),this.Ua=new Map,this.Ka=new Z0,this.Wa={},this.Ga=new Map,this.za=Ic.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function fF(e,t,n=!0){const i=uk(e);let s;const a=i.ka.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await rk(i,t,n,!0),s}async function dF(e,t){const n=uk(e);await rk(n,t,!0,!1)}async function rk(e,t,n,i){const s=await Iz(e.localStore,Js(t)),a=s.targetId,l=e.sharedClientState.addLocalQueryTarget(a,n);let c;return i&&(c=await pF(e,t,a,l==="current",s.resumeToken)),e.isPrimaryClient&&n&&QI(e.remoteStore,s),c}async function pF(e,t,n,i,s){e.Ha=(y,_,b)=>async function(E,S,C,j){let O=S.view.ba(C);O.ls&&(O=await fA(E.localStore,S.query,!1).then(({documents:M})=>S.view.ba(M,O)));const q=j&&j.targetChanges.get(S.targetId),z=j&&j.targetMismatches.get(S.targetId)!=null,$=S.view.applyChanges(O,E.isPrimaryClient,q,z);return TA(E,S.targetId,$.Ma),$.snapshot}(e,y,_,b);const a=await fA(e.localStore,t,!0),l=new lF(t,a.gs),c=l.ba(a.documents),h=_f.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),f=l.applyChanges(c,e.isPrimaryClient,h);TA(e,n,f.Ma);const p=new cF(t,n,l);return e.ka.set(t,p),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),f.snapshot}async function mF(e,t,n){const i=Ht(e),s=i.ka.get(t),a=i.qa.get(s.targetId);if(a.length>1)return i.qa.set(s.targetId,a.filter(l=>!Bm(l,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await k_(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&nb(i.remoteStore,s.targetId),O_(i,s.targetId)}).catch($c)):(O_(i,s.targetId),await k_(i.localStore,s.targetId,!0))}async function gF(e,t){const n=Ht(e),i=n.ka.get(t),s=n.qa.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),nb(n.remoteStore,i.targetId))}async function yF(e,t,n){const i=EF(e);try{const s=await function(l,c){const h=Ht(l),f=wn.now(),p=c.reduce((b,T)=>b.add(T.key),ie());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let T=Zr(),E=ie();return h.ds.getEntries(b,p).next(S=>{T=S,T.forEach((C,j)=>{j.isValidDocument()||(E=E.add(C))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,T)).next(S=>{y=S;const C=[];for(const j of c){const O=I4(j,y.get(j.key).overlayedDocument);O!=null&&C.push(new no(j.key,O,pI(O.value.mapValue),tr.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,C,c)}).next(S=>{_=S;const C=S.applyToLocalDocumentSet(y,E);return h.documentOverlayCache.saveOverlays(b,S.batchId,C)})}).then(()=>({batchId:_.batchId,changes:EI(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let f=l.Wa[l.currentUser.toKey()];f||(f=new Fe(Qt)),f=f.insert(c,h),l.Wa[l.currentUser.toKey()]=f}(i,s.batchId,n),await wf(i,s.changes),await Gm(i.remoteStore)}catch(s){const a=ob(s,"Failed to persist write");n.reject(a)}}async function ak(e,t){const n=Ht(e);try{const i=await Rz(n.localStore,t);t.targetChanges.forEach((s,a)=>{const l=n.Ua.get(a);l&&(_e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?_e(l.Ba):s.removedDocuments.size>0&&(_e(l.Ba),l.Ba=!1))}),await wf(n,i,t)}catch(i){await $c(i)}}function wA(e,t,n){const i=Ht(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.ka.forEach((a,l)=>{const c=l.view.sa(t);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=Ht(l);h.onlineState=c;let f=!1;h.queries.forEach((p,y)=>{for(const _ of y.ta)_.sa(c)&&(f=!0)}),f&&lb(h)}(i.eventManager,t),s.length&&i.La.p_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function vF(e,t,n){const i=Ht(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Ua.get(t),a=s&&s.key;if(a){let l=new Fe(It.comparator);l=l.insert(a,Qn.newNoDocument(a,zt.min()));const c=ie().add(a),h=new qm(zt.min(),new Map,new Fe(Qt),l,c);await ak(i,h),i.$a=i.$a.remove(a),i.Ua.delete(t),ub(i)}else await k_(i.localStore,t,!1).then(()=>O_(i,t,n)).catch($c)}async function _F(e,t){const n=Ht(e),i=t.batch.batchId;try{const s=await Az(n.localStore,t);lk(n,i,null),ok(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await wf(n,s)}catch(s){await $c(s)}}async function bF(e,t,n){const i=Ht(e);try{const s=await function(l,c){const h=Ht(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,c).next(y=>(_e(y!==null),p=y.keys(),h.mutationQueue.removeMutationBatch(f,y))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,t);lk(i,t,n),ok(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await wf(i,s)}catch(s){await $c(s)}}function ok(e,t){(e.Ga.get(t)||[]).forEach(n=>{n.resolve()}),e.Ga.delete(t)}function lk(e,t,n){const i=Ht(e);let s=i.Wa[i.currentUser.toKey()];if(s){const a=s.get(t);a&&(n?a.reject(n):a.resolve(),s=s.remove(t)),i.Wa[i.currentUser.toKey()]=s}}function O_(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.qa.get(t))e.ka.delete(i),n&&e.La.Ja(i,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach(i=>{e.Ka.containsKey(i)||ck(e,i)})}function ck(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(nb(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),ub(e))}function TA(e,t,n){for(const i of n)i instanceof ik?(e.Ka.addReference(i.key,t),wF(e,i)):i instanceof sk?(vt(cb,"Document no longer in limbo: "+i.key),e.Ka.removeReference(i.key,t),e.Ka.containsKey(i.key)||ck(e,i.key)):Ut()}function wF(e,t){const n=t.key,i=n.path.canonicalString();e.$a.get(n)||e.Qa.has(i)||(vt(cb,"New document in limbo: "+n),e.Qa.add(i),ub(e))}function ub(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new It(Je.fromString(t)),i=e.za.next();e.Ua.set(i,new uF(n)),e.$a=e.$a.insert(n,i),QI(e.remoteStore,new Na(Js(G0(n.path)),i,"TargetPurposeLimboResolution",Lm.ae))}}async function wf(e,t,n){const i=Ht(e),s=[],a=[],l=[];i.ka.isEmpty()||(i.ka.forEach((c,h)=>{l.push(i.Ha(h,t,n).then(f=>{var p;if((f||n)&&i.isPrimaryClient){const y=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(f){s.push(f);const y=tb.Yi(h.targetId,f);a.push(y)}}))}),await Promise.all(l),i.La.p_(s),await async function(h,f){const p=Ht(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ot.forEach(f,_=>ot.forEach(_.Hi,b=>p.persistence.referenceDelegate.addReference(y,_.targetId,b)).next(()=>ot.forEach(_.Ji,b=>p.persistence.referenceDelegate.removeReference(y,_.targetId,b)))))}catch(y){if(!Gc(y))throw y;vt(eb,"Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const b=p.Ts.get(_),T=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(T);p.Ts=p.Ts.insert(_,E)}}}(i.localStore,a))}async function TF(e,t){const n=Ht(e);if(!n.currentUser.isEqual(t)){vt(cb,"User change. New user:",t.toKey());const i=await GI(n.localStore,t);n.currentUser=t,function(a,l){a.Ga.forEach(c=>{c.forEach(h=>{h.reject(new Ct(ct.CANCELLED,l))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await wf(n,i.Rs)}}function SF(e,t){const n=Ht(e),i=n.Ua.get(t);if(i&&i.Ba)return ie().add(i.key);{let s=ie();const a=n.qa.get(t);if(!a)return s;for(const l of a){const c=n.ka.get(l);s=s.unionWith(c.view.Sa)}return s}}function uk(e){const t=Ht(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ak.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SF.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vF.bind(null,t),t.La.p_=rF.bind(null,t.eventManager),t.La.Ja=aF.bind(null,t.eventManager),t}function EF(e){const t=Ht(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_F.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bF.bind(null,t),t}class am{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Wm(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return xz(this.persistence,new Tz,t.initialUser,this.serializer)}Xa(t){return new $I(J0.ri,this.serializer)}Za(t){return new Pz}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}am.provider={build:()=>new am};class xF extends am{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){_e(this.persistence.referenceDelegate instanceof sm);const i=this.persistence.referenceDelegate.garbageCollector;return new oz(i,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?bi.withCacheSize(this.cacheSizeBytes):bi.DEFAULT;return new $I(i=>sm.ri(i,n),this.serializer)}}class N_{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>wA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=TF.bind(null,this.syncEngine),await tF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new nF}()}createDatastore(t){const n=Wm(t.databaseInfo.databaseId),i=function(a){return new Vz(a)}(t.databaseInfo);return function(a,l,c,h){return new zz(a,l,c,h)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,a,l,c){return new Hz(i,s,a,l,c)}(this.localStore,this.datastore,t.asyncQueue,n=>wA(this.syncEngine,n,0),function(){return mA.D()?new mA:new Mz}())}createSyncEngine(t,n){return function(s,a,l,c,h,f,p){const y=new hF(s,a,l,c,h,f);return p&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const a=Ht(s);vt(il,"RemoteStore shutting down."),a.W_.add(5),await bf(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}N_.provider={build:()=>new N_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Qr("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="FirestoreClient";class RF{constructor(t,n,i,s,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Xn.UNAUTHENTICATED,this.clientId=sI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{vt(Ya,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(vt(Ya,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=ob(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Cv(e,t){e.asyncQueue.verifyOperationInProgress(),vt(Ya,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await GI(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function SA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await CF(e);vt(Ya,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>yA(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>yA(t.remoteStore,s)),e._onlineComponents=t}async function CF(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){vt(Ya,"Using user provided OfflineComponentProvider");try{await Cv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===ct.FAILED_PRECONDITION||s.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;xc("Error using user provided cache. Falling back to memory cache: "+n),await Cv(e,new am)}}else vt(Ya,"Using default OfflineComponentProvider"),await Cv(e,new xF(void 0));return e._offlineComponents}async function hk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(vt(Ya,"Using user provided OnlineComponentProvider"),await SA(e,e._uninitializedComponentsProvider._online)):(vt(Ya,"Using default OnlineComponentProvider"),await SA(e,new N_))),e._onlineComponents}function DF(e){return hk(e).then(t=>t.syncEngine)}async function IF(e){const t=await hk(e),n=t.eventManager;return n.onListen=fF.bind(null,t.syncEngine),n.onUnlisten=mF.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=dF.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=gF.bind(null,t.syncEngine),n}function kF(e,t,n={}){const i=new Fa;return e.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,f){const p=new AF({next:_=>{p.su(),l.enqueueAndForget(()=>sF(a,y));const b=_.docs.has(c);!b&&_.fromCache?f.reject(new Ct(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&_.fromCache&&h&&h.source==="server"?f.reject(new Ct(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new oF(G0(c.path),p,{includeMetadataChanges:!0,Ta:!0});return iF(a,y)}(await IF(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(e,t,n){if(!n)throw new Ct(ct.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function MF(e,t,n,i){if(t===!0&&i===!0)throw new Ct(ct.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function xA(e){if(!It.isDocumentKey(e))throw new Ct(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function hb(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ut()}function sl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ct(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hb(e);throw new Ct(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="firestore.googleapis.com",AA=!0;class RA{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dk,this.ssl=AA}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:AA;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=WI;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rz)throw new Ct(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}MF("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fk((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ct(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ct(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ct(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fb{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new NB;switch(i.type){case"firstParty":return new UB(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ct(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=EA.get(n);i&&(vt("ComponentProvider","Removing Datastore"),EA.delete(n),i.terminate())}(this),Promise.resolve()}}function OF(e,t,n,i={}){var s;const a=(e=sl(e,fb))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),c=`${t}:${n}`;a.host!==dk&&a.host!==c&&xc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:i});if(!Kr(h,l)&&(e._setSettings(h),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Xn.MOCK_USER;else{f=KL(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Ct(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Xn(y)}e._authCredentials=new LB(new nI(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new db(this.firestore,t,this._query)}}class Vi{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qh(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Vi(this.firestore,t,this._key)}}class qh extends db{constructor(t,n,i){super(t,n,G0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Vi(this.firestore,null,new It(t))}withConverter(t){return new qh(this.firestore,t,this._path)}}function xs(e,t,...n){if(e=zn(e),arguments.length===1&&(t=sI.newId()),PF("doc","path",t),e instanceof fb){const i=Je.fromString(t,...n);return xA(i),new Vi(e,null,new It(i))}{if(!(e instanceof Vi||e instanceof qh))throw new Ct(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Je.fromString(t,...n));return xA(i),new Vi(e.firestore,e instanceof qh?e.converter:null,new It(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="AsyncQueue";class DA{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new YI(this,"async_queue_retry"),this.Su=()=>{const i=Rv();i&&vt(CA,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=t;const n=Rv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Rv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Fa;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Gc(t))throw t;vt(CA,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw Qr("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(t,n,i){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const s=ab.createAndSchedule(this,t,n,i,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&Ut()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Km extends fb{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new DA,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new DA(t),this._firestoreClient=void 0,await t}}}function NF(e,t){const n=typeof e=="object"?e:D0(),i=typeof e=="string"?e:Zp,s=fl(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=$L("firestore");a&&OF(s,...a)}return s}function pk(e){if(e._terminated)throw new Ct(ct.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||LF(e),e._firestoreClient}function LF(e){var t,n,i;const s=e._freezeSettings(),a=function(c,h,f,p){return new t4(c,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,fk(p.experimentalLongPollingOptions),p.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new RF(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pc(Fn.fromBase64String(t))}catch(n){throw new Ct(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Pc(Fn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ct(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ct(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ct(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=/^__.*__$/;class jF{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new no(t,this.data,this.fieldMask,n,this.fieldTransforms):new vf(t,this.data,n,this.fieldTransforms)}}class mk{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new no(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function gk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut()}}class Xm{constructor(t,n,i,s,a,l){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Xm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.ku({path:i,Qu:!1});return s.$u(t),s}Uu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.ku({path:i,Qu:!1});return s.Bu(),s}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return om(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(gk(this.Lu)&&VF.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class UF{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Wm(t)}ju(t,n,i,s=!1){return new Xm({Lu:t,methodName:n,zu:i,path:Un.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yk(e){const t=e._freezeSettings(),n=Wm(e._databaseId);return new UF(e._databaseId,!!t.ignoreUndefinedProperties,n)}function BF(e,t,n,i,s,a={}){const l=e.ju(a.merge||a.mergeFields?2:0,t,n,s);vb("Data must be an object, but it was:",l,i);const c=vk(i,l);let h,f;if(a.merge)h=new Ni(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const y of a.mergeFields){const _=L_(t,y,n);if(!l.contains(_))throw new Ct(ct.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);bk(p,_)||p.push(_)}h=new Ni(p),f=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,f=l.fieldTransforms;return new jF(new wi(c),h,f)}class Qm extends Tf{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Qm}}function zF(e,t,n){return new Xm({Lu:3,zu:t.settings.zu,methodName:e._methodName,Qu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class gb extends Tf{_toFieldTransform(t){return new kI(t.path,new Fh)}isEqual(t){return t instanceof gb}}class yb extends Tf{constructor(t,n){super(t),this.Hu=n}_toFieldTransform(t){const n=zF(this,t,!0),i=this.Hu.map(a=>Sf(a,n)),s=new Dc(i);return new kI(t.path,s)}isEqual(t){return t instanceof yb&&Kr(this.Hu,t.Hu)}}function FF(e,t,n,i){const s=e.ju(1,t,n);vb("Data must be an object, but it was:",s,i);const a=[],l=wi.empty();eo(i,(h,f)=>{const p=_b(t,h,n);f=zn(f);const y=s.Uu(p);if(f instanceof Qm)a.push(p);else{const _=Sf(f,y);_!=null&&(a.push(p),l.set(p,_))}});const c=new Ni(a);return new mk(l,c,s.fieldTransforms)}function HF(e,t,n,i,s,a){const l=e.ju(1,t,n),c=[L_(t,i,n)],h=[s];if(a.length%2!=0)throw new Ct(ct.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)c.push(L_(t,a[_])),h.push(a[_+1]);const f=[],p=wi.empty();for(let _=c.length-1;_>=0;--_)if(!bk(f,c[_])){const b=c[_];let T=h[_];T=zn(T);const E=l.Uu(b);if(T instanceof Qm)f.push(b);else{const S=Sf(T,E);S!=null&&(f.push(b),p.set(b,S))}}const y=new Ni(f);return new mk(p,y,l.fieldTransforms)}function Sf(e,t){if(_k(e=zn(e)))return vb("Unsupported field value:",t,e),vk(e,t);if(e instanceof Tf)return function(i,s){if(!gk(s.Lu))throw s.Wu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(i,s){const a=[];let l=0;for(const c of i){let h=Sf(c,s.Ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(e,t)}return function(i,s){if((i=zn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return E4(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=wn.fromDate(i);return{timestampValue:im(s.serializer,a)}}if(i instanceof wn){const a=new wn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:im(s.serializer,a)}}if(i instanceof pb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Pc)return{bytesValue:jI(s.serializer,i._byteString)};if(i instanceof Vi){const a=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Q0(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof mb)return function(l,c){return{mapValue:{fields:{[fI]:{stringValue:dI},[Jp]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Wu("VectorValues must only contain numeric values.");return K0(c.serializer,f)})}}}}}}(i,s);throw s.Wu(`Unsupported field value: ${hb(i)}`)}(e,t)}function vk(e,t){const n={};return aI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):eo(e,(i,s)=>{const a=Sf(s,t.qu(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function _k(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof wn||e instanceof pb||e instanceof Pc||e instanceof Vi||e instanceof Tf||e instanceof mb)}function vb(e,t,n){if(!_k(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=hb(n);throw i==="an object"?t.Wu(e+" a custom object"):t.Wu(e+" "+i)}}function L_(e,t,n){if((t=zn(t))instanceof Ym)return t._internalPath;if(typeof t=="string")return _b(e,t);throw om("Field path arguments must be of type string or ",e,!1,void 0,n)}const qF=new RegExp("[~\\*/\\[\\]]");function _b(e,t,n){if(t.search(qF)>=0)throw om(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ym(...t.split("."))._internalPath}catch{throw om(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function om(e,t,n,i,s){const a=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new Ct(ct.INVALID_ARGUMENT,c+e+h)}function bk(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(t,n,i,s,a){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new WF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Tk("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WF extends wk{data(){return super.data()}}function Tk(e,t){return typeof t=="string"?_b(e,t):t instanceof Ym?t._internalPath:t._delegate._internalPath}class $F{convertValue(t,n="none"){switch(Ga(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes($a(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ut()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return eo(t,(s,a)=>{i[s]=this.convertValue(a,n)}),i}convertVectorValue(t){var n,i,s;const a=(s=(i=(n=t.fields)===null||n===void 0?void 0:n[Jp].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>rn(l.doubleValue));return new mb(a)}convertGeoPoint(t){return new pb(rn(t.latitude),rn(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=jm(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Uh(t));default:return null}}convertTimestamp(t){const n=Wa(t);return new wn(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Je.fromString(t);_e(qI(i));const s=new Bh(i.get(1),i.get(3)),a=new It(i.popFirst(5));return s.isEqual(n)||Qr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Sk extends wk{constructor(t,n,i,s,a,l){super(t,n,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new YF(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Tk("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class YF extends Sk{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(e){e=sl(e,Vi);const t=sl(e.firestore,Km);return kF(pk(t),e._key).then(n=>ZF(t,e,n))}class XF extends $F{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pc(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Vi(this.firestore,null,n)}}function QF(e,t,n){e=sl(e,Vi);const i=sl(e.firestore,Km),s=GF(e.converter,t);return Ek(i,[BF(yk(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,tr.none())])}function Zm(e,t,n,...i){e=sl(e,Vi);const s=sl(e.firestore,Km),a=yk(s);let l;return l=typeof(t=zn(t))=="string"||t instanceof Ym?HF(a,"updateDoc",e._key,t,n,i):FF(a,"updateDoc",e._key,t),Ek(s,[l.toMutation(e._key,tr.exists(!0))])}function Ek(e,t){return function(i,s){const a=new Fa;return i.asyncQueue.enqueueAndForget(async()=>yF(await DF(i),s,a)),a.promise}(pk(e),t)}function ZF(e,t,n){const i=n.docs.get(t._key),s=new XF(e);return new Sk(e,s,t._key,i,new KF(n.hasPendingWrites,n.fromCache),t.converter)}function JF(){return new gb("serverTimestamp")}function xk(...e){return new yb("arrayUnion",e)}(function(t,n=!0){(function(s){Wc=s})(Hc),lr(new Es("firestore",(i,{instanceIdentifier:s,options:a})=>{const l=i.getProvider("app").getImmediate(),c=new Km(new VB(i.getProvider("auth-internal")),new BB(l,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ct(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bh(f.options.projectId,p)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),os(Lx,Vx,t),os(Lx,Vx,"esm2017")})();var t3="firebase",e3="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(t3,e3,"app");const Ak="@firebase/installations",bb="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=1e4,Ck=`w:${bb}`,Dk="FIS_v2",n3="https://firebaseinstallations.googleapis.com/v1",i3=60*60*1e3,s3="installations",r3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},rl=new hl(s3,r3,a3);function Ik(e){return e instanceof ks&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk({projectId:e}){return`${n3}/projects/${e}/installations`}function Pk(e){return{token:e.token,requestStatus:2,expiresIn:l3(e.expiresIn),creationTime:Date.now()}}async function Mk(e,t){const i=(await t.json()).error;return rl.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Ok({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function o3(e,{refreshToken:t}){const n=Ok(e);return n.append("Authorization",c3(t)),n}async function Nk(e){const t=await e();return t.status>=500&&t.status<600?e():t}function l3(e){return Number(e.replace("s","000"))}function c3(e){return`${Dk} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=kk(e),s=Ok(e),a=t.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={fid:n,authVersion:Dk,appId:e.appId,sdkVersion:Ck},c={method:"POST",headers:s,body:JSON.stringify(l)},h=await Nk(()=>fetch(i,c));if(h.ok){const f=await h.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:Pk(f.authToken)}}else throw await Mk("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=/^[cdef][\w-]{21}$/,V_="";function d3(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=p3(e);return f3.test(n)?n:V_}catch{return V_}}function p3(e){return h3(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=new Map;function jk(e,t){const n=Jm(e);Uk(n,t),m3(n,t)}function Uk(e,t){const n=Vk.get(e);if(n)for(const i of n)i(t)}function m3(e,t){const n=g3();n&&n.postMessage({key:e,fid:t}),y3()}let Wo=null;function g3(){return!Wo&&"BroadcastChannel"in self&&(Wo=new BroadcastChannel("[Firebase] FID Change"),Wo.onmessage=e=>{Uk(e.data.key,e.data.fid)}),Wo}function y3(){Vk.size===0&&Wo&&(Wo.close(),Wo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="firebase-installations-database",_3=1,al="firebase-installations-store";let Dv=null;function wb(){return Dv||(Dv=fD(v3,_3,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(al)}}})),Dv}async function lm(e,t){const n=Jm(e),s=(await wb()).transaction(al,"readwrite"),a=s.objectStore(al),l=await a.get(n);return await a.put(t,n),await s.done,(!l||l.fid!==t.fid)&&jk(e,t.fid),t}async function Bk(e){const t=Jm(e),i=(await wb()).transaction(al,"readwrite");await i.objectStore(al).delete(t),await i.done}async function tg(e,t){const n=Jm(e),s=(await wb()).transaction(al,"readwrite"),a=s.objectStore(al),l=await a.get(n),c=t(l);return c===void 0?await a.delete(n):await a.put(c,n),await s.done,c&&(!l||l.fid!==c.fid)&&jk(e,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb(e){let t;const n=await tg(e.appConfig,i=>{const s=b3(i),a=w3(e,s);return t=a.registrationPromise,a.installationEntry});return n.fid===V_?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function b3(e){const t=e||{fid:d3(),registrationStatus:0};return zk(t)}function w3(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(rl.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=T3(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:S3(e)}:{installationEntry:t}}async function T3(e,t){try{const n=await u3(e,t);return lm(e.appConfig,n)}catch(n){throw Ik(n)&&n.customData.serverCode===409?await Bk(e.appConfig):await lm(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function S3(e){let t=await IA(e.appConfig);for(;t.registrationStatus===1;)await Lk(100),t=await IA(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Tb(e);return i||n}return t}function IA(e){return tg(e,t=>{if(!t)throw rl.create("installation-not-found");return zk(t)})}function zk(e){return E3(e)?{fid:e.fid,registrationStatus:0}:e}function E3(e){return e.registrationStatus===1&&e.registrationTime+Rk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3({appConfig:e,heartbeatServiceProvider:t},n){const i=A3(e,n),s=o3(e,n),a=t.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={installation:{sdkVersion:Ck,appId:e.appId}},c={method:"POST",headers:s,body:JSON.stringify(l)},h=await Nk(()=>fetch(i,c));if(h.ok){const f=await h.json();return Pk(f)}else throw await Mk("Generate Auth Token",h)}function A3(e,{fid:t}){return`${kk(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sb(e,t=!1){let n;const i=await tg(e.appConfig,a=>{if(!Fk(a))throw rl.create("not-registered");const l=a.authToken;if(!t&&D3(l))return a;if(l.requestStatus===1)return n=R3(e,t),a;{if(!navigator.onLine)throw rl.create("app-offline");const c=k3(a);return n=C3(e,c),c}});return n?await n:i.authToken}async function R3(e,t){let n=await kA(e.appConfig);for(;n.authToken.requestStatus===1;)await Lk(100),n=await kA(e.appConfig);const i=n.authToken;return i.requestStatus===0?Sb(e,t):i}function kA(e){return tg(e,t=>{if(!Fk(t))throw rl.create("not-registered");const n=t.authToken;return P3(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function C3(e,t){try{const n=await x3(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await lm(e.appConfig,i),n}catch(n){if(Ik(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Bk(e.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await lm(e.appConfig,i)}throw n}}function Fk(e){return e!==void 0&&e.registrationStatus===2}function D3(e){return e.requestStatus===2&&!I3(e)}function I3(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+i3}function k3(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function P3(e){return e.requestStatus===1&&e.requestTime+Rk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(e){const t=e,{installationEntry:n,registrationPromise:i}=await Tb(t);return i?i.catch(console.error):Sb(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(e,t=!1){const n=e;return await N3(n),(await Sb(n,t)).token}async function N3(e){const{registrationPromise:t}=await Tb(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(e){if(!e||!e.options)throw Iv("App Configuration");if(!e.name)throw Iv("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Iv(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Iv(e){return rl.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="installations",V3="installations-internal",j3=e=>{const t=e.getProvider("app").getImmediate(),n=L3(t),i=fl(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},U3=e=>{const t=e.getProvider("app").getImmediate(),n=fl(t,Hk).getImmediate();return{getId:()=>M3(n),getToken:s=>O3(n,s)}};function B3(){lr(new Es(Hk,j3,"PUBLIC")),lr(new Es(V3,U3,"PRIVATE"))}B3();os(Ak,bb);os(Ak,bb,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="analytics",z3="firebase_id",F3="origin",H3=60*1e3,q3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Eb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Pm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ji=new hl("analytics","Analytics",W3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(e){if(!e.startsWith(Eb)){const t=ji.create("invalid-gtag-resource",{gtagURL:e});return Si.warn(t.message),""}return e}function qk(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function G3(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function K3(e,t){const n=G3("firebase-js-sdk-policy",{createScriptURL:$3}),i=document.createElement("script"),s=`${Eb}?l=${e}&id=${t}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function Y3(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function X3(e,t,n,i,s,a){const l=i[s];try{if(l)await t[l];else{const h=(await qk(n)).find(f=>f.measurementId===s);h&&await t[h.appId]}}catch(c){Si.error(c)}e("config",s,a)}async function Q3(e,t,n,i,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const c=await qk(n);for(const h of l){const f=c.find(y=>y.measurementId===h),p=f&&t[f.appId];if(p)a.push(p);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),e("event",i,s||{})}catch(a){Si.error(a)}}function Z3(e,t,n,i){async function s(a,...l){try{if(a==="event"){const[c,h]=l;await Q3(e,t,n,c,h)}else if(a==="config"){const[c,h]=l;await X3(e,t,n,i,c,h)}else if(a==="consent"){const[c,h]=l;e("consent",c,h)}else if(a==="get"){const[c,h,f]=l;e("get",c,h,f)}else if(a==="set"){const[c]=l;e("set",c)}else e(a,...l)}catch(c){Si.error(c)}}return s}function J3(e,t,n,i,s){let a=function(...l){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=Z3(a,e,t,n),{gtagCore:a,wrappedGtag:window[s]}}function t5(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Eb)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=30,n5=1e3;class i5{constructor(t={},n=n5){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Wk=new i5;function s5(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function r5(e){var t;const{appId:n,apiKey:i}=e,s={method:"GET",headers:s5(i)},a=q3.replace("{app-id}",n),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let c="";try{const h=await l.json();!((t=h.error)===null||t===void 0)&&t.message&&(c=h.error.message)}catch{}throw ji.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function a5(e,t=Wk,n){const{appId:i,apiKey:s,measurementId:a}=e.options;if(!i)throw ji.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:i};throw ji.create("no-api-key")}const l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new c5;return setTimeout(async()=>{c.abort()},H3),$k({appId:i,apiKey:s,measurementId:a},l,c,t)}async function $k(e,{throttleEndTimeMillis:t,backoffCount:n},i,s=Wk){var a;const{appId:l,measurementId:c}=e;try{await o5(i,t)}catch(h){if(c)return Si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:c};throw h}try{const h=await r5(e);return s.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!l5(f)){if(s.deleteThrottleMetadata(l),c)return Si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:c};throw h}const p=Number((a=f==null?void 0:f.customData)===null||a===void 0?void 0:a.httpStatus)===503?ox(n,s.intervalMillis,e5):ox(n,s.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return s.setThrottleMetadata(l,y),Si.debug(`Calling attemptFetch again in ${p} millis`),$k(e,y,i,s)}}function o5(e,t){return new Promise((n,i)=>{const s=Math.max(t-Date.now(),0),a=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(a),i(ji.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function l5(e){if(!(e instanceof ks)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class c5{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function u5(e,t,n,i,s){if(s&&s.global){e("event",n,i);return}else{const a=await t,l=Object.assign(Object.assign({},i),{send_to:a});e("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(){if(lD())try{await cD()}catch(e){return Si.warn(ji.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Si.warn(ji.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function f5(e,t,n,i,s,a,l){var c;const h=a5(e);h.then(b=>{n[b.measurementId]=b.appId,e.options.measurementId&&b.measurementId!==e.options.measurementId&&Si.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Si.error(b)),t.push(h);const f=h5().then(b=>{if(b)return i.getId()}),[p,y]=await Promise.all([h,f]);t5(a)||K3(a,p.measurementId),s("js",new Date);const _=(c=l==null?void 0:l.config)!==null&&c!==void 0?c:{};return _[F3]="firebase",_.update=!0,y!=null&&(_[z3]=y),s("config",p.measurementId,_),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(t){this.app=t}_delete(){return delete xh[this.app.options.appId],Promise.resolve()}}let xh={},PA=[];const MA={};let kv="dataLayer",p5="gtag",OA,Gk,NA=!1;function m5(){const e=[];if(oD()&&e.push("This is a browser extension environment."),eV()||e.push("Cookies are not available."),e.length>0){const t=e.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=ji.create("invalid-analytics-context",{errorInfo:t});Si.warn(n.message)}}function g5(e,t,n){m5();const i=e.options.appId;if(!i)throw ji.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ji.create("no-api-key");if(xh[i]!=null)throw ji.create("already-exists",{id:i});if(!NA){Y3(kv);const{wrappedGtag:a,gtagCore:l}=J3(xh,PA,MA,kv,p5);Gk=a,OA=l,NA=!0}return xh[i]=f5(e,PA,MA,t,OA,kv,n),new d5(e)}function y5(e=D0()){e=zn(e);const t=fl(e,cm);return t.isInitialized()?t.getImmediate():v5(e)}function v5(e,t={}){const n=fl(e,cm);if(n.isInitialized()){const s=n.getImmediate();if(Kr(t,n.getOptions()))return s;throw ji.create("already-initialized")}return n.initialize({options:t})}function _5(e,t,n,i){e=zn(e),u5(Gk,xh[e.app.options.appId],t,n,i).catch(s=>Si.error(s))}const LA="@firebase/analytics",VA="0.10.12";function b5(){lr(new Es(cm,(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return g5(i,s,n)},"PUBLIC")),lr(new Es("analytics-internal",e,"PRIVATE")),os(LA,VA),os(LA,VA,"esm2017");function e(t){try{const n=t.getProvider(cm).getImmediate();return{logEvent:(i,s,a)=>_5(n,i,s,a)}}catch(n){throw ji.create("interop-component-reg-failed",{reason:n})}}}b5();const w5={apiKey:"AIzaSyARvah7E7kRKD09seeiQSzTb1BIuCWUyVE",authDomain:"next-rep-e58cd.firebaseapp.com",projectId:"next-rep-e58cd",storageBucket:"next-rep-e58cd.firebasestorage.app",messagingSenderId:"6118694283",appId:"1:6118694283:web:fc89b6174edffe7795638e",measurementId:"G-2QWPTRVPQQ"},xb=dD(w5);y5(xb);const Bn=MB(xb),As=NF(xb),T5=new Fr;function S5(){const e=Is(),[t,n]=P.useState(null),[i,s]=P.useState(!1),[a,l]=P.useState(""),[c,h]=P.useState(""),[f,p]=P.useState(!1),[y,_]=P.useState(!1),[b,T]=P.useState(!1);P.useEffect(()=>{(async()=>{try{s(!0);const z=await YU(Bn);if(z){const $=z.user;await S($),e("/dashboard")}}catch(z){console.error("Error processing redirect result:",z),E(z)}finally{s(!1),T(!0)}})();const q=Bn.onAuthStateChanged(z=>{z&&e("/dashboard")});return()=>q()},[e]);const E=O=>{console.log("Auth error code:",O.code),console.log("Auth error message:",O.message),O.code==="auth/requests-from-referer-https://pmin574.github.io-are-blocked."?(n("This domain is currently blocked by Firebase. Please try email login instead."),p(!0)):O.code==="auth/unauthorized-domain"?(n("This domain is not authorized for Firebase Authentication. Please add your domain in Firebase Console."),p(!0)):O.code==="auth/operation-not-allowed"?(n("Google sign-in is not enabled for this project. Please enable it in Firebase Console."),p(!0)):O.code==="auth/configuration-not-found"?n("Authentication configuration error. Please check Firebase Console settings."):O.code==="auth/invalid-api-key"?n("Invalid Firebase API key. Please check your configuration."):O.code==="auth/popup-blocked"?n("Login popup was blocked. Please allow popups for this site."):O.code==="auth/popup-closed-by-user"?n("Login popup was closed. Please try again."):O.code==="auth/cancelled-popup-request"?n(null):O.code==="auth/network-request-failed"?n("Network error. Please check your internet connection."):n(`Authentication error: ${O.message}`)},S=async O=>{if(!O)return;const q=xs(As,"users",O.uid);if(!(await hr(q)).exists())try{await QF(q,{uid:O.uid,displayName:O.displayName||a,email:O.email,photoURL:O.photoURL,createdAt:JF(),workouts:[],exercises:[],goals:[],weightLogs:[]}),console.log("New user document created!")}catch($){throw console.error("Error creating user document:",$),$}},C=async()=>{n(null),s(!0);try{console.log("Attempting sign-in with popup...");const O=await FU(Bn,T5);console.log("Sign-in with popup successful");const q=O.user;await S(q),e("/dashboard")}catch(O){console.error("Error with popup sign-in:",O),O.code==="auth/popup-blocked"||O.code,E(O),s(!1)}},j=async O=>{O.preventDefault(),n(null),s(!0);try{let q;y?q=await vU(Bn,a,c):q=await _U(Bn,a,c),await S(q.user),e("/dashboard")}catch(q){console.error("Error with email authentication:",q),q.code==="auth/user-not-found"?n("User not found. Please check your email or sign up."):q.code==="auth/wrong-password"?n("Incorrect password. Please try again."):q.code==="auth/email-already-in-use"?n("Email already in use. Please sign in instead."):q.code==="auth/weak-password"?n("Password is too weak. Please use at least 6 characters."):q.code==="auth/invalid-email"?n("Invalid email format. Please check your email."):n(`Authentication error: ${q.message}`)}finally{s(!1)}};return!b&&i?R.jsx("div",{className:"login-page",children:R.jsx("div",{className:"login-container",children:R.jsx("div",{className:"loading-spinner",children:"Checking authentication..."})})}):R.jsxs("div",{className:"login-page",children:[R.jsxs("div",{className:"login-container",children:[R.jsxs("div",{className:"app-logo",children:[R.jsx("div",{className:"logo-icon",children:"NR"}),R.jsx("h1",{children:"NextRep"})]}),R.jsx("h2",{children:"Track Your Fitness Journey"}),R.jsx("p",{className:"login-description",children:"Log workouts, track your progress, and achieve your fitness goals with NextRep."}),t&&R.jsx("div",{className:"error-message",children:t}),f?R.jsxs("form",{className:"email-login-form",onSubmit:j,children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"email",children:"Email"}),R.jsx("input",{type:"email",id:"email",value:a,onChange:O=>l(O.target.value),required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"password",children:"Password"}),R.jsx("input",{type:"password",id:"password",value:c,onChange:O=>h(O.target.value),required:!0,minLength:"6"})]}),R.jsx("button",{type:"submit",className:"email-submit-button",disabled:i,children:i?"Processing...":y?"Sign Up":"Sign In"}),R.jsx("div",{className:"auth-toggle",children:y?R.jsxs("p",{children:["Already have an account?"," ",R.jsx("button",{type:"button",onClick:()=>_(!1),children:"Sign In"})]}):R.jsxs("p",{children:["Don't have an account?"," ",R.jsx("button",{type:"button",onClick:()=>_(!0),children:"Sign Up"})]})}),R.jsx("button",{type:"button",className:"back-button",onClick:()=>p(!1),children:"Back to Google Sign In"})]}):R.jsxs(R.Fragment,{children:[R.jsx("button",{className:"login-button",onClick:C,disabled:i,children:i?"Signing in...":R.jsxs(R.Fragment,{children:[R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24px",height:"24px",children:[R.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),R.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),R.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),R.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign in with Google"]})}),R.jsx("div",{className:"login-divider",children:R.jsx("span",{children:"or"})}),R.jsx("button",{className:"email-login-button",onClick:()=>p(!0),children:"Sign in with Email"})]}),R.jsx("div",{className:"login-footer",children:"Start tracking your fitness journey today"})]}),R.jsx("div",{className:"login-background-decoration"})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ef(e){return e+.5|0}const La=(e,t,n)=>Math.max(Math.min(e,n),t);function ph(e){return La(Ef(e*2.55),0,255)}function Ha(e){return La(Ef(e*255),0,255)}function zr(e){return La(Ef(e/2.55)/100,0,1)}function jA(e){return La(Ef(e*100),0,100)}const ns={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},j_=[..."0123456789ABCDEF"],E5=e=>j_[e&15],x5=e=>j_[(e&240)>>4]+j_[e&15],np=e=>(e&240)>>4===(e&15),A5=e=>np(e.r)&&np(e.g)&&np(e.b)&&np(e.a);function R5(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&ns[e[1]]*17,g:255&ns[e[2]]*17,b:255&ns[e[3]]*17,a:t===5?ns[e[4]]*17:255}:(t===7||t===9)&&(n={r:ns[e[1]]<<4|ns[e[2]],g:ns[e[3]]<<4|ns[e[4]],b:ns[e[5]]<<4|ns[e[6]],a:t===9?ns[e[7]]<<4|ns[e[8]]:255})),n}const C5=(e,t)=>e<255?t(e):"";function D5(e){var t=A5(e)?E5:x5;return e?"#"+t(e.r)+t(e.g)+t(e.b)+C5(e.a,t):void 0}const I5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Kk(e,t,n){const i=t*Math.min(n,1-n),s=(a,l=(a+e/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function k5(e,t,n){const i=(s,a=(s+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function P5(e,t,n){const i=Kk(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function M5(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function Ab(e){const n=e.r/255,i=e.g/255,s=e.b/255,a=Math.max(n,i,s),l=Math.min(n,i,s),c=(a+l)/2;let h,f,p;return a!==l&&(p=a-l,f=c>.5?p/(2-a-l):p/(a+l),h=M5(n,i,s,p,a),h=h*60+.5),[h|0,f||0,c]}function Rb(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Ha)}function Cb(e,t,n){return Rb(Kk,e,t,n)}function O5(e,t,n){return Rb(P5,e,t,n)}function N5(e,t,n){return Rb(k5,e,t,n)}function Yk(e){return(e%360+360)%360}function L5(e){const t=I5.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?ph(+t[5]):Ha(+t[5]));const s=Yk(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=O5(s,a,l):t[1]==="hsv"?i=N5(s,a,l):i=Cb(s,a,l),{r:i[0],g:i[1],b:i[2],a:n}}function V5(e,t){var n=Ab(e);n[0]=Yk(n[0]+t),n=Cb(n),e.r=n[0],e.g=n[1],e.b=n[2]}function j5(e){if(!e)return;const t=Ab(e),n=t[0],i=jA(t[1]),s=jA(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${zr(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const UA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},BA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function U5(){const e={},t=Object.keys(BA),n=Object.keys(UA);let i,s,a,l,c;for(i=0;i<t.length;i++){for(l=c=t[i],s=0;s<n.length;s++)a=n[s],c=c.replace(a,UA[a]);a=parseInt(BA[l],16),e[c]=[a>>16&255,a>>8&255,a&255]}return e}let ip;function B5(e){ip||(ip=U5(),ip.transparent=[0,0,0,0]);const t=ip[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const z5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function F5(e){const t=z5.exec(e);let n=255,i,s,a;if(t){if(t[7]!==i){const l=+t[7];n=t[8]?ph(l):La(l*255,0,255)}return i=+t[1],s=+t[3],a=+t[5],i=255&(t[2]?ph(i):La(i,0,255)),s=255&(t[4]?ph(s):La(s,0,255)),a=255&(t[6]?ph(a):La(a,0,255)),{r:i,g:s,b:a,a:n}}}function H5(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${zr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Pv=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,rc=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function q5(e,t,n){const i=rc(zr(e.r)),s=rc(zr(e.g)),a=rc(zr(e.b));return{r:Ha(Pv(i+n*(rc(zr(t.r))-i))),g:Ha(Pv(s+n*(rc(zr(t.g))-s))),b:Ha(Pv(a+n*(rc(zr(t.b))-a))),a:e.a+n*(t.a-e.a)}}function sp(e,t,n){if(e){let i=Ab(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=Cb(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Xk(e,t){return e&&Object.assign(t||{},e)}function zA(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ha(e[3]))):(t=Xk(e,{r:0,g:0,b:0,a:1}),t.a=Ha(t.a)),t}function W5(e){return e.charAt(0)==="r"?F5(e):L5(e)}class Wh{constructor(t){if(t instanceof Wh)return t;const n=typeof t;let i;n==="object"?i=zA(t):n==="string"&&(i=R5(t)||B5(t)||W5(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Xk(this._rgb);return t&&(t.a=zr(t.a)),t}set rgb(t){this._rgb=zA(t)}rgbString(){return this._valid?H5(this._rgb):void 0}hexString(){return this._valid?D5(this._rgb):void 0}hslString(){return this._valid?j5(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let a;const l=n===a?.5:n,c=2*l-1,h=i.a-s.a,f=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;a=1-f,i.r=255&f*i.r+a*s.r+.5,i.g=255&f*i.g+a*s.g+.5,i.b=255&f*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=q5(this._rgb,t._rgb,n)),this}clone(){return new Wh(this.rgb)}alpha(t){return this._rgb.a=Ha(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Ef(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return sp(this._rgb,2,t),this}darken(t){return sp(this._rgb,2,-t),this}saturate(t){return sp(this._rgb,1,t),this}desaturate(t){return sp(this._rgb,1,-t),this}rotate(t){return V5(this._rgb,t),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function jr(){}const $5=(()=>{let e=0;return()=>e++})();function ve(e){return e==null}function dn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function se(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ei(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ws(e,t){return ei(e)?e:t}function ne(e,t){return typeof e>"u"?t:e}const G5=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Me(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Te(e,t,n,i){let s,a,l;if(dn(e))for(a=e.length,s=0;s<a;s++)t.call(n,e[s],s);else if(se(e))for(l=Object.keys(e),a=l.length,s=0;s<a;s++)t.call(n,e[l[s]],l[s])}function um(e,t){let n,i,s,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],a=t[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function hm(e){if(dn(e))return e.map(hm);if(se(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=hm(e[n[s]]);return t}return e}function Qk(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function K5(e,t,n,i){if(!Qk(e))return;const s=t[e],a=n[e];se(s)&&se(a)?$h(s,a,i):t[e]=hm(a)}function $h(e,t,n){const i=dn(t)?t:[t],s=i.length;if(!se(e))return e;n=n||{};const a=n.merger||K5;let l;for(let c=0;c<s;++c){if(l=i[c],!se(l))continue;const h=Object.keys(l);for(let f=0,p=h.length;f<p;++f)a(h[f],e,l,n)}return e}function Ah(e,t){return $h(e,t,{merger:Y5})}function Y5(e,t,n){if(!Qk(e))return;const i=t[e],s=n[e];se(i)&&se(s)?Ah(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=hm(s))}const FA={"":e=>e,x:e=>e.x,y:e=>e.y};function X5(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function Q5(e){const t=X5(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function Mc(e,t){return(FA[t]||(FA[t]=Q5(t)))(e)}function Db(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Gh=e=>typeof e<"u",Xa=e=>typeof e=="function",HA=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function Z5(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const kn=Math.PI,Ss=2*kn,J5=Ss+kn,fm=Number.POSITIVE_INFINITY,t6=kn/180,ws=kn/2,Mo=kn/4,qA=kn*2/3,Zk=Math.log10,nr=Math.sign;function Rh(e,t,n){return Math.abs(e-t)<n}function WA(e){const t=Math.round(e);e=Rh(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Zk(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function e6(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,a)=>s-a).pop(),t}function n6(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Kh(e){return!n6(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function i6(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function s6(e,t,n){let i,s,a;for(i=0,s=e.length;i<s;i++)a=e[i][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function $o(e){return e*(kn/180)}function r6(e){return e*(180/kn)}function $A(e){if(!ei(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function a6(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*kn&&(a+=Ss),{angle:a,distance:s}}function U_(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function o6(e,t){return(e-t+J5)%Ss-kn}function Xs(e){return(e%Ss+Ss)%Ss}function Jk(e,t,n,i){const s=Xs(e),a=Xs(t),l=Xs(n),c=Xs(a-s),h=Xs(l-s),f=Xs(s-a),p=Xs(s-l);return s===a||s===l||i&&a===l||c>h&&f<p}function Li(e,t,n){return Math.max(t,Math.min(n,e))}function l6(e){return Li(e,-32768,32767)}function Va(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Ib(e,t,n){n=n||(l=>e[l]<t);let i=e.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,n(a)?s=a:i=a;return{lo:s,hi:i}}const Go=(e,t,n,i)=>Ib(e,n,i?s=>{const a=e[s][t];return a<n||a===n&&e[s+1][t]===n}:s=>e[s][t]<n),c6=(e,t,n)=>Ib(e,n,i=>e[i][t]>=n);function u6(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const tP=["push","pop","shift","splice","unshift"];function h6(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),tP.forEach(n=>{const i="_onData"+Db(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return e._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...a)}),l}})})}function GA(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(tP.forEach(a=>{delete e[a]}),delete e._chartjs)}function eP(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const nP=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function iP(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,nP.call(window,()=>{i=!1,e.apply(t,n)}))}}function f6(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const kb=e=>e==="start"?"left":e==="end"?"right":"center",Kn=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,d6=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function p6(e,t,n){const i=t.length;let s=0,a=i;if(e._sorted){const{iScale:l,vScale:c,_parsed:h}=e,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,p=l.axis,{min:y,max:_,minDefined:b,maxDefined:T}=l.getUserBounds();if(b){if(s=Math.min(Go(h,p,y).lo,n?i:Go(t,p,l.getPixelForValue(y)).lo),f){const E=h.slice(0,s+1).reverse().findIndex(S=>!ve(S[c.axis]));s-=Math.max(0,E)}s=Li(s,0,i-1)}if(T){let E=Math.max(Go(h,l.axis,_,!0).hi+1,n?0:Go(t,p,l.getPixelForValue(_),!0).hi+1);if(f){const S=h.slice(E-1).findIndex(C=>!ve(C[c.axis]));E+=Math.max(0,S)}a=Li(E,s,i)-s}else a=i-s}return{start:s,count:a}}function m6(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),a}const rp=e=>e===0||e===1,KA=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ss/n)),YA=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ss/n)+1,Ch={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*ws)+1,easeOutSine:e=>Math.sin(e*ws),easeInOutSine:e=>-.5*(Math.cos(kn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>rp(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>rp(e)?e:KA(e,.075,.3),easeOutElastic:e=>rp(e)?e:YA(e,.075,.3),easeInOutElastic(e){return rp(e)?e:e<.5?.5*KA(e*2,.1125,.45):.5+.5*YA(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ch.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ch.easeInBounce(e*2)*.5:Ch.easeOutBounce(e*2-1)*.5+.5};function Pb(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function XA(e){return Pb(e)?e:new Wh(e)}function Mv(e){return Pb(e)?e:new Wh(e).saturate(.5).darken(.1).hexString()}const g6=["x","y","borderWidth","radius","tension"],y6=["color","borderColor","backgroundColor"];function v6(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:y6},numbers:{type:"number",properties:g6}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function _6(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const QA=new Map;function b6(e,t){t=t||{};const n=e+JSON.stringify(t);let i=QA.get(n);return i||(i=new Intl.NumberFormat(e,t),QA.set(n,i)),i}function sP(e,t,n){return b6(t,n).format(e)}const w6={values(e){return dn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,a=e;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),a=T6(e,n)}const l=Zk(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),sP(e,i,h)}};function T6(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var rP={formatters:w6};function S6(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rP.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ol=Object.create(null),B_=Object.create(null);function Dh(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const a=n[i];e=e[a]||(e[a]=Object.create(null))}return e}function Ov(e,t,n){return typeof t=="string"?$h(Dh(e,t),n):$h(Dh(e,""),t)}class E6{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Mv(s.backgroundColor),this.hoverBorderColor=(i,s)=>Mv(s.borderColor),this.hoverColor=(i,s)=>Mv(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Ov(this,t,n)}get(t){return Dh(this,t)}describe(t,n){return Ov(B_,t,n)}override(t,n){return Ov(ol,t,n)}route(t,n,i,s){const a=Dh(this,t),l=Dh(this,i),c="_"+n;Object.defineProperties(a,{[c]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[c],f=l[s];return se(h)?Object.assign({},f,h):ne(h,f)},set(h){this[c]=h}}})}apply(t){t.forEach(n=>n(this))}}var an=new E6({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[v6,_6,S6]);function x6(e){return!e||ve(e.size)||ve(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function ZA(e,t,n,i,s){let a=t[s];return a||(a=t[s]=e.measureText(s).width,n.push(s)),a>i&&(i=a),i}function Oo(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function JA(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function z_(e,t,n,i){aP(e,t,n,i,null)}function aP(e,t,n,i,s){let a,l,c,h,f,p,y,_;const b=t.pointStyle,T=t.rotation,E=t.radius;let S=(T||0)*t6;if(b&&typeof b=="object"&&(a=b.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(S),e.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),e.restore();return}if(!(isNaN(E)||E<=0)){switch(e.beginPath(),b){default:s?e.ellipse(n,i,s/2,E,0,0,Ss):e.arc(n,i,E,0,Ss),e.closePath();break;case"triangle":p=s?s/2:E,e.moveTo(n+Math.sin(S)*p,i-Math.cos(S)*E),S+=qA,e.lineTo(n+Math.sin(S)*p,i-Math.cos(S)*E),S+=qA,e.lineTo(n+Math.sin(S)*p,i-Math.cos(S)*E),e.closePath();break;case"rectRounded":f=E*.516,h=E-f,l=Math.cos(S+Mo)*h,y=Math.cos(S+Mo)*(s?s/2-f:h),c=Math.sin(S+Mo)*h,_=Math.sin(S+Mo)*(s?s/2-f:h),e.arc(n-y,i-c,f,S-kn,S-ws),e.arc(n+_,i-l,f,S-ws,S),e.arc(n+y,i+c,f,S,S+ws),e.arc(n-_,i+l,f,S+ws,S+kn),e.closePath();break;case"rect":if(!T){h=Math.SQRT1_2*E,p=s?s/2:h,e.rect(n-p,i-h,2*p,2*h);break}S+=Mo;case"rectRot":y=Math.cos(S)*(s?s/2:E),l=Math.cos(S)*E,c=Math.sin(S)*E,_=Math.sin(S)*(s?s/2:E),e.moveTo(n-y,i-c),e.lineTo(n+_,i-l),e.lineTo(n+y,i+c),e.lineTo(n-_,i+l),e.closePath();break;case"crossRot":S+=Mo;case"cross":y=Math.cos(S)*(s?s/2:E),l=Math.cos(S)*E,c=Math.sin(S)*E,_=Math.sin(S)*(s?s/2:E),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"star":y=Math.cos(S)*(s?s/2:E),l=Math.cos(S)*E,c=Math.sin(S)*E,_=Math.sin(S)*(s?s/2:E),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l),S+=Mo,y=Math.cos(S)*(s?s/2:E),l=Math.cos(S)*E,c=Math.sin(S)*E,_=Math.sin(S)*(s?s/2:E),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"line":l=s?s/2:Math.cos(S)*E,c=Math.sin(S)*E,e.moveTo(n-l,i-c),e.lineTo(n+l,i+c);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(S)*(s?s/2:E),i+Math.sin(S)*E);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Yh(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function eg(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function ng(e){e.restore()}function A6(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function R6(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function C6(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ve(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function D6(e,t,n,i,s){if(s.strikethrough||s.underline){const a=e.measureText(i),l=t-a.actualBoundingBoxLeft,c=t+a.actualBoundingBoxRight,h=n-a.actualBoundingBoxAscent,f=n+a.actualBoundingBoxDescent,p=s.strikethrough?(h+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(l,p),e.lineTo(c,p),e.stroke()}}function I6(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Xh(e,t,n,i,s,a={}){const l=dn(t)?t:[t],c=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(e.save(),e.font=s.string,C6(e,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&I6(e,a.backdrop),c&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),ve(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(f,n,i,a.maxWidth)),e.fillText(f,n,i,a.maxWidth),D6(e,n,i,f,a),i+=Number(s.lineHeight);e.restore()}function dm(e,t){const{x:n,y:i,w:s,h:a,radius:l}=t;e.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*kn,kn,!0),e.lineTo(n,i+a-l.bottomLeft),e.arc(n+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,kn,ws,!0),e.lineTo(n+s-l.bottomRight,i+a),e.arc(n+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,ws,0,!0),e.lineTo(n+s,i+l.topRight),e.arc(n+s-l.topRight,i+l.topRight,l.topRight,0,-ws,!0),e.lineTo(n+l.topLeft,i)}const k6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,P6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function M6(e,t){const n=(""+e).match(k6);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const O6=e=>+e||0;function oP(e,t){const n={},i=se(t),s=i?Object.keys(t):t,a=se(e)?i?l=>ne(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of s)n[l]=O6(a(l));return n}function lP(e){return oP(e,{top:"y",right:"x",bottom:"y",left:"x"})}function bc(e){return oP(e,["topLeft","topRight","bottomLeft","bottomRight"])}function hs(e){const t=lP(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Zn(e,t){e=e||{},t=t||an.font;let n=ne(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=ne(e.style,t.style);i&&!(""+i).match(P6)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:ne(e.family,t.family),lineHeight:M6(ne(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:ne(e.weight,t.weight),string:""};return s.string=x6(s),s}function ap(e,t,n,i){let s,a,l;for(s=0,a=e.length;s<a;++s)if(l=e[s],l!==void 0&&l!==void 0)return l}function N6(e,t,n){const{min:i,max:s}=e,a=G5(t,(s-i)/2),l=(c,h)=>n&&c===0?0:c+h;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function ml(e,t){return Object.assign(Object.create(e),t)}function Mb(e,t=[""],n,i,s=()=>e[0]){const a=n||e;typeof i>"u"&&(i=fP("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:i,_getTarget:s,override:c=>Mb([c,...e],t,a,i)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete e[0][h],!0},get(c,h){return uP(c,h,()=>H6(h,t,e,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,h){return eR(c).includes(h)},ownKeys(c){return eR(c)},set(c,h,f){const p=c._storage||(c._storage=s());return c[h]=p[h]=f,delete c._keys,!0}})}function Oc(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:cP(e,i),setContext:a=>Oc(e,a,n,i),override:a=>Oc(e.override(a),t,n,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete e[l],!0},get(a,l,c){return uP(a,l,()=>V6(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(a,l,c){return e[l]=c,delete a[l],!0}})}function cP(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Xa(n)?n:()=>n,isIndexable:Xa(i)?i:()=>i}}const L6=(e,t)=>e?e+Db(t):t,Ob=(e,t)=>se(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function uP(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function V6(e,t,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=e;let c=i[t];return Xa(c)&&l.isScriptable(t)&&(c=j6(t,c,e,n)),dn(c)&&c.length&&(c=U6(t,c,e,l.isIndexable)),Ob(t,c)&&(c=Oc(c,s,a&&a[t],l)),c}function j6(e,t,n,i){const{_proxy:s,_context:a,_subProxy:l,_stack:c}=n;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let h=t(a,l||i);return c.delete(e),Ob(e,h)&&(h=Nb(s._scopes,s,e,h)),h}function U6(e,t,n,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:c}=n;if(typeof a.index<"u"&&i(e))return t[a.index%t.length];if(se(t[0])){const h=t,f=s._scopes.filter(p=>p!==h);t=[];for(const p of h){const y=Nb(f,s,e,p);t.push(Oc(y,a,l&&l[e],c))}}return t}function hP(e,t,n){return Xa(e)?e(t,n):e}const B6=(e,t)=>e===!0?t:typeof e=="string"?Mc(t,e):void 0;function z6(e,t,n,i,s){for(const a of t){const l=B6(n,a);if(l){e.add(l);const c=hP(l._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function Nb(e,t,n,i){const s=t._rootScopes,a=hP(t._fallback,n,i),l=[...e,...s],c=new Set;c.add(i);let h=tR(c,l,n,a||n,i);return h===null||typeof a<"u"&&a!==n&&(h=tR(c,l,a,h,i),h===null)?!1:Mb(Array.from(c),[""],s,a,()=>F6(t,n,i))}function tR(e,t,n,i,s){for(;n;)n=z6(e,t,n,i,s);return n}function F6(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return dn(s)&&se(n)?n:s||{}}function H6(e,t,n,i){let s;for(const a of t)if(s=fP(L6(a,e),n),typeof s<"u")return Ob(e,s)?Nb(n,i,e,s):s}function fP(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function eR(e){let t=e._keys;return t||(t=e._keys=q6(e._scopes)),t}function q6(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}const W6=Number.EPSILON||1e-14,Nc=(e,t)=>t<e.length&&!e[t].skip&&e[t],dP=e=>e==="x"?"y":"x";function $6(e,t,n,i){const s=e.skip?t:e,a=t,l=n.skip?t:n,c=U_(a,s),h=U_(l,a);let f=c/(c+h),p=h/(c+h);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const y=i*f,_=i*p;return{previous:{x:a.x-y*(l.x-s.x),y:a.y-y*(l.y-s.y)},next:{x:a.x+_*(l.x-s.x),y:a.y+_*(l.y-s.y)}}}function G6(e,t,n){const i=e.length;let s,a,l,c,h,f=Nc(e,0);for(let p=0;p<i-1;++p)if(h=f,f=Nc(e,p+1),!(!h||!f)){if(Rh(t[p],0,W6)){n[p]=n[p+1]=0;continue}s=n[p]/t[p],a=n[p+1]/t[p],c=Math.pow(s,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),n[p]=s*l*t[p],n[p+1]=a*l*t[p])}}function K6(e,t,n="x"){const i=dP(n),s=e.length;let a,l,c,h=Nc(e,0);for(let f=0;f<s;++f){if(l=c,c=h,h=Nc(e,f+1),!c)continue;const p=c[n],y=c[i];l&&(a=(p-l[n])/3,c[`cp1${n}`]=p-a,c[`cp1${i}`]=y-a*t[f]),h&&(a=(h[n]-p)/3,c[`cp2${n}`]=p+a,c[`cp2${i}`]=y+a*t[f])}}function Y6(e,t="x"){const n=dP(t),i=e.length,s=Array(i).fill(0),a=Array(i);let l,c,h,f=Nc(e,0);for(l=0;l<i;++l)if(c=h,h=f,f=Nc(e,l+1),!!h){if(f){const p=f[t]-h[t];s[l]=p!==0?(f[n]-h[n])/p:0}a[l]=c?f?nr(s[l-1])!==nr(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}G6(e,s,a),K6(e,a,t)}function op(e,t,n){return Math.max(Math.min(e,n),t)}function X6(e,t){let n,i,s,a,l,c=Yh(e[0],t);for(n=0,i=e.length;n<i;++n)l=a,a=c,c=n<i-1&&Yh(e[n+1],t),a&&(s=e[n],l&&(s.cp1x=op(s.cp1x,t.left,t.right),s.cp1y=op(s.cp1y,t.top,t.bottom)),c&&(s.cp2x=op(s.cp2x,t.left,t.right),s.cp2y=op(s.cp2y,t.top,t.bottom)))}function Q6(e,t,n,i,s){let a,l,c,h;if(t.spanGaps&&(e=e.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")Y6(e,s);else{let f=i?e[e.length-1]:e[0];for(a=0,l=e.length;a<l;++a)c=e[a],h=$6(f,c,e[Math.min(a+1,l-(i?0:1))%l],t.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,f=c}t.capBezierPoints&&X6(e,n)}function Lb(){return typeof window<"u"&&typeof document<"u"}function Vb(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function pm(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const ig=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Z6(e,t){return ig(e).getPropertyValue(t)}const J6=["top","right","bottom","left"];function Xo(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=J6[s];i[a]=parseFloat(e[t+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const t9=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function e9(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:a}=i;let l=!1,c,h;if(t9(s,a,e.target))c=s,h=a;else{const f=t.getBoundingClientRect();c=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:c,y:h,box:l}}function Bo(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=ig(n),a=s.boxSizing==="border-box",l=Xo(s,"padding"),c=Xo(s,"border","width"),{x:h,y:f,box:p}=e9(e,n),y=l.left+(p&&c.left),_=l.top+(p&&c.top);let{width:b,height:T}=t;return a&&(b-=l.width+c.width,T-=l.height+c.height),{x:Math.round((h-y)/b*n.width/i),y:Math.round((f-_)/T*n.height/i)}}function n9(e,t,n){let i,s;if(t===void 0||n===void 0){const a=e&&Vb(e);if(!a)t=e.clientWidth,n=e.clientHeight;else{const l=a.getBoundingClientRect(),c=ig(a),h=Xo(c,"border","width"),f=Xo(c,"padding");t=l.width-f.width-h.width,n=l.height-f.height-h.height,i=pm(c.maxWidth,a,"clientWidth"),s=pm(c.maxHeight,a,"clientHeight")}}return{width:t,height:n,maxWidth:i||fm,maxHeight:s||fm}}const lp=e=>Math.round(e*10)/10;function i9(e,t,n,i){const s=ig(e),a=Xo(s,"margin"),l=pm(s.maxWidth,e,"clientWidth")||fm,c=pm(s.maxHeight,e,"clientHeight")||fm,h=n9(e,t,n);let{width:f,height:p}=h;if(s.boxSizing==="content-box"){const _=Xo(s,"border","width"),b=Xo(s,"padding");f-=b.width+_.width,p-=b.height+_.height}return f=Math.max(0,f-a.width),p=Math.max(0,i?f/i:p-a.height),f=lp(Math.min(f,l,h.maxWidth)),p=lp(Math.min(p,c,h.maxHeight)),f&&!p&&(p=lp(f/2)),(t!==void 0||n!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,f=lp(Math.floor(p*i))),{width:f,height:p}}function nR(e,t,n){const i=t||1,s=Math.floor(e.height*i),a=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(e.currentDevicePixelRatio=i,l.height=s,l.width=a,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const s9=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Lb()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function iR(e,t){const n=Z6(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function zo(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function r9(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function a9(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},l=zo(e,s,n),c=zo(s,a,n),h=zo(a,t,n),f=zo(l,c,n),p=zo(c,h,n);return zo(f,p,n)}const o9=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},l9=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function wc(e,t,n){return e?o9(t,n):l9()}function pP(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function mP(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function gP(e){return e==="angle"?{between:Jk,compare:o6,normalize:Xs}:{between:Va,compare:(t,n)=>t-n,normalize:t=>t}}function sR({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function c9(e,t,n){const{property:i,start:s,end:a}=n,{between:l,normalize:c}=gP(i),h=t.length;let{start:f,end:p,loop:y}=e,_,b;if(y){for(f+=h,p+=h,_=0,b=h;_<b&&l(c(t[f%h][i]),s,a);++_)f--,p--;f%=h,p%=h}return p<f&&(p+=h),{start:f,end:p,loop:y,style:e.style}}function yP(e,t,n){if(!n)return[e];const{property:i,start:s,end:a}=n,l=t.length,{compare:c,between:h,normalize:f}=gP(i),{start:p,end:y,loop:_,style:b}=c9(e,t,n),T=[];let E=!1,S=null,C,j,O;const q=()=>h(s,O,C)&&c(s,O)!==0,z=()=>c(a,C)===0||h(a,O,C),$=()=>E||q(),M=()=>!E||z();for(let D=p,k=p;D<=y;++D)j=t[D%l],!j.skip&&(C=f(j[i]),C!==O&&(E=h(C,s,a),S===null&&$()&&(S=c(C,s)===0?D:k),S!==null&&M()&&(T.push(sR({start:S,end:D,loop:_,count:l,style:b})),S=null),k=D,O=C));return S!==null&&T.push(sR({start:S,end:y,loop:_,count:l,style:b})),T}function vP(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const a=yP(i[s],e.points,t);a.length&&n.push(...a)}return n}function u9(e,t,n,i){let s=0,a=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(a+=s);a>s&&e[a%t].skip;)a--;return a%=t,{start:s,end:a}}function h9(e,t,n,i){const s=e.length,a=[];let l=t,c=e[t],h;for(h=t+1;h<=n;++h){const f=e[h%s];f.skip||f.stop?c.skip||(i=!1,a.push({start:t%s,end:(h-1)%s,loop:i}),t=l=f.stop?h:null):(l=h,c.skip&&(t=h)),c=f}return l!==null&&a.push({start:t%s,end:l%s,loop:i}),a}function f9(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const a=!!e._loop,{start:l,end:c}=u9(n,s,a,i);if(i===!0)return rR(e,[{start:l,end:c,loop:a}],n,t);const h=c<l?c+s:c,f=!!e._fullLoop&&l===0&&c===s-1;return rR(e,h9(n,l,h,f),n,t)}function rR(e,t,n,i){return!i||!i.setContext||!n?t:d9(e,t,n,i)}function d9(e,t,n,i){const s=e._chart.getContext(),a=aR(e.options),{_datasetIndex:l,options:{spanGaps:c}}=e,h=n.length,f=[];let p=a,y=t[0].start,_=y;function b(T,E,S,C){const j=c?-1:1;if(T!==E){for(T+=h;n[T%h].skip;)T-=j;for(;n[E%h].skip;)E+=j;T%h!==E%h&&(f.push({start:T%h,end:E%h,loop:S,style:C}),p=C,y=E%h)}}for(const T of t){y=c?y:T.start;let E=n[y%h],S;for(_=y+1;_<=T.end;_++){const C=n[_%h];S=aR(i.setContext(ml(s,{type:"segment",p0:E,p1:C,p0DataIndex:(_-1)%h,p1DataIndex:_%h,datasetIndex:l}))),p9(S,p)&&b(y,_-1,T.loop,p),E=C,p=S}y<_-1&&b(y,_-1,T.loop,p)}return f}function aR(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function p9(e,t){if(!t)return!1;const n=[],i=function(s,a){return Pb(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class m9{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const a=n.listeners[s],l=n.duration;a.forEach(c=>c({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=nP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,c=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),c=!0):(a[l]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,i,t,"progress")),a.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=a.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ur=new m9;const oR="transparent",g9={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=XA(e||oR),s=i.valid&&XA(t||oR);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class y9{constructor(t,n,i,s){const a=n[i];s=ap([t.to,s,a,t.from]);const l=ap([t.from,a,s]);this._active=!0,this._fn=t.fn||g9[t.type||typeof l],this._easing=Ch[t.easing]||Ch.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=ap([t.to,n,s,t.from]),this._from=ap([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,c=this._to;let h;if(this._active=a!==c&&(l||n<i),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=a;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(a,c,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class _P{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!se(t))return;const n=Object.keys(an.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!se(a))return;const l={};for(const c of n)l[c]=a[c];(dn(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(t,n){const i=n.options,s=_9(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&v9(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,n){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),l=Object.keys(n),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(t,n));continue}const p=n[f];let y=a[f];const _=i.get(f);if(y)if(_&&y.active()){y.update(_,p,c);continue}else y.cancel();if(!_||!_.duration){t[f]=p;continue}a[f]=y=new y9(_,t,f,p),s.push(y)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Ur.add(this._chart,i),!0}}function v9(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const a=e[i[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function _9(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function lR(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,a=n.max===void 0?t:0;return{start:i?a:s,end:i?s:a}}function b9(e,t,n){if(n===!1)return!1;const i=lR(e,n),s=lR(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function w9(e){let t,n,i,s;return se(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function bP(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,a;for(s=0,a=i.length;s<a;++s)n.push(i[s].index);return n}function cR(e,t,n,i={}){const s=e.keys,a=i.mode==="single";let l,c,h,f;if(t===null)return;let p=!1;for(l=0,c=s.length;l<c;++l){if(h=+s[l],h===n){if(p=!0,i.all)continue;break}f=e.values[h],ei(f)&&(a||t===0||nr(t)===nr(f))&&(t+=f)}return!p&&!i.all?0:t}function T9(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(e),c=new Array(l.length);let h,f,p;for(h=0,f=l.length;h<f;++h)p=l[h],c[h]={[s]:p,[a]:e[p]};return c}function Nv(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function S9(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function E9(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function x9(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function uR(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const a=e[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function hR(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:a,vScale:l,index:c}=i,h=a.axis,f=l.axis,p=S9(a,l,i),y=t.length;let _;for(let b=0;b<y;++b){const T=t[b],{[h]:E,[f]:S}=T,C=T._stacks||(T._stacks={});_=C[f]=x9(s,p,E),_[c]=S,_._top=uR(_,l,!0,i.type),_._bottom=uR(_,l,!1,i.type);const j=_._visualValues||(_._visualValues={});j[c]=S}}function Lv(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function A9(e,t){return ml(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function R9(e,t,n){return ml(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function ih(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const a=s._stacks;if(!a||a[i]===void 0||a[i][n]===void 0)return;delete a[i][n],a[i]._visualValues!==void 0&&a[i]._visualValues[n]!==void 0&&delete a[i]._visualValues[n]}}}const Vv=e=>e==="reset"||e==="none",fR=(e,t)=>t?e:Object.assign({},e),C9=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:bP(n,!0),values:null};class Tc{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Nv(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ih(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(y,_,b,T)=>y==="x"?_:y==="r"?T:b,a=n.xAxisID=ne(i.xAxisID,Lv(t,"x")),l=n.yAxisID=ne(i.yAxisID,Lv(t,"y")),c=n.rAxisID=ne(i.rAxisID,Lv(t,"r")),h=n.indexAxis,f=n.iAxisID=s(h,a,l,c),p=n.vAxisID=s(h,l,a,c);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&GA(this._data,this),t._stacked&&ih(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(se(n)){const s=this._cachedMeta;this._data=T9(n,s)}else if(i!==n){if(i){GA(i,this);const s=this._cachedMeta;ih(s),s._parsed=[]}n&&Object.isExtensible(n)&&h6(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=Nv(n.vScale,n),n.stack!==i.stack&&(s=!0,ih(n),n.stack=i.stack),this._resyncElements(t),(s||a!==n._stacked)&&(hR(this,n._parsed),n._stacked=Nv(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,c=a.axis;let h=t===0&&n===s.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,y,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{dn(s[t])?_=this.parseArrayData(i,s,t,n):se(s[t])?_=this.parseObjectData(i,s,t,n):_=this.parsePrimitiveData(i,s,t,n);const b=()=>y[c]===null||f&&y[c]<f[c];for(p=0;p<n;++p)i._parsed[p+t]=y=_[p],h&&(b()&&(h=!1),f=y);i._sorted=h}l&&hR(this,_)}parsePrimitiveData(t,n,i,s){const{iScale:a,vScale:l}=t,c=a.axis,h=l.axis,f=a.getLabels(),p=a===l,y=new Array(s);let _,b,T;for(_=0,b=s;_<b;++_)T=_+i,y[_]={[c]:p||a.parse(f[T],T),[h]:l.parse(n[T],T)};return y}parseArrayData(t,n,i,s){const{xScale:a,yScale:l}=t,c=new Array(s);let h,f,p,y;for(h=0,f=s;h<f;++h)p=h+i,y=n[p],c[h]={x:a.parse(y[0],p),y:l.parse(y[1],p)};return c}parseObjectData(t,n,i,s){const{xScale:a,yScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=new Array(s);let p,y,_,b;for(p=0,y=s;p<y;++p)_=p+i,b=n[_],f[p]={x:a.parse(Mc(b,c),_),y:l.parse(Mc(b,h),_)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,a=this._cachedMeta,l=n[t.axis],c={keys:bP(s,!0),values:n._stacks[t.axis]._visualValues};return cR(c,l,a.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const a=i[n.axis];let l=a===null?NaN:a;const c=s&&i._stacks[n.axis];s&&c&&(s.values=c,l=cR(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&t===i.iScale,l=s.length,c=this._getOtherScale(t),h=C9(n,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=E9(c);let _,b;function T(){b=s[_];const E=b[c.axis];return!ei(b[t.axis])||p>E||y<E}for(_=0;_<l&&!(!T()&&(this.updateRangeFromParsed(f,t,b,h),a));++_);if(a){for(_=l-1;_>=0;--_)if(!T()){this.updateRangeFromParsed(f,t,b,h);break}}return f}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=n.length;s<a;++s)l=n[s][t.axis],ei(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=w9(ne(this.options.clip,b9(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],a=n.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||s.length-c,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,a,c,h),p=c;p<c+h;++p){const y=s[p];y.hidden||(y.active&&f?l.push(y):y.draw(t,a))}for(p=0;p<l.length;++p)l[p].draw(t,a)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=R9(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=A9(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",a=this._cachedDataOpts,l=t+"-"+n,c=a[l],h=this.enableOptionSharing&&Gh(i);if(c)return fR(c,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),y=s?[`${t}Hover`,"hover",t,""]:[t,""],_=f.getOptionScopes(this.getDataset(),p),b=Object.keys(an.elements[t]),T=()=>this.getContext(i,s,n),E=f.resolveNamedOptions(_,b,T,y);return E.$shared&&(E.$shared=h,a[l]=Object.freeze(fR(E,h))),E}_resolveAnimations(t,n,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${n}`,c=a[l];if(c)return c;let h;if(s.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,n),_=p.getOptionScopes(this.getDataset(),y);h=p.createResolver(_,this.getContext(t,i,n))}const f=new _P(s,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Vv(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(n,a)||a!==s;return this.updateSharedOptions(a,n,i),{sharedOptions:a,includeOptions:l}}updateElement(t,n,i,s){Vv(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!Vv(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[c,h,f]of this._syncList)this[c](h,f);this._syncList=[];const s=i.length,a=n.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,n,i=!0){const s=this._cachedMeta,a=s.data,l=t+n;let c;const h=f=>{for(f.length+=n,c=f.length-1;c>=l;c--)f[c]=f[c-n]};for(h(a),c=t;c<l;++c)a[c]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,n),i&&this.updateElements(a,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&ih(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Bt(Tc,"defaults",{}),Bt(Tc,"datasetElementType",null),Bt(Tc,"dataElementType",null);function D9(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,a=n.length;s<a;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=eP(i.sort((s,a)=>s-a))}return e._cache.$bar}function I9(e){const t=e.iScale,n=D9(t,e.type);let i=t._length,s,a,l,c;const h=()=>{l===32767||l===-32768||(Gh(c)&&(i=Math.min(i,Math.abs(l-c)||i)),c=l)};for(s=0,a=n.length;s<a;++s)l=t.getPixelForValue(n[s]),h();for(c=void 0,s=0,a=t.ticks.length;s<a;++s)l=t.getPixelForTick(s),h();return i}function k9(e,t,n,i){const s=n.barThickness;let a,l;return ve(s)?(a=t.min*n.categoryPercentage,l=n.barPercentage):(a=s*i,l=1),{chunk:a/i,ratio:l,start:t.pixels[e]-a/2}}function P9(e,t,n,i){const s=t.pixels,a=s[e];let l=e>0?s[e-1]:null,c=e<s.length-1?s[e+1]:null;const h=n.categoryPercentage;l===null&&(l=a-(c===null?t.end-t.start:c-a)),c===null&&(c=a+a-l);const f=a-(a-Math.min(l,c))/2*h;return{chunk:Math.abs(c-l)/2*h/i,ratio:n.barPercentage,start:f}}function M9(e,t,n,i){const s=n.parse(e[0],i),a=n.parse(e[1],i),l=Math.min(s,a),c=Math.max(s,a);let h=l,f=c;Math.abs(l)>Math.abs(c)&&(h=c,f=l),t[n.axis]=f,t._custom={barStart:h,barEnd:f,start:s,end:a,min:l,max:c}}function wP(e,t,n,i){return dn(e)?M9(e,t,n,i):t[n.axis]=n.parse(e,i),t}function dR(e,t,n,i){const s=e.iScale,a=e.vScale,l=s.getLabels(),c=s===a,h=[];let f,p,y,_;for(f=n,p=n+i;f<p;++f)_=t[f],y={},y[s.axis]=c||s.parse(l[f],f),h.push(wP(_,y,a,f));return h}function jv(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function O9(e,t,n){return e!==0?nr(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function N9(e){let t,n,i,s,a;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",a="start"):(s="start",a="end"),{start:n,end:i,reverse:t,top:s,bottom:a}}function L9(e,t,n,i){let s=t.borderSkipped;const a={};if(!s){e.borderSkipped=a;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:h,top:f,bottom:p}=N9(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=f:(n._bottom||0)===i?s=p:(a[pR(p,l,c,h)]=!0,s=f)),a[pR(s,l,c,h)]=!0,e.borderSkipped=a}function pR(e,t,n,i){return i?(e=V9(e,t,n),e=mR(e,n,t)):e=mR(e,t,n),e}function V9(e,t,n){return e===t?n:e===n?t:e}function mR(e,t,n){return e==="start"?t:e==="end"?n:e}function j9(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Mp extends Tc{parsePrimitiveData(t,n,i,s){return dR(t,n,i,s)}parseArrayData(t,n,i,s){return dR(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:a,vScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=a.axis==="x"?c:h,p=l.axis==="x"?c:h,y=[];let _,b,T,E;for(_=i,b=i+s;_<b;++_)E=n[_],T={},T[a.axis]=a.parse(Mc(E,f),_),y.push(wP(Mc(E,p),T,l,_));return y}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const a=i._custom;a&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,a=this.getParsed(t),l=a._custom,c=jv(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),f=c.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:_}=this._getSharedOptions(n,s);for(let b=n;b<n+i;b++){const T=this.getParsed(b),E=a||ve(T[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(b),S=this._calculateBarIndexPixels(b,p),C=(T._stacks||{})[c.axis],j={horizontal:f,base:E.base,enableBorderRadius:!C||jv(T._custom)||l===C._top||l===C._bottom,x:f?E.head:S.center,y:f?S.center:E.head,height:f?S.size:Math.abs(E.size),width:f?Math.abs(E.size):S.size};_&&(j.options=y||this.resolveDataElementOptions(b,t[b].active?"active":s));const O=j.options||t[b].options;L9(j,O,C,l),j9(j,O,p.ratio),this.updateElement(t[b],b,j,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=i.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(n),h=c&&c[i.axis],f=p=>{const y=p._parsed.find(b=>b[i.axis]===h),_=y&&y[p.vScale.axis];if(ve(_)||isNaN(_))return!0};for(const p of s)if(!(n!==void 0&&f(p))&&((a===!1||l.indexOf(p.stack)===-1||a===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const s=this._getStacks(t,i),a=n!==void 0?s.indexOf(n):-1;return a===-1?s.length-1:a}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let a,l;for(a=0,l=n.data.length;a<l;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const c=t.barThickness;return{min:c||I9(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:a,minBarLength:l}}=this,c=a||0,h=this.getParsed(t),f=h._custom,p=jv(f);let y=h[n.axis],_=0,b=i?this.applyStack(n,h,i):y,T,E;b!==y&&(_=b-y,b=y),p&&(y=f.barStart,b=f.barEnd-f.barStart,y!==0&&nr(y)!==nr(f.barEnd)&&(_=0),_+=y);const S=!ve(a)&&!p?a:_;let C=n.getPixelForValue(S);if(this.chart.getDataVisibility(t)?T=n.getPixelForValue(_+b):T=C,E=T-C,Math.abs(E)<l){E=O9(E,n,c)*l,y===c&&(C-=E/2);const j=n.getPixelForDecimal(0),O=n.getPixelForDecimal(1),q=Math.min(j,O),z=Math.max(j,O);C=Math.max(Math.min(C,z),q),T=C+E,i&&!p&&(h._stacks[n.axis]._visualValues[s]=n.getValueForPixel(T)-n.getValueForPixel(C))}if(C===n.getPixelForValue(c)){const j=nr(E)*n.getLineWidthForValue(c)/2;C+=j,E-=j}return{size:E,base:C,head:T,center:T+E/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,a=s.skipNull,l=ne(s.maxBarThickness,1/0);let c,h;if(n.grouped){const f=a?this._getStackCount(t):n.stackCount,p=s.barThickness==="flex"?P9(t,n,s,f):k9(t,n,s,f),y=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0);c=p.start+p.chunk*y+p.chunk/2,h=Math.min(l,p.chunk*p.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,n.min*n.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[n.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}Bt(Mp,"id","bar"),Bt(Mp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Bt(Mp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Op extends Tc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=n,l=this.chart._animationsDisabled;let{start:c,count:h}=p6(n,s,l);this._drawStart=c,this._drawCount=h,m6(n)&&(c=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},t),this.updateElements(s,c,h,t)}updateElements(t,n,i,s){const a=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(n,s),_=l.axis,b=c.axis,{spanGaps:T,segment:E}=this.options,S=Kh(T)?T:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||a||s==="none",j=n+i,O=t.length;let q=n>0&&this.getParsed(n-1);for(let z=0;z<O;++z){const $=t[z],M=C?$:{};if(z<n||z>=j){M.skip=!0;continue}const D=this.getParsed(z),k=ve(D[b]),U=M[_]=l.getPixelForValue(D[_],z),L=M[b]=a||k?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,D,h):D[b],z);M.skip=isNaN(U)||isNaN(L)||k,M.stop=z>0&&Math.abs(D[_]-q[_])>S,E&&(M.parsed=D,M.raw=f.data[z]),y&&(M.options=p||this.resolveDataElementOptions(z,$.active?"active":s)),C||this.updateElement($,z,M,s),q=D}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Bt(Op,"id","line"),Bt(Op,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Bt(Op,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function No(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class jb{constructor(t){Bt(this,"options");this.options=t||{}}static override(t){Object.assign(jb.prototype,t)}init(){}formats(){return No()}parse(){return No()}format(){return No()}add(){return No()}diff(){return No()}startOf(){return No()}endOf(){return No()}}var U9={_date:jb};function B9(e,t,n,i){const{controller:s,data:a,_sorted:l}=e,c=s._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&l&&a.length){const f=c._reversePixels?c6:Go;if(i){if(s._sharedOptions){const p=a[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const _=f(a,t,n-y),b=f(a,t,n+y);return{lo:_.lo,hi:b.hi}}}}else{const p=f(a,t,n);if(h){const{vScale:y}=s._cachedMeta,{_parsed:_}=e,b=_.slice(0,p.lo+1).reverse().findIndex(E=>!ve(E[y.axis]));p.lo-=Math.max(0,b);const T=_.slice(p.hi).findIndex(E=>!ve(E[y.axis]));p.hi+=Math.max(0,T)}return p}}return{lo:0,hi:a.length-1}}function sg(e,t,n,i,s){const a=e.getSortedVisibleDatasetMetas(),l=n[t];for(let c=0,h=a.length;c<h;++c){const{index:f,data:p}=a[c],{lo:y,hi:_}=B9(a[c],t,l,s);for(let b=y;b<=_;++b){const T=p[b];T.skip||i(T,f,b)}}}function z9(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const a=t?Math.abs(i.x-s.x):0,l=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Uv(e,t,n,i,s){const a=[];return!s&&!e.isPointInArea(t)||sg(e,n,t,function(c,h,f){!s&&!Yh(c,e.chartArea,0)||c.inRange(t.x,t.y,i)&&a.push({element:c,datasetIndex:h,index:f})},!0),a}function F9(e,t,n,i){let s=[];function a(l,c,h){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:y}=a6(l,{x:t.x,y:t.y});Jk(y,f,p)&&s.push({element:l,datasetIndex:c,index:h})}return sg(e,n,t,a),s}function H9(e,t,n,i,s,a){let l=[];const c=z9(n);let h=Number.POSITIVE_INFINITY;function f(p,y,_){const b=p.inRange(t.x,t.y,s);if(i&&!b)return;const T=p.getCenterPoint(s);if(!(!!a||e.isPointInArea(T))&&!b)return;const S=c(t,T);S<h?(l=[{element:p,datasetIndex:y,index:_}],h=S):S===h&&l.push({element:p,datasetIndex:y,index:_})}return sg(e,n,t,f),l}function Bv(e,t,n,i,s,a){return!a&&!e.isPointInArea(t)?[]:n==="r"&&!i?F9(e,t,n,s):H9(e,t,n,i,s,a)}function gR(e,t,n,i,s){const a=[],l=n==="x"?"inXRange":"inYRange";let c=!1;return sg(e,n,t,(h,f,p)=>{h[l]&&h[l](t[n],s)&&(a.push({element:h,datasetIndex:f,index:p}),c=c||h.inRange(t.x,t.y,s))}),i&&!c?[]:a}var q9={modes:{index(e,t,n,i){const s=Bo(t,e),a=n.axis||"x",l=n.includeInvisible||!1,c=n.intersect?Uv(e,s,a,i,l):Bv(e,s,a,!1,i,l),h=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const p=c[0].index,y=f.data[p];y&&!y.skip&&h.push({element:y,datasetIndex:f.index,index:p})}),h):[]},dataset(e,t,n,i){const s=Bo(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;let c=n.intersect?Uv(e,s,a,i,l):Bv(e,s,a,!1,i,l);if(c.length>0){const h=c[0].datasetIndex,f=e.getDatasetMeta(h).data;c=[];for(let p=0;p<f.length;++p)c.push({element:f[p],datasetIndex:h,index:p})}return c},point(e,t,n,i){const s=Bo(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;return Uv(e,s,a,i,l)},nearest(e,t,n,i){const s=Bo(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;return Bv(e,s,a,n.intersect,i,l)},x(e,t,n,i){const s=Bo(t,e);return gR(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=Bo(t,e);return gR(e,s,"y",n.intersect,i)}}};const TP=["left","top","right","bottom"];function sh(e,t){return e.filter(n=>n.pos===t)}function yR(e,t){return e.filter(n=>TP.indexOf(n.pos)===-1&&n.box.axis===t)}function rh(e,t){return e.sort((n,i)=>{const s=t?i:n,a=t?n:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function W9(e){const t=[];let n,i,s,a,l,c;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:a,options:{stack:l,stackWeight:c=1}}=s,t.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:c});return t}function $9(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:a}=n;if(!i||!TP.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function G9(e,t){const n=$9(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let a,l,c;for(a=0,l=e.length;a<l;++a){c=e[a];const{fullSize:h}=c.box,f=n[c.stack],p=f&&c.stackWeight/f.weight;c.horizontal?(c.width=p?p*i:h&&t.availableWidth,c.height=s):(c.width=i,c.height=p?p*s:h&&t.availableHeight)}return n}function K9(e){const t=W9(e),n=rh(t.filter(f=>f.box.fullSize),!0),i=rh(sh(t,"left"),!0),s=rh(sh(t,"right")),a=rh(sh(t,"top"),!0),l=rh(sh(t,"bottom")),c=yR(t,"x"),h=yR(t,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:s.concat(h).concat(l).concat(c),chartArea:sh(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:a.concat(l).concat(c)}}function vR(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function SP(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Y9(e,t,n,i){const{pos:s,box:a}=n,l=e.maxPadding;if(!se(s)){n.size&&(e[s]-=n.size);const y=i[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?a.height:a.width),n.size=y.size/y.count,e[s]+=n.size}a.getPadding&&SP(l,a.getPadding());const c=Math.max(0,t.outerWidth-vR(l,e,"left","right")),h=Math.max(0,t.outerHeight-vR(l,e,"top","bottom")),f=c!==e.w,p=h!==e.h;return e.w=c,e.h=h,n.horizontal?{same:f,other:p}:{same:p,other:f}}function X9(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function Q9(e,t){const n=t.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(t[l],n[l])}),a}return i(e?["left","right"]:["top","bottom"])}function mh(e,t,n,i){const s=[];let a,l,c,h,f,p;for(a=0,l=e.length,f=0;a<l;++a){c=e[a],h=c.box,h.update(c.width||t.w,c.height||t.h,Q9(c.horizontal,t));const{same:y,other:_}=Y9(t,n,c,i);f|=y&&s.length,p=p||_,h.fullSize||s.push(c)}return f&&mh(s,t,n,i)||p}function cp(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function _R(e,t,n,i){const s=n.padding;let{x:a,y:l}=t;for(const c of e){const h=c.box,f=i[c.stack]||{placed:0,weight:1},p=c.stackWeight/f.weight||1;if(c.horizontal){const y=t.w*p,_=f.size||h.height;Gh(f.start)&&(l=f.start),h.fullSize?cp(h,s.left,l,n.outerWidth-s.right-s.left,_):cp(h,t.left+f.placed,l,y,_),f.start=l,f.placed+=y,l=h.bottom}else{const y=t.h*p,_=f.size||h.width;Gh(f.start)&&(a=f.start),h.fullSize?cp(h,a,s.top,_,n.outerHeight-s.bottom-s.top):cp(h,a,t.top+f.placed,_,y),f.start=a,f.placed+=y,a=h.right}}t.x=a,t.y=l}var as={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=hs(e.options.layout.padding),a=Math.max(t-s.width,0),l=Math.max(n-s.height,0),c=K9(e.boxes),h=c.vertical,f=c.horizontal;Te(e.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const p=h.reduce((E,S)=>S.box.options&&S.box.options.display===!1?E:E+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},s);SP(_,hs(i));const b=Object.assign({maxPadding:_,w:a,h:l,x:s.left,y:s.top},s),T=G9(h.concat(f),y);mh(c.fullSize,b,y,T),mh(h,b,y,T),mh(f,b,y,T)&&mh(h,b,y,T),X9(b),_R(c.leftAndTop,b,y,T),b.x+=b.w,b.y+=b.h,_R(c.rightAndBottom,b,y,T),e.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Te(c.chartArea,E=>{const S=E.box;Object.assign(S,e.chartArea),S.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class EP{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class Z9 extends EP{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Np="$chartjs",J9={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bR=e=>e===null||e==="";function tH(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Np]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",bR(s)){const a=iR(e,"width");a!==void 0&&(e.width=a)}if(bR(i))if(e.style.height==="")e.height=e.width/(t||2);else{const a=iR(e,"height");a!==void 0&&(e.height=a)}return e}const xP=s9?{passive:!0}:!1;function eH(e,t,n){e&&e.addEventListener(t,n,xP)}function nH(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,xP)}function iH(e,t){const n=J9[e.type]||e.type,{x:i,y:s}=Bo(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function mm(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function sH(e,t,n){const i=e.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||mm(c.addedNodes,i),l=l&&!mm(c.removedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function rH(e,t,n){const i=e.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||mm(c.removedNodes,i),l=l&&!mm(c.addedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Qh=new Map;let wR=0;function AP(){const e=window.devicePixelRatio;e!==wR&&(wR=e,Qh.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function aH(e,t){Qh.size||window.addEventListener("resize",AP),Qh.set(e,t)}function oH(e){Qh.delete(e),Qh.size||window.removeEventListener("resize",AP)}function lH(e,t,n){const i=e.canvas,s=i&&Vb(i);if(!s)return;const a=iP((c,h)=>{const f=s.clientWidth;n(c,h),f<s.clientWidth&&n()},window),l=new ResizeObserver(c=>{const h=c[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||a(f,p)});return l.observe(s),aH(e,a),l}function zv(e,t,n){n&&n.disconnect(),t==="resize"&&oH(e)}function cH(e,t,n){const i=e.canvas,s=iP(a=>{e.ctx!==null&&n(iH(a,e))},e);return eH(i,t,s),s}class uH extends EP{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(tH(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Np])return!1;const i=n[Np].initial;["height","width"].forEach(a=>{const l=i[a];ve(l)?n.removeAttribute(a):n.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[Np],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),l={attach:sH,detach:rH,resize:lH}[n]||cH;s[n]=l(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:zv,detach:zv,resize:zv}[n]||nH)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return i9(t,n,i,s)}isAttached(t){const n=t&&Vb(t);return!!(n&&n.isConnected)}}function hH(e){return!Lb()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Z9:uH}var wp;let io=(wp=class{constructor(){Bt(this,"x");Bt(this,"y");Bt(this,"active",!1);Bt(this,"options");Bt(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return Kh(this.x)&&Kh(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}},Bt(wp,"defaults",{}),Bt(wp,"defaultRoutes"),wp);function fH(e,t){const n=e.options.ticks,i=dH(e),s=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?mH(t):[],l=a.length,c=a[0],h=a[l-1],f=[];if(l>s)return gH(t,f,a,l/s),f;const p=pH(a,t,s);if(l>0){let y,_;const b=l>1?Math.round((h-c)/(l-1)):null;for(up(t,f,p,ve(b)?0:c-b,c),y=0,_=l-1;y<_;y++)up(t,f,p,a[y],a[y+1]);return up(t,f,p,h,ve(b)?t.length:h+b),f}return up(t,f,p),f}function dH(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function pH(e,t,n){const i=yH(e),s=t.length/n;if(!i)return Math.max(s,1);const a=e6(i);for(let l=0,c=a.length-1;l<c;l++){const h=a[l];if(h>s)return h}return Math.max(s,1)}function mH(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function gH(e,t,n,i){let s=0,a=n[0],l;for(i=Math.ceil(i),l=0;l<e.length;l++)l===a&&(t.push(e[l]),s++,a=n[s*i])}function up(e,t,n,i,s){const a=ne(i,0),l=Math.min(ne(s,e.length),e.length);let c=0,h,f,p;for(n=Math.ceil(n),s&&(h=s-i,n=h/Math.floor(h/n)),p=a;p<0;)c++,p=Math.round(a+c*n);for(f=Math.max(a,0);f<l;f++)f===p&&(t.push(e[f]),c++,p=Math.round(a+c*n))}function yH(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const vH=e=>e==="left"?"right":e==="right"?"left":e,TR=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,SR=(e,t)=>Math.min(t||e,e);function ER(e,t){const n=[],i=e.length/t,s=e.length;let a=0;for(;a<s;a+=i)n.push(e[Math.floor(a)]);return n}function _H(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),a=e._startPixel,l=e._endPixel,c=1e-6;let h=e.getPixelForTick(s),f;if(!(n&&(i===1?f=Math.max(h-a,l-h):t===0?f=(e.getPixelForTick(1)-h)/2:f=(h-e.getPixelForTick(s-1))/2,h+=s<t?f:-f,h<a-c||h>l+c)))return h}function bH(e,t){Te(e,n=>{const i=n.gc,s=i.length/2;let a;if(s>t){for(a=0;a<s;++a)delete n.data[i[a]];i.splice(0,s)}})}function ah(e){return e.drawTicks?e.tickLength:0}function xR(e,t){if(!e.display)return 0;const n=Zn(e.font,t),i=hs(e.padding);return(dn(e.text)?e.text.length:1)*n.lineHeight+i.height}function wH(e,t){return ml(e,{scale:t,type:"scale"})}function TH(e,t,n){return ml(e,{tick:n,index:t,type:"tick"})}function SH(e,t,n){let i=kb(e);return(n&&t!=="right"||!n&&t==="right")&&(i=vH(i)),i}function EH(e,t,n,i){const{top:s,left:a,bottom:l,right:c,chart:h}=e,{chartArea:f,scales:p}=h;let y=0,_,b,T;const E=l-s,S=c-a;if(e.isHorizontal()){if(b=Kn(i,a,c),se(n)){const C=Object.keys(n)[0],j=n[C];T=p[C].getPixelForValue(j)+E-t}else n==="center"?T=(f.bottom+f.top)/2+E-t:T=TR(e,n,t);_=c-a}else{if(se(n)){const C=Object.keys(n)[0],j=n[C];b=p[C].getPixelForValue(j)-S+t}else n==="center"?b=(f.left+f.right)/2-S+t:b=TR(e,n,t);T=Kn(i,l,s),y=n==="left"?-ws:ws}return{titleX:b,titleY:T,maxWidth:_,rotation:y}}class Yc extends io{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=Ws(t,Number.POSITIVE_INFINITY),n=Ws(n,Number.NEGATIVE_INFINITY),i=Ws(i,Number.POSITIVE_INFINITY),s=Ws(s,Number.NEGATIVE_INFINITY),{min:Ws(t,i),max:Ws(n,s),minDefined:ei(t),maxDefined:ei(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,f=c.length;h<f;++h)l=c[h].controller.getMinMax(this,t),s||(n=Math.min(n,l.min)),a||(i=Math.max(i,l.max));return n=a&&n>i?i:n,i=s&&n>i?n:i,{min:Ws(n,Ws(i,n)),max:Ws(i,Ws(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Me(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=N6(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?ER(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=fH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Me(this.options.afterUpdate,[this])}beforeSetDimensions(){Me(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Me(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Me(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Me(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i],a.label=Me(n.callback,[a.value,i,t],this)}afterTickToLabelConversion(){Me(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Me(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=SR(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,a=n.maxRotation;let l=s,c,h,f;if(!this._isVisible()||!n.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,b=Li(this.chart.width-y,0,this.maxWidth);c=t.offset?this.maxWidth/i:b/(i-1),y+6>c&&(c=b/(i-(t.offset?.5:1)),h=this.maxHeight-ah(t.grid)-n.padding-xR(t.title,this.chart.options.font),f=Math.sqrt(y*y+_*_),l=r6(Math.min(Math.asin(Li((p.highest.height+6)/c,-1,1)),Math.asin(Li(h/f,-1,1))-Math.asin(Li(_/f,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Me(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Me(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=xR(s,n.options.font);if(c?(t.width=this.maxWidth,t.height=ah(a)+h):(t.height=this.maxHeight,t.width=ah(a)+h),i.display&&this.ticks.length){const{first:f,last:p,widest:y,highest:_}=this._getLabelSizes(),b=i.padding*2,T=$o(this.labelRotation),E=Math.cos(T),S=Math.sin(T);if(c){const C=i.mirror?0:S*y.width+E*_.height;t.height=Math.min(this.maxHeight,t.height+C+b)}else{const C=i.mirror?0:E*y.width+S*_.height;t.width=Math.min(this.maxWidth,t.width+C+b)}this._calculatePadding(f,p,S,E)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:a,padding:l},position:c}=this.options,h=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,b=0;h?f?(_=s*t.width,b=i*n.height):(_=i*t.height,b=s*n.width):a==="start"?b=n.width:a==="end"?_=t.width:a!=="inner"&&(_=t.width/2,b=n.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-y+l)*this.width/(this.width-y),0)}else{let p=n.height/2,y=t.height/2;a==="start"?(p=0,y=t.height):a==="end"&&(p=n.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Me(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)ve(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=ER(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:a}=this,l=[],c=[],h=Math.floor(n/SR(n,i));let f=0,p=0,y,_,b,T,E,S,C,j,O,q,z;for(y=0;y<n;y+=h){if(T=t[y].label,E=this._resolveTickFontOptions(y),s.font=S=E.string,C=a[S]=a[S]||{data:{},gc:[]},j=E.lineHeight,O=q=0,!ve(T)&&!dn(T))O=ZA(s,C.data,C.gc,O,T),q=j;else if(dn(T))for(_=0,b=T.length;_<b;++_)z=T[_],!ve(z)&&!dn(z)&&(O=ZA(s,C.data,C.gc,O,z),q+=j);l.push(O),c.push(q),f=Math.max(O,f),p=Math.max(q,p)}bH(a,n);const $=l.indexOf(f),M=c.indexOf(p),D=k=>({width:l[k]||0,height:c[k]||0});return{first:D(0),last:D(n-1),widest:D($),highest:D(M),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return l6(this._alignToPixels?Oo(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=TH(this.getContext(),t,i))}return this.$context||(this.$context=wH(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=$o(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,c=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>c*s?c/i:h/s:h*s<c*i?h/i:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:c}=s,h=a.offset,f=this.isHorizontal(),y=this.ticks.length+(h?1:0),_=ah(a),b=[],T=c.setContext(this.getContext()),E=T.display?T.width:0,S=E/2,C=function(K){return Oo(i,K,E)};let j,O,q,z,$,M,D,k,U,L,B,V;if(l==="top")j=C(this.bottom),M=this.bottom-_,k=j-S,L=C(t.top)+S,V=t.bottom;else if(l==="bottom")j=C(this.top),L=t.top,V=C(t.bottom)-S,M=j+S,k=this.top+_;else if(l==="left")j=C(this.right),$=this.right-_,D=j-S,U=C(t.left)+S,B=t.right;else if(l==="right")j=C(this.left),U=t.left,B=C(t.right)-S,$=j+S,D=this.left+_;else if(n==="x"){if(l==="center")j=C((t.top+t.bottom)/2+.5);else if(se(l)){const K=Object.keys(l)[0],et=l[K];j=C(this.chart.scales[K].getPixelForValue(et))}L=t.top,V=t.bottom,M=j+S,k=M+_}else if(n==="y"){if(l==="center")j=C((t.left+t.right)/2);else if(se(l)){const K=Object.keys(l)[0],et=l[K];j=C(this.chart.scales[K].getPixelForValue(et))}$=j-S,D=$-_,U=t.left,B=t.right}const ft=ne(s.ticks.maxTicksLimit,y),gt=Math.max(1,Math.ceil(y/ft));for(O=0;O<y;O+=gt){const K=this.getContext(O),et=a.setContext(K),dt=c.setContext(K),xt=et.lineWidth,H=et.color,nt=dt.dash||[],ht=dt.dashOffset,lt=et.tickWidth,yt=et.tickColor,kt=et.tickBorderDash||[],St=et.tickBorderDashOffset;q=_H(this,O,h),q!==void 0&&(z=Oo(i,q,xt),f?$=D=U=B=z:M=k=L=V=z,b.push({tx1:$,ty1:M,tx2:D,ty2:k,x1:U,y1:L,x2:B,y2:V,width:xt,color:H,borderDash:nt,borderDashOffset:ht,tickWidth:lt,tickColor:yt,tickBorderDash:kt,tickBorderDashOffset:St}))}return this._ticksLength=y,this._borderValue=j,b}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:f,padding:p,mirror:y}=a,_=ah(i.grid),b=_+p,T=y?-p:b,E=-$o(this.labelRotation),S=[];let C,j,O,q,z,$,M,D,k,U,L,B,V="middle";if(s==="top")$=this.bottom-T,M=this._getXAxisLabelAlignment();else if(s==="bottom")$=this.top+T,M=this._getXAxisLabelAlignment();else if(s==="left"){const gt=this._getYAxisLabelAlignment(_);M=gt.textAlign,z=gt.x}else if(s==="right"){const gt=this._getYAxisLabelAlignment(_);M=gt.textAlign,z=gt.x}else if(n==="x"){if(s==="center")$=(t.top+t.bottom)/2+b;else if(se(s)){const gt=Object.keys(s)[0],K=s[gt];$=this.chart.scales[gt].getPixelForValue(K)+b}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")z=(t.left+t.right)/2-b;else if(se(s)){const gt=Object.keys(s)[0],K=s[gt];z=this.chart.scales[gt].getPixelForValue(K)}M=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(h==="start"?V="top":h==="end"&&(V="bottom"));const ft=this._getLabelSizes();for(C=0,j=c.length;C<j;++C){O=c[C],q=O.label;const gt=a.setContext(this.getContext(C));D=this.getPixelForTick(C)+a.labelOffset,k=this._resolveTickFontOptions(C),U=k.lineHeight,L=dn(q)?q.length:1;const K=L/2,et=gt.color,dt=gt.textStrokeColor,xt=gt.textStrokeWidth;let H=M;l?(z=D,M==="inner"&&(C===j-1?H=this.options.reverse?"left":"right":C===0?H=this.options.reverse?"right":"left":H="center"),s==="top"?f==="near"||E!==0?B=-L*U+U/2:f==="center"?B=-ft.highest.height/2-K*U+U:B=-ft.highest.height+U/2:f==="near"||E!==0?B=U/2:f==="center"?B=ft.highest.height/2-K*U:B=ft.highest.height-L*U,y&&(B*=-1),E!==0&&!gt.showLabelBackdrop&&(z+=U/2*Math.sin(E))):($=D,B=(1-L)*U/2);let nt;if(gt.showLabelBackdrop){const ht=hs(gt.backdropPadding),lt=ft.heights[C],yt=ft.widths[C];let kt=B-ht.top,St=0-ht.left;switch(V){case"middle":kt-=lt/2;break;case"bottom":kt-=lt;break}switch(M){case"center":St-=yt/2;break;case"right":St-=yt;break;case"inner":C===j-1?St-=yt:C>0&&(St-=yt/2);break}nt={left:St,top:kt,width:yt+ht.width,height:lt+ht.height,color:gt.backdropColor}}S.push({label:q,font:k,textOffset:B,options:{rotation:E,color:et,strokeColor:dt,strokeWidth:xt,textAlign:H,textBaseline:V,translation:[z,$],backdrop:nt}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-$o(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),c=t+a,h=l.widest.width;let f,p;return n==="left"?s?(p=this.right+a,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-c,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p=this.left)):n==="right"?s?(p=this.left+a,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+c,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:a,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,a,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const c=(h,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(n.display)for(a=0,l=s.length;a<l;++a){const h=s[a];n.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,y,_;this.isHorizontal()?(f=Oo(t,this.left,l)-l/2,p=Oo(t,this.right,c)+c/2,y=_=h):(y=Oo(t,this.top,l)-l/2,_=Oo(t,this.bottom,c)+c/2,f=p=h),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(f,y),n.lineTo(p,_),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&eg(i,s);const a=this.getLabelItems(t);for(const l of a){const c=l.options,h=l.font,f=l.label,p=l.textOffset;Xh(i,f,0,p,h,c)}s&&ng(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const a=Zn(i.font),l=hs(i.padding),c=i.align;let h=a.lineHeight/2;n==="bottom"||n==="center"||se(n)?(h+=l.bottom,dn(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:p,maxWidth:y,rotation:_}=EH(this,h,n,c);Xh(t,i.text,0,0,a,{color:i.color,maxWidth:y,rotation:_,textAlign:SH(c,n,s),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=ne(t.grid&&t.grid.z,-1),s=ne(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Yc.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=n.length;a<l;++a){const c=n[a];c[i]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Zn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class hp{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;RH(n)&&(i=this.register(n));const s=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,xH(t,l,i),this.override&&an.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in an[s]&&(delete an[s][i],this.override&&delete ol[i])}}function xH(e,t,n){const i=$h(Object.create(null),[n?an.get(n):{},an.get(t),e.defaults]);an.set(t,i),e.defaultRoutes&&AH(t,e.defaultRoutes),e.descriptors&&an.describe(t,e.descriptors)}function AH(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),a=[e].concat(i).join("."),l=t[n].split("."),c=l.pop(),h=l.join(".");an.route(a,s,h,c)})}function RH(e){return"id"in e&&"defaults"in e}class CH{constructor(){this.controllers=new hp(Tc,"datasets",!0),this.elements=new hp(io,"elements"),this.plugins=new hp(Object,"plugins"),this.scales=new hp(Yc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):Te(s,l=>{const c=i||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,n,i){const s=Db(t);Me(i["before"+s],[],i),n[t](i),Me(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Ks=new CH;class DH{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(a,t,n,i);return n==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,i,s){s=s||{};for(const a of t){const l=a.plugin,c=l[i],h=[n,s,a.options];if(Me(c,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){ve(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=ne(i.options&&i.options.plugins,{}),a=IH(i);return s===!1&&!n?[]:PH(t,a,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function IH(e){const t={},n=[],i=Object.keys(Ks.plugins.items);for(let a=0;a<i.length;a++)n.push(Ks.getPlugin(i[a]));const s=e.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function kH(e,t){return!t&&e===!1?null:e===!0?{}:e}function PH(e,{plugins:t,localIds:n},i,s){const a=[],l=e.getContext();for(const c of t){const h=c.id,f=kH(i[h],s);f!==null&&a.push({plugin:c,options:MH(e.config,{plugin:c,local:n[h]},f,l)})}return a}function MH(e,{plugin:t,local:n},i,s){const a=e.pluginScopeKeys(t),l=e.getOptionScopes(i,a);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function F_(e,t){const n=an.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function OH(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function NH(e,t){return e===t?"_index_":"_value_"}function AR(e){if(e==="x"||e==="y"||e==="r")return e}function LH(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function H_(e,...t){if(AR(e))return e;for(const n of t){const i=n.axis||LH(n.position)||e.length>1&&AR(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function RR(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function VH(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return RR(e,"x",n[0])||RR(e,"y",n[0])}return{}}function jH(e,t){const n=ol[e.type]||{scales:{}},i=t.scales||{},s=F_(e.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!se(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=H_(l,c,VH(l,e),an.scales[c.type]),f=NH(h,s),p=n.scales||{};a[l]=Ah(Object.create(null),[{axis:h},c,p[h],p[f]])}),e.data.datasets.forEach(l=>{const c=l.type||e.type,h=l.indexAxis||F_(c,t),p=(ol[c]||{}).scales||{};Object.keys(p).forEach(y=>{const _=OH(y,h),b=l[_+"AxisID"]||_;a[b]=a[b]||Object.create(null),Ah(a[b],[{axis:_},i[b],p[y]])})}),Object.keys(a).forEach(l=>{const c=a[l];Ah(c,[an.scales[c.type],an.scale])}),a}function RP(e){const t=e.options||(e.options={});t.plugins=ne(t.plugins,{}),t.scales=jH(e,t)}function CP(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function UH(e){return e=e||{},e.data=CP(e.data),RP(e),e}const CR=new Map,DP=new Set;function fp(e,t){let n=CR.get(e);return n||(n=t(),CR.set(e,n),DP.add(n)),n}const oh=(e,t,n)=>{const i=Mc(t,n);i!==void 0&&e.add(i)};class BH{constructor(t){this._config=UH(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=CP(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),RP(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return fp(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return fp(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return fp(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return fp(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:a}=this,l=this._cachedScopes(t,i),c=l.get(n);if(c)return c;const h=new Set;n.forEach(p=>{t&&(h.add(t),p.forEach(y=>oh(h,t,y))),p.forEach(y=>oh(h,s,y)),p.forEach(y=>oh(h,ol[a]||{},y)),p.forEach(y=>oh(h,an,y)),p.forEach(y=>oh(h,B_,y))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),DP.has(n)&&l.set(n,f),f}chartOptionScopes(){const{options:t,type:n}=this;return[t,ol[n]||{},an.datasets[n]||{},{type:n},an,B_]}resolveNamedOptions(t,n,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=DR(this._resolverCache,t,s);let h=l;if(FH(l,n)){a.$shared=!1,i=Xa(i)?i():i;const f=this.createResolver(t,i,c);h=Oc(l,i,f)}for(const f of n)a[f]=h[f];return a}createResolver(t,n,i=[""],s){const{resolver:a}=DR(this._resolverCache,t,i);return se(n)?Oc(a,n,void 0,s):a}}function DR(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let a=i.get(s);return a||(a={resolver:Mb(t,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,a)),a}const zH=e=>se(e)&&Object.getOwnPropertyNames(e).some(t=>Xa(e[t]));function FH(e,t){const{isScriptable:n,isIndexable:i}=cP(e);for(const s of t){const a=n(s),l=i(s),c=(l||a)&&e[s];if(a&&(Xa(c)||zH(c))||l&&dn(c))return!0}return!1}var HH="4.4.8";const qH=["top","bottom","left","right","chartArea"];function IR(e,t){return e==="top"||e==="bottom"||qH.indexOf(e)===-1&&t==="x"}function kR(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function PR(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Me(n&&n.onComplete,[e],t)}function WH(e){const t=e.chart,n=t.options.animation;Me(n&&n.onProgress,[e],t)}function IP(e){return Lb()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Lp={},MR=e=>{const t=IP(e);return Object.values(Lp).filter(n=>n.canvas===t).pop()};function $H(e,t,n){const i=Object.keys(e);for(const s of i){const a=+s;if(a>=t){const l=e[s];delete e[s],(n>0||a>t)&&(e[a+n]=l)}}}function GH(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function dp(e,t,n){return e.options.clip?e[n]:t[n]}function KH(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:dp(n,t,"left"),right:dp(n,t,"right"),top:dp(i,t,"top"),bottom:dp(i,t,"bottom")}:t}var Da;let Xc=(Da=class{static register(...t){Ks.add(...t),OR()}static unregister(...t){Ks.remove(...t),OR()}constructor(t,n){const i=this.config=new BH(n),s=IP(t),a=MR(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||hH(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),h=c&&c.canvas,f=h&&h.height,p=h&&h.width;if(this.id=$5(),this.ctx=c,this.canvas=h,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new DH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=f6(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],Lp[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Ur.listen(this,"complete",PR),Ur.listen(this,"progress",WH),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:a}=this;return ve(t)?n&&a?a:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ks}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():nR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return JA(this.canvas,this.ctx),this}stop(){return Ur.stop(this),this}resize(t,n){Ur.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,n,a),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,nR(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),Me(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Te(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let a=[];n&&(a=a.concat(Object.keys(n).map(l=>{const c=n[l],h=H_(l,c),f=h==="r",p=h==="x";return{options:c,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),Te(a,l=>{const c=l.options,h=c.id,f=H_(h,c),p=ne(c.type,l.dtype);(c.position===void 0||IR(c.position,f)!==IR(l.dposition))&&(c.position=l.dposition),s[h]=!0;let y=null;if(h in i&&i[h].type===p)y=i[h];else{const _=Ks.getScale(p);y=new _({id:h,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,t)}),Te(s,(l,c)=>{l||delete i[c]}),Te(i,l=>{as.configure(this,l,l.options),as.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,a)=>s.index-a.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(kR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const a=n[i];let l=this.getDatasetMeta(i);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=a.indexAxis||F_(c,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Ks.getController(c),{datasetElementType:f,dataElementType:p}=an.datasets[c];Object.assign(h,{dataElementType:Ks.getElement(p),datasetElementType:f&&Ks.getElement(f)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Te(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:y}=this.getDatasetMeta(f),_=!s&&a.indexOf(y)===-1;y.buildOrUpdateElements(_),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||Te(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(kR("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Te(this.scales,t=>{as.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!HA(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of n){const l=i==="_removeElements"?-a:a;$H(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<n;a++)if(!HA(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;as.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Te(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Xa(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ur.has(this)?this.attached&&!Ur.running(this)&&Ur.start(this):(this.draw(),PR({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,s=!i.disabled,a=KH(t,this.chartArea),l={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(s&&eg(n,{left:i.left===!1?0:a.left-i.left,right:i.right===!1?this.width:a.right+i.right,top:i.top===!1?0:a.top-i.top,bottom:i.bottom===!1?this.height:a.bottom+i.bottom}),t.controller.draw(),s&&ng(n),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(t){return Yh(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const a=q9.modes[n];return typeof a=="function"?a(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=ml(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,s);Gh(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ur.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),JA(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Lp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(a,l)=>{n.addEventListener(this,a,l),t[a]=l},s=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};Te(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(h,f)=>{n.addEventListener(this,h,f),t[h]=f},s=(h,f)=>{t[h]&&(n.removeEventListener(this,h,f),delete t[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():l()}unbindEvents(){Te(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Te(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let a,l,c,h;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,h=t.length;c<h;++c){l=t[c];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!um(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,a=(h,f)=>h.filter(p=>!f.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=a(n,t),c=i?t:a(t,n);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:a}=this,l=n,c=this._getActiveElements(t,s,i,l),h=Z5(t),f=GH(t,this._lastEvent,i,h);i&&(this._lastEvent=null,Me(a.onHover,[t,c,this],this),h&&Me(a.onClick,[t,c,this],this));const p=!um(c,s);return(p||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=f,p}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}},Bt(Da,"defaults",an),Bt(Da,"instances",Lp),Bt(Da,"overrides",ol),Bt(Da,"registry",Ks),Bt(Da,"version",HH),Bt(Da,"getChart",MR),Da);function OR(){return Te(Xc.instances,e=>e._plugins.invalidate())}function kP(e,t,n=t){e.lineCap=ne(n.borderCapStyle,t.borderCapStyle),e.setLineDash(ne(n.borderDash,t.borderDash)),e.lineDashOffset=ne(n.borderDashOffset,t.borderDashOffset),e.lineJoin=ne(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ne(n.borderWidth,t.borderWidth),e.strokeStyle=ne(n.borderColor,t.borderColor)}function YH(e,t,n){e.lineTo(n.x,n.y)}function XH(e){return e.stepped?A6:e.tension||e.cubicInterpolationMode==="monotone"?R6:YH}function PP(e,t,n={}){const i=e.length,{start:s=0,end:a=i-1}=n,{start:l,end:c}=t,h=Math.max(s,l),f=Math.min(a,c),p=s<l&&a<l||s>c&&a>c;return{count:i,start:h,loop:t.loop,ilen:f<h&&!p?i+f-h:f-h}}function QH(e,t,n,i){const{points:s,options:a}=t,{count:l,start:c,loop:h,ilen:f}=PP(s,n,i),p=XH(a);let{move:y=!0,reverse:_}=i||{},b,T,E;for(b=0;b<=f;++b)T=s[(c+(_?f-b:b))%l],!T.skip&&(y?(e.moveTo(T.x,T.y),y=!1):p(e,E,T,_,a.stepped),E=T);return h&&(T=s[(c+(_?f:0))%l],p(e,E,T,_,a.stepped)),!!h}function ZH(e,t,n,i){const s=t.points,{count:a,start:l,ilen:c}=PP(s,n,i),{move:h=!0,reverse:f}=i||{};let p=0,y=0,_,b,T,E,S,C;const j=q=>(l+(f?c-q:q))%a,O=()=>{E!==S&&(e.lineTo(p,S),e.lineTo(p,E),e.lineTo(p,C))};for(h&&(b=s[j(0)],e.moveTo(b.x,b.y)),_=0;_<=c;++_){if(b=s[j(_)],b.skip)continue;const q=b.x,z=b.y,$=q|0;$===T?(z<E?E=z:z>S&&(S=z),p=(y*p+q)/++y):(O(),e.lineTo(q,z),T=$,y=0,E=S=z),C=z}O()}function q_(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?ZH:QH}function JH(e){return e.stepped?r9:e.tension||e.cubicInterpolationMode==="monotone"?a9:zo}function tq(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),kP(e,t.options),e.stroke(s)}function eq(e,t,n,i){const{segments:s,options:a}=t,l=q_(t);for(const c of s)kP(e,a,c.style),e.beginPath(),l(e,t,c,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const nq=typeof Path2D=="function";function iq(e,t,n,i){nq&&!t.options.segment?tq(e,t,n,i):eq(e,t,n,i)}class Qs extends io{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;Q6(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=f9(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],a=this.points,l=vP(this,{property:n,start:s,end:s});if(!l.length)return;const c=[],h=JH(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:y,end:_}=l[f],b=a[y],T=a[_];if(b===T){c.push(b);continue}const E=Math.abs((s-b[n])/(T[n]-b[n])),S=h(b,T,E,i.stepped);S[n]=t[n],c.push(S)}return c.length===1?c[0]:c}pathSegment(t,n,i){return q_(this)(t,this,n,i)}path(t,n,i){const s=this.segments,a=q_(this);let l=this._loop;n=n||0,i=i||this.points.length-n;for(const c of s)l&=a(t,this,c,{start:n,end:n+i-1});return!!l}draw(t,n,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),iq(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Bt(Qs,"id","line"),Bt(Qs,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Bt(Qs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Bt(Qs,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function NR(e,t,n,i){const s=e.options,{[n]:a}=e.getProps([n],i);return Math.abs(t-a)<s.radius+s.hitRadius}class Sc extends io{constructor(n){super();Bt(this,"parsed");Bt(this,"skip");Bt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const a=this.options,{x:l,y:c}=this.getProps(["x","y"],s);return Math.pow(n-l,2)+Math.pow(i-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(n,i){return NR(this,n,"x",i)}inYRange(n,i){return NR(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Yh(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,z_(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Bt(Sc,"id","point"),Bt(Sc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Bt(Sc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function MP(e,t){const{x:n,y:i,base:s,width:a,height:l}=e.getProps(["x","y","base","width","height"],t);let c,h,f,p,y;return e.horizontal?(y=l/2,c=Math.min(n,s),h=Math.max(n,s),f=i-y,p=i+y):(y=a/2,c=n-y,h=n+y,f=Math.min(i,s),p=Math.max(i,s)),{left:c,top:f,right:h,bottom:p}}function ja(e,t,n,i){return e?0:Li(t,n,i)}function sq(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,a=lP(i);return{t:ja(s.top,a.top,0,n),r:ja(s.right,a.right,0,t),b:ja(s.bottom,a.bottom,0,n),l:ja(s.left,a.left,0,t)}}function rq(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,a=bc(s),l=Math.min(t,n),c=e.borderSkipped,h=i||se(s);return{topLeft:ja(!h||c.top||c.left,a.topLeft,0,l),topRight:ja(!h||c.top||c.right,a.topRight,0,l),bottomLeft:ja(!h||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:ja(!h||c.bottom||c.right,a.bottomRight,0,l)}}function aq(e){const t=MP(e),n=t.right-t.left,i=t.bottom-t.top,s=sq(e,n/2,i/2),a=rq(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Fv(e,t,n,i){const s=t===null,a=n===null,c=e&&!(s&&a)&&MP(e,i);return c&&(s||Va(t,c.left,c.right))&&(a||Va(n,c.top,c.bottom))}function oq(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function lq(e,t){e.rect(t.x,t.y,t.w,t.h)}function Hv(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-i,l=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+a,h:e.h+l,radius:e.radius}}class Vp extends io{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:l}=aq(this),c=oq(l.radius)?dm:lq;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),c(t,Hv(l,n,a)),t.clip(),c(t,Hv(a,-n,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,Hv(a,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Fv(this,t,n,i)}inXRange(t,n){return Fv(this,t,null,n)}inYRange(t,n){return Fv(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(n+s)/2:n,y:a?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Bt(Vp,"id","bar"),Bt(Vp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Bt(Vp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function cq(e,t,n){const i=e.segments,s=e.points,a=t.points,l=[];for(const c of i){let{start:h,end:f}=c;f=Ub(h,f,s);const p=W_(n,s[h],s[f],c.loop);if(!t.segments){l.push({source:c,target:p,start:s[h],end:s[f]});continue}const y=vP(t,p);for(const _ of y){const b=W_(n,a[_.start],a[_.end],_.loop),T=yP(c,s,b);for(const E of T)l.push({source:E,target:_,start:{[n]:LR(p,b,"start",Math.max)},end:{[n]:LR(p,b,"end",Math.min)}})}}return l}function W_(e,t,n,i){if(i)return;let s=t[e],a=n[e];return e==="angle"&&(s=Xs(s),a=Xs(a)),{property:e,start:s,end:a}}function uq(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,a=[];return t.segments.forEach(({start:l,end:c})=>{c=Ub(l,c,s);const h=s[l],f=s[c];i!==null?(a.push({x:h.x,y:i}),a.push({x:f.x,y:i})):n!==null&&(a.push({x:n,y:h.y}),a.push({x:n,y:f.y}))}),a}function Ub(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function LR(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function OP(e,t){let n=[],i=!1;return dn(e)?(i=!0,n=e):n=uq(e,t),n.length?new Qs({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function VR(e){return e&&e.fill!==!1}function hq(e,t,n){let s=e[t].fill;const a=[t];let l;if(!n)return s;for(;s!==!1&&a.indexOf(s)===-1;){if(!ei(s))return s;if(l=e[s],!l)return!1;if(l.visible)return s;a.push(s),s=l.fill}return!1}function fq(e,t,n){const i=gq(e);if(se(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return ei(s)&&Math.floor(s)===s?dq(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function dq(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function pq(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:se(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function mq(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:se(e)?i=e.value:i=t.getBaseValue(),i}function gq(e){const t=e.options,n=t.fill;let i=ne(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function yq(e){const{scale:t,index:n,line:i}=e,s=[],a=i.segments,l=i.points,c=vq(t,n);c.push(OP({x:null,y:t.bottom},i));for(let h=0;h<a.length;h++){const f=a[h];for(let p=f.start;p<=f.end;p++)_q(s,l[p],c)}return new Qs({points:s,options:{}})}function vq(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const a=i[s];if(a.index===t)break;a.hidden||n.unshift(a.dataset)}return n}function _q(e,t,n){const i=[];for(let s=0;s<n.length;s++){const a=n[s],{first:l,last:c,point:h}=bq(a,t,"x");if(!(!h||l&&c)){if(l)i.unshift(h);else if(e.push(h),!c)break}}e.push(...i)}function bq(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],a=e.segments,l=e.points;let c=!1,h=!1;for(let f=0;f<a.length;f++){const p=a[f],y=l[p.start][n],_=l[p.end][n];if(Va(s,y,_)){c=s===y,h=s===_;break}}return{first:c,last:h,point:i}}class NP{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:a,radius:l}=this;return n=n||{start:0,end:Ss},t.arc(s,a,l,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,a=t.angle;return{x:n+Math.cos(a)*s,y:i+Math.sin(a)*s,angle:a}}}function wq(e){const{chart:t,fill:n,line:i}=e;if(ei(n))return Tq(t,n);if(n==="stack")return yq(e);if(n==="shape")return!0;const s=Sq(e);return s instanceof NP?s:OP(s,i)}function Tq(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function Sq(e){return(e.scale||{}).getPointPositionForValue?xq(e):Eq(e)}function Eq(e){const{scale:t={},fill:n}=e,i=pq(n,t);if(ei(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function xq(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,a=i.reverse?t.max:t.min,l=mq(n,t,a),c=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,a);return new NP({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<s;++h)c.push(t.getPointPositionForValue(h,l));return c}function qv(e,t,n){const i=wq(t),{line:s,scale:a,axis:l}=t,c=s.options,h=c.fill,f=c.backgroundColor,{above:p=f,below:y=f}=h||{};i&&s.points.length&&(eg(e,n),Aq(e,{line:s,target:i,above:p,below:y,area:n,scale:a,axis:l}),ng(e))}function Aq(e,t){const{line:n,target:i,above:s,below:a,area:l,scale:c}=t,h=n._loop?"angle":t.axis;e.save(),h==="x"&&a!==s&&(jR(e,i,l.top),UR(e,{line:n,target:i,color:s,scale:c,property:h}),e.restore(),e.save(),jR(e,i,l.bottom)),UR(e,{line:n,target:i,color:a,scale:c,property:h}),e.restore()}function jR(e,t,n){const{segments:i,points:s}=t;let a=!0,l=!1;e.beginPath();for(const c of i){const{start:h,end:f}=c,p=s[h],y=s[Ub(h,f,s)];a?(e.moveTo(p.x,p.y),a=!1):(e.lineTo(p.x,n),e.lineTo(p.x,p.y)),l=!!t.pathSegment(e,c,{move:l}),l?e.closePath():e.lineTo(y.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function UR(e,t){const{line:n,target:i,property:s,color:a,scale:l}=t,c=cq(n,i,s);for(const{source:h,target:f,start:p,end:y}of c){const{style:{backgroundColor:_=a}={}}=h,b=i!==!0;e.save(),e.fillStyle=_,Rq(e,l,b&&W_(s,p,y)),e.beginPath();const T=!!n.pathSegment(e,h);let E;if(b){T?e.closePath():BR(e,i,y,s);const S=!!i.pathSegment(e,f,{move:T,reverse:!0});E=T&&S,E||BR(e,i,p,s)}e.closePath(),e.fill(E?"evenodd":"nonzero"),e.restore()}}function Rq(e,t,n){const{top:i,bottom:s}=t.chart.chartArea,{property:a,start:l,end:c}=n||{};a==="x"&&(e.beginPath(),e.rect(l,i,c-l,s-i),e.clip())}function BR(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var Cq={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let a,l,c,h;for(l=0;l<i;++l)a=e.getDatasetMeta(l),c=a.dataset,h=null,c&&c.options&&c instanceof Qs&&(h={visible:e.isDatasetVisible(l),index:l,fill:fq(c,l,i),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=h,s.push(h);for(l=0;l<i;++l)h=s[l],!(!h||h.fill===!1)&&(h.fill=hq(s,l,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let l=s.length-1;l>=0;--l){const c=s[l].$filler;c&&(c.line.updateControlPoints(a,c.axis),i&&c.fill&&qv(e.ctx,c,a))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const a=i[s].$filler;VR(a)&&qv(e.ctx,a,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!VR(i)||n.drawTime!=="beforeDatasetDraw"||qv(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const zR=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},Dq=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class FR extends io{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Me(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Zn(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=zR(i,a);let f,p;n.font=s.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,c,h)+10):(p=this.maxHeight,f=this._fitCols(l,s,c,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=s+c;let y=t;a.textAlign="left",a.textBaseline="middle";let _=-1,b=-p;return this.legendItems.forEach((T,E)=>{const S=i+n/2+a.measureText(T.text).width;(E===0||f[f.length-1]+S+2*c>l)&&(y+=p,f[f.length-(E>0?0:1)]=0,b+=p,_++),h[E]={left:0,top:b,row:_,width:S,height:s},f[f.length-1]+=S+c}),y}_fitCols(t,n,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-t;let y=c,_=0,b=0,T=0,E=0;return this.legendItems.forEach((S,C)=>{const{itemWidth:j,itemHeight:O}=Iq(i,n,a,S,s);C>0&&b+O+2*c>p&&(y+=_+c,f.push({width:_,height:b}),T+=_+c,E++,_=b=0),h[C]={left:T,top:b,col:E,width:j,height:O},_=Math.max(_,j),b+=O+c}),y+=_,f.push({width:_,height:b}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:a}}=this,l=wc(a,this.left,this.width);if(this.isHorizontal()){let c=0,h=Kn(i,this.left+s,this.right-this.lineWidths[c]);for(const f of n)c!==f.row&&(c=f.row,h=Kn(i,this.left+s,this.right-this.lineWidths[c])),f.top+=this.top+t+s,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+s}else{let c=0,h=Kn(i,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const f of n)f.col!==c&&(c=f.col,h=Kn(i,this.top+t+s,this.bottom-this.columnSizes[c].height)),f.top=h,f.left+=this.left+s,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;eg(t,this),this._draw(),ng(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:a,labels:l}=t,c=an.color,h=wc(t.rtl,this.left,this.width),f=Zn(l.font),{padding:p}=l,y=f.size,_=y/2;let b;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:T,boxHeight:E,itemHeight:S}=zR(l,y),C=function($,M,D){if(isNaN(T)||T<=0||isNaN(E)||E<0)return;s.save();const k=ne(D.lineWidth,1);if(s.fillStyle=ne(D.fillStyle,c),s.lineCap=ne(D.lineCap,"butt"),s.lineDashOffset=ne(D.lineDashOffset,0),s.lineJoin=ne(D.lineJoin,"miter"),s.lineWidth=k,s.strokeStyle=ne(D.strokeStyle,c),s.setLineDash(ne(D.lineDash,[])),l.usePointStyle){const U={radius:E*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:k},L=h.xPlus($,T/2),B=M+_;aP(s,U,L,B,l.pointStyleWidth&&T)}else{const U=M+Math.max((y-E)/2,0),L=h.leftForLtr($,T),B=bc(D.borderRadius);s.beginPath(),Object.values(B).some(V=>V!==0)?dm(s,{x:L,y:U,w:T,h:E,radius:B}):s.rect(L,U,T,E),s.fill(),k!==0&&s.stroke()}s.restore()},j=function($,M,D){Xh(s,D.text,$,M+S/2,f,{strikethrough:D.hidden,textAlign:h.textAlign(D.textAlign)})},O=this.isHorizontal(),q=this._computeTitleHeight();O?b={x:Kn(a,this.left+p,this.right-i[0]),y:this.top+p+q,line:0}:b={x:this.left+p,y:Kn(a,this.top+q+p,this.bottom-n[0].height),line:0},pP(this.ctx,t.textDirection);const z=S+p;this.legendItems.forEach(($,M)=>{s.strokeStyle=$.fontColor,s.fillStyle=$.fontColor;const D=s.measureText($.text).width,k=h.textAlign($.textAlign||($.textAlign=l.textAlign)),U=T+_+D;let L=b.x,B=b.y;h.setWidth(this.width),O?M>0&&L+U+p>this.right&&(B=b.y+=z,b.line++,L=b.x=Kn(a,this.left+p,this.right-i[b.line])):M>0&&B+z>this.bottom&&(L=b.x=L+n[b.line].width+p,b.line++,B=b.y=Kn(a,this.top+q+p,this.bottom-n[b.line].height));const V=h.x(L);if(C(V,B,$),L=d6(k,L+T+_,O?L+U:this.right,t.rtl),j(h.x(L),B,$),O)b.x+=U+p;else if(typeof $.text!="string"){const ft=f.lineHeight;b.y+=LP($,ft)+p}else b.y+=z}),mP(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=Zn(n.font),s=hs(n.padding);if(!n.display)return;const a=wc(t.rtl,this.left,this.width),l=this.ctx,c=n.position,h=i.size/2,f=s.top+h;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+f,y=Kn(t.align,y,this.right-_);else{const T=this.columnSizes.reduce((E,S)=>Math.max(E,S.height),0);p=f+Kn(t.align,this.top,this.bottom-T-t.labels.padding-this._computeTitleHeight())}const b=Kn(c,y,y+_);l.textAlign=a.textAlign(kb(c)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,Xh(l,n.text,b,p,i)}_computeTitleHeight(){const t=this.options.title,n=Zn(t.font),i=hs(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,a;if(Va(t,this.left,this.right)&&Va(n,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],Va(t,s.left,s.left+s.width)&&Va(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!Mq(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=Dq(s,i);s&&!a&&Me(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!a&&Me(n.onHover,[t,i,this],this)}else i&&Me(n.onClick,[t,i,this],this)}}function Iq(e,t,n,i,s){const a=kq(i,e,t,n),l=Pq(s,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function kq(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),t+n.size/2+i.measureText(s).width}function Pq(e,t,n){let i=e;return typeof t.text!="string"&&(i=LP(t,n)),i}function LP(e,t){const n=e.text?e.text.length:0;return t*n}function Mq(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Bb={id:"legend",_element:FR,start(e,t,n){const i=e.legend=new FR({ctx:e.ctx,options:n,chart:e});as.configure(e,i,n),as.addBox(e,i)},stop(e){as.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;as.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(n?0:void 0),p=hs(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(c||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class VP extends io{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=dn(i.text)?i.text.length:1;this._padding=hs(i.padding);const a=s*Zn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:a,options:l}=this,c=l.align;let h=0,f,p,y;return this.isHorizontal()?(p=Kn(c,i,a),y=n+t,f=a-i):(l.position==="left"?(p=i+t,y=Kn(c,s,n),h=kn*-.5):(p=a-t,y=Kn(c,n,s),h=kn*.5),f=s-n),{titleX:p,titleY:y,maxWidth:f,rotation:h}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=Zn(n.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:h,rotation:f}=this._drawArgs(a);Xh(t,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:f,textAlign:kb(n.align),textBaseline:"middle",translation:[l,c]})}}function Oq(e,t){const n=new VP({ctx:e.ctx,options:t,chart:e});as.configure(e,n,t),as.addBox(e,n),e.titleBlock=n}var zb={id:"title",_element:VP,start(e,t,n){Oq(e,n)},stop(e){const t=e.titleBlock;as.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;as.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gh={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,a=0;for(t=0,n=e.length;t<n;++t){const c=e[t].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),s+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:s/a}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=e.length;a<l;++a){const h=e[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=U_(t,f);p<s&&(s=p,c=h)}}if(c){const h=c.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function Gs(e,t){return t&&(dn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Br(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Nq(e,t){const{element:n,datasetIndex:i,index:s}=t,a=e.getDatasetMeta(i).controller,{label:l,value:c}=a.getLabelAndValue(s);return{chart:e,label:l,parsed:a.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function HR(e,t){const n=e.chart.ctx,{body:i,footer:s,title:a}=e,{boxWidth:l,boxHeight:c}=t,h=Zn(t.bodyFont),f=Zn(t.titleFont),p=Zn(t.footerFont),y=a.length,_=s.length,b=i.length,T=hs(t.padding);let E=T.height,S=0,C=i.reduce((q,z)=>q+z.before.length+z.lines.length+z.after.length,0);if(C+=e.beforeBody.length+e.afterBody.length,y&&(E+=y*f.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),C){const q=t.displayColors?Math.max(c,h.lineHeight):h.lineHeight;E+=b*q+(C-b)*h.lineHeight+(C-1)*t.bodySpacing}_&&(E+=t.footerMarginTop+_*p.lineHeight+(_-1)*t.footerSpacing);let j=0;const O=function(q){S=Math.max(S,n.measureText(q).width+j)};return n.save(),n.font=f.string,Te(e.title,O),n.font=h.string,Te(e.beforeBody.concat(e.afterBody),O),j=t.displayColors?l+2+t.boxPadding:0,Te(i,q=>{Te(q.before,O),Te(q.lines,O),Te(q.after,O)}),j=0,n.font=p.string,Te(e.footer,O),n.restore(),S+=T.width,{width:S,height:E}}function Lq(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function Vq(e,t,n,i){const{x:s,width:a}=i,l=n.caretSize+n.caretPadding;if(e==="left"&&s+a+l>t.width||e==="right"&&s-a-l<0)return!0}function jq(e,t,n,i){const{x:s,width:a}=n,{width:l,chartArea:{left:c,right:h}}=e;let f="center";return i==="center"?f=s<=(c+h)/2?"left":"right":s<=a/2?f="left":s>=l-a/2&&(f="right"),Vq(f,e,t,n)&&(f="center"),f}function qR(e,t,n){const i=n.yAlign||t.yAlign||Lq(e,n);return{xAlign:n.xAlign||t.xAlign||jq(e,t,n,i),yAlign:i}}function Uq(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function Bq(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function WR(e,t,n,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=e,{xAlign:c,yAlign:h}=n,f=s+a,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:b}=bc(l);let T=Uq(t,c);const E=Bq(t,h,f);return h==="center"?c==="left"?T+=f:c==="right"&&(T-=f):c==="left"?T-=Math.max(p,_)+s:c==="right"&&(T+=Math.max(y,b)+s),{x:Li(T,0,i.width-t.width),y:Li(E,0,i.height-t.height)}}function pp(e,t,n){const i=hs(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function $R(e){return Gs([],Br(e))}function zq(e,t,n){return ml(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function GR(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const jP={beforeTitle:jr,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:jr,beforeBody:jr,beforeLabel:jr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ve(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:jr,afterBody:jr,beforeFooter:jr,footer:jr,afterFooter:jr};function _i(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?jP[t].call(n,i):s}class $_ extends io{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,a=new _P(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=zq(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=_i(i,"beforeTitle",this,t),a=_i(i,"title",this,t),l=_i(i,"afterTitle",this,t);let c=[];return c=Gs(c,Br(s)),c=Gs(c,Br(a)),c=Gs(c,Br(l)),c}getBeforeBody(t,n){return $R(_i(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return Te(t,a=>{const l={before:[],lines:[],after:[]},c=GR(i,a);Gs(l.before,Br(_i(c,"beforeLabel",this,a))),Gs(l.lines,_i(c,"label",this,a)),Gs(l.after,Br(_i(c,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(t,n){return $R(_i(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=_i(i,"beforeFooter",this,t),a=_i(i,"footer",this,t),l=_i(i,"afterFooter",this,t);let c=[];return c=Gs(c,Br(s)),c=Gs(c,Br(a)),c=Gs(c,Br(l)),c}_createItems(t){const n=this._active,i=this.chart.data,s=[],a=[],l=[];let c=[],h,f;for(h=0,f=n.length;h<f;++h)c.push(Nq(this.chart,n[h]));return t.filter&&(c=c.filter((p,y,_)=>t.filter(p,y,_,i))),t.itemSort&&(c=c.sort((p,y)=>t.itemSort(p,y,i))),Te(c,p=>{const y=GR(t.callbacks,p);s.push(_i(y,"labelColor",this,p)),a.push(_i(y,"labelPointStyle",this,p)),l.push(_i(y,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=gh[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=HR(this,i),f=Object.assign({},c,h),p=qR(this.chart,i,f),y=WR(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const a=this.getCaretPosition(t,i,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:y}=bc(c),{x:_,y:b}=t,{width:T,height:E}=n;let S,C,j,O,q,z;return a==="center"?(q=b+E/2,s==="left"?(S=_,C=S-l,O=q+l,z=q-l):(S=_+T,C=S+l,O=q-l,z=q+l),j=S):(s==="left"?C=_+Math.max(h,p)+l:s==="right"?C=_+T-Math.max(f,y)-l:C=this.caretX,a==="top"?(O=b,q=O-l,S=C-l,j=C+l):(O=b+E,q=O+l,S=C+l,j=C-l),z=O),{x1:S,x2:C,x3:j,y1:O,y2:q,y3:z}}drawTitle(t,n,i){const s=this.title,a=s.length;let l,c,h;if(a){const f=wc(i.rtl,this.x,this.width);for(t.x=pp(this,i.titleAlign,i),n.textAlign=f.textAlign(i.titleAlign),n.textBaseline="middle",l=Zn(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<a;++h)n.fillText(s[h],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,h+1===a&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,n,i,s,a){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=a,p=Zn(a.bodyFont),y=pp(this,"left",a),_=s.x(y),b=h<p.lineHeight?(p.lineHeight-h)/2:0,T=n.y+b;if(a.usePointStyle){const E={radius:Math.min(f,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=s.leftForLtr(_,f)+f/2,C=T+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,z_(t,E,S,C),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,z_(t,E,S,C)}else{t.lineWidth=se(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const E=s.leftForLtr(_,f),S=s.leftForLtr(s.xPlus(_,1),f-2),C=bc(l.borderRadius);Object.values(C).some(j=>j!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,dm(t,{x:E,y:T,w:f,h,radius:C}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),dm(t,{x:S,y:T+1,w:f-2,h:h-2,radius:C}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(E,T,f,h),t.strokeRect(E,T,f,h),t.fillStyle=l.backgroundColor,t.fillRect(S,T+1,f-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:f,boxPadding:p}=i,y=Zn(i.bodyFont);let _=y.lineHeight,b=0;const T=wc(i.rtl,this.x,this.width),E=function(D){n.fillText(D,T.x(t.x+b),t.y+_/2),t.y+=_+a},S=T.textAlign(l);let C,j,O,q,z,$,M;for(n.textAlign=l,n.textBaseline="middle",n.font=y.string,t.x=pp(this,S,i),n.fillStyle=i.bodyColor,Te(this.beforeBody,E),b=c&&S!=="right"?l==="center"?f/2+p:f+2+p:0,q=0,$=s.length;q<$;++q){for(C=s[q],j=this.labelTextColors[q],n.fillStyle=j,Te(C.before,E),O=C.lines,c&&O.length&&(this._drawColorBox(n,t,q,T,i),_=Math.max(y.lineHeight,h)),z=0,M=O.length;z<M;++z)E(O[z]),_=y.lineHeight;Te(C.after,E)}b=0,_=y.lineHeight,Te(this.afterBody,E),t.y-=a}drawFooter(t,n,i){const s=this.footer,a=s.length;let l,c;if(a){const h=wc(i.rtl,this.x,this.width);for(t.x=pp(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=Zn(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,c=0;c<a;++c)n.fillText(s[c],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:a,yAlign:l}=this,{x:c,y:h}=t,{width:f,height:p}=i,{topLeft:y,topRight:_,bottomLeft:b,bottomRight:T}=bc(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+y,h),l==="top"&&this.drawCaret(t,n,i,s),n.lineTo(c+f-_,h),n.quadraticCurveTo(c+f,h,c+f,h+_),l==="center"&&a==="right"&&this.drawCaret(t,n,i,s),n.lineTo(c+f,h+p-T),n.quadraticCurveTo(c+f,h+p,c+f-T,h+p),l==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(c+b,h+p),n.quadraticCurveTo(c,h+p,c,h+p-b),l==="center"&&a==="left"&&this.drawCaret(t,n,i,s),n.lineTo(c,h+y),n.quadraticCurveTo(c,h,c+y,h),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=gh[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=HR(this,t),h=Object.assign({},l,this._size),f=qR(n,t,h),p=WR(t,h,f,n);(s._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=hs(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,s,n),pP(t,n.textDirection),a.y+=l.top,this.drawTitle(a,t,n),this.drawBody(a,t,n),this.drawFooter(a,t,n),mP(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:c,index:h})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[h],index:h}}),a=!um(i,s),l=this._positionChanged(s,n);(a||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(t,a,n,i),c=this._positionChanged(l,t),h=n||!um(l,a)||c;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),h}_getActiveElements(t,n,i,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:i,caretY:s,options:a}=this,l=gh[a.position].call(this,t,n);return l!==!1&&(i!==l.x||s!==l.y)}}Bt($_,"positioners",gh);var Fb={id:"tooltip",_element:$_,positioners:gh,afterInit(e,t,n){n&&(e.tooltip=new $_({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:jP},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Fq=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function Hq(e,t,n,i){const s=e.indexOf(t);if(s===-1)return Fq(e,t,n,i);const a=e.lastIndexOf(t);return s!==a?n:s}const qq=(e,t)=>e===null?null:Li(Math.round(e),0,t);function KR(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Zh extends Yc{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:a}of n)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ve(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:Hq(i,t,ne(n,t),this._addedLabels),qq(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=t===0&&n===a.length-1?a:a.slice(t,n+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=n;l++)s.push({value:l});return s}getLabelForValue(t){return KR.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Bt(Zh,"id","category"),Bt(Zh,"defaults",{ticks:{callback:KR}});function Wq(e,t){const n=[],{bounds:s,step:a,min:l,max:c,precision:h,count:f,maxTicks:p,maxDigits:y,includeBounds:_}=e,b=a||1,T=p-1,{min:E,max:S}=t,C=!ve(l),j=!ve(c),O=!ve(f),q=(S-E)/(y+1);let z=WA((S-E)/T/b)*b,$,M,D,k;if(z<1e-14&&!C&&!j)return[{value:E},{value:S}];k=Math.ceil(S/z)-Math.floor(E/z),k>T&&(z=WA(k*z/T/b)*b),ve(h)||($=Math.pow(10,h),z=Math.ceil(z*$)/$),s==="ticks"?(M=Math.floor(E/z)*z,D=Math.ceil(S/z)*z):(M=E,D=S),C&&j&&a&&i6((c-l)/a,z/1e3)?(k=Math.round(Math.min((c-l)/z,p)),z=(c-l)/k,M=l,D=c):O?(M=C?l:M,D=j?c:D,k=f-1,z=(D-M)/k):(k=(D-M)/z,Rh(k,Math.round(k),z/1e3)?k=Math.round(k):k=Math.ceil(k));const U=Math.max($A(z),$A(M));$=Math.pow(10,ve(h)?U:h),M=Math.round(M*$)/$,D=Math.round(D*$)/$;let L=0;for(C&&(_&&M!==l?(n.push({value:l}),M<l&&L++,Rh(Math.round((M+L*z)*$)/$,l,YR(l,q,e))&&L++):M<l&&L++);L<k;++L){const B=Math.round((M+L*z)*$)/$;if(j&&B>c)break;n.push({value:B})}return j&&_&&D!==c?n.length&&Rh(n[n.length-1].value,c,YR(c,q,e))?n[n.length-1].value=c:n.push({value:c}):(!j||D===c)&&n.push({value:D}),n}function YR(e,t,{horizontal:n,minRotation:i}){const s=$o(i),a=(n?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+e).length;return Math.min(t/a,l)}class $q extends Yc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return ve(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=h=>s=n?s:h,c=h=>a=i?a:h;if(t){const h=nr(s),f=nr(a);h<0&&f<0?c(0):h>0&&f>0&&l(0)}if(s===a){let h=a===0?1:Math.abs(a*.05);c(a+h),t||l(s-h)}this.min=s,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,l=Wq(s,a);return t.bounds==="ticks"&&s6(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return sP(t,this.chart.options.locale,this.options.ticks.format)}}class Jh extends $q{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ei(t)?t:0,this.max=ei(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=$o(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Bt(Jh,"id","linear"),Bt(Jh,"defaults",{ticks:{callback:rP.formatters.numeric}});const rg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ti=Object.keys(rg);function XR(e,t){return e-t}function QR(e,t){if(ve(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:a}=e._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),ei(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(Kh(a)||a===!0)?n.startOf(l,"isoWeek",a):n.startOf(l,s)),+l)}function ZR(e,t,n,i){const s=Ti.length;for(let a=Ti.indexOf(e);a<s-1;++a){const l=rg[Ti[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(c*l.size))<=i)return Ti[a]}return Ti[s-1]}function Gq(e,t,n,i,s){for(let a=Ti.length-1;a>=Ti.indexOf(n);a--){const l=Ti[a];if(rg[l].common&&e._adapter.diff(s,i,l)>=t-1)return l}return Ti[n?Ti.indexOf(n):0]}function Kq(e){for(let t=Ti.indexOf(e)+1,n=Ti.length;t<n;++t)if(rg[Ti[t]].common)return Ti[t]}function JR(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=Ib(n,t),a=n[i]>=t?n[i]:n[s];e[a]=!0}}function Yq(e,t,n,i){const s=e._adapter,a=+s.startOf(t[0].value,i),l=t[t.length-1].value;let c,h;for(c=a;c<=l;c=+s.add(c,1,i))h=n[c],h>=0&&(t[h].major=!0);return t}function tC(e,t,n){const i=[],s={},a=t.length;let l,c;for(l=0;l<a;++l)c=t[l],s[c]=l,i.push({value:c,major:!1});return a===0||!n?i:Yq(e,i,s,n)}class gm extends Yc{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new U9._date(t.adapters.date);s.init(n),Ah(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:QR(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!c&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!c)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=ei(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),a=ei(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,c=u6(s,a,l);return this._unit=n.unit||(i.autoSkip?ZR(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):Gq(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Kq(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),tC(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=Li(n,0,l),i=Li(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||ZR(a.minUnit,n,i,this._getLabelCapacity(n)),c=ne(s.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=Kh(h)||h===!0,p={};let y=n,_,b;if(f&&(y=+t.startOf(y,"isoWeek",h)),y=+t.startOf(y,f?"day":l),t.diff(i,n,l)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+l);const T=s.ticks.source==="data"&&this.getDataTimestamps();for(_=y,b=0;_<i;_=+t.add(_,c,l),b++)JR(p,_,T);return(_===i||s.bounds==="ticks"||b===1)&&JR(p,_,T),Object.keys(p).sort(XR).map(E=>+E)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,a=this._unit,l=n||s[a];return this._adapter.format(t,l)}_tickFormatFunction(t,n,i,s){const a=this.options,l=a.ticks.callback;if(l)return Me(l,[t,n,i],this);const c=a.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&c[h],y=f&&c[f],_=i[n],b=f&&y&&_&&_.major;return this._adapter.format(t,s||(b?y:p))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=$o(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*a+c*l,h:i*l+c*a}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,a=this._tickFormatFunction(t,0,tC(this,[t],this._majorUnit),s),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(QR(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return eP(t.sort(XR))}}Bt(gm,"id","time"),Bt(gm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function mp(e,t,n){let i=0,s=e.length-1,a,l,c,h;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=Go(e,"pos",t)),{pos:a,time:c}=e[i],{pos:l,time:h}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=Go(e,"time",t)),{time:a,pos:c}=e[i],{time:l,pos:h}=e[s]);const f=l-a;return f?c+(h-c)*(t-a)/f:c}class eC extends gm{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=mp(n,this.min),this._tableRange=mp(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],a=[];let l,c,h,f,p;for(l=0,c=t.length;l<c;++l)f=t[l],f>=n&&f<=i&&s.push(f);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)p=s[l+1],h=s[l-1],f=s[l],Math.round((p+h)/2)!==f&&a.push({time:f,pos:l/(c-1)});return a}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(mp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return mp(this._table,i*this._tableRange+this._minPos,!0)}}Bt(eC,"id","timeseries"),Bt(eC,"defaults",gm.defaults);const UP="label";function nC(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Xq(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function BP(e,t){e.labels=t}function zP(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:UP;const i=[];e.datasets=t.map(s=>{const a=e.datasets.find(l=>l[n]===s[n]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function Qq(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:UP;const n={labels:[],datasets:[]};return BP(n,e.labels),zP(n,e.datasets,t),n}function Zq(e,t){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:l,data:c,options:h,plugins:f=[],fallbackContent:p,updateMode:y,..._}=e,b=P.useRef(null),T=P.useRef(null),E=()=>{b.current&&(T.current=new Xc(b.current,{type:l,data:Qq(c,a),options:h&&{...h},plugins:f}),nC(t,T.current))},S=()=>{nC(t,null),T.current&&(T.current.destroy(),T.current=null)};return P.useEffect(()=>{!s&&T.current&&h&&Xq(T.current,h)},[s,h]),P.useEffect(()=>{!s&&T.current&&BP(T.current.config.data,c.labels)},[s,c.labels]),P.useEffect(()=>{!s&&T.current&&c.datasets&&zP(T.current.config.data,c.datasets,a)},[s,c.datasets]),P.useEffect(()=>{T.current&&(s?(S(),setTimeout(E)):T.current.update(y))},[s,h,c.labels,c.datasets,y]),P.useEffect(()=>{T.current&&(S(),setTimeout(E))},[l]),P.useEffect(()=>(E(),()=>S()),[]),ke.createElement("canvas",{ref:b,role:"img",height:n,width:i,..._},p)}const Jq=P.forwardRef(Zq);function FP(e,t){return Xc.register(t),P.forwardRef((n,i)=>ke.createElement(Jq,{...n,ref:i,type:e}))}const Hb=FP("line",Op),tW=FP("bar",Mp);Xc.register(Zh,Jh,Sc,Qs,zb,Fb,Bb);const eW=()=>{var b;const e=Is(),[t,n]=P.useState(null),[i,s]=P.useState({totalWorkouts:0,totalVolume:0,totalWeightLogs:0,weightChange:null,lastWorkout:{date:null,name:null},currentWeight:null,recentWorkouts:[],recentWeights:[]}),[a,l]=P.useState([]);P.useEffect(()=>{const T=Bn.onAuthStateChanged(E=>{E&&(n(E),c(E.uid))});return()=>T()},[]);const c=async T=>{try{const E=xs(As,"users",T),S=await hr(E);if(!S.exists()){console.error("User document does not exist");return}const C=S.data(),j=C.workouts||[],O=C.weightLogs||[],q=[...j].sort((U,L)=>{const B=h(U.date);return h(L.date)-B}),z=[...O].sort((U,L)=>{const B=h(U.date);return h(L.date)-B});let $=0;j.forEach(U=>{U.exercises&&Array.isArray(U.exercises)&&U.exercises.forEach(L=>{L.sets&&Array.isArray(L.sets)&&L.sets.forEach(B=>{const V=parseInt(B.reps)||0,ft=B.weight==="bodyweight"?155:parseInt(B.weight)||0;$+=V*ft})})});const M=U=>{if(!U||U.length<2)return null;const L=new Date,B=new Date(L);B.setDate(L.getDate()-L.getDay()),B.setHours(0,0,0,0);const V=U.filter(ft=>h(ft.date)>=B);if(V.length>=2){const ft=V[V.length-1].weight;return V[0].weight-ft}if(U.length>=2){const ft=U[0].weight,gt=U[1].weight;return ft-gt}return null},D=[...z].reverse().slice(-10).map(U=>({date:f(U.date),weight:U.weight}));l(D);const k=M(z);s({totalWorkouts:j.length,totalVolume:$,totalWeightLogs:O.length,weightChange:k,lastWorkout:q.length>0?{date:p(q[0].date),name:q[0].name||"Unnamed Workout"}:{date:null,name:null},currentWeight:z.length>0?z[0].weight:null,recentWorkouts:q.slice(0,3),recentWeights:z.slice(0,3)})}catch(E){console.error("Error fetching dashboard data:",E)}},h=T=>{if(typeof T=="object"&&T.seconds)return new Date(T.seconds*1e3);if(typeof T=="string"&&T.match(/^\d{4}-\d{2}-\d{2}$/)){const[E,S,C]=T.split("-").map(Number);return new Date(E,S-1,C)}return new Date(T)},f=T=>h(T).toLocaleDateString("en-US",{month:"short",day:"numeric"}),p=T=>`${h(T).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`,y={labels:a.map(T=>T.date),datasets:[{label:"Weight (lbs)",data:a.map(T=>T.weight),borderColor:"#FF5722",backgroundColor:"rgba(255, 87, 34, 0.1)",tension:.3,fill:!0}]},_={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#333",bodyColor:"#666",borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,padding:8,displayColors:!1,callbacks:{label:function(T){return`${T.parsed.y} lbs`}}}},scales:{y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:10}}},x:{grid:{display:!1},ticks:{font:{size:10}}}}};return R.jsxs("div",{className:"dashboard-container",children:[R.jsxs("div",{className:"dashboard-header",children:[R.jsx("h1",{children:"Next Rep"}),R.jsxs("div",{className:"welcome-text",children:["Welcome Back, ",((b=t==null?void 0:t.displayName)==null?void 0:b.split(" ")[0])||"Parker"]}),R.jsxs("div",{className:"quick-actions",children:[R.jsx("button",{onClick:()=>e("/log-workout"),className:"action-btn",children:"Log Workout"}),R.jsx("button",{onClick:()=>e("/log-weight"),className:"action-btn",children:"Log Weight"}),R.jsx("button",{onClick:()=>e("/progress-tracker"),className:"action-btn",children:"Progress"})]})]}),R.jsxs("div",{className:"dashboard-stats",children:[R.jsxs("div",{className:"stat-card",children:[R.jsx("div",{className:"stat-title",children:"Total Workouts"}),R.jsx("div",{className:"stat-value",children:i.totalWorkouts})]}),R.jsxs("div",{className:"stat-card",children:[R.jsx("div",{className:"stat-title",children:"Total Volume"}),R.jsxs("div",{className:"stat-value",children:[Math.floor(i.totalVolume).toLocaleString(),R.jsx("span",{className:"stat-unit",children:"lbs"})]})]}),R.jsxs("div",{className:"stat-card",children:[R.jsx("div",{className:"stat-title",children:"Total Weight Logs"}),R.jsx("div",{className:"stat-value",children:i.totalWeightLogs})]}),R.jsxs("div",{className:"stat-card",children:[R.jsxs("div",{className:"stat-title",children:["Weekly Weight Trend",R.jsx("span",{className:"info-tooltip",title:"Calculated from your first and most recent weight logs of the current week. If you have fewer than 2 logs this week, it shows the change between your last two entries.",children:""})]}),R.jsx("div",{className:"stat-value weight-trend",children:i.weightChange!==null?R.jsxs("span",{className:i.weightChange>0?"positive":"negative",children:[i.weightChange>0?"+":"",i.weightChange,R.jsx("span",{className:"stat-unit",children:"lbs"})]}):"No data"})]}),R.jsxs("div",{className:"stat-card",children:[R.jsx("div",{className:"stat-title",children:"Last Workout"}),R.jsx("div",{className:"stat-value last-workout",children:i.lastWorkout.date?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"workout-date",children:i.lastWorkout.date}),R.jsxs("div",{className:"workout-name",children:['"',i.lastWorkout.name,'"']})]}):"No workouts"})]})]}),R.jsxs("div",{className:"dashboard-sections",children:[R.jsxs("div",{className:"dashboard-section",children:[R.jsx("div",{className:"section-header",children:R.jsx("h2",{children:"Strength Training"})}),R.jsxs("div",{className:"section-content",children:[R.jsxs("div",{className:"section-buttons",children:[R.jsx("button",{onClick:()=>e("/log-workout"),className:"section-btn",children:"Log Workout"}),R.jsx("button",{onClick:()=>e("/workout-history"),className:"section-btn",children:"Workout History"}),R.jsx("button",{onClick:()=>e("/strength-progress"),className:"section-btn",children:"Strength Progress"})]}),R.jsxs("div",{className:"section-list",children:[R.jsx("h3",{children:"Recent Workouts"}),i.recentWorkouts.length>0?R.jsx("div",{className:"workout-list",children:i.recentWorkouts.map((T,E)=>R.jsxs("div",{className:"workout-item clickable",onClick:()=>e("/workout-history",{state:{selectedWorkout:{...T,id:E.toString()}}}),children:[R.jsx("div",{className:"workout-date",children:p(T.date)}),R.jsxs("div",{className:"workout-name",children:['"',T.name||`Push Day ${E+3}`,'"']})]},E))}):R.jsx("div",{className:"empty-list",children:"No recent workouts"})]})]})]}),R.jsxs("div",{className:"dashboard-section",children:[R.jsx("div",{className:"section-header",children:R.jsx("h2",{children:"Body Weight"})}),R.jsxs("div",{className:"section-content",children:[R.jsxs("div",{className:"section-buttons",children:[R.jsx("button",{onClick:()=>e("/log-weight"),className:"section-btn",children:"Log Weight"}),R.jsx("button",{onClick:()=>e("/weight-history"),className:"section-btn",children:"Weight History"}),R.jsx("button",{onClick:()=>e("/weight-progress"),className:"section-btn",children:"Weight Progress"})]}),R.jsxs("div",{className:"weight-chart-container",children:[R.jsx("h3",{children:"Weight Over Time"}),a.length>1?R.jsx("div",{className:"weight-chart",children:R.jsx(Hb,{data:y,options:_,height:180})}):R.jsx("div",{className:"empty-chart",children:"Not enough data to display chart"})]}),R.jsxs("div",{className:"current-weight",children:[R.jsx("h3",{children:"Current Weight"}),R.jsx("div",{className:"current-weight-value",children:i.currentWeight?R.jsxs(R.Fragment,{children:[i.currentWeight,R.jsx("span",{className:"stat-unit",children:"lbs"})]}):"No data"})]})]})]})]})]})},nW=["Barbell Squat","Front Squat","Back Squat","Overhead Squat","Zercher Squat","Box Squat","Barbell Deadlift","Romanian Deadlift","Stiff-Leg Deadlift","Sumo Deadlift","Deficit Deadlift","Rack Pull","Barbell Bench Press","Incline Barbell Bench Press","Decline Barbell Bench Press","Close-Grip Bench Press","Barbell Row","Pendlay Row","Yates Row","Barbell Overhead Press","Push Press","Behind the Neck Press","Barbell Curl","Reverse Curl","Drag Curl","Barbell Skull Crushers","Good Morning","Barbell Hip Thrust","Barbell Rollout","Dumbbell Bench Press","Incline Dumbbell Press","Dumbbell Flyes","Dumbbell Pullover","Dumbbell Row","Renegade Row","Dumbbell Shoulder Press","Arnold Press","Dumbbell Lateral Raise","Front Raise","Reverse Fly","Dumbbell Shrugs","Dumbbell Curl","Hammer Curl","Zottman Curl","Concentration Curl","Incline Curl","Dumbbell Kickback","Overhead Triceps Extension","Dumbbell Squat","Goblet Squat","Dumbbell Lunge","Step-Up with Dumbbells","Dumbbell Romanian Deadlift","Suitcase Carry","Leg Press","Hack Squat","Smith Machine Squat","Smith Machine Press","Chest Press Machine","Shoulder Press Machine","Lateral Raise Machine","Seated Row Machine","Lat Pulldown","Cable Row","Leg Curl Machine","Leg Extension Machine","Calf Raise Machine","Preacher Curl Machine","Triceps Pushdown Machine","Pec Deck Machine","Assisted Pull-Up","Assisted Dip","Cable Crossover","Cable Lateral Raise","Cable Bicep Curl","Cable Hammer Curl","Cable Triceps Pushdown","Overhead Cable Triceps Extension","Cable Kickback","Cable Row","Cable Crunch","Straight-Arm Pulldown","Cable Upright Row","Cable Pull-Through","Face Pull","Push-Up","Diamond Push-Up","Wide Grip Push-Up","Pull-Up","Chin-Up","Inverted Row","Dip","Bodyweight Squat","Jump Squat","Pistol Squat","Walking Lunge","Wall Sit","Glute Bridge","Hip Thrust (Bodyweight)","Leg Raise","Plank","Side Plank","V-Up","Mountain Climber","Burpee","Box Jump","Step-Up","Lunge Jump","Donkey Kick","Bear Crawl","Kettlebell Swing","Kettlebell Snatch","Kettlebell Clean","Kettlebell Goblet Squat","Kettlebell Press","Medicine Ball Slam","Sled Push","Battle Ropes","Tire Flip","Farmer's Walk","Sledgehammer Swings","Sandbag Clean","Jump Rope","Weighted Carry","Weighted Sit-Up","Weighted Pull-Up","Ab Wheel Rollout","Russian Twist","Cable Woodchopper","Landmine Press","Landmine Row","Barbell Split Squat","Barbell Step-Up","Barbell Walking Lunge","Barbell Calf Raise","Barbell Thruster","Barbell Hack Squat","Barbell Clean","Barbell Jerk","Barbell Snatch Pull","Barbell High Pull","Barbell Floor Press","Barbell Incline Row","Dumbbell Step-Up","Dumbbell Thruster","Dumbbell High Pull","Dumbbell Deadlift","Dumbbell Snatch","Dumbbell Clean and Press","Dumbbell Sumo Squat","Dumbbell Side Lunge","Dumbbell Floor Press","Dumbbell Chest Supported Row","Dumbbell Reverse Curl","Dumbbell Upright Row","Standing Calf Machine Raise","Lying Calf Machine Raise","Glute Kickback Machine","Standing Leg Curl Machine","Incline Chest Press Machine","Assisted Inverted Row Machine","Rotary Torso Machine","Hip Abduction Machine","Hip Adduction Machine","Cable Reverse Fly","Cable Chest Press","Cable Squat to Row","Cable Front Raise","Cable Shrug","Cable Romanian Deadlift","Cable Side Lunge","Cable Step-Up","Cable Hip Abduction","Cable Hip Adduction","Cable Concentration Curl","Cable Reverse Curl","Cable Drag Curl","Wall Push-Up","Clapping Push-Up","Archer Push-Up","Hindu Push-Up","Typewriter Pull-Up","L-Sit Pull-Up","Negative Pull-Up","Jumping Pull-Up","Wall Sit with Dumbbell","Single-Leg Glute Bridge","Side-Lying Leg Raise","Superman","Bird-Dog","Wall Walk","Spiderman Plank","Tuck Jump","Plank to Push-Up","Side Plank with Leg Raise","Heel Touch","Toe Tap Crunch","Kettlebell Turkish Get-Up","Kettlebell Windmill","Kettlebell Overhead Squat","Kettlebell Bottoms-Up Press","Kettlebell Suitcase Deadlift","Kettlebell Curtsy Lunge","Kettlebell Halo","Kettlebell Row","Kettlebell Lunge Press","Kettlebell Russian Twist","Sandbag Squat","Sandbag Deadlift","Sandbag Clean and Press","Sandbag Front Carry","Tire Jump","Log Press","Yoke Carry","Atlas Stone Lift","Stone Shoulder","Weighted Russian Twist","Cable Oblique Twist","Medicine Ball V-Up","Decline Russian Twist","Hanging Oblique Raise","Weighted Side Plank","Reverse Crunch","Toe Touch","Sit-Up to Stand-Up","Jackknife Sit-Up","Skater Jump","Depth Jump","Lateral Bound","Tuck Jump to Squat","Box Squat Jump","Broad Jump","Kneeling Jump","Burpee to Pull-Up","Wall Ball Shot","Medicine Ball Chest Pass","Medicine Ball Rotational Slam","Overhead Carry","Zercher Carry","Front Rack Carry","Crossbody Carry","Waiter Carry","Sandbag Carry","Trap Bar Carry","Trap Bar Deadlift","Trap Bar Shrug","Trap Bar Romanian Deadlift","Bulgarian Split Squat","Isometric Lunge Hold","Paused Back Squat","Tempo Front Squat","Cluster Deadlift","Band-Resisted Deadlift","Banded Squat","Tempo Bench Press","Spoto Press","Paused Overhead Press","Wall Ball Squat","Landmine Squat","Single-Arm Landmine Press","Banded Pull-Up","Paused Pull-Up","Weighted Dip","Eccentric Dip","Eccentric Chin-Up","Glute March","Stability Ball Hamstring Curl","Slider Hamstring Curl","Resistance Band Leg Curl","Mini-Band Side Step","Mini-Band Kickback","Resistance Band Chest Press","Resistance Band Shoulder Press","Resistance Band Row","Resistance Band Upright Row","Resistance Band Deadlift","Resistance Band Good Morning","Resistance Band Bicep Curl","Resistance Band Tricep Extension","Resistance Band Lateral Raise","Resistance Band Squat","Resistance Band Glute Bridge","Stability Ball Russian Twist","Stability Ball Pike","Stability Ball Plank","Stability Ball Rollout","Decline Push-Up","Incline Push-Up","One-Arm Push-Up","Elevated Pike Push-Up","Dive Bomber Push-Up","Sphinx Push-Up","Pseudo Planche Push-Up","Box Pike Press","Feet-Elevated Glute Bridge","Wall-Facing Handstand Hold","Wall-Facing Shoulder Tap","Inverted Wall Walk","Wall Climb","Wall Plank","Wall Pike Press","Crab Walk","Bear Hold","Lizard Crawl","Scapular Pull-Up","Scapular Push-Up","Dead Hang","Wall Ball Clean","Wall Ball Push Press","Wall Ball Sit-Up","Wall Ball Overhead Throw","Tire Drag","Sled Drag","Sled Row","Sled Chest Press","Sled Sprint","Backward Sled Drag","Reverse Sled Row","Overhead Sled Drag","Low Handle Sled Push","High Handle Sled Push","Reverse Band Squat","Chain Bench Press","Chain Deadlift","Chain Overhead Press","Chain Row","Bamboo Bar Bench Press","Slosh Pipe Overhead Carry","Slosh Pipe Squat","Slosh Pipe Lunge","Slosh Pipe Overhead Press","Hammer Curl to Press","Burpee Over Bar","Thruster with Slam Ball","Barbell Complex (Clean, Press, Squat)","Dumbbell Complex (Snatch, Lunge, Press)","Kettlebell Complex (Swing, Clean, Squat)","Tabata Squat","Tabata Push-Up","Tabata Jump Lunge","Tabata Mountain Climber","EMOM Deadlift","EMOM Pull-Up","AMRAP Push-Up","AMRAP Air Squat","Pyramid Pull-Up","Ladder Push-Up","Partner Wall Ball","Partner Med Ball Chest Pass","Partner Resisted Sprint","Partner Sled Push","Partner Squat Throw","Jammer Press","Hammer Strength Row","Hammer Strength Chest Press","Hack Squat Machine","Reverse Hack Squat","Belt Squat","Safety Bar Squat","SSB Good Morning","SSB Squat","Cambered Bar Squat","Cambered Bar Row","Trap Bar Farmer's Walk","Trap Bar Shrug to Deadlift","Fat Bar Deadlift","Fat Bar Curl","Fat Grip Pull-Up","Thick Bar Bench Press","Thick Bar Row","Neutral Grip Pull-Up","Neutral Grip Chin-Up","Cross-Grip Front Squat","Zombie Squat","Cyclist Squat","Poliquin Step-Up","Heel-Elevated Goblet Squat","Heels-Elevated Barbell Back Squat","B-Stance RDL","Kickstand Deadlift","Kickstand Squat","Staggered-Stance Romanian Deadlift","Toes-Elevated RDL","Toes-Elevated Calf Raise"],iC=e=>{if(!e)return[];const t=e.toLowerCase();return nW.filter(n=>n.toLowerCase().includes(t)).slice(0,5)},qb=P.createContext({});function Wb(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}const $b=typeof window<"u",HP=$b?P.useLayoutEffect:P.useEffect,ag=P.createContext(null),Gb=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class iW extends P.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=i instanceof HTMLElement&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sW({children:e,isPresent:t,anchorX:n}){const i=P.useId(),s=P.useRef(null),a=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=P.useContext(Gb);return P.useInsertionEffect(()=>{const{width:c,height:h,top:f,left:p,right:y}=a.current;if(t||!s.current||!c||!h)return;const _=n==="left"?`left: ${p}`:`right: ${y}`;s.current.dataset.motionPopId=i;const b=document.createElement("style");return l&&(b.nonce=l),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${_}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.removeChild(b)}},[t]),R.jsx(iW,{isPresent:t,childRef:s,sizeRef:a,children:P.cloneElement(e,{ref:s})})}const rW=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:l,anchorX:c})=>{const h=Wb(aW),f=P.useId(),p=P.useCallback(_=>{h.set(_,!0);for(const b of h.values())if(!b)return;i&&i()},[h,i]),y=P.useMemo(()=>({id:f,initial:t,isPresent:n,custom:s,onExitComplete:p,register:_=>(h.set(_,!1),()=>h.delete(_))}),a?[Math.random(),p]:[n,p]);return P.useMemo(()=>{h.forEach((_,b)=>h.set(b,!1))},[n]),P.useEffect(()=>{!n&&!h.size&&i&&i()},[n]),l==="popLayout"&&(e=R.jsx(sW,{isPresent:n,anchorX:c,children:e})),R.jsx(ag.Provider,{value:y,children:e})};function aW(){return new Map}function qP(e=!0){const t=P.useContext(ag);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,a=P.useId();P.useEffect(()=>{if(e)return s(a)},[e]);const l=P.useCallback(()=>e&&i&&i(a),[a,i,e]);return!n&&i?[!1,l]:[!0]}const gp=e=>e.key||"";function sC(e){const t=[];return P.Children.forEach(e,n=>{P.isValidElement(n)&&t.push(n)}),t}const oW=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:c="left"})=>{const[h,f]=qP(l),p=P.useMemo(()=>sC(e),[e]),y=l&&!h?[]:p.map(gp),_=P.useRef(!0),b=P.useRef(p),T=Wb(()=>new Map),[E,S]=P.useState(p),[C,j]=P.useState(p);HP(()=>{_.current=!1,b.current=p;for(let z=0;z<C.length;z++){const $=gp(C[z]);y.includes($)?T.delete($):T.get($)!==!0&&T.set($,!1)}},[C,y.length,y.join("-")]);const O=[];if(p!==E){let z=[...p];for(let $=0;$<C.length;$++){const M=C[$],D=gp(M);y.includes(D)||(z.splice($,0,M),O.push(M))}return a==="wait"&&O.length&&(z=O),j(sC(z)),S(p),null}const{forceRender:q}=P.useContext(qb);return R.jsx(R.Fragment,{children:C.map(z=>{const $=gp(z),M=l&&!h?!1:p===C||y.includes($),D=()=>{if(T.has($))T.set($,!0);else return;let k=!0;T.forEach(U=>{U||(k=!1)}),k&&(q==null||q(),j(b.current),l&&(f==null||f()),i&&i())};return R.jsx(rW,{isPresent:M,initial:!_.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,onExitComplete:M?void 0:D,anchorX:c,children:z},$)})})};function Kb(e,t){e.indexOf(t)===-1&&e.push(t)}function Yb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let WP=()=>{};const G_={useManualTiming:!1};function Xb(e){let t;return()=>(t===void 0&&(t=e()),t)}const ls=e=>e,tf=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class Qb{constructor(){this.subscriptions=[]}add(t){return Kb(this.subscriptions,t),()=>Yb(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ir=e=>e*1e3,sr=e=>e/1e3;function $P(e,t){return t?e*(1e3/t):0}const lW=Xb(()=>window.ScrollTimeline!==void 0);class cW{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(s=>{if(lW()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{i.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class uW extends cW{then(t,n){return this.finished.finally(t).then(()=>{})}}const rC={value:null},Zb=e=>Array.isArray(e)&&typeof e[0]=="number",hW={};function fW(e,t){const n=Xb(e);return()=>hW[t]??n()}const ef=fW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),GP=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)i+=e(a/(s-1))+", ";return`linear(${i.substring(0,i.length-2)})`},yh=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,K_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yh([0,.65,.55,1]),circOut:yh([.55,0,1,.45]),backIn:yh([.31,.01,.66,-.59]),backOut:yh([.33,1.53,.69,.99])};function KP(e,t){if(e)return typeof e=="function"&&ef()?GP(e,t):Zb(e)?yh(e):Array.isArray(e)?e.map(n=>KP(n,t)||K_.easeOut):K_[e]}function dW(e,t,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:h}={},f=void 0){const p={[t]:n};h&&(p.offset=h);const y=KP(c,s);return Array.isArray(y)&&(p.easing=y),e.animate(p,{delay:i,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal",pseudoElement:f})}function Jb(e){return typeof e=="function"&&"applyToOptions"in e}function tw(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const ym=2e4;function ew(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<ym;)t+=n,i=e.next(t);return t>=ym?1/0:t}function pW(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(ew(i),ym);return{type:"keyframes",ease:a=>i.next(s*a).value/t,duration:sr(s)}}function YP(e){return!!(typeof e=="function"&&ef()||!e||typeof e=="string"&&(e in K_||ef())||Zb(e)||Array.isArray(e)&&e.every(YP))}function aC(e,t){e.timeline=t,e.onfinish=null}const vh=["read","resolveKeyframes","update","preRender","render","postRender"];function mW(e,t){let n=new Set,i=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},h=0;function f(y){l.has(y)&&(p.schedule(y),e()),h++,y(c)}const p={schedule:(y,_=!1,b=!1)=>{const E=b&&s?n:i;return _&&l.add(y),E.has(y)||E.add(y),y},cancel:y=>{i.delete(y),l.delete(y)},process:y=>{if(c=y,s){a=!0;return}s=!0,[n,i]=[i,n],n.forEach(f),t&&rC.value&&rC.value.frameloop[t].push(h),h=0,n.clear(),s=!1,a&&(a=!1,p.process(y))}};return p}const gW=40;function XP(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=vh.reduce((C,j)=>(C[j]=mW(a,t?j:void 0),C),{}),{read:c,resolveKeyframes:h,update:f,preRender:p,render:y,postRender:_}=l,b=()=>{const C=performance.now();n=!1,s.delta=i?1e3/60:Math.max(Math.min(C-s.timestamp,gW),1),s.timestamp=C,s.isProcessing=!0,c.process(s),h.process(s),f.process(s),p.process(s),y.process(s),_.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(b))},T=()=>{n=!0,i=!0,s.isProcessing||e(b)};return{schedule:vh.reduce((C,j)=>{const O=l[j];return C[j]=(q,z=!1,$=!1)=>(n||T(),O.schedule(q,z,$)),C},{}),cancel:C=>{for(let j=0;j<vh.length;j++)l[vh[j]].cancel(C)},state:s,steps:l}}const{schedule:Pe,cancel:Jr,state:Vn,steps:Wv}=XP(typeof requestAnimationFrame<"u"?requestAnimationFrame:ls,!0),{schedule:nw}=XP(queueMicrotask,!1);let jp;function yW(){jp=void 0}const rr={now:()=>(jp===void 0&&rr.set(Vn.isProcessing||G_.useManualTiming?Vn.timestamp:performance.now()),jp),set:e=>{jp=e,queueMicrotask(yW)}},_s={x:!1,y:!1};function QP(){return _s.x||_s.y}function vW(e){return e==="x"||e==="y"?_s[e]?null:(_s[e]=!0,()=>{_s[e]=!1}):_s.x||_s.y?null:(_s.x=_s.y=!0,()=>{_s.x=_s.y=!1})}function _W(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function ZP(e,t){const n=_W(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function oC(e){return!(e.pointerType==="touch"||QP())}function bW(e,t,n={}){const[i,s,a]=ZP(e,n),l=c=>{if(!oC(c))return;const{target:h}=c,f=t(h,c);if(typeof f!="function"||!h)return;const p=y=>{oC(y)&&(f(y),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,s)};return i.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const JP=(e,t)=>t?e===t?!0:JP(e,t.parentElement):!1,iw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,wW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TW(e){return wW.has(e.tagName)||e.tabIndex!==-1}const _h=new WeakSet;function lC(e){return t=>{t.key==="Enter"&&e(t)}}function $v(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const SW=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=lC(()=>{if(_h.has(n))return;$v(n,"down");const s=lC(()=>{$v(n,"up")}),a=()=>$v(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function cC(e){return iw(e)&&!QP()}function EW(e,t,n={}){const[i,s,a]=ZP(e,n),l=c=>{const h=c.currentTarget;if(!cC(c)||_h.has(h))return;_h.add(h);const f=t(h,c),p=(b,T)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),!(!cC(b)||!_h.has(h))&&(_h.delete(h),typeof f=="function"&&f(b,{success:T}))},y=b=>{p(b,h===window||h===document||n.useGlobalTarget||JP(h,b.target))},_=b=>{p(b,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",_,s)};return i.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),c instanceof HTMLElement&&(c.addEventListener("focus",f=>SW(f,s)),!TW(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}const uC=30,xW=e=>!isNaN(parseFloat(e));class AW{constructor(t,n={}){this.version="12.6.5",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const a=rr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=rr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=xW(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Qb);const i=this.events[t].add(n);return t==="change"?()=>{i(),Pe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=rr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>uC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,uC);return $P(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nf(e,t){return new AW(e,t)}vh.reduce((e,t)=>(e[t]=n=>Jr(n),e),{});const tM=P.createContext({strict:!1}),hC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Lc={};for(const e in hC)Lc[e]={isEnabled:t=>hC[e].some(n=>!!t[n])};function RW(e){for(const t in e)Lc[t]={...Lc[t],...e[t]}}const CW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||CW.has(e)}let eM=e=>!vm(e);function DW(e){e&&(eM=t=>t.startsWith("on")?!vm(t):e(t))}try{DW(require("@emotion/is-prop-valid").default)}catch{}function IW(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(eM(s)||n===!0&&vm(s)||!t&&!vm(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}function kW(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const og=P.createContext({});function lg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function sf(e){return typeof e=="string"||Array.isArray(e)}const sw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rw=["initial",...sw];function cg(e){return lg(e.animate)||rw.some(t=>sf(e[t]))}function nM(e){return!!(cg(e)||e.variants)}function PW(e,t){if(cg(e)){const{initial:n,animate:i}=e;return{initial:n===!1||sf(n)?n:void 0,animate:sf(i)?i:void 0}}return e.inherit!==!1?t:{}}function MW(e){const{initial:t,animate:n}=PW(e,P.useContext(og));return P.useMemo(()=>({initial:t,animate:n}),[fC(t),fC(n)])}function fC(e){return Array.isArray(e)?e.join(" "):e}const OW=Symbol.for("motionComponentSymbol");function hc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function NW(e,t,n){return P.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):hc(n)&&(n.current=i))},[t])}const aw=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),LW="framerAppearId",iM="data-"+aw(LW),sM=P.createContext({});function VW(e,t,n,i,s){var E,S;const{visualElement:a}=P.useContext(og),l=P.useContext(tM),c=P.useContext(ag),h=P.useContext(Gb).reducedMotion,f=P.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,y=P.useContext(sM);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&jW(f.current,n,s,y);const _=P.useRef(!1);P.useInsertionEffect(()=>{p&&_.current&&p.update(n,c)});const b=n[iM],T=P.useRef(!!b&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,b))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,b)));return HP(()=>{p&&(_.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),nw.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),P.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,b)}),T.current=!1))}),p}function jW(e,t,n,i){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:rM(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&hc(c),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:f})}function rM(e){if(e)return e.options.allowProjection!==!1?e.projection:rM(e.parent)}function UW({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:s}){e&&RW(e);function a(c,h){let f;const p={...P.useContext(Gb),...c,layoutId:BW(c)},{isStatic:y}=p,_=MW(c),b=i(c,y);if(!y&&$b){zW();const T=FW(p);f=T.MeasureLayout,_.visualElement=VW(s,b,p,t,T.ProjectionNode)}return R.jsxs(og.Provider,{value:_,children:[f&&_.visualElement?R.jsx(f,{visualElement:_.visualElement,...p}):null,n(s,c,NW(b,_.visualElement,h),b,y,_.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=P.forwardRef(a);return l[OW]=s,l}function BW({layoutId:e}){const t=P.useContext(qb).id;return t&&e!==void 0?t+"-"+e:e}function zW(e,t){P.useContext(tM).strict}function FW(e){const{drag:t,layout:n}=Lc;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const aM=e=>t=>typeof t=="string"&&t.startsWith(e),ow=aM("--"),HW=aM("var(--"),lw=e=>HW(e)?qW.test(e.split("/*")[0].trim()):!1,qW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rf={};function WW(e){for(const t in e)rf[t]=e[t],ow(t)&&(rf[t].isCSSVariable=!0)}const Qc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gl=new Set(Qc);function oM(e,{layout:t,layoutId:n}){return gl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!rf[e]||e==="opacity")}const Jn=e=>!!(e&&e.getVelocity),lM=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ta=(e,t,n)=>n>t?t:n<e?e:n,Zc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},af={...Zc,transform:e=>ta(0,1,e)},yp={...Zc,default:1},xf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ia=xf("deg"),ar=xf("%"),Mt=xf("px"),$W=xf("vh"),GW=xf("vw"),dC={...ar,parse:e=>ar.parse(e)/100,transform:e=>ar.transform(e*100)},KW={borderWidth:Mt,borderTopWidth:Mt,borderRightWidth:Mt,borderBottomWidth:Mt,borderLeftWidth:Mt,borderRadius:Mt,radius:Mt,borderTopLeftRadius:Mt,borderTopRightRadius:Mt,borderBottomRightRadius:Mt,borderBottomLeftRadius:Mt,width:Mt,maxWidth:Mt,height:Mt,maxHeight:Mt,top:Mt,right:Mt,bottom:Mt,left:Mt,padding:Mt,paddingTop:Mt,paddingRight:Mt,paddingBottom:Mt,paddingLeft:Mt,margin:Mt,marginTop:Mt,marginRight:Mt,marginBottom:Mt,marginLeft:Mt,backgroundPositionX:Mt,backgroundPositionY:Mt},YW={rotate:Ia,rotateX:Ia,rotateY:Ia,rotateZ:Ia,scale:yp,scaleX:yp,scaleY:yp,scaleZ:yp,skew:Ia,skewX:Ia,skewY:Ia,distance:Mt,translateX:Mt,translateY:Mt,translateZ:Mt,x:Mt,y:Mt,z:Mt,perspective:Mt,transformPerspective:Mt,opacity:af,originX:dC,originY:dC,originZ:Mt},pC={...Zc,transform:Math.round},cw={...KW,...YW,zIndex:pC,size:Mt,fillOpacity:af,strokeOpacity:af,numOctaves:pC},XW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QW=Qc.length;function ZW(e,t,n){let i="",s=!0;for(let a=0;a<QW;a++){const l=Qc[a],c=e[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const f=lM(c,cw[l]);if(!h){s=!1;const p=XW[l]||l;i+=`${p}(${f}) `}n&&(t[l]=f)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function uw(e,t,n){const{style:i,vars:s,transformOrigin:a}=e;let l=!1,c=!1;for(const h in t){const f=t[h];if(gl.has(h)){l=!0;continue}else if(ow(h)){s[h]=f;continue}else{const p=lM(f,cw[h]);h.startsWith("origin")?(c=!0,a[h]=p):i[h]=p}}if(t.transform||(l||n?i.transform=ZW(t,e.transform,n):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${f} ${p}`}}const hw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cM(e,t,n){for(const i in t)!Jn(t[i])&&!oM(i,n)&&(e[i]=t[i])}function JW({transformTemplate:e},t){return P.useMemo(()=>{const n=hw();return uw(n,t,e),Object.assign({},n.vars,n.style)},[t])}function t8(e,t){const n=e.style||{},i={};return cM(i,n,e),Object.assign(i,JW(e,t)),i}function e8(e,t){const n={},i=t8(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const n8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fw(e){return typeof e!="string"||e.includes("-")?!1:!!(n8.indexOf(e)>-1||/[A-Z]/u.test(e))}const i8={offset:"stroke-dashoffset",array:"stroke-dasharray"},s8={offset:"strokeDashoffset",array:"strokeDasharray"};function r8(e,t,n=1,i=0,s=!0){e.pathLength=1;const a=s?i8:s8;e[a.offset]=Mt.transform(-i);const l=Mt.transform(t),c=Mt.transform(n);e[a.array]=`${l} ${c}`}function mC(e,t,n){return typeof e=="string"?e:Mt.transform(t+n*e)}function a8(e,t,n){const i=mC(t,e.x,e.width),s=mC(n,e.y,e.height);return`${i} ${s}`}function dw(e,{attrX:t,attrY:n,attrScale:i,originX:s,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...f},p,y){if(uw(e,f,y),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:b,dimensions:T}=e;_.transform&&(T&&(b.transform=_.transform),delete _.transform),T&&(s!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=a8(T,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),i!==void 0&&(_.scale=i),l!==void 0&&r8(_,l,c,h,!1)}const uM=()=>({...hw(),attrs:{}}),pw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function o8(e,t,n,i){const s=P.useMemo(()=>{const a=uM();return dw(a,t,pw(i),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};cM(a,e.style,e),s.style={...a,...s.style}}return s}function l8(e=!1){return(n,i,s,{latestValues:a},l)=>{const h=(fw(n)?o8:e8)(i,a,l,n),f=IW(i,typeof n=="string",e),p=n!==P.Fragment?{...f,...h,ref:s}:{},{children:y}=i,_=P.useMemo(()=>Jn(y)?y.get():y,[y]);return P.createElement(n,{...p,children:_})}}function gC(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function mw(e,t,n,i){if(typeof t=="function"){const[s,a]=gC(i);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=gC(i);t=t(n!==void 0?n:e.custom,s,a)}return t}const Y_=e=>Array.isArray(e),c8=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),u8=e=>Y_(e)?e[e.length-1]||0:e;function Up(e){const t=Jn(e)?e.get():e;return c8(t)?t.toValue():t}function h8({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},i,s,a){const l={latestValues:f8(i,s,a,e),renderState:t()};return n&&(l.onMount=c=>n({props:i,current:c,...l}),l.onUpdate=c=>n(c)),l}const hM=e=>(t,n)=>{const i=P.useContext(og),s=P.useContext(ag),a=()=>h8(e,t,i,s);return n?a():Wb(a)};function f8(e,t,n,i){const s={},a=i(e,{});for(const _ in a)s[_]=Up(a[_]);let{initial:l,animate:c}=e;const h=cg(e),f=nM(e);t&&f&&!h&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const y=p?c:l;if(y&&typeof y!="boolean"&&!lg(y)){const _=Array.isArray(y)?y:[y];for(let b=0;b<_.length;b++){const T=mw(e,_[b]);if(T){const{transitionEnd:E,transition:S,...C}=T;for(const j in C){let O=C[j];if(Array.isArray(O)){const q=p?O.length-1:0;O=O[q]}O!==null&&(s[j]=O)}for(const j in E)s[j]=E[j]}}}return s}function gw(e,t,n){var a;const{style:i}=e,s={};for(const l in i)(Jn(i[l])||t.style&&Jn(t.style[l])||oM(l,e)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(s[l]=i[l]);return s}const d8={useVisualState:hM({scrapeMotionValuesFromProps:gw,createRenderState:hw})};function fM(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function dM(e,{style:t,vars:n},i,s){Object.assign(e.style,t,s&&s.getProjectionStyles(i));for(const a in n)e.style.setProperty(a,n[a])}const pM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mM(e,t,n,i){dM(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(pM.has(s)?s:aw(s),t.attrs[s])}function gM(e,t,n){const i=gw(e,t,n);for(const s in e)if(Jn(e[s])||Jn(t[s])){const a=Qc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=e[s]}return i}const yC=["x","y","width","height","cx","cy","r"],p8={useVisualState:hM({scrapeMotionValuesFromProps:gM,createRenderState:uM,onUpdate:({props:e,prevProps:t,current:n,renderState:i,latestValues:s})=>{if(!n)return;let a=!!e.drag;if(!a){for(const c in s)if(gl.has(c)){a=!0;break}}if(!a)return;let l=!t;if(t)for(let c=0;c<yC.length;c++){const h=yC[c];e[h]!==t[h]&&(l=!0)}l&&Pe.read(()=>{fM(n,i),Pe.render(()=>{dw(i,s,pw(n.tagName),e.transformTemplate),mM(n,i)})})}})};function m8(e,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...fw(i)?p8:d8,preloadedFeatures:e,useRender:l8(s),createVisualElement:t,Component:i};return UW(l)}}function of(e,t,n){const i=e.getProps();return mw(i,t,n!==void 0?n:i.custom,e)}const yM=new Set(["width","height","top","left","right","bottom",...Qc]);function g8(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,nf(n))}function y8(e,t){const n=of(e,t);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const l in a){const c=u8(a[l]);g8(e,l,c)}}function v8(e){return!!(Jn(e)&&e.add)}function X_(e,t){const n=e.getValue("willChange");if(v8(n))return n.add(t);if(!n&&G_.WillChange){const i=new G_.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function vM(e){return e.props[iM]}const _M=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,_8=1e-7,b8=12;function w8(e,t,n,i,s){let a,l,c=0;do l=t+(n-t)/2,a=_M(l,i,s)-e,a>0?n=l:t=l;while(Math.abs(a)>_8&&++c<b8);return l}function Af(e,t,n,i){if(e===t&&n===i)return ls;const s=a=>w8(a,0,1,e,n);return a=>a===0||a===1?a:_M(s(a),t,i)}const bM=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,wM=e=>t=>1-e(1-t),TM=Af(.33,1.53,.69,.99),yw=wM(TM),SM=bM(yw),EM=e=>(e*=2)<1?.5*yw(e):.5*(2-Math.pow(2,-10*(e-1))),vw=e=>1-Math.sin(Math.acos(e)),xM=wM(vw),AM=bM(vw),RM=e=>/^0[^.\s]+$/u.test(e);function T8(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||RM(e):!0}const Ih=e=>Math.round(e*1e5)/1e5,_w=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function S8(e){return e==null}const E8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bw=(e,t)=>n=>!!(typeof n=="string"&&E8.test(n)&&n.startsWith(e)||t&&!S8(n)&&Object.prototype.hasOwnProperty.call(n,t)),CM=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,a,l,c]=i.match(_w);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},x8=e=>ta(0,255,e),Gv={...Zc,transform:e=>Math.round(x8(e))},Ko={test:bw("rgb","red"),parse:CM("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Gv.transform(e)+", "+Gv.transform(t)+", "+Gv.transform(n)+", "+Ih(af.transform(i))+")"};function A8(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Q_={test:bw("#"),parse:A8,transform:Ko.transform},fc={test:bw("hsl","hue"),parse:CM("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+ar.transform(Ih(t))+", "+ar.transform(Ih(n))+", "+Ih(af.transform(i))+")"},Yn={test:e=>Ko.test(e)||Q_.test(e)||fc.test(e),parse:e=>Ko.test(e)?Ko.parse(e):fc.test(e)?fc.parse(e):Q_.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ko.transform(e):fc.transform(e)},R8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function C8(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(_w))==null?void 0:t.length)||0)+(((n=e.match(R8))==null?void 0:n.length)||0)>0}const DM="number",IM="color",D8="var",I8="var(",vC="${}",k8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lf(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const c=t.replace(k8,h=>(Yn.test(h)?(i.color.push(a),s.push(IM),n.push(Yn.parse(h))):h.startsWith(I8)?(i.var.push(a),s.push(D8),n.push(h)):(i.number.push(a),s.push(DM),n.push(parseFloat(h))),++a,vC)).split(vC);return{values:n,split:c,indexes:i,types:s}}function kM(e){return lf(e).values}function PM(e){const{split:t,types:n}=lf(e),i=t.length;return s=>{let a="";for(let l=0;l<i;l++)if(a+=t[l],s[l]!==void 0){const c=n[l];c===DM?a+=Ih(s[l]):c===IM?a+=Yn.transform(s[l]):a+=s[l]}return a}}const P8=e=>typeof e=="number"?0:e;function M8(e){const t=kM(e);return PM(e)(t.map(P8))}const Qa={test:C8,parse:kM,createTransformer:PM,getAnimatableNone:M8},O8=new Set(["brightness","contrast","saturate","opacity"]);function N8(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(_w)||[];if(!i)return e;const s=n.replace(i,"");let a=O8.has(t)?1:0;return i!==n&&(a*=100),t+"("+a+s+")"}const L8=/\b([a-z-]*)\(.*?\)/gu,Z_={...Qa,getAnimatableNone:e=>{const t=e.match(L8);return t?t.map(N8).join(" "):e}},V8={...cw,color:Yn,backgroundColor:Yn,outlineColor:Yn,fill:Yn,stroke:Yn,borderColor:Yn,borderTopColor:Yn,borderRightColor:Yn,borderBottomColor:Yn,borderLeftColor:Yn,filter:Z_,WebkitFilter:Z_},MM=e=>V8[e];function OM(e,t){let n=MM(e);return n!==Z_&&(n=Qa),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const j8=new Set(["auto","none","0"]);function U8(e,t,n){let i=0,s;for(;i<e.length&&!s;){const a=e[i];typeof a=="string"&&!j8.has(a)&&lf(a).values.length&&(s=e[i]),i++}if(s&&n)for(const a of t)e[a]=OM(n,s)}const Yo=e=>e*180/Math.PI,J_=e=>{const t=Yo(Math.atan2(e[1],e[0]));return t0(t)},B8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:J_,rotateZ:J_,skewX:e=>Yo(Math.atan(e[1])),skewY:e=>Yo(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},t0=e=>(e=e%360,e<0&&(e+=360),e),_C=J_,bC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),wC=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),z8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bC,scaleY:wC,scale:e=>(bC(e)+wC(e))/2,rotateX:e=>t0(Yo(Math.atan2(e[6],e[5]))),rotateY:e=>t0(Yo(Math.atan2(-e[2],e[0]))),rotateZ:_C,rotate:_C,skewX:e=>Yo(Math.atan(e[4])),skewY:e=>Yo(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function TC(e){return e.includes("scale")?1:0}function e0(e,t){if(!e||e==="none")return TC(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=z8,s=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=B8,s=c}if(!s)return TC(t);const a=i[t],l=s[1].split(",").map(H8);return typeof a=="function"?a(l):l[a]}const F8=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return e0(n,t)};function H8(e){return parseFloat(e.trim())}const SC=e=>e===Zc||e===Mt,q8=new Set(["x","y","z"]),W8=Qc.filter(e=>!q8.has(e));function $8(e){const t=[];return W8.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Vc={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>e0(t,"x"),y:(e,{transform:t})=>e0(t,"y")};Vc.translateX=Vc.x;Vc.translateY=Vc.y;const Qo=new Set;let n0=!1,i0=!1;function NM(){if(i0){const e=Array.from(Qo).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=$8(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,l])=>{var c;(c=i.getValue(a))==null||c.set(l)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}i0=!1,n0=!1,Qo.forEach(e=>e.complete()),Qo.clear()}function LM(){Qo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(i0=!0)})}function G8(){LM(),NM()}class ww{constructor(t,n,i,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Qo.add(this),n0||(n0=!0,Pe.read(LM),Pe.resolveKeyframes(NM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const l=s==null?void 0:s.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&n){const h=i.readValue(n,c);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=c),s&&l===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Qo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Qo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const VM=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),K8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Y8(e){const t=K8.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function jM(e,t,n=1){const[i,s]=Y8(e);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const l=a.trim();return VM(l)?parseFloat(l):l}return lw(s)?jM(s,t,n+1):s}const UM=e=>t=>t.test(e),X8={test:e=>e==="auto",parse:e=>e},BM=[Zc,Mt,ar,Ia,GW,$W,X8],EC=e=>BM.find(UM(e));class zM extends ww{constructor(t,n,i,s,a){super(t,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let f=t[h];if(typeof f=="string"&&(f=f.trim(),lw(f))){const p=jM(f,n.current);p!==void 0&&(t[h]=p),h===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!yM.has(i)||t.length!==2)return;const[s,a]=t,l=EC(s),c=EC(a);if(l!==c)if(SC(l)&&SC(c))for(let h=0;h<t.length;h++){const f=t[h];typeof f=="string"&&(t[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)T8(t[s])&&i.push(s);i.length&&U8(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vc[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var c;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=Vc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([h,f])=>{t.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const xC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Qa.test(e)||e==="0")&&!e.startsWith("url("));function Q8(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Z8(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],l=xC(s,t),c=xC(a,t);return!l||!c?!1:Q8(e)||(n==="spring"||Jb(n))&&i}const J8=e=>e!==null;function ug(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(J8),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const t7=40;class FM{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=rr.now(),this.options={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>t7?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&G8(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=rr.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:a,delay:l,onComplete:c,onUpdate:h,isGenerator:f}=this.options;if(!f&&!Z8(t,i,s,a))if(l)this.options.duration=0;else{h&&h(ug(t,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const p=this.initPlayback(t,n);p!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ze=(e,t,n)=>e+(t-e)*n;function Kv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function e7({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,a=0,l=0;if(!t)s=a=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,h=2*n-c;s=Kv(h,c,e+1/3),a=Kv(h,c,e),l=Kv(h,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function _m(e,t){return n=>n>0?t:e}const Yv=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},n7=[Q_,Ko,fc],i7=e=>n7.find(t=>t.test(e));function AC(e){const t=i7(e);if(!t)return!1;let n=t.parse(e);return t===fc&&(n=e7(n)),n}const RC=(e,t)=>{const n=AC(e),i=AC(t);if(!n||!i)return _m(e,t);const s={...n};return a=>(s.red=Yv(n.red,i.red,a),s.green=Yv(n.green,i.green,a),s.blue=Yv(n.blue,i.blue,a),s.alpha=ze(n.alpha,i.alpha,a),Ko.transform(s))},s7=(e,t)=>n=>t(e(n)),Rf=(...e)=>e.reduce(s7),s0=new Set(["none","hidden"]);function r7(e,t){return s0.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function a7(e,t){return n=>ze(e,t,n)}function Tw(e){return typeof e=="number"?a7:typeof e=="string"?lw(e)?_m:Yn.test(e)?RC:c7:Array.isArray(e)?HM:typeof e=="object"?Yn.test(e)?RC:o7:_m}function HM(e,t){const n=[...e],i=n.length,s=e.map((a,l)=>Tw(a)(a,t[l]));return a=>{for(let l=0;l<i;l++)n[l]=s[l](a);return n}}function o7(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=Tw(e[s])(e[s],t[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function l7(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],l=e.indexes[a][i[a]],c=e.values[l]??0;n[s]=c,i[a]++}return n}const c7=(e,t)=>{const n=Qa.createTransformer(t),i=lf(e),s=lf(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?s0.has(e)&&!s.values.length||s0.has(t)&&!i.values.length?r7(e,t):Rf(HM(l7(i,s),s.values),n):_m(e,t)};function qM(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ze(e,t,n):Tw(e)(e,t)}const u7=5;function WM(e,t,n){const i=Math.max(t-u7,0);return $P(n-e(i),t-i)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},CC=.001;function h7({duration:e=Ze.duration,bounce:t=Ze.bounce,velocity:n=Ze.velocity,mass:i=Ze.mass}){let s,a,l=1-t;l=ta(Ze.minDamping,Ze.maxDamping,l),e=ta(Ze.minDuration,Ze.maxDuration,sr(e)),l<1?(s=f=>{const p=f*l,y=p*e,_=p-n,b=r0(f,l),T=Math.exp(-y);return CC-_/b*T},a=f=>{const y=f*l*e,_=y*n+n,b=Math.pow(l,2)*Math.pow(f,2)*e,T=Math.exp(-y),E=r0(Math.pow(f,2),l);return(-s(f)+CC>0?-1:1)*((_-b)*T)/E}):(s=f=>{const p=Math.exp(-f*e),y=(f-n)*e+1;return-.001+p*y},a=f=>{const p=Math.exp(-f*e),y=(n-f)*(e*e);return p*y});const c=5/e,h=d7(s,a,c);if(e=ir(e),isNaN(h))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:e};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:e}}}const f7=12;function d7(e,t,n){let i=n;for(let s=1;s<f7;s++)i=i-e(i)/t(i);return i}function r0(e,t){return e*Math.sqrt(1-t*t)}const p7=["duration","bounce"],m7=["stiffness","damping","mass"];function DC(e,t){return t.some(n=>e[n]!==void 0)}function g7(e){let t={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...e};if(!DC(e,m7)&&DC(e,p7))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*ta(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ze.mass,stiffness:s,damping:a}}else{const n=h7(e);t={...t,...n,mass:Ze.mass},t.isResolvedFromDuration=!0}return t}function bm(e=Ze.visualDuration,t=Ze.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:f,mass:p,duration:y,velocity:_,isResolvedFromDuration:b}=g7({...n,velocity:-sr(n.velocity||0)}),T=_||0,E=f/(2*Math.sqrt(h*p)),S=l-a,C=sr(Math.sqrt(h/p)),j=Math.abs(S)<5;i||(i=j?Ze.restSpeed.granular:Ze.restSpeed.default),s||(s=j?Ze.restDelta.granular:Ze.restDelta.default);let O;if(E<1){const z=r0(C,E);O=$=>{const M=Math.exp(-E*C*$);return l-M*((T+E*C*S)/z*Math.sin(z*$)+S*Math.cos(z*$))}}else if(E===1)O=z=>l-Math.exp(-C*z)*(S+(T+C*S)*z);else{const z=C*Math.sqrt(E*E-1);O=$=>{const M=Math.exp(-E*C*$),D=Math.min(z*$,300);return l-M*((T+E*C*S)*Math.sinh(D)+z*S*Math.cosh(D))/z}}const q={calculatedDuration:b&&y||null,next:z=>{const $=O(z);if(b)c.done=z>=y;else{let M=0;E<1&&(M=z===0?ir(T):WM(O,z,$));const D=Math.abs(M)<=i,k=Math.abs(l-$)<=s;c.done=D&&k}return c.value=c.done?l:$,c},toString:()=>{const z=Math.min(ew(q),ym),$=GP(M=>q.next(z*M).value,z,30);return z+"ms "+$},toTransition:()=>{}};return q}bm.applyToOptions=e=>{const t=pW(e,100,bm);return e.ease=ef()?t.ease:"easeOut",e.duration=ir(t.duration),e.type="keyframes",e};function IC({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:h,restDelta:f=.5,restSpeed:p}){const y=e[0],_={done:!1,value:y},b=D=>c!==void 0&&D<c||h!==void 0&&D>h,T=D=>c===void 0?h:h===void 0||Math.abs(c-D)<Math.abs(h-D)?c:h;let E=n*t;const S=y+E,C=l===void 0?S:l(S);C!==S&&(E=C-y);const j=D=>-E*Math.exp(-D/i),O=D=>C+j(D),q=D=>{const k=j(D),U=O(D);_.done=Math.abs(k)<=f,_.value=_.done?C:U};let z,$;const M=D=>{b(_.value)&&(z=D,$=bm({keyframes:[_.value,T(_.value)],velocity:WM(O,D,_.value),damping:s,stiffness:a,restDelta:f,restSpeed:p}))};return M(0),{calculatedDuration:null,next:D=>{let k=!1;return!$&&z===void 0&&(k=!0,q(D),M(D)),z!==void 0&&D>=z?$.next(D-z):(!k&&q(D),_)}}}const y7=Af(.42,0,1,1),v7=Af(0,0,.58,1),$M=Af(.42,0,.58,1),_7=e=>Array.isArray(e)&&typeof e[0]!="number",b7={linear:ls,easeIn:y7,easeInOut:$M,easeOut:v7,circIn:vw,circInOut:AM,circOut:xM,backIn:yw,backInOut:SM,backOut:TM,anticipate:EM},kC=e=>{if(Zb(e)){WP(e.length===4);const[t,n,i,s]=e;return Af(t,n,i,s)}else if(typeof e=="string")return b7[e];return e};function w7(e,t,n){const i=[],s=n||qM,a=e.length-1;for(let l=0;l<a;l++){let c=s(e[l],e[l+1]);if(t){const h=Array.isArray(t)?t[l]||ls:t;c=Rf(h,c)}i.push(c)}return i}function T7(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const a=e.length;if(WP(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=w7(t,i,s),h=c.length,f=p=>{if(l&&p<e[0])return t[0];let y=0;if(h>1)for(;y<e.length-2&&!(p<e[y+1]);y++);const _=tf(e[y],e[y+1],p);return c[y](_)};return n?p=>f(ta(e[0],e[a-1],p)):f}function S7(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=tf(0,t,i);e.push(ze(n,1,s))}}function E7(e){const t=[0];return S7(t,e.length-1),t}function x7(e,t){return e.map(n=>n*t)}function A7(e,t){return e.map(()=>t||$M).splice(0,e.length-1)}function wm({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=_7(i)?i.map(kC):kC(i),a={done:!1,value:t[0]},l=x7(n&&n.length===t.length?n:E7(t),e),c=T7(l,t,{ease:Array.isArray(s)?s:A7(t,s)});return{calculatedDuration:e,next:h=>(a.value=c(h),a.done=h>=e,a)}}const R7=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Pe.update(t,!0),stop:()=>Jr(t),now:()=>Vn.isProcessing?Vn.timestamp:rr.now()}},C7={decay:IC,inertia:IC,tween:wm,keyframes:wm,spring:bm},D7=e=>e/100;class Sw extends FM{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:i,element:s,keyframes:a}=this.options,l=(s==null?void 0:s.KeyframeResolver)||ww,c=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new l(a,c,n,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,c=Jb(n)?n:C7[n]||wm;let h,f;c!==wm&&typeof t[0]!="number"&&(h=Rf(D7,qM(t[0],t[1])),t=[0,100]);const p=c({...this.options,keyframes:t});a==="mirror"&&(f=c({...this.options,keyframes:[...t].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=ew(p));const{calculatedDuration:y}=p,_=y+s,b=_*(i+1)-s;return{generator:p,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:_,totalDuration:b}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:i}=this;if(!i){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:f,totalDuration:p,resolvedDuration:y}=i;if(this.startTime===null)return a.next(0);const{delay:_,repeat:b,repeatType:T,repeatDelay:E,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-p/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const C=this.currentTime-_*(this.speed>=0?1:-1),j=this.speed>=0?C<0:C>p;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let O=this.currentTime,q=a;if(b){const D=Math.min(this.currentTime,p)/y;let k=Math.floor(D),U=D%1;!U&&D>=1&&(U=1),U===1&&k--,k=Math.min(k,b+1),!!(k%2)&&(T==="reverse"?(U=1-U,E&&(U-=E/y)):T==="mirror"&&(q=l)),O=ta(0,1,U)*y}const z=j?{done:!1,value:h[0]}:q.next(O);c&&(z.value=c(z.value));let{done:$}=z;!j&&f!==null&&($=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return M&&s!==void 0&&(z.value=ug(h,this.options,s)),S&&S(z.value),M&&this.finish(),z}get duration(){const{resolved:t}=this;return t?sr(t.calculatedDuration):0}get time(){return sr(this.currentTime)}set time(t){t=ir(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=sr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=R7,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}get finished(){return this.currentFinishedPromise}}const I7=new Set(["opacity","clipPath","filter","transform"]),k7=Xb(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Tm=10,P7=2e4;function M7(e){return Jb(e.type)||e.type==="spring"||!YP(e.ease)}function O7(e,t){const n=new Sw({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const s=[];let a=0;for(;!i.done&&a<P7;)i=n.sample(a),s.push(i.value),a+=Tm;return{times:void 0,keyframes:s,duration:a-Tm,ease:"linear"}}const GM={anticipate:EM,backInOut:SM,circInOut:AM};function N7(e){return e in GM}class PC extends FM{constructor(t){super(t);const{name:n,motionValue:i,element:s,keyframes:a}=this.options;this.resolver=new zM(a,(l,c)=>this.onKeyframesResolved(l,c),n,i,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:i=300,times:s,ease:a,type:l,motionValue:c,name:h,startTime:f}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&ef()&&N7(a)&&(a=GM[a]),M7(this.options)){const{onComplete:y,onUpdate:_,motionValue:b,element:T,...E}=this.options,S=O7(t,E);t=S.keyframes,t.length===1&&(t[1]=t[0]),i=S.duration,s=S.times,a=S.ease,l="keyframes"}const p=dW(c.owner.current,h,t,{...this.options,duration:i,times:s,ease:a});return p.startTime=f??this.calcStartTime(),this.pendingTimeline?(aC(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:y}=this.options;c.set(ug(t,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:i,times:s,type:l,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return sr(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return sr(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=ir(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return ls;const{animation:i}=n;aC(i,t)}return ls}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:i,duration:s,type:a,ease:l,times:c}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:p,onComplete:y,element:_,...b}=this.options,T=new Sw({...b,keyframes:i,duration:s,type:a,ease:l,times:c,isGenerator:!0}),E=ir(this.time);f.setWithVelocity(T.sample(E-Tm).value,T.sample(E).value,Tm)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:i,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=n.owner.getProps();return k7()&&i&&I7.has(i)&&(i!=="transform"||!f)&&!h&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}}const L7={type:"spring",stiffness:500,damping:25,restSpeed:10},V7=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),j7={type:"keyframes",duration:.8},U7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},B7=(e,{keyframes:t})=>t.length>2?j7:gl.has(e)?e.startsWith("scale")?V7(t[1]):L7:U7;function z7({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:h,elapsed:f,...p}){return!!Object.keys(p).length}const Ew=(e,t,n,i={},s,a)=>l=>{const c=tw(i,e)||{},h=c.delay||i.delay||0;let{elapsed:f=0}=i;f=f-ir(h);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-f,onUpdate:_=>{t.set(_),c.onUpdate&&c.onUpdate(_)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:a?void 0:s};z7(c)||(p={...p,...B7(e,p)}),p.duration&&(p.duration=ir(p.duration)),p.repeatDelay&&(p.repeatDelay=ir(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(y=!0)),p.allowFlatten=!c.type&&!c.ease,y&&!a&&t.get()!==void 0){const _=ug(p.keyframes,c);if(_!==void 0)return Pe.update(()=>{p.onUpdate(_),p.onComplete()}),new uW([])}return!a&&PC.supports(p)?new PC(p):new Sw(p)};function F7({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function KM(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:l,...c}=t;i&&(a=i);const h=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const p in c){const y=e.getValue(p,e.latestValues[p]??null),_=c[p];if(_===void 0||f&&F7(f,p))continue;const b={delay:n,...tw(a||{},p)};let T=!1;if(window.MotionHandoffAnimation){const S=vM(e);if(S){const C=window.MotionHandoffAnimation(S,p,Pe);C!==null&&(b.startTime=C,T=!0)}}X_(e,p),y.start(Ew(p,y,_,e.shouldReduceMotion&&yM.has(p)?{type:!1}:b,e,T));const E=y.animation;E&&h.push(E)}return l&&Promise.all(h).then(()=>{Pe.update(()=>{l&&y8(e,l)})}),h}function a0(e,t,n={}){var h;const i=of(e,t,n.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(KM(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=s;return H7(e,t,p+f,y,_,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,p]=c==="beforeChildren"?[a,l]:[l,a];return f().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function H7(e,t,n=0,i=0,s=1,a){const l=[],c=(e.variantChildren.size-1)*i,h=s===1?(f=0)=>f*i:(f=0)=>c-f*i;return Array.from(e.variantChildren).sort(q7).forEach((f,p)=>{f.notify("AnimationStart",t),l.push(a0(f,t,{...a,delay:n+h(p)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(l)}function q7(e,t){return e.sortNodePosition(t)}function W7(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>a0(e,a,n));i=Promise.all(s)}else if(typeof t=="string")i=a0(e,t,n);else{const s=typeof t=="function"?of(e,t,n.custom):t;i=Promise.all(KM(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function YM(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const $7=rw.length;function XM(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?XM(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<$7;n++){const i=rw[n],s=e.props[i];(sf(s)||s===!1)&&(t[i]=s)}return t}const G7=[...sw].reverse(),K7=sw.length;function Y7(e){return t=>Promise.all(t.map(({animation:n,options:i})=>W7(e,n,i)))}function X7(e){let t=Y7(e),n=MC(),i=!0;const s=h=>(f,p)=>{var _;const y=of(e,p,h==="exit"?(_=e.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:b,transitionEnd:T,...E}=y;f={...f,...E,...T}}return f};function a(h){t=h(e)}function l(h){const{props:f}=e,p=XM(e.parent)||{},y=[],_=new Set;let b={},T=1/0;for(let S=0;S<K7;S++){const C=G7[S],j=n[C],O=f[C]!==void 0?f[C]:p[C],q=sf(O),z=C===h?j.isActive:null;z===!1&&(T=S);let $=O===p[C]&&O!==f[C]&&q;if($&&i&&e.manuallyAnimateOnMount&&($=!1),j.protectedKeys={...b},!j.isActive&&z===null||!O&&!j.prevProp||lg(O)||typeof O=="boolean")continue;const M=Q7(j.prevProp,O);let D=M||C===h&&j.isActive&&!$&&q||S>T&&q,k=!1;const U=Array.isArray(O)?O:[O];let L=U.reduce(s(C),{});z===!1&&(L={});const{prevResolvedValues:B={}}=j,V={...B,...L},ft=et=>{D=!0,_.has(et)&&(k=!0,_.delete(et)),j.needsAnimating[et]=!0;const dt=e.getValue(et);dt&&(dt.liveStyle=!1)};for(const et in V){const dt=L[et],xt=B[et];if(b.hasOwnProperty(et))continue;let H=!1;Y_(dt)&&Y_(xt)?H=!YM(dt,xt):H=dt!==xt,H?dt!=null?ft(et):_.add(et):dt!==void 0&&_.has(et)?ft(et):j.protectedKeys[et]=!0}j.prevProp=O,j.prevResolvedValues=L,j.isActive&&(b={...b,...L}),i&&e.blockInitialAnimation&&(D=!1),D&&(!($&&M)||k)&&y.push(...U.map(et=>({animation:et,options:{type:C}})))}if(_.size){const S={};if(typeof f.initial!="boolean"){const C=of(e,Array.isArray(f.initial)?f.initial[0]:f.initial);C&&C.transition&&(S.transition=C.transition)}_.forEach(C=>{const j=e.getBaseTarget(C),O=e.getValue(C);O&&(O.liveStyle=!0),S[C]=j??null}),y.push({animation:S})}let E=!!y.length;return i&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(E=!1),i=!1,E?t(y):Promise.resolve()}function c(h,f){var y;if(n[h].isActive===f)return Promise.resolve();(y=e.variantChildren)==null||y.forEach(_=>{var b;return(b=_.animationState)==null?void 0:b.setActive(h,f)}),n[h].isActive=f;const p=l(h);for(const _ in n)n[_].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=MC(),i=!0}}}function Q7(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!YM(t,e):!1}function Lo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function MC(){return{animate:Lo(!0),whileInView:Lo(),whileHover:Lo(),whileTap:Lo(),whileDrag:Lo(),whileFocus:Lo(),exit:Lo()}}class so{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Z7 extends so{constructor(t){super(t),t.animationState||(t.animationState=X7(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();lg(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let J7=0;class t$ extends so{constructor(){super(...arguments),this.id=J7++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const e$={animation:{Feature:Z7},exit:{Feature:t$}};function cf(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Cf(e){return{point:{x:e.pageX,y:e.pageY}}}const n$=e=>t=>iw(t)&&e(t,Cf(t));function kh(e,t,n,i){return cf(e,t,n$(n),i)}function QM({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function i$({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function s$(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const ZM=1e-4,r$=1-ZM,a$=1+ZM,JM=.01,o$=0-JM,l$=0+JM;function ui(e){return e.max-e.min}function c$(e,t,n){return Math.abs(e-t)<=n}function OC(e,t,n,i=.5){e.origin=i,e.originPoint=ze(t.min,t.max,e.origin),e.scale=ui(n)/ui(t),e.translate=ze(n.min,n.max,e.origin)-e.originPoint,(e.scale>=r$&&e.scale<=a$||isNaN(e.scale))&&(e.scale=1),(e.translate>=o$&&e.translate<=l$||isNaN(e.translate))&&(e.translate=0)}function Ph(e,t,n,i){OC(e.x,t.x,n.x,i?i.originX:void 0),OC(e.y,t.y,n.y,i?i.originY:void 0)}function NC(e,t,n){e.min=n.min+t.min,e.max=e.min+ui(t)}function u$(e,t,n){NC(e.x,t.x,n.x),NC(e.y,t.y,n.y)}function LC(e,t,n){e.min=t.min-n.min,e.max=e.min+ui(t)}function Mh(e,t,n){LC(e.x,t.x,n.x),LC(e.y,t.y,n.y)}const VC=()=>({translate:0,scale:1,origin:0,originPoint:0}),dc=()=>({x:VC(),y:VC()}),jC=()=>({min:0,max:0}),sn=()=>({x:jC(),y:jC()});function rs(e){return[e("x"),e("y")]}function Xv(e){return e===void 0||e===1}function o0({scale:e,scaleX:t,scaleY:n}){return!Xv(e)||!Xv(t)||!Xv(n)}function Fo(e){return o0(e)||tO(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tO(e){return UC(e.x)||UC(e.y)}function UC(e){return e&&e!=="0%"}function Sm(e,t,n){const i=e-n,s=t*i;return n+s}function BC(e,t,n,i,s){return s!==void 0&&(e=Sm(e,s,i)),Sm(e,n,i)+t}function l0(e,t=0,n=1,i,s){e.min=BC(e.min,t,n,i,s),e.max=BC(e.max,t,n,i,s)}function eO(e,{x:t,y:n}){l0(e.x,t.translate,t.scale,t.originPoint),l0(e.y,n.translate,n.scale,n.originPoint)}const zC=.999999999999,FC=1.0000000000001;function h$(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&mc(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,eO(e,l)),i&&Fo(a.latestValues)&&mc(e,a.latestValues))}t.x<FC&&t.x>zC&&(t.x=1),t.y<FC&&t.y>zC&&(t.y=1)}function pc(e,t){e.min=e.min+t,e.max=e.max+t}function HC(e,t,n,i,s=.5){const a=ze(e.min,e.max,s);l0(e,t,n,a,i)}function mc(e,t){HC(e.x,t.x,t.scaleX,t.scale,t.originX),HC(e.y,t.y,t.scaleY,t.scale,t.originY)}function nO(e,t){return QM(s$(e.getBoundingClientRect(),t))}function f$(e,t,n){const i=nO(e,n),{scroll:s}=t;return s&&(pc(i.x,s.offset.x),pc(i.y,s.offset.y)),i}const iO=({current:e})=>e?e.ownerDocument.defaultView:null,qC=(e,t)=>Math.abs(e-t);function d$(e,t){const n=qC(e.x,t.x),i=qC(e.y,t.y);return Math.sqrt(n**2+i**2)}class sO{constructor(t,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Zv(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,b=d$(y.offset,{x:0,y:0})>=3;if(!_&&!b)return;const{point:T}=y,{timestamp:E}=Vn;this.history.push({...T,timestamp:E});const{onStart:S,onMove:C}=this.handlers;_||(S&&S(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Qv(_,this.transformPagePoint),Pe.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:b,onSessionEnd:T,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Zv(y.type==="pointercancel"?this.lastMoveEventInfo:Qv(_,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,S),T&&T(y,S)},!iw(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const l=Cf(t),c=Qv(l,this.transformPagePoint),{point:h}=c,{timestamp:f}=Vn;this.history=[{...h,timestamp:f}];const{onSessionStart:p}=n;p&&p(t,Zv(c,this.history)),this.removeListeners=Rf(kh(this.contextWindow,"pointermove",this.handlePointerMove),kh(this.contextWindow,"pointerup",this.handlePointerUp),kh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Jr(this.updatePoint)}}function Qv(e,t){return t?{point:t(e.point)}:e}function WC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zv({point:e},t){return{point:e,delta:WC(e,rO(t)),offset:WC(e,p$(t)),velocity:m$(t,.1)}}function p$(e){return e[0]}function rO(e){return e[e.length-1]}function m$(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=rO(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>ir(t)));)n--;if(!i)return{x:0,y:0};const a=sr(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function g$(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?ze(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?ze(n,e,i.max):Math.min(e,n)),e}function $C(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function y$(e,{top:t,left:n,bottom:i,right:s}){return{x:$C(e.x,n,s),y:$C(e.y,t,i)}}function GC(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function v$(e,t){return{x:GC(e.x,t.x),y:GC(e.y,t.y)}}function _$(e,t){let n=.5;const i=ui(e),s=ui(t);return s>i?n=tf(t.min,t.max-i,e.min):i>s&&(n=tf(e.min,e.max-s,t.min)),ta(0,1,n)}function b$(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const c0=.35;function w$(e=c0){return e===!1?e=0:e===!0&&(e=c0),{x:KC(e,"left","right"),y:KC(e,"top","bottom")}}function KC(e,t,n){return{min:YC(e,t),max:YC(e,n)}}function YC(e,t){return typeof e=="number"?e:e[t]||0}const T$=new WeakMap;class S${constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cf(p).point)},a=(p,y)=>{const{drag:_,dragPropagation:b,onDragStart:T}=this.getProps();if(_&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vW(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rs(S=>{let C=this.getAxisMotionValue(S).get()||0;if(ar.test(C)){const{projection:j}=this.visualElement;if(j&&j.layout){const O=j.layout.layoutBox[S];O&&(C=ui(O)*(parseFloat(C)/100))}}this.originPoint[S]=C}),T&&Pe.postRender(()=>T(p,y)),X_(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},l=(p,y)=>{const{dragPropagation:_,dragDirectionLock:b,onDirectionLock:T,onDrag:E}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:S}=y;if(b&&this.currentDirection===null){this.currentDirection=E$(S),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",y.point,S),this.updateAxis("y",y.point,S),this.visualElement.render(),E&&E(p,y)},c=(p,y)=>this.stop(p,y),h=()=>rs(p=>{var y;return this.getAnimationState(p)==="paused"&&((y=this.getAxisMotionValue(p).animation)==null?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new sO(t,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:iO(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Pe.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!vp(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=g$(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;t&&hc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=y$(i.layoutBox,t):this.constraints=!1,this.elastic=w$(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&rs(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=b$(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!hc(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=f$(i,s.root,this.visualElement.getTransformPagePoint());let l=v$(s.layout.layoutBox,a);if(n){const c=n(i$(l));this.hasMutatedConstraints=!!c,c&&(l=QM(c))}return l}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},f=rs(p=>{if(!vp(p,n,this.currentDirection))return;let y=h&&h[p]||{};l&&(y={min:0,max:0});const _=s?200:1e6,b=s?40:1e7,T={type:"inertia",velocity:i?t[p]:0,bounceStiffness:_,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(p,T)});return Promise.all(f).then(c)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return X_(this.visualElement,t),i.start(Ew(t,i,0,n,this.visualElement,!1))}stopAnimation(){rs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){rs(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){rs(n=>{const{drag:i}=this.getProps();if(!vp(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(t[n]-ze(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!hc(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};rs(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();s[l]=_$({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),rs(l=>{if(!vp(l,t,null))return;const c=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];c.set(ze(h,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;T$.set(this.visualElement,this);const t=this.visualElement.current,n=kh(t,"pointerdown",h=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();hc(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Pe.read(i);const l=cf(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(rs(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=h[p].translate,y.set(y.get()+h[p].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=c0,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function vp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function E$(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class x$ extends so{constructor(t){super(t),this.removeGroupControls=ls,this.removeListeners=ls,this.controls=new S$(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ls}unmount(){this.removeGroupControls(),this.removeListeners()}}const XC=e=>(t,n)=>{e&&Pe.postRender(()=>e(t,n))};class A$ extends so{constructor(){super(...arguments),this.removePointerDownListener=ls}onPointerDown(t){this.session=new sO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iO(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:XC(t),onStart:XC(n),onMove:i,onEnd:(a,l)=>{delete this.session,s&&Pe.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=kh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const lh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Mt.test(e))e=parseFloat(e);else return e;const n=QC(e,t.target.x),i=QC(e,t.target.y);return`${n}% ${i}%`}},R$={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=Qa.parse(e);if(s.length>5)return i;const a=Qa.createTransformer(e),l=typeof s[0]!="number"?1:0,c=n.x.scale*t.x,h=n.y.scale*t.y;s[0+l]/=c,s[1+l]/=h;const f=ze(c,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),a(s)}};class C$ extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;WW(D$),a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Bp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,l=i.projection;return l&&(l.isPresent=a,s||t.layoutDependency!==n||n===void 0||t.isPresent!==a?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||Pe.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),nw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function aO(e){const[t,n]=qP(),i=P.useContext(qb);return R.jsx(C$,{...e,layoutGroup:i,switchLayoutGroup:P.useContext(sM),isPresent:t,safeToRemove:n})}const D$={borderRadius:{...lh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lh,borderTopRightRadius:lh,borderBottomLeftRadius:lh,borderBottomRightRadius:lh,boxShadow:R$};function I$(e,t,n){const i=Jn(e)?e:nf(e);return i.start(Ew("",i,t,n)),i.animation}function k$(e){return e instanceof SVGElement&&e.tagName!=="svg"}const P$=(e,t)=>e.depth-t.depth;class M${constructor(){this.children=[],this.isDirty=!1}add(t){Kb(this.children,t),this.isDirty=!0}remove(t){Yb(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(P$),this.isDirty=!1,this.children.forEach(t)}}function O$(e,t){const n=rr.now(),i=({timestamp:s})=>{const a=s-n;a>=t&&(Jr(i),e(a-t))};return Pe.read(i,!0),()=>Jr(i)}const oO=["TopLeft","TopRight","BottomLeft","BottomRight"],N$=oO.length,ZC=e=>typeof e=="string"?parseFloat(e):e,JC=e=>typeof e=="number"||Mt.test(e);function L$(e,t,n,i,s,a){s?(e.opacity=ze(0,n.opacity!==void 0?n.opacity:1,V$(i)),e.opacityExit=ze(t.opacity!==void 0?t.opacity:1,0,j$(i))):a&&(e.opacity=ze(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let l=0;l<N$;l++){const c=`border${oO[l]}Radius`;let h=t1(t,c),f=t1(n,c);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||JC(h)===JC(f)?(e[c]=Math.max(ze(ZC(h),ZC(f),i),0),(ar.test(f)||ar.test(h))&&(e[c]+="%")):e[c]=f}(t.rotate||n.rotate)&&(e.rotate=ze(t.rotate||0,n.rotate||0,i))}function t1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const V$=lO(0,.5,xM),j$=lO(.5,.95,ls);function lO(e,t,n){return i=>i<e?0:i>t?1:n(tf(e,t,i))}function e1(e,t){e.min=t.min,e.max=t.max}function is(e,t){e1(e.x,t.x),e1(e.y,t.y)}function n1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function i1(e,t,n,i,s){return e-=t,e=Sm(e,1/n,i),s!==void 0&&(e=Sm(e,1/s,i)),e}function U$(e,t=0,n=1,i=.5,s,a=e,l=e){if(ar.test(t)&&(t=parseFloat(t),t=ze(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=ze(a.min,a.max,i);e===a&&(c-=t),e.min=i1(e.min,t,n,c,s),e.max=i1(e.max,t,n,c,s)}function s1(e,t,[n,i,s],a,l){U$(e,t[n],t[i],t[s],t.scale,a,l)}const B$=["x","scaleX","originX"],z$=["y","scaleY","originY"];function r1(e,t,n,i){s1(e.x,t,B$,n?n.x:void 0,i?i.x:void 0),s1(e.y,t,z$,n?n.y:void 0,i?i.y:void 0)}function a1(e){return e.translate===0&&e.scale===1}function cO(e){return a1(e.x)&&a1(e.y)}function o1(e,t){return e.min===t.min&&e.max===t.max}function F$(e,t){return o1(e.x,t.x)&&o1(e.y,t.y)}function l1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function uO(e,t){return l1(e.x,t.x)&&l1(e.y,t.y)}function c1(e){return ui(e.x)/ui(e.y)}function u1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class H${constructor(){this.members=[]}add(t){Kb(this.members,t),t.scheduleRender()}remove(t){if(Yb(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function q$(e,t,n){let i="";const s=e.x.translate/t.x,a=e.y.translate/t.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(i=`translate3d(${s}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:y,rotateY:_,skewX:b,skewY:T}=n;f&&(i=`perspective(${f}px) ${i}`),p&&(i+=`rotate(${p}deg) `),y&&(i+=`rotateX(${y}deg) `),_&&(i+=`rotateY(${_}deg) `),b&&(i+=`skewX(${b}deg) `),T&&(i+=`skewY(${T}deg) `)}const c=e.x.scale*t.x,h=e.y.scale*t.y;return(c!==1||h!==1)&&(i+=`scale(${c}, ${h})`),i||"none"}const Jv=["","X","Y","Z"],W$={visibility:"hidden"},h1=1e3;let $$=0;function t_(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function hO(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=vM(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Pe,!(s||a))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&hO(i)}function fO({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=t==null?void 0:t()){this.id=$$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Y$),this.nodes.forEach(tG),this.nodes.forEach(eG),this.nodes.forEach(X$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new M$)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Qb),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=k$(l),this.instance=l;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(f||h)&&(this.isLayoutDirty=!0),e){let y;const _=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=O$(_,250),Bp.hasAnimatedSinceResize&&(Bp.hasAnimatedSinceResize=!1,this.nodes.forEach(d1))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||p.getDefaultTransition()||aG,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=p.getProps(),j=!this.targetLayout||!uO(this.targetLayout,T),O=!_&&b;if(this.options.layoutRoot||this.resumeFrom||O||_&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,O);const q={...tw(E,"layout"),onPlay:S,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q)}else _||d1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Jr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nG),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(f1);return}this.isUpdating||this.nodes.forEach(Z$),this.isUpdating=!1,this.nodes.forEach(J$),this.nodes.forEach(G$),this.nodes.forEach(K$),this.clearAllSnapshots();const c=rr.now();Vn.delta=ta(0,1e3/60,c-Vn.timestamp),Vn.timestamp=c,Vn.isProcessing=!0,Wv.update.process(Vn),Wv.preRender.process(Vn),Wv.render.process(Vn),Vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,nw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Q$),this.sharedNodes.forEach(iG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ui(this.snapshot.measuredBox.x)&&!ui(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!cO(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&(c||Fo(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),oG(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:l}=this.options;if(!l)return sn();const c=l.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(lG))){const{scroll:p}=this.root;p&&(pc(c.x,p.offset.x),pc(c.y,p.offset.y))}return c}removeElementScroll(l){var h;const c=sn();if(is(c,l),(h=this.scroll)!=null&&h.wasRoot)return c;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&is(c,l),pc(c.x,y.offset.x),pc(c.y,y.offset.y))}return c}applyTransform(l,c=!1){const h=sn();is(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&mc(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Fo(p.latestValues)&&mc(h,p.latestValues)}return Fo(this.latestValues)&&mc(h,this.latestValues),h}removeTransform(l){const c=sn();is(c,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Fo(f.latestValues))continue;o0(f.latestValues)&&f.updateSnapshot();const p=sn(),y=f.measurePageBox();is(p,y),r1(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Fo(this.latestValues)&&r1(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var _;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Vn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Mh(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),u$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):is(this.target,this.layout.layoutBox),eO(this.target,this.targetDelta)):is(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Mh(this.relativeTargetOrigin,this.target,b.target),is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||o0(this.parent.latestValues)||tO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Vn.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;is(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;h$(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=sn());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(n1(this.prevProjectionDelta.x,this.projectionDelta.x),n1(this.prevProjectionDelta.y,this.projectionDelta.y)),Ph(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!u1(this.projectionDelta.x,this.prevProjectionDelta.x)||!u1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dc(),this.projectionDelta=dc(),this.projectionDeltaWithTransform=dc()}setAnimationOrigin(l,c=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},y=dc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const _=sn(),b=h?h.source:void 0,T=this.layout?this.layout.source:void 0,E=b!==T,S=this.getStack(),C=!S||S.members.length<=1,j=!!(E&&!C&&this.options.crossfade===!0&&!this.path.some(rG));this.animationProgress=0;let O;this.mixTargetDelta=q=>{const z=q/1e3;p1(y.x,l.x,z),p1(y.y,l.y,z),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mh(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sG(this.relativeTarget,this.relativeTargetOrigin,_,z),O&&F$(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=sn()),is(O,this.relativeTarget)),E&&(this.animationValues=p,L$(p,f,this.latestValues,z,j,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Jr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pe.update(()=>{Bp.hasAnimatedSinceResize=!0,this.currentAnimation=I$(0,h1,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(h1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:f,latestValues:p}=l;if(!(!c||!h||!f)){if(this!==l&&this.layout&&f&&dO(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||sn();const y=ui(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const _=ui(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+_}is(c,h),mc(c,p),Ph(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new H$),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const f={};h.z&&t_("z",l,f,this.animationValues);for(let p=0;p<Jv.length;p++)t_(`rotate${Jv[p]}`,l,f,this.animationValues),t_(`skew${Jv[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return W$;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Up(l==null?void 0:l.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Up(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Fo(this.latestValues)&&(b.transform=h?h({},""):"none",this.hasProjected=!1),b}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=q$(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:y,y:_}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,f.animationValues?c.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in rf){if(p[b]===void 0)continue;const{correct:T,applyTo:E,isCSSVariable:S}=rf[b],C=c.transform==="none"?p[b]:T(p[b],f);if(E){const j=E.length;for(let O=0;O<j;O++)c[E[O]]=C}else S?this.options.visualElement.renderState.vars[b]=C:c[b]=C}return this.options.layoutId&&(c.pointerEvents=f===this?Up(l==null?void 0:l.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(f1),this.root.sharedNodes.clear()}}}function G$(e){e.updateLayout()}function K$(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?rs(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=ui(_);_.min=i[y].min,_.max=_.min+b}):dO(a,t.layoutBox,i)&&rs(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=ui(i[y]);_.max=_.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+b)});const c=dc();Ph(c,i,t.layoutBox);const h=dc();l?Ph(h,e.applyTransform(s,!0),t.measuredBox):Ph(h,i,t.layoutBox);const f=!cO(c);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const T=sn();Mh(T,t.layoutBox,_.layoutBox);const E=sn();Mh(E,i,b.layoutBox),uO(T,E)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=E,e.relativeTargetOrigin=T,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function Y$(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function X$(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Q$(e){e.clearSnapshot()}function f1(e){e.clearMeasurements()}function Z$(e){e.isLayoutDirty=!1}function J$(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function d1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function tG(e){e.resolveTargetDelta()}function eG(e){e.calcProjection()}function nG(e){e.resetSkewAndRotation()}function iG(e){e.removeLeadSnapshot()}function p1(e,t,n){e.translate=ze(t.translate,0,n),e.scale=ze(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function m1(e,t,n,i){e.min=ze(t.min,n.min,i),e.max=ze(t.max,n.max,i)}function sG(e,t,n,i){m1(e.x,t.x,n.x,i),m1(e.y,t.y,n.y,i)}function rG(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const aG={duration:.45,ease:[.4,0,.1,1]},g1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),y1=g1("applewebkit/")&&!g1("chrome/")?Math.round:ls;function v1(e){e.min=y1(e.min),e.max=y1(e.max)}function oG(e){v1(e.x),v1(e.y)}function dO(e,t,n){return e==="position"||e==="preserve-aspect"&&!c$(c1(t),c1(n),.2)}function lG(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const cG=fO({attachResizeListener:(e,t)=>cf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),e_={current:void 0},pO=fO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!e_.current){const e=new cG({});e.mount(window),e.setOptions({layoutScroll:!0}),e_.current=e}return e_.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),uG={pan:{Feature:A$},drag:{Feature:x$,ProjectionNode:pO,MeasureLayout:aO}};function _1(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&Pe.postRender(()=>a(t,Cf(t)))}class hG extends so{mount(){const{current:t}=this.node;t&&(this.unmount=bW(t,(n,i)=>(_1(this.node,i,"Start"),s=>_1(this.node,s,"End"))))}unmount(){}}class fG extends so{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rf(cf(this.node.current,"focus",()=>this.onFocus()),cf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function b1(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&Pe.postRender(()=>a(t,Cf(t)))}class dG extends so{mount(){const{current:t}=this.node;t&&(this.unmount=EW(t,(n,i)=>(b1(this.node,i,"Start"),(s,{success:a})=>b1(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const u0=new WeakMap,n_=new WeakMap,pG=e=>{const t=u0.get(e.target);t&&t(e)},mG=e=>{e.forEach(pG)};function gG({root:e,...t}){const n=e||document;n_.has(n)||n_.set(n,{});const i=n_.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(mG,{root:e,...t})),i[s]}function yG(e,t,n){const i=gG(t);return u0.set(e,n),i.observe(e),()=>{u0.delete(e),i.unobserve(e)}}const vG={some:0,all:1};class _G extends so{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=t,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:vG[s]},c=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),_=f?p:y;_&&_(h)};return yG(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(bG(t,n))&&this.startObserver()}unmount(){}}function bG({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const wG={inView:{Feature:_G},tap:{Feature:dG},focus:{Feature:fG},hover:{Feature:hG}},TG={layout:{ProjectionNode:pO,MeasureLayout:aO}},h0={current:null},mO={current:!1};function SG(){if(mO.current=!0,!!$b)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>h0.current=e.matches;e.addListener(t),t()}else h0.current=!1}const EG=[...BM,Yn,Qa],xG=e=>EG.find(UM(e)),AG=new WeakMap;function RG(e,t,n){for(const i in t){const s=t[i],a=n[i];if(Jn(s))e.addValue(i,s);else if(Jn(a))e.addValue(i,nf(s,{owner:e}));else if(a!==s)if(e.hasValue(i)){const l=e.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,nf(l!==void 0?l:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const w1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CG{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ww,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=rr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Pe.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:p}=l;this.onUpdate=p,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=cg(n),this.isVariantNode=nM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const T=_[b];h[b]!==void 0&&Jn(T)&&T.set(h[b],!1)}}mount(t){this.current=t,AG.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),mO.current||SG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:h0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Jr(this.notifyUpdate),Jr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=gl.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Pe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Lc){const n=Lc[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<w1.length;i++){const s=w1[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=t[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=RG(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=nf(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(VM(i)||RM(i))?i=parseFloat(i):!xG(i)&&Qa.test(n)&&(i=OM(t,n)),this.setBaseTarget(t,Jn(i)?i.get():i)),Jn(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=mw(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(i=l[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Jn(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Qb),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class gO extends CG{constructor(){super(...arguments),this.KeyframeResolver=zM}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Jn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function DG(e){return window.getComputedStyle(e)}class IG extends gO{constructor(){super(...arguments),this.type="html",this.renderInstance=dM}readValueFromInstance(t,n){if(gl.has(n))return F8(t,n);{const i=DG(t),s=(ow(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return nO(t,n)}build(t,n,i){uw(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return gw(t,n,i)}}class kG extends gO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&fM(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(gl.has(n)){const i=MM(n);return i&&i.default||0}return n=pM.has(n)?n:aw(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return gM(t,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&Pe.postRender(this.updateDimensions)}build(t,n,i){dw(t,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,i,s){mM(t,n,i,s)}mount(t){this.isSVGTag=pw(t.tagName),super.mount(t)}}const PG=(e,t)=>fw(e)?new kG(t):new IG(t,{allowProjection:e!==P.Fragment}),MG=m8({...e$,...wG,...uG,...TG},PG),Zo=kW(MG);var yO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},T1=ke.createContext&&ke.createContext(yO),OG=["attr","size","title"];function NG(e,t){if(e==null)return{};var n=LG(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function LG(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Em.apply(this,arguments)}function S1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function xm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S1(Object(n),!0).forEach(function(i){VG(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S1(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function VG(e,t,n){return t=jG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jG(e){var t=UG(e,"string");return typeof t=="symbol"?t:t+""}function UG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vO(e){return e&&e.map((t,n)=>ke.createElement(t.tag,xm({key:n},t.attr),vO(t.child)))}function Df(e){return t=>ke.createElement(BG,Em({attr:xm({},e.attr)},t),vO(e.child))}function BG(e){var t=n=>{var{attr:i,size:s,title:a}=e,l=NG(e,OG),c=s||n.size||"1em",h;return n.className&&(h=n.className),e.className&&(h=(h?h+" ":"")+e.className),ke.createElement("svg",Em({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:h,style:xm(xm({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&ke.createElement("title",null,a),e.children)};return T1!==void 0?ke.createElement(T1.Consumer,null,n=>t(n)):t(yO)}function xw(e){return Df({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function zG(e){return Df({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function FG(e){return Df({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function HG(e){return Df({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function qG(e){return Df({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function WG(){const[e,t]=P.useState([{id:1,name:"",sets:[{id:1,reps:"",weight:""}]}]),[n,i]=P.useState(""),[s,a]=P.useState(new Date().toISOString().split("T")[0]),[l,c]=P.useState(null),[h,f]=P.useState([]),[p,y]=P.useState(!1),[_,b]=P.useState(null),[T,E]=P.useState(!1),[S,C]=P.useState("");Is(),P.useEffect(()=>{console.log("Testing exercise matching:",iC("bench"))},[]),P.useEffect(()=>{let L;return T&&(L&&clearTimeout(L),L=setTimeout(()=>{E(!1)},2500)),()=>{L&&clearTimeout(L)}},[T]);const j=()=>{const L=Date.now(),B={id:L,name:"",sets:[{id:L+1,reps:"",weight:""}]},V=[...e,B];t(V),console.log("Added new exercise, total:",V.length)},O=L=>{t(e.filter(B=>B.id!==L))},q=L=>{t(e.map(B=>B.id===L?{...B,sets:[...B.sets,{id:Date.now(),reps:"",weight:""}]}:B))},z=(L,B)=>{t(e.map(V=>V.id===L?V.sets.length===1?V:{...V,sets:V.sets.filter(ft=>ft.id!==B)}:V))},$=(L,B)=>{if(t(e.map(V=>V.id===L?{...V,name:B}:V)),B.trim()){const V=iC(B);f(V)}else f([])},M=(L,B)=>{t(e.map(V=>V.id===L?{...V,name:B}:V)),f([])},D=(L,B,V,ft)=>{if(V==="reps"){const gt=ft.replace(/\D/g,"");t(e.map(K=>K.id===L?{...K,sets:K.sets.map(et=>et.id===B?{...et,[V]:gt}:et)}:K))}else t(e.map(gt=>gt.id===L?{...gt,sets:gt.sets.map(K=>K.id===B?{...K,[V]:ft}:K)}:gt))},k=L=>{if(L.key==="Enter"){L.preventDefault();const B=L.target.form,V=Array.from(B.elements).indexOf(L.target),ft=B.elements[V+1];ft&&ft.focus()}},U=async L=>{if(L.preventDefault(),!(p||T)){b(null),y(!0);try{const B=Bn.currentUser;if(!B){b("You must be logged in to save a workout"),y(!1);return}if(e.some(K=>!K.name.trim())){b("Please provide a name for all exercises"),y(!1);return}if(e.some(K=>K.sets.some(et=>!et.reps))){b("Please provide reps for all sets"),y(!1);return}const V={name:n||`Workout ${new Date().toLocaleDateString()}`,date:s,timestamp:Date.now(),exercises:e.map(K=>({name:K.name,sets:K.sets.map(et=>({reps:et.reps,weight:et.weight||"bodyweight"}))}))},ft=xs(As,"users",B.uid);await Zm(ft,{workouts:xk(V)}),C("Great job! Workout saved successfully!"),y(!1),E(!0);const gt=setTimeout(()=>{i(""),a(new Date().toISOString().split("T")[0]),t([{id:Date.now(),name:"",sets:[{id:Date.now(),reps:"",weight:""}]}])},2e3);return()=>clearTimeout(gt)}catch(B){console.error("Error saving workout:",B),b("Error saving workout. Please try again."),y(!1)}}};return R.jsxs("div",{className:"log-workout-container",children:[R.jsx("h1",{children:"Log Workout"}),R.jsxs("form",{onSubmit:U,children:[R.jsxs("div",{className:"form-header",children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"workoutName",children:"Workout Name"}),R.jsx("input",{type:"text",id:"workoutName",value:n,onChange:L=>i(L.target.value),placeholder:"Enter workout name"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"workoutDate",children:"Date"}),R.jsx("input",{type:"date",id:"workoutDate",value:s,onChange:L=>a(L.target.value),max:new Date().toISOString().split("T")[0]})]})]}),R.jsx("div",{className:"exercises-container",children:e.map((L,B)=>R.jsxs("div",{className:"exercise-item",children:[R.jsxs("div",{className:"exercise-header",children:[R.jsxs("h3",{children:["Exercise ",B+1]}),R.jsx("button",{type:"button",onClick:()=>O(L.id),className:"remove-btn",children:"Remove"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:`exercise-${L.id}`,children:"Exercise Name"}),R.jsxs("div",{className:"exercise-name-input-container",children:[R.jsx("input",{type:"text",id:`exercise-${L.id}`,value:L.name,onChange:V=>$(L.id,V.target.value),placeholder:"Enter exercise name",onFocus:()=>c(L.id),onBlur:()=>{setTimeout(()=>{c(null),f([])},200)},autoComplete:"off"}),l===L.id&&h.length>0&&R.jsx("div",{className:"suggestions-list",children:h.map((V,ft)=>R.jsx("div",{className:"suggestion-item",onClick:()=>M(L.id,V),children:V},ft))})]})]}),R.jsxs("div",{className:"sets-container",children:[R.jsx("h4",{children:"Sets"}),L.sets.map((V,ft)=>R.jsxs("div",{className:"set-item",children:[R.jsxs("div",{className:"set-header",children:[R.jsxs("span",{children:["Set ",ft+1]}),R.jsx("button",{type:"button",onClick:()=>z(L.id,V.id),className:"remove-btn",disabled:L.sets.length===1,children:"Remove"})]}),R.jsxs("div",{className:"set-inputs",children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:`reps-${L.id}-${V.id}`,children:"Reps"}),R.jsx("input",{type:"number",id:`reps-${L.id}-${V.id}`,value:V.reps,onChange:gt=>D(L.id,V.id,"reps",gt.target.value),onKeyDown:k,placeholder:"e.g., 10",min:"1",step:"1",required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:`weight-${L.id}-${V.id}`,children:"Weight (optional)"}),R.jsx("input",{type:"text",id:`weight-${L.id}-${V.id}`,value:V.weight,onChange:gt=>D(L.id,V.id,"weight",gt.target.value),onKeyDown:k,placeholder:"e.g., 135 or leave empty",required:!1})]})]})]},V.id)),R.jsx("button",{type:"button",onClick:()=>q(L.id),className:"add-set-btn",children:"Add Set"})]})]},L.id))}),R.jsxs("div",{className:"form-actions",children:[R.jsx("button",{type:"button",onClick:j,className:"add-exercise-btn",disabled:p,children:"Add Exercise"}),R.jsx("button",{type:"submit",className:`save-workout-btn ${p?"saving":""}`,disabled:p,children:p?"Saving...":"Save Workout"})]})]}),R.jsx(oW,{mode:"wait",children:T&&R.jsxs(Zo.div,{className:"success-message",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3,type:"spring",stiffness:200,damping:20},children:[R.jsx(Zo.div,{className:"success-icon",initial:{scale:0,rotate:-45},animate:{scale:1,rotate:0},transition:{duration:.5,type:"spring",stiffness:260,damping:20},children:R.jsx(zG,{size:40,strokeWidth:3})}),R.jsx(Zo.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:S})]},"success-message")}),_&&R.jsx("div",{className:"error-message",children:R.jsx("p",{children:_})})]})}function Jc(){return R.jsx("div",{className:"loading-spinner-container",children:R.jsx("div",{className:"loading-spinner"})})}function $G(){const[e,t]=P.useState([]),[n,i]=P.useState(!0),[s,a]=P.useState(null),[l,c]=P.useState(null),[h,f]=P.useState(!1),p=pr(),y=async()=>{var S;try{i(!0);const C=Bn.currentUser;if(!C){a("You must be logged in to view workout history"),i(!1);return}const j=xs(As,"users",C.uid),O=await hr(j);if(O.exists()){const q=O.data(),z=q.workouts?[...q.workouts]:[];z.sort((M,D)=>{const k=B=>{if(typeof B=="string"&&B.match(/^\d{4}-\d{2}-\d{2}$/)){const[V,ft,gt]=B.split("-").map(Number);return new Date(V,ft-1,gt)}return typeof B=="object"&&B.seconds?new Date(B.seconds*1e3):new Date(B)},U=k(M.date);return k(D.date)-U});const $=z.map((M,D)=>({...M,id:D.toString()}));if(t($),(S=p.state)!=null&&S.selectedWorkout){const M=p.state.selectedWorkout,D=$.find(k=>k.name===M.name&&T(k.date)===T(M.date));D&&(c(D.id),setTimeout(()=>{const k=document.getElementById(`workout-${D.id}`);k&&k.scrollIntoView({behavior:"smooth",block:"center"})},100))}}else t([]);i(!1)}catch(C){console.error("Error fetching workouts:",C),a("Failed to load workout history"),i(!1)}};P.useEffect(()=>{y()},[]);const _=S=>{c(l===S?null:S)},b=async(S,C)=>{if(S.stopPropagation(),!h&&window.confirm("Are you sure you want to delete this workout?"))try{f(!0);const j=Bn.currentUser;if(!j)return;const O=e.find(k=>k.id===C);if(!O)return;const q=e.filter(k=>k.id!==C),{id:z,...$}=O,M=xs(As,"users",j.uid),D=await hr(M);if(D.exists()){const U=D.data().workouts.filter(L=>{var B,V;return!(L.name===$.name&&T(L.date)===T($.date)&&((B=L.exercises)==null?void 0:B.length)===((V=$.exercises)==null?void 0:V.length))});await Zm(M,{workouts:U}),t(q),l===C&&c(null)}f(!1)}catch(j){console.error("Error deleting workout:",j),alert("Failed to delete workout. Please try again."),f(!1)}},T=S=>{if(!S)return"Unknown Date";if(typeof S=="string"&&S.match(/^\d{4}-\d{2}-\d{2}$/)){const[C,j,O]=S.split("-");return`${j}/${O}/${C}`}if(typeof S=="object"&&S.seconds)return new Date(S.seconds*1e3).toLocaleDateString();try{return new Date(S).toLocaleDateString()}catch{return S}},E=S=>!S||!Array.isArray(S)?0:S.reduce((C,j)=>{var O;return C+(((O=j.sets)==null?void 0:O.length)||0)},0);return n?R.jsx(Jc,{}):s?R.jsx("div",{className:"workout-history-container error",children:s}):e.length===0?R.jsxs("div",{className:"workout-history-container empty",children:[R.jsx("h2",{children:"Workout History"}),R.jsx("p",{children:"You haven't logged any workouts yet. Start by logging a workout!"})]}):R.jsxs("div",{className:"workout-history-container",children:[R.jsx("h2",{children:"Workout History"}),R.jsx("div",{className:"workout-cards",children:e.map(S=>{var C;return R.jsxs("div",{id:`workout-${S.id}`,className:`workout-card ${l===S.id?"expanded":""}`,onClick:()=>_(S.id),children:[R.jsxs("div",{className:"workout-card-header",children:[R.jsxs("div",{className:"workout-card-title",children:[R.jsx("h3",{children:S.name||"Untitled Workout"}),R.jsx("span",{className:"workout-date",children:T(S.date)})]}),R.jsxs("div",{className:"workout-card-actions",children:[R.jsxs("div",{className:"workout-card-summary",children:[R.jsxs("span",{children:[((C=S.exercises)==null?void 0:C.length)||0," Exercises"]}),R.jsxs("span",{children:[E(S.exercises)," Sets"]})]}),R.jsx("button",{className:"delete-workout-btn",onClick:j=>b(j,S.id),disabled:h,children:R.jsx("span",{className:"delete-icon",children:""})})]})]}),l===S.id&&R.jsx("div",{className:"workout-details",children:S.exercises&&S.exercises.map((j,O)=>R.jsxs("div",{className:"exercise-details",children:[R.jsx("h4",{children:j.name}),R.jsxs("div",{className:"sets-table",children:[R.jsxs("div",{className:"sets-table-header",children:[R.jsx("div",{className:"set-number",children:"Set"}),R.jsx("div",{className:"set-reps",children:"Reps"}),R.jsx("div",{className:"set-weight",children:"Weight"})]}),j.sets&&j.sets.map((q,z)=>R.jsxs("div",{className:"set-row",children:[R.jsx("div",{className:"set-number",children:z+1}),R.jsx("div",{className:"set-reps",children:q.reps}),R.jsx("div",{className:"set-weight",children:q.weight==="bodyweight"?"BW":q.weight})]},z))]})]},O))})]},S.id)})})]})}function GG(){const[e,t]=P.useState([]),[n,i]=P.useState(!0),[s,a]=P.useState(null),l=Is();P.useEffect(()=>{(async()=>{try{i(!0);const f=Bn.currentUser;if(!f){a("You must be logged in to view progress data"),i(!1);return}const p=xs(As,"users",f.uid),y=await hr(p);if(y.exists()){const _=y.data();t(_.workouts||[])}else t([]);i(!1)}catch(f){console.error("Error fetching workout data:",f),a("Failed to load progress data"),i(!1)}})()},[]);const c=h=>{l(h)};return n?R.jsx(Jc,{}):s?R.jsx("div",{className:"progress-tracker-container error",children:s}):R.jsxs("div",{className:"progress-tracker-container",children:[R.jsx("h2",{children:"Progress Tracker"}),R.jsxs("div",{className:"progress-cards",children:[R.jsx("div",{className:"progress-card strength",onClick:()=>c("/strength-progress"),children:R.jsx("h3",{children:"Strength Progress"})}),R.jsx("div",{className:"progress-card weight",onClick:()=>c("/weight-progress"),children:R.jsx("h3",{children:"Weight Progress"})})]})]})}function KG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YG(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function XG(e,t,n){return t&&YG(e.prototype,t),e}function QG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f0(){return f0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},f0.apply(this,arguments)}function ZG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p0(e,t)}function d0(e){return d0=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},d0(e)}function p0(e,t){return p0=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},p0(e,t)}function _O(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JG(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:_O(e)}function i_(e,t){return tK(e)||eK(e,t)||nK()}function tK(e){if(Array.isArray(e))return e}function eK(e,t){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]"){var n=[],i=!0,s=!1,a=void 0;try{for(var l=e[Symbol.iterator](),c;!(i=(c=l.next()).done)&&(n.push(c.value),!(t&&n.length===t));i=!0);}catch(h){s=!0,a=h}finally{try{!i&&l.return!=null&&l.return()}finally{if(s)throw a}}return n}}function nK(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function iK(e,t){return t={exports:{}},e(t,t.exports),t.exports}var sK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rK=sK;function bO(){}function wO(){}wO.resetWarningCache=bO;var aK=function(){function e(i,s,a,l,c,h){if(h!==rK){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:wO,resetWarningCache:bO};return n.PropTypes=n,n},he=iK(function(e){e.exports=aK()});function oK(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function lK(e,t){t===void 0&&(t=oK);var n,i=[],s,a=!1;function l(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];return a&&n===this&&t(c,i)||(s=e.apply(this,c),a=!0,n=this,i=c),s}return l}var E1=24*60*60*1e3,Vo=7,cK=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],uK=["","Mon","","Wed","","Fri",""];function zp(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n}function hK(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function s_(e){return e instanceof Date?e:new Date(e)}function fK(e){return zp(new Date,-200)}function r_(e){for(var t=[],n=0;n<e;n+=1)t.push(n);return t}var $s=10,_p=4,jo="react-calendar-heatmap-",Aw=function(e){ZG(t,e);function t(){var n,i;KG(this,t);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return i=JG(this,(n=d0(t)).call.apply(n,[this].concat(a))),QG(_O(i),"getValueCache",lK(function(c){return c.values.reduce(function(h,f){var p=s_(f.date),y=Math.floor((p-i.getStartDateWithEmptyDays())/E1);return h[y]={value:f,className:i.props.classForValue(f),title:i.props.titleForValue?i.props.titleForValue(f):null,tooltipDataAttrs:i.getTooltipDataAttrsForValue(f)},h},{})})),i}return XG(t,[{key:"getDateDifferenceInDays",value:function(){var i=this.props,s=i.startDate,a=i.numDays;if(a)return console.warn("numDays is a deprecated prop. It will be removed in the next release. Consider using the startDate prop instead."),a;var l=this.getEndDate()-s_(s);return Math.ceil(l/E1)}},{key:"getSquareSizeWithGutter",value:function(){return $s+this.props.gutterSize}},{key:"getMonthLabelSize",value:function(){return this.props.showMonthLabels?this.props.horizontal?$s+_p:2*($s+_p):0}},{key:"getWeekdayLabelSize",value:function(){return this.props.showWeekdayLabels?this.props.horizontal?30:$s*1.5:0}},{key:"getStartDate",value:function(){return zp(this.getEndDate(),-this.getDateDifferenceInDays()+1)}},{key:"getEndDate",value:function(){return hK(s_(this.props.endDate))}},{key:"getStartDateWithEmptyDays",value:function(){return zp(this.getStartDate(),-this.getNumEmptyDaysAtStart())}},{key:"getNumEmptyDaysAtStart",value:function(){return this.getStartDate().getDay()}},{key:"getNumEmptyDaysAtEnd",value:function(){return Vo-1-this.getEndDate().getDay()}},{key:"getWeekCount",value:function(){var i=this.getDateDifferenceInDays()+this.getNumEmptyDaysAtStart()+this.getNumEmptyDaysAtEnd();return Math.ceil(i/Vo)}},{key:"getWeekWidth",value:function(){return Vo*this.getSquareSizeWithGutter()}},{key:"getWidth",value:function(){return this.getWeekCount()*this.getSquareSizeWithGutter()-(this.props.gutterSize-this.getWeekdayLabelSize())}},{key:"getHeight",value:function(){return this.getWeekWidth()+(this.getMonthLabelSize()-this.props.gutterSize)+this.getWeekdayLabelSize()}},{key:"getValueForIndex",value:function(i){return this.valueCache[i]?this.valueCache[i].value:null}},{key:"getClassNameForIndex",value:function(i){return this.valueCache[i]?this.valueCache[i].className:this.props.classForValue(null)}},{key:"getTitleForIndex",value:function(i){return this.valueCache[i]?this.valueCache[i].title:this.props.titleForValue?this.props.titleForValue(null):null}},{key:"getTooltipDataAttrsForIndex",value:function(i){return this.valueCache[i]?this.valueCache[i].tooltipDataAttrs:this.getTooltipDataAttrsForValue({date:null,count:null})}},{key:"getTooltipDataAttrsForValue",value:function(i){var s=this.props.tooltipDataAttrs;return typeof s=="function"?s(i):s}},{key:"getTransformForWeek",value:function(i){return this.props.horizontal?"translate(".concat(i*this.getSquareSizeWithGutter(),", 0)"):"translate(0, ".concat(i*this.getSquareSizeWithGutter(),")")}},{key:"getTransformForWeekdayLabels",value:function(){return this.props.horizontal?"translate(".concat($s,", ").concat(this.getMonthLabelSize(),")"):null}},{key:"getTransformForMonthLabels",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", 0)"):"translate(".concat(this.getWeekWidth()+_p,", ").concat(this.getWeekdayLabelSize(),")")}},{key:"getTransformForAllWeeks",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", ").concat(this.getMonthLabelSize(),")"):"translate(0, ".concat(this.getWeekdayLabelSize(),")")}},{key:"getViewBox",value:function(){return this.props.horizontal?"0 0 ".concat(this.getWidth()," ").concat(this.getHeight()):"0 0 ".concat(this.getHeight()," ").concat(this.getWidth())}},{key:"getSquareCoordinates",value:function(i){return this.props.horizontal?[0,i*this.getSquareSizeWithGutter()]:[i*this.getSquareSizeWithGutter(),0]}},{key:"getWeekdayLabelCoordinates",value:function(i){return this.props.horizontal?[0,(i+1)*$s+i*this.props.gutterSize]:[i*$s+i*this.props.gutterSize,$s]}},{key:"getMonthLabelCoordinates",value:function(i){if(this.props.horizontal)return[i*this.getSquareSizeWithGutter(),this.getMonthLabelSize()-_p];var s=-2;return[0,(i+1)*this.getSquareSizeWithGutter()+s]}},{key:"handleClick",value:function(i){this.props.onClick&&this.props.onClick(i)}},{key:"handleMouseOver",value:function(i,s){this.props.onMouseOver&&this.props.onMouseOver(i,s)}},{key:"handleMouseLeave",value:function(i,s){this.props.onMouseLeave&&this.props.onMouseLeave(i,s)}},{key:"renderSquare",value:function(i,s){var a=this,l=s<this.getNumEmptyDaysAtStart()||s>=this.getNumEmptyDaysAtStart()+this.getDateDifferenceInDays();if(l&&!this.props.showOutOfRangeDays)return null;var c=this.getSquareCoordinates(i),h=i_(c,2),f=h[0],p=h[1],y=this.getValueForIndex(s),_=ke.createElement("rect",f0({key:s,width:$s,height:$s,x:f,y:p,className:this.getClassNameForIndex(s),onClick:function(){return a.handleClick(y)},onMouseOver:function(E){return a.handleMouseOver(E,y)},onMouseLeave:function(E){return a.handleMouseLeave(E,y)}},this.getTooltipDataAttrsForIndex(s)),ke.createElement("title",null,this.getTitleForIndex(s))),b=this.props.transformDayElement;return b?b(_,y,s):_}},{key:"renderWeek",value:function(i){var s=this;return ke.createElement("g",{key:i,transform:this.getTransformForWeek(i),className:"".concat(jo,"week")},r_(Vo).map(function(a){return s.renderSquare(a,i*Vo+a)}))}},{key:"renderAllWeeks",value:function(){var i=this;return r_(this.getWeekCount()).map(function(s){return i.renderWeek(s)})}},{key:"renderMonthLabels",value:function(){var i=this;if(!this.props.showMonthLabels)return null;var s=r_(this.getWeekCount()-1);return s.map(function(a){var l=zp(i.getStartDateWithEmptyDays(),(a+1)*Vo),c=i.getMonthLabelCoordinates(a),h=i_(c,2),f=h[0],p=h[1];return l.getDate()>=1&&l.getDate()<=Vo?ke.createElement("text",{key:a,x:f,y:p,className:"".concat(jo,"month-label")},i.props.monthLabels[l.getMonth()]):null})}},{key:"renderWeekdayLabels",value:function(){var i=this;return this.props.showWeekdayLabels?this.props.weekdayLabels.map(function(s,a){var l=i.getWeekdayLabelCoordinates(a),c=i_(l,2),h=c[0],f=c[1],p="".concat(i.props.horizontal?"":"".concat(jo,"small-text")," ").concat(jo,"weekday-label");return a&1?ke.createElement("text",{key:"".concat(h).concat(f),x:h,y:f,className:p},s):null}):null}},{key:"render",value:function(){return this.valueCache=this.getValueCache(this.props),ke.createElement("svg",{className:"react-calendar-heatmap",viewBox:this.getViewBox()},ke.createElement("g",{transform:this.getTransformForMonthLabels(),className:"".concat(jo,"month-labels")},this.renderMonthLabels()),ke.createElement("g",{transform:this.getTransformForAllWeeks(),className:"".concat(jo,"all-weeks")},this.renderAllWeeks()),ke.createElement("g",{transform:this.getTransformForWeekdayLabels(),className:"".concat(jo,"weekday-labels")},this.renderWeekdayLabels()))}}]),t}(ke.Component);Aw.propTypes={values:he.arrayOf(he.shape({date:he.oneOfType([he.string,he.number,he.instanceOf(Date)]).isRequired}).isRequired).isRequired,numDays:he.number,startDate:he.oneOfType([he.string,he.number,he.instanceOf(Date)]),endDate:he.oneOfType([he.string,he.number,he.instanceOf(Date)]),gutterSize:he.number,horizontal:he.bool,showMonthLabels:he.bool,showWeekdayLabels:he.bool,showOutOfRangeDays:he.bool,tooltipDataAttrs:he.oneOfType([he.object,he.func]),titleForValue:he.func,classForValue:he.func,monthLabels:he.arrayOf(he.string),weekdayLabels:he.arrayOf(he.string),onClick:he.func,onMouseOver:he.func,onMouseLeave:he.func,transformDayElement:he.func};Aw.defaultProps={numDays:null,startDate:fK(),endDate:new Date,gutterSize:1,horizontal:!0,showMonthLabels:!0,showWeekdayLabels:!1,showOutOfRangeDays:!1,tooltipDataAttrs:null,titleForValue:null,classForValue:function(t){return t?"color-filled":"color-empty"},monthLabels:cK,weekdayLabels:uK,onClick:null,onMouseOver:null,onMouseLeave:null,transformDayElement:null};const jc=Math.min,Jo=Math.max,Am=Math.round,bp=Math.floor,or=e=>({x:e,y:e}),dK={left:"right",right:"left",bottom:"top",top:"bottom"},pK={start:"end",end:"start"};function m0(e,t,n){return Jo(e,jc(t,n))}function If(e,t){return typeof e=="function"?e(t):e}function ll(e){return e.split("-")[0]}function kf(e){return e.split("-")[1]}function TO(e){return e==="x"?"y":"x"}function Rw(e){return e==="y"?"height":"width"}function Uc(e){return["top","bottom"].includes(ll(e))?"y":"x"}function Cw(e){return TO(Uc(e))}function mK(e,t,n){n===void 0&&(n=!1);const i=kf(e),s=Cw(e),a=Rw(s);let l=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=Rm(l)),[l,Rm(l)]}function gK(e){const t=Rm(e);return[g0(e),t,g0(t)]}function g0(e){return e.replace(/start|end/g,t=>pK[t])}function yK(e,t,n){const i=["left","right"],s=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:i:t?i:s;case"left":case"right":return t?a:l;default:return[]}}function vK(e,t,n,i){const s=kf(e);let a=yK(ll(e),n==="start",i);return s&&(a=a.map(l=>l+"-"+s),t&&(a=a.concat(a.map(g0)))),a}function Rm(e){return e.replace(/left|right|bottom|top/g,t=>dK[t])}function _K(e){return{top:0,right:0,bottom:0,left:0,...e}}function SO(e){return typeof e!="number"?_K(e):{top:e,right:e,bottom:e,left:e}}function Cm(e){const{x:t,y:n,width:i,height:s}=e;return{width:i,height:s,top:n,left:t,right:t+i,bottom:n+s,x:t,y:n}}function x1(e,t,n){let{reference:i,floating:s}=e;const a=Uc(t),l=Cw(t),c=Rw(l),h=ll(t),f=a==="y",p=i.x+i.width/2-s.width/2,y=i.y+i.height/2-s.height/2,_=i[c]/2-s[c]/2;let b;switch(h){case"top":b={x:p,y:i.y-s.height};break;case"bottom":b={x:p,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y};break;case"left":b={x:i.x-s.width,y};break;default:b={x:i.x,y:i.y}}switch(kf(t)){case"start":b[l]-=_*(n&&f?-1:1);break;case"end":b[l]+=_*(n&&f?-1:1);break}return b}const bK=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:a=[],platform:l}=n,c=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y}=x1(f,i,h),_=i,b={},T=0;for(let E=0;E<c.length;E++){const{name:S,fn:C}=c[E],{x:j,y:O,data:q,reset:z}=await C({x:p,y,initialPlacement:i,placement:_,strategy:s,middlewareData:b,rects:f,platform:l,elements:{reference:e,floating:t}});p=j??p,y=O??y,b={...b,[S]:{...b[S],...q}},z&&T<=50&&(T++,typeof z=="object"&&(z.placement&&(_=z.placement),z.rects&&(f=z.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):z.rects),{x:p,y}=x1(f,_,h)),E=-1)}return{x:p,y,placement:_,strategy:s,middlewareData:b}};async function EO(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:a,rects:l,elements:c,strategy:h}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:y="floating",altBoundary:_=!1,padding:b=0}=If(t,e),T=SO(b),S=c[_?y==="floating"?"reference":"floating":y],C=Cm(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:h})),j=y==="floating"?{x:i,y:s,width:l.floating.width,height:l.floating.height}:l.reference,O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),q=await(a.isElement==null?void 0:a.isElement(O))?await(a.getScale==null?void 0:a.getScale(O))||{x:1,y:1}:{x:1,y:1},z=Cm(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:j,offsetParent:O,strategy:h}):j);return{top:(C.top-z.top+T.top)/q.y,bottom:(z.bottom-C.bottom+T.bottom)/q.y,left:(C.left-z.left+T.left)/q.x,right:(z.right-C.right+T.right)/q.x}}const wK=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:s,rects:a,platform:l,elements:c,middlewareData:h}=t,{element:f,padding:p=0}=If(e,t)||{};if(f==null)return{};const y=SO(p),_={x:n,y:i},b=Cw(s),T=Rw(b),E=await l.getDimensions(f),S=b==="y",C=S?"top":"left",j=S?"bottom":"right",O=S?"clientHeight":"clientWidth",q=a.reference[T]+a.reference[b]-_[b]-a.floating[T],z=_[b]-a.reference[b],$=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let M=$?$[O]:0;(!M||!await(l.isElement==null?void 0:l.isElement($)))&&(M=c.floating[O]||a.floating[T]);const D=q/2-z/2,k=M/2-E[T]/2-1,U=jc(y[C],k),L=jc(y[j],k),B=U,V=M-E[T]-L,ft=M/2-E[T]/2+D,gt=m0(B,ft,V),K=!h.arrow&&kf(s)!=null&&ft!==gt&&a.reference[T]/2-(ft<B?U:L)-E[T]/2<0,et=K?ft<B?ft-B:ft-V:0;return{[b]:_[b]+et,data:{[b]:gt,centerOffset:ft-gt-et,...K&&{alignmentOffset:et}},reset:K}}}),TK=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:a,rects:l,initialPlacement:c,platform:h,elements:f}=t,{mainAxis:p=!0,crossAxis:y=!0,fallbackPlacements:_,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:E=!0,...S}=If(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const C=ll(s),j=Uc(c),O=ll(c)===c,q=await(h.isRTL==null?void 0:h.isRTL(f.floating)),z=_||(O||!E?[Rm(c)]:gK(c)),$=T!=="none";!_&&$&&z.push(...vK(c,E,T,q));const M=[c,...z],D=await EO(t,S),k=[];let U=((i=a.flip)==null?void 0:i.overflows)||[];if(p&&k.push(D[C]),y){const ft=mK(s,l,q);k.push(D[ft[0]],D[ft[1]])}if(U=[...U,{placement:s,overflows:k}],!k.every(ft=>ft<=0)){var L,B;const ft=(((L=a.flip)==null?void 0:L.index)||0)+1,gt=M[ft];if(gt)return{data:{index:ft,overflows:U},reset:{placement:gt}};let K=(B=U.filter(et=>et.overflows[0]<=0).sort((et,dt)=>et.overflows[1]-dt.overflows[1])[0])==null?void 0:B.placement;if(!K)switch(b){case"bestFit":{var V;const et=(V=U.filter(dt=>{if($){const xt=Uc(dt.placement);return xt===j||xt==="y"}return!0}).map(dt=>[dt.placement,dt.overflows.filter(xt=>xt>0).reduce((xt,H)=>xt+H,0)]).sort((dt,xt)=>dt[1]-xt[1])[0])==null?void 0:V[0];et&&(K=et);break}case"initialPlacement":K=c;break}if(s!==K)return{reset:{placement:K}}}return{}}}};async function SK(e,t){const{placement:n,platform:i,elements:s}=e,a=await(i.isRTL==null?void 0:i.isRTL(s.floating)),l=ll(n),c=kf(n),h=Uc(n)==="y",f=["left","top"].includes(l)?-1:1,p=a&&h?-1:1,y=If(t,e);let{mainAxis:_,crossAxis:b,alignmentAxis:T}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof T=="number"&&(b=c==="end"?T*-1:T),h?{x:b*p,y:_*f}:{x:_*f,y:b*p}}const EK=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:a,placement:l,middlewareData:c}=t,h=await SK(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:s+h.x,y:a+h.y,data:{...h,placement:l}}}}},xK=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:S=>{let{x:C,y:j}=S;return{x:C,y:j}}},...h}=If(e,t),f={x:n,y:i},p=await EO(t,h),y=Uc(ll(s)),_=TO(y);let b=f[_],T=f[y];if(a){const S=_==="y"?"top":"left",C=_==="y"?"bottom":"right",j=b+p[S],O=b-p[C];b=m0(j,b,O)}if(l){const S=y==="y"?"top":"left",C=y==="y"?"bottom":"right",j=T+p[S],O=T-p[C];T=m0(j,T,O)}const E=c.fn({...t,[_]:b,[y]:T});return{...E,data:{x:E.x-n,y:E.y-i,enabled:{[_]:a,[y]:l}}}}}};function hg(){return typeof window<"u"}function tu(e){return xO(e)?(e.nodeName||"").toLowerCase():"#document"}function Ui(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function mr(e){var t;return(t=(xO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xO(e){return hg()?e instanceof Node||e instanceof Ui(e).Node:!1}function Rs(e){return hg()?e instanceof Element||e instanceof Ui(e).Element:!1}function fr(e){return hg()?e instanceof HTMLElement||e instanceof Ui(e).HTMLElement:!1}function A1(e){return!hg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ui(e).ShadowRoot}function Pf(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=Cs(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(s)}function AK(e){return["table","td","th"].includes(tu(e))}function fg(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Dw(e){const t=Iw(),n=Rs(e)?Cs(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function RK(e){let t=Za(e);for(;fr(t)&&!Bc(t);){if(Dw(t))return t;if(fg(t))return null;t=Za(t)}return null}function Iw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bc(e){return["html","body","#document"].includes(tu(e))}function Cs(e){return Ui(e).getComputedStyle(e)}function dg(e){return Rs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Za(e){if(tu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||A1(e)&&e.host||mr(e);return A1(t)?t.host:t}function AO(e){const t=Za(e);return Bc(t)?e.ownerDocument?e.ownerDocument.body:e.body:fr(t)&&Pf(t)?t:AO(t)}function uf(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=AO(e),a=s===((i=e.ownerDocument)==null?void 0:i.body),l=Ui(s);if(a){const c=y0(l);return t.concat(l,l.visualViewport||[],Pf(s)?s:[],c&&n?uf(c):[])}return t.concat(s,uf(s,[],n))}function y0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function RO(e){const t=Cs(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=fr(e),a=s?e.offsetWidth:n,l=s?e.offsetHeight:i,c=Am(n)!==a||Am(i)!==l;return c&&(n=a,i=l),{width:n,height:i,$:c}}function kw(e){return Rs(e)?e:e.contextElement}function Ec(e){const t=kw(e);if(!fr(t))return or(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:a}=RO(t);let l=(a?Am(n.width):n.width)/i,c=(a?Am(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const CK=or(0);function CO(e){const t=Ui(e);return!Iw()||!t.visualViewport?CK:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function DK(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ui(e)?!1:t}function cl(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=kw(e);let l=or(1);t&&(i?Rs(i)&&(l=Ec(i)):l=Ec(e));const c=DK(a,n,i)?CO(a):or(0);let h=(s.left+c.x)/l.x,f=(s.top+c.y)/l.y,p=s.width/l.x,y=s.height/l.y;if(a){const _=Ui(a),b=i&&Rs(i)?Ui(i):i;let T=_,E=y0(T);for(;E&&i&&b!==T;){const S=Ec(E),C=E.getBoundingClientRect(),j=Cs(E),O=C.left+(E.clientLeft+parseFloat(j.paddingLeft))*S.x,q=C.top+(E.clientTop+parseFloat(j.paddingTop))*S.y;h*=S.x,f*=S.y,p*=S.x,y*=S.y,h+=O,f+=q,T=Ui(E),E=y0(T)}}return Cm({width:p,height:y,x:h,y:f})}function Pw(e,t){const n=dg(e).scrollLeft;return t?t.left+n:cl(mr(e)).left+n}function DO(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=i.left+t.scrollLeft-(n?0:Pw(e,i)),a=i.top+t.scrollTop;return{x:s,y:a}}function IK(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const a=s==="fixed",l=mr(i),c=t?fg(t.floating):!1;if(i===l||c&&a)return n;let h={scrollLeft:0,scrollTop:0},f=or(1);const p=or(0),y=fr(i);if((y||!y&&!a)&&((tu(i)!=="body"||Pf(l))&&(h=dg(i)),fr(i))){const b=cl(i);f=Ec(i),p.x=b.x+i.clientLeft,p.y=b.y+i.clientTop}const _=l&&!y&&!a?DO(l,h,!0):or(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-h.scrollLeft*f.x+p.x+_.x,y:n.y*f.y-h.scrollTop*f.y+p.y+_.y}}function kK(e){return Array.from(e.getClientRects())}function PK(e){const t=mr(e),n=dg(e),i=e.ownerDocument.body,s=Jo(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=Jo(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let l=-n.scrollLeft+Pw(e);const c=-n.scrollTop;return Cs(i).direction==="rtl"&&(l+=Jo(t.clientWidth,i.clientWidth)-s),{width:s,height:a,x:l,y:c}}function MK(e,t){const n=Ui(e),i=mr(e),s=n.visualViewport;let a=i.clientWidth,l=i.clientHeight,c=0,h=0;if(s){a=s.width,l=s.height;const f=Iw();(!f||f&&t==="fixed")&&(c=s.offsetLeft,h=s.offsetTop)}return{width:a,height:l,x:c,y:h}}function OK(e,t){const n=cl(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,a=fr(e)?Ec(e):or(1),l=e.clientWidth*a.x,c=e.clientHeight*a.y,h=s*a.x,f=i*a.y;return{width:l,height:c,x:h,y:f}}function R1(e,t,n){let i;if(t==="viewport")i=MK(e,n);else if(t==="document")i=PK(mr(e));else if(Rs(t))i=OK(t,n);else{const s=CO(e);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Cm(i)}function IO(e,t){const n=Za(e);return n===t||!Rs(n)||Bc(n)?!1:Cs(n).position==="fixed"||IO(n,t)}function NK(e,t){const n=t.get(e);if(n)return n;let i=uf(e,[],!1).filter(c=>Rs(c)&&tu(c)!=="body"),s=null;const a=Cs(e).position==="fixed";let l=a?Za(e):e;for(;Rs(l)&&!Bc(l);){const c=Cs(l),h=Dw(l);!h&&c.position==="fixed"&&(s=null),(a?!h&&!s:!h&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Pf(l)&&!h&&IO(e,l))?i=i.filter(p=>p!==l):s=c,l=Za(l)}return t.set(e,i),i}function LK(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const l=[...n==="clippingAncestors"?fg(t)?[]:NK(t,this._c):[].concat(n),i],c=l[0],h=l.reduce((f,p)=>{const y=R1(t,p,s);return f.top=Jo(y.top,f.top),f.right=jc(y.right,f.right),f.bottom=jc(y.bottom,f.bottom),f.left=Jo(y.left,f.left),f},R1(t,c,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function VK(e){const{width:t,height:n}=RO(e);return{width:t,height:n}}function jK(e,t,n){const i=fr(t),s=mr(t),a=n==="fixed",l=cl(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const h=or(0);if(i||!i&&!a)if((tu(t)!=="body"||Pf(s))&&(c=dg(t)),i){const _=cl(t,!0,a,t);h.x=_.x+t.clientLeft,h.y=_.y+t.clientTop}else s&&(h.x=Pw(s));const f=s&&!i&&!a?DO(s,c):or(0),p=l.left+c.scrollLeft-h.x-f.x,y=l.top+c.scrollTop-h.y-f.y;return{x:p,y,width:l.width,height:l.height}}function a_(e){return Cs(e).position==="static"}function C1(e,t){if(!fr(e)||Cs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return mr(e)===n&&(n=n.ownerDocument.body),n}function kO(e,t){const n=Ui(e);if(fg(e))return n;if(!fr(e)){let s=Za(e);for(;s&&!Bc(s);){if(Rs(s)&&!a_(s))return s;s=Za(s)}return n}let i=C1(e,t);for(;i&&AK(i)&&a_(i);)i=C1(i,t);return i&&Bc(i)&&a_(i)&&!Dw(i)?n:i||RK(e)||n}const UK=async function(e){const t=this.getOffsetParent||kO,n=this.getDimensions,i=await n(e.floating);return{reference:jK(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function BK(e){return Cs(e).direction==="rtl"}const zK={convertOffsetParentRelativeRectToViewportRelativeRect:IK,getDocumentElement:mr,getClippingRect:LK,getOffsetParent:kO,getElementRects:UK,getClientRects:kK,getDimensions:VK,getScale:Ec,isElement:Rs,isRTL:BK};function PO(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function FK(e,t){let n=null,i;const s=mr(e);function a(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function l(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),a();const f=e.getBoundingClientRect(),{left:p,top:y,width:_,height:b}=f;if(c||t(),!_||!b)return;const T=bp(y),E=bp(s.clientWidth-(p+_)),S=bp(s.clientHeight-(y+b)),C=bp(p),O={rootMargin:-T+"px "+-E+"px "+-S+"px "+-C+"px",threshold:Jo(0,jc(1,h))||1};let q=!0;function z($){const M=$[0].intersectionRatio;if(M!==h){if(!q)return l();M?l(!1,M):i=setTimeout(()=>{l(!1,1e-7)},1e3)}M===1&&!PO(f,e.getBoundingClientRect())&&l(),q=!1}try{n=new IntersectionObserver(z,{...O,root:s.ownerDocument})}catch{n=new IntersectionObserver(z,O)}n.observe(e)}return l(!0),a}function HK(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,f=kw(e),p=s||a?[...f?uf(f):[],...uf(t)]:[];p.forEach(C=>{s&&C.addEventListener("scroll",n,{passive:!0}),a&&C.addEventListener("resize",n)});const y=f&&c?FK(f,n):null;let _=-1,b=null;l&&(b=new ResizeObserver(C=>{let[j]=C;j&&j.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var O;(O=b)==null||O.observe(t)})),n()}),f&&!h&&b.observe(f),b.observe(t));let T,E=h?cl(e):null;h&&S();function S(){const C=cl(e);E&&!PO(E,C)&&n(),E=C,T=requestAnimationFrame(S)}return n(),()=>{var C;p.forEach(j=>{s&&j.removeEventListener("scroll",n),a&&j.removeEventListener("resize",n)}),y==null||y(),(C=b)==null||C.disconnect(),b=null,h&&cancelAnimationFrame(T)}}const qK=EK,WK=xK,$K=TK,GK=wK,D1=(e,t,n)=>{const i=new Map,s={platform:zK,...n},a={...s.platform,_c:i};return bK(e,t,{...s,platform:a})};var o_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var I1;function KK(){return I1||(I1=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=s(a,i(c)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)t.call(a,c)&&a[c]&&(l=s(l,c));return l}function s(a,l){return l?a?a+" "+l:a+l:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(o_)),o_.exports}var YK=KK();const v0=U1(YK);var k1={};const XK="react-tooltip-core-styles",QK="react-tooltip-base-styles",P1={core:!1,base:!1};function M1({css:e,id:t=QK,type:n="base",ref:i}){var s,a;if(!e||typeof document>"u"||P1[n]||n==="core"&&typeof process<"u"&&(!((s=process==null?void 0:k1)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((a=process==null?void 0:k1)===null||a===void 0)&&a.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=XK),i||(i={});const{insertAt:l}=i;if(document.getElementById(t))return;const c=document.head||document.getElementsByTagName("head")[0],h=document.createElement("style");h.id=t,h.type="text/css",l==="top"&&c.firstChild?c.insertBefore(h,c.firstChild):c.appendChild(h),h.styleSheet?h.styleSheet.cssText=e:h.appendChild(document.createTextNode(e)),P1[n]=!0}const O1=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:i="top",offset:s=10,strategy:a="absolute",middlewares:l=[qK(Number(s)),$K({fallbackAxisSideDirection:"start"}),WK({padding:5})],border:c})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};const h=l;return n?(h.push(GK({element:n,padding:5})),D1(e,t,{placement:i,strategy:a,middleware:h}).then(({x:f,y:p,placement:y,middlewareData:_})=>{var b,T;const E={left:`${f}px`,top:`${p}px`,border:c},{x:S,y:C}=(b=_.arrow)!==null&&b!==void 0?b:{x:0,y:0},j=(T={top:"bottom",right:"left",bottom:"top",left:"right"}[y.split("-")[0]])!==null&&T!==void 0?T:"bottom",O=c&&{borderBottom:c,borderRight:c};let q=0;if(c){const z=`${c}`.match(/(\d+)px/);q=z!=null&&z[1]?Number(z[1]):1}return{tooltipStyles:E,tooltipArrowStyles:{left:S!=null?`${S}px`:"",top:C!=null?`${C}px`:"",right:"",bottom:"",...O,[j]:`-${4+q}px`},place:y}})):D1(e,t,{placement:"bottom",strategy:a,middleware:h}).then(({x:f,y:p,placement:y})=>({tooltipStyles:{left:`${f}px`,top:`${p}px`},tooltipArrowStyles:{},place:y}))},N1=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),L1=(e,t,n)=>{let i=null;const s=function(...a){const l=()=>{i=null};!i&&(e.apply(this,a),i=setTimeout(l,t))};return s.cancel=()=>{i&&(clearTimeout(i),i=null)},s},V1=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",_0=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((s,a)=>_0(s,t[a]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!V1(e)||!V1(t))return e===t;const n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(s=>_0(e[s],t[s]))},ZK=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const i=t.getPropertyValue(n);return i==="auto"||i==="scroll"})},j1=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(ZK(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},JK=typeof window<"u"?P.useLayoutEffect:P.useEffect,ss=e=>{e.current&&(clearTimeout(e.current),e.current=null)},tY="DEFAULT_TOOLTIP_ID",eY={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},nY=P.createContext({getTooltipData:()=>eY});function MO(e=tY){return P.useContext(nY).getTooltipData(e)}var ac={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},l_={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const iY=({forwardRef:e,id:t,className:n,classNameArrow:i,variant:s="dark",anchorId:a,anchorSelect:l,place:c="top",offset:h=10,events:f=["hover"],openOnClick:p=!1,positionStrategy:y="absolute",middlewares:_,wrapper:b,delayShow:T=0,delayHide:E=0,float:S=!1,hidden:C=!1,noArrow:j=!1,clickable:O=!1,closeOnEsc:q=!1,closeOnScroll:z=!1,closeOnResize:$=!1,openEvents:M,closeEvents:D,globalCloseEvents:k,imperativeModeOnly:U,style:L,position:B,afterShow:V,afterHide:ft,disableTooltip:gt,content:K,contentWrapperRef:et,isOpen:dt,defaultIsOpen:xt=!1,setIsOpen:H,activeAnchor:nt,setActiveAnchor:ht,border:lt,opacity:yt,arrowColor:kt,role:St="tooltip"})=>{var me;const Ft=P.useRef(null),He=P.useRef(null),Oe=P.useRef(null),tn=P.useRef(null),ni=P.useRef(null),[Sn,ii]=P.useState({tooltipStyles:{},tooltipArrowStyles:{},place:c}),[De,fs]=P.useState(!1),[qe,Ei]=P.useState(!1),[fe,si]=P.useState(null),ri=P.useRef(!1),ds=P.useRef(null),{anchorRefs:hi,setActiveAnchor:Bi}=MO(t),Hn=P.useRef(!1),[it,pt]=P.useState([]),Ot=P.useRef(!1),Rt=p||f.includes("click"),Tt=Rt||(M==null?void 0:M.click)||(M==null?void 0:M.dblclick)||(M==null?void 0:M.mousedown),Lt=M?{...M}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!M&&Rt&&Object.assign(Lt,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Wt=D?{...D}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!D&&Rt&&Object.assign(Wt,{mouseleave:!1,blur:!1,mouseout:!1});const qt=k?{...k}:{escape:q||!1,scroll:z||!1,resize:$||!1,clickOutsideAnchor:Tt||!1};U&&(Object.assign(Lt,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Wt,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(qt,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),JK(()=>(Ot.current=!0,()=>{Ot.current=!1}),[]);const Vt=ut=>{Ot.current&&(ut&&Ei(!0),setTimeout(()=>{Ot.current&&(H==null||H(ut),dt===void 0&&fs(ut))},10))};P.useEffect(()=>{if(dt===void 0)return()=>null;dt&&Ei(!0);const ut=setTimeout(()=>{fs(dt)},10);return()=>{clearTimeout(ut)}},[dt]),P.useEffect(()=>{if(De!==ri.current)if(ss(ni),ri.current=De,De)V==null||V();else{const ut=(_t=>{const bt=_t.match(/^([\d.]+)(ms|s)$/);if(!bt)return 0;const[,de,Ye]=bt;return Number(de)*(Ye==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));ni.current=setTimeout(()=>{Ei(!1),si(null),ft==null||ft()},ut+25)}},[De]);const Kt=ut=>{ii(_t=>_0(_t,ut)?_t:ut)},Ue=(ut=T)=>{ss(Oe),qe?Vt(!0):Oe.current=setTimeout(()=>{Vt(!0)},ut)},pn=(ut=E)=>{ss(tn),tn.current=setTimeout(()=>{Hn.current||Vt(!1)},ut)},fi=ut=>{var _t;if(!ut)return;const bt=(_t=ut.currentTarget)!==null&&_t!==void 0?_t:ut.target;if(!(bt!=null&&bt.isConnected))return ht(null),void Bi({current:null});T?Ue():Vt(!0),ht(bt),Bi({current:bt}),ss(tn)},ai=()=>{O?pn(E||100):E?pn():Vt(!1),ss(Oe)},We=({x:ut,y:_t})=>{var bt;const de={getBoundingClientRect:()=>({x:ut,y:_t,width:0,height:0,top:_t,left:ut,right:ut,bottom:_t})};O1({place:(bt=fe==null?void 0:fe.place)!==null&&bt!==void 0?bt:c,offset:h,elementReference:de,tooltipReference:Ft.current,tooltipArrowReference:He.current,strategy:y,middlewares:_,border:lt}).then(Ye=>{Kt(Ye)})},Re=ut=>{if(!ut)return;const _t=ut,bt={x:_t.clientX,y:_t.clientY};We(bt),ds.current=bt},Ne=ut=>{var _t;if(!De)return;const bt=ut.target;bt.isConnected&&(!((_t=Ft.current)===null||_t===void 0)&&_t.contains(bt)||[document.querySelector(`[id='${a}']`),...it].some(de=>de==null?void 0:de.contains(bt))||(Vt(!1),ss(Oe)))},$e=L1(fi,50),ce=L1(ai,50),Ge=ut=>{ce.cancel(),$e(ut)},Et=()=>{$e.cancel(),ce()},$t=P.useCallback(()=>{var ut,_t;const bt=(ut=fe==null?void 0:fe.position)!==null&&ut!==void 0?ut:B;bt?We(bt):S?ds.current&&We(ds.current):nt!=null&&nt.isConnected&&O1({place:(_t=fe==null?void 0:fe.place)!==null&&_t!==void 0?_t:c,offset:h,elementReference:nt,tooltipReference:Ft.current,tooltipArrowReference:He.current,strategy:y,middlewares:_,border:lt}).then(de=>{Ot.current&&Kt(de)})},[De,nt,K,L,c,fe==null?void 0:fe.place,h,y,B,fe==null?void 0:fe.position,S]);P.useEffect(()=>{var ut,_t;const bt=new Set(hi);it.forEach(Yt=>{gt!=null&&gt(Yt)||bt.add({current:Yt})});const de=document.querySelector(`[id='${a}']`);de&&!(gt!=null&&gt(de))&&bt.add({current:de});const Ye=()=>{Vt(!1)},di=j1(nt),mn=j1(Ft.current);qt.scroll&&(window.addEventListener("scroll",Ye),di==null||di.addEventListener("scroll",Ye),mn==null||mn.addEventListener("scroll",Ye));let on=null;qt.resize?window.addEventListener("resize",Ye):nt&&Ft.current&&(on=HK(nt,Ft.current,$t,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const ln=Yt=>{Yt.key==="Escape"&&Vt(!1)};qt.escape&&window.addEventListener("keydown",ln),qt.clickOutsideAnchor&&window.addEventListener("click",Ne);const ue=[],qn=Yt=>!!(Yt!=null&&Yt.target&&(nt!=null&&nt.contains(Yt.target))),Fi=Yt=>{De&&qn(Yt)||fi(Yt)},Hi=Yt=>{De&&qn(Yt)&&ai()},En=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Le=["click","dblclick","mousedown","mouseup"];Object.entries(Lt).forEach(([Yt,mi])=>{mi&&(En.includes(Yt)?ue.push({event:Yt,listener:Ge}):Le.includes(Yt)&&ue.push({event:Yt,listener:Fi}))}),Object.entries(Wt).forEach(([Yt,mi])=>{mi&&(En.includes(Yt)?ue.push({event:Yt,listener:Et}):Le.includes(Yt)&&ue.push({event:Yt,listener:Hi}))}),S&&ue.push({event:"pointermove",listener:Re});const na=()=>{Hn.current=!0},gr=()=>{Hn.current=!1,ai()},pi=O&&(Wt.mouseout||Wt.mouseleave);return pi&&((ut=Ft.current)===null||ut===void 0||ut.addEventListener("mouseover",na),(_t=Ft.current)===null||_t===void 0||_t.addEventListener("mouseout",gr)),ue.forEach(({event:Yt,listener:mi})=>{bt.forEach(ia=>{var xi;(xi=ia.current)===null||xi===void 0||xi.addEventListener(Yt,mi)})}),()=>{var Yt,mi;qt.scroll&&(window.removeEventListener("scroll",Ye),di==null||di.removeEventListener("scroll",Ye),mn==null||mn.removeEventListener("scroll",Ye)),qt.resize?window.removeEventListener("resize",Ye):on==null||on(),qt.clickOutsideAnchor&&window.removeEventListener("click",Ne),qt.escape&&window.removeEventListener("keydown",ln),pi&&((Yt=Ft.current)===null||Yt===void 0||Yt.removeEventListener("mouseover",na),(mi=Ft.current)===null||mi===void 0||mi.removeEventListener("mouseout",gr)),ue.forEach(({event:ia,listener:xi})=>{bt.forEach(yl=>{var qi;(qi=yl.current)===null||qi===void 0||qi.removeEventListener(ia,xi)})})}},[nt,$t,qe,hi,it,M,D,k,Rt,T,E]),P.useEffect(()=>{var ut,_t;let bt=(_t=(ut=fe==null?void 0:fe.anchorSelect)!==null&&ut!==void 0?ut:l)!==null&&_t!==void 0?_t:"";!bt&&t&&(bt=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const de=new MutationObserver(Ye=>{const di=[],mn=[];Ye.forEach(on=>{if(on.type==="attributes"&&on.attributeName==="data-tooltip-id"&&(on.target.getAttribute("data-tooltip-id")===t?di.push(on.target):on.oldValue===t&&mn.push(on.target)),on.type==="childList"){if(nt){const ln=[...on.removedNodes].filter(ue=>ue.nodeType===1);if(bt)try{mn.push(...ln.filter(ue=>ue.matches(bt))),mn.push(...ln.flatMap(ue=>[...ue.querySelectorAll(bt)]))}catch{}ln.some(ue=>{var qn;return!!(!((qn=ue==null?void 0:ue.contains)===null||qn===void 0)&&qn.call(ue,nt))&&(Ei(!1),Vt(!1),ht(null),ss(Oe),ss(tn),!0)})}if(bt)try{const ln=[...on.addedNodes].filter(ue=>ue.nodeType===1);di.push(...ln.filter(ue=>ue.matches(bt))),di.push(...ln.flatMap(ue=>[...ue.querySelectorAll(bt)]))}catch{}}}),(di.length||mn.length)&&pt(on=>[...on.filter(ln=>!mn.includes(ln)),...di])});return de.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{de.disconnect()}},[t,l,fe==null?void 0:fe.anchorSelect,nt]),P.useEffect(()=>{$t()},[$t]),P.useEffect(()=>{if(!(et!=null&&et.current))return()=>null;const ut=new ResizeObserver(()=>{setTimeout(()=>$t())});return ut.observe(et.current),()=>{ut.disconnect()}},[K,et==null?void 0:et.current]),P.useEffect(()=>{var ut;const _t=document.querySelector(`[id='${a}']`),bt=[...it,_t];nt&&bt.includes(nt)||ht((ut=it[0])!==null&&ut!==void 0?ut:_t)},[a,it,nt]),P.useEffect(()=>(xt&&Vt(!0),()=>{ss(Oe),ss(tn)}),[]),P.useEffect(()=>{var ut;let _t=(ut=fe==null?void 0:fe.anchorSelect)!==null&&ut!==void 0?ut:l;if(!_t&&t&&(_t=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),_t)try{const bt=Array.from(document.querySelectorAll(_t));pt(bt)}catch{pt([])}},[t,l,fe==null?void 0:fe.anchorSelect]),P.useEffect(()=>{Oe.current&&(ss(Oe),Ue(T))},[T]);const Ke=(me=fe==null?void 0:fe.content)!==null&&me!==void 0?me:K,zi=De&&Object.keys(Sn.tooltipStyles).length>0;return P.useImperativeHandle(e,()=>({open:ut=>{if(ut!=null&&ut.anchorSelect)try{document.querySelector(ut.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${ut.anchorSelect}" is not a valid CSS selector`)}si(ut??null),ut!=null&&ut.delay?Ue(ut.delay):Vt(!0)},close:ut=>{ut!=null&&ut.delay?pn(ut.delay):Vt(!1)},activeAnchor:nt,place:Sn.place,isOpen:!!(qe&&!C&&Ke&&zi)})),qe&&!C&&Ke?ke.createElement(b,{id:t,role:St,className:v0("react-tooltip",ac.tooltip,l_.tooltip,l_[s],n,`react-tooltip__place-${Sn.place}`,ac[zi?"show":"closing"],zi?"react-tooltip__show":"react-tooltip__closing",y==="fixed"&&ac.fixed,O&&ac.clickable),onTransitionEnd:ut=>{ss(ni),De||ut.propertyName!=="opacity"||(Ei(!1),si(null),ft==null||ft())},style:{...L,...Sn.tooltipStyles,opacity:yt!==void 0&&zi?yt:void 0},ref:Ft},Ke,ke.createElement(b,{className:v0("react-tooltip-arrow",ac.arrow,l_.arrow,i,j&&ac.noArrow),style:{...Sn.tooltipArrowStyles,background:kt?`linear-gradient(to right bottom, transparent 50%, ${kt} 50%)`:void 0},ref:He})):null},sY=({content:e})=>ke.createElement("span",{dangerouslySetInnerHTML:{__html:e}});ke.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:i,html:s,render:a,className:l,classNameArrow:c,variant:h="dark",place:f="top",offset:p=10,wrapper:y="div",children:_=null,events:b=["hover"],openOnClick:T=!1,positionStrategy:E="absolute",middlewares:S,delayShow:C=0,delayHide:j=0,float:O=!1,hidden:q=!1,noArrow:z=!1,clickable:$=!1,closeOnEsc:M=!1,closeOnScroll:D=!1,closeOnResize:k=!1,openEvents:U,closeEvents:L,globalCloseEvents:B,imperativeModeOnly:V=!1,style:ft,position:gt,isOpen:K,defaultIsOpen:et=!1,disableStyleInjection:dt=!1,border:xt,opacity:H,arrowColor:nt,setIsOpen:ht,afterShow:lt,afterHide:yt,disableTooltip:kt,role:St="tooltip"},me)=>{const[Ft,He]=P.useState(i),[Oe,tn]=P.useState(s),[ni,Sn]=P.useState(f),[ii,De]=P.useState(h),[fs,qe]=P.useState(p),[Ei,fe]=P.useState(C),[si,ri]=P.useState(j),[ds,hi]=P.useState(O),[Bi,Hn]=P.useState(q),[it,pt]=P.useState(y),[Ot,Rt]=P.useState(b),[Tt,Lt]=P.useState(E),[Wt,qt]=P.useState(null),[Vt,Kt]=P.useState(null),Ue=P.useRef(dt),{anchorRefs:pn,activeAnchor:fi}=MO(e),ai=ce=>ce==null?void 0:ce.getAttributeNames().reduce((Ge,Et)=>{var $t;return Et.startsWith("data-tooltip-")&&(Ge[Et.replace(/^data-tooltip-/,"")]=($t=ce==null?void 0:ce.getAttribute(Et))!==null&&$t!==void 0?$t:null),Ge},{}),We=ce=>{const Ge={place:Et=>{var $t;Sn(($t=Et)!==null&&$t!==void 0?$t:f)},content:Et=>{He(Et??i)},html:Et=>{tn(Et??s)},variant:Et=>{var $t;De(($t=Et)!==null&&$t!==void 0?$t:h)},offset:Et=>{qe(Et===null?p:Number(Et))},wrapper:Et=>{var $t;pt(($t=Et)!==null&&$t!==void 0?$t:y)},events:Et=>{const $t=Et==null?void 0:Et.split(" ");Rt($t??b)},"position-strategy":Et=>{var $t;Lt(($t=Et)!==null&&$t!==void 0?$t:E)},"delay-show":Et=>{fe(Et===null?C:Number(Et))},"delay-hide":Et=>{ri(Et===null?j:Number(Et))},float:Et=>{hi(Et===null?O:Et==="true")},hidden:Et=>{Hn(Et===null?q:Et==="true")},"class-name":Et=>{qt(Et)}};Object.values(Ge).forEach(Et=>Et(null)),Object.entries(ce).forEach(([Et,$t])=>{var Ke;(Ke=Ge[Et])===null||Ke===void 0||Ke.call(Ge,$t)})};P.useEffect(()=>{He(i)},[i]),P.useEffect(()=>{tn(s)},[s]),P.useEffect(()=>{Sn(f)},[f]),P.useEffect(()=>{De(h)},[h]),P.useEffect(()=>{qe(p)},[p]),P.useEffect(()=>{fe(C)},[C]),P.useEffect(()=>{ri(j)},[j]),P.useEffect(()=>{hi(O)},[O]),P.useEffect(()=>{Hn(q)},[q]),P.useEffect(()=>{Lt(E)},[E]),P.useEffect(()=>{Ue.current!==dt&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[dt]),P.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:dt==="core",disableBase:dt}}))},[]),P.useEffect(()=>{var ce;const Ge=new Set(pn);let Et=n;if(!Et&&e&&(Et=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Et)try{document.querySelectorAll(Et).forEach(_t=>{Ge.add({current:_t})})}catch{console.warn(`[react-tooltip] "${Et}" is not a valid CSS selector`)}const $t=document.querySelector(`[id='${t}']`);if($t&&Ge.add({current:$t}),!Ge.size)return()=>null;const Ke=(ce=Vt??$t)!==null&&ce!==void 0?ce:fi.current,zi=new MutationObserver(_t=>{_t.forEach(bt=>{var de;if(!Ke||bt.type!=="attributes"||!(!((de=bt.attributeName)===null||de===void 0)&&de.startsWith("data-tooltip-")))return;const Ye=ai(Ke);We(Ye)})}),ut={attributes:!0,childList:!1,subtree:!1};if(Ke){const _t=ai(Ke);We(_t),zi.observe(Ke,ut)}return()=>{zi.disconnect()}},[pn,fi,Vt,t,n]),P.useEffect(()=>{ft!=null&&ft.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),xt&&!N1("border",`${xt}`)&&console.warn(`[react-tooltip] "${xt}" is not a valid \`border\`.`),ft!=null&&ft.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),H&&!N1("opacity",`${H}`)&&console.warn(`[react-tooltip] "${H}" is not a valid \`opacity\`.`)},[]);let Re=_;const Ne=P.useRef(null);if(a){const ce=a({content:(Vt==null?void 0:Vt.getAttribute("data-tooltip-content"))||Ft||null,activeAnchor:Vt});Re=ce?ke.createElement("div",{ref:Ne,className:"react-tooltip-content-wrapper"},ce):null}else Ft&&(Re=Ft);Oe&&(Re=ke.createElement(sY,{content:Oe}));const $e={forwardRef:me,id:e,anchorId:t,anchorSelect:n,className:v0(l,Wt),classNameArrow:c,content:Re,contentWrapperRef:Ne,place:ni,variant:ii,offset:fs,wrapper:it,events:Ot,openOnClick:T,positionStrategy:Tt,middlewares:S,delayShow:Ei,delayHide:si,float:ds,hidden:Bi,noArrow:z,clickable:$,closeOnEsc:M,closeOnScroll:D,closeOnResize:k,openEvents:U,closeEvents:L,globalCloseEvents:B,imperativeModeOnly:V,style:ft,position:gt,isOpen:K,defaultIsOpen:et,border:xt,opacity:H,arrowColor:nt,setIsOpen:ht,afterShow:lt,afterHide:yt,disableTooltip:kt,activeAnchor:Vt,setActiveAnchor:ce=>Kt(ce),role:St};return ke.createElement(iY,{...$e})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||M1({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||M1({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});Xc.register(Zh,Jh,Sc,Qs,Vp,zb,Fb,Bb,Cq);const rY=()=>{const e=Is(),[t,n]=P.useState(!0),[i,s]=P.useState(null),[a,l]=P.useState([]),[c,h]=P.useState({totalWorkouts:0,totalExercises:0,totalSets:0,totalWeight:0}),[f,p]=P.useState([]),[y,_]=P.useState(null),[b,T]=P.useState(null),[E,S]=P.useState(!1),[C,j]=P.useState(""),[O,q]=P.useState("all"),z=P.useRef(null),[$,M]=P.useState(new Date().getFullYear()),[D,k]=P.useState("3months"),[U,L]=P.useState([]),[B,V]=P.useState([]),[ft,gt]=P.useState("range"),[K,et]=P.useState("1-5"),[dt,xt]=P.useState(5),[H,nt]=P.useState(!1),ht=P.useRef(null),[lt,yt]=P.useState([]),[kt,St]=P.useState([]),[me,Ft]=P.useState("3m"),[He,Oe]=P.useState([]),[tn,ni]=P.useState([]);P.useEffect(()=>{(async()=>{try{n(!0);const pt=Bn.currentUser;if(!pt){s("You must be logged in to view progress data"),n(!1);return}const Ot=xs(As,"users",pt.uid),Rt=await hr(Ot);if(Rt.exists()){const Lt=Rt.data().workouts||[];l(Lt),Sn(Lt),fs(Lt)}else l([]),p([]),h({totalWorkouts:0,totalExercises:0,totalSets:0,totalWeight:0});n(!1)}catch(pt){console.error("Error fetching workout data:",pt),s("Failed to load progress data"),n(!1)}})()},[]);const Sn=it=>{var fi,ai;if(!it.length)return h({totalWorkouts:0,totalExercises:0,totalSets:0,totalWeight:0});const pt=[...it].sort((We,Re)=>{const Ne=$e=>{if(typeof $e=="string"&&$e.match(/^\d{4}-\d{2}-\d{2}$/)){const[ce,Ge,Et]=$e.split("-").map(Number);return new Date(ce,Ge-1,Et)}return typeof $e=="object"&&$e.seconds?new Date($e.seconds*1e3):new Date($e)};return Ne(We.date)-Ne(Re.date)}),Ot=it.length,Rt=new Set;let Tt=0,Lt=0;it.forEach(We=>{We.exercises&&Array.isArray(We.exercises)&&We.exercises.forEach(Re=>{var Ne;(Ne=Re.name)!=null&&Ne.trim()&&Rt.add(Re.name.trim().toLowerCase()),Re.sets&&Array.isArray(Re.sets)&&(Tt+=Re.sets.length,Re.sets.forEach($e=>{const ce=parseInt($e.reps)||0,Ge=$e.weight==="bodyweight"?155:parseInt($e.weight)||0;Lt+=ce*Ge}))})});const Wt=[...pt].reverse();(fi=Wt[0])!=null&&fi.date&&ii(Wt[0].date);const qt=new Date;if(qt.setDate(qt.getDate()-28),pt.length===1){h({totalWorkouts:Ot,totalExercises:Rt.size,totalSets:Tt,totalWeight:Lt});return}const Vt=(ai=pt[0].date)!=null&&ai.seconds?new Date(pt[0].date.seconds*1e3):new Date(pt[0].date),Kt=Math.max(1,Math.ceil((new Date-Vt)/(7*24*60*60*1e3))),Ue=Math.min(4,Kt);+(Wt.filter(We=>{var Ne;const Re=(Ne=We.date)!=null&&Ne.seconds?new Date(We.date.seconds*1e3):new Date(We.date);return Kt>=4?Re>=qt:!0}).length/Ue).toFixed(1),h({totalWorkouts:Ot,totalExercises:Rt.size,totalSets:Tt,totalWeight:Lt})},ii=it=>{if(!it)return"Unknown Date";if(typeof it=="object"&&it.seconds){const pt=new Date(it.seconds*1e3);return`${pt.getMonth()+1}/${pt.getDate()}/${pt.getFullYear()}`}if(typeof it=="string"&&it.match(/^\d{4}-\d{2}-\d{2}$/)){const[pt,Ot,Rt]=it.split("-");return`${Ot}/${Rt}/${pt}`}try{const pt=new Date(it);return`${pt.getMonth()+1}/${pt.getDate()}/${pt.getFullYear()}`}catch{return it}},De=it=>{if(typeof it=="object"&&it.seconds)return new Date(it.seconds*1e3);if(typeof it=="string"&&it.match(/^\d{4}-\d{2}-\d{2}$/)){const[pt,Ot,Rt]=it.split("-").map(Number);return new Date(pt,Ot-1,Rt)}return new Date(it)},fs=it=>{const pt=new Map;it.forEach(Rt=>{Rt.exercises&&Array.isArray(Rt.exercises)&&Rt.exercises.forEach(Tt=>{var Wt,qt;const Lt=(Wt=Tt.name)==null?void 0:Wt.trim();Lt&&(!pt.has(Lt)||Tt.sets.length>pt.get(Lt).setCount)&&pt.set(Lt,{name:Lt,setCount:((qt=Tt.sets)==null?void 0:qt.length)||0,firstDate:pt.has(Lt)?pt.get(Lt).firstDate:new Date(Rt.date)})})});const Ot=Array.from(pt.values()).sort((Rt,Tt)=>Rt.name.localeCompare(Tt.name));p(Ot)},qe=it=>{it==="none"?_(null):(_({...it}),gt("all")),S(!1),j("")};P.useEffect(()=>{const it=pt=>{z.current&&!z.current.contains(pt.target)&&S(!1),ht.current&&!ht.current.contains(pt.target)&&nt(!1)};return document.addEventListener("mousedown",it),()=>{document.removeEventListener("mousedown",it)}},[]);const Ei=()=>{if(!y||!a.length)return;const it=[];[...a].sort((Ot,Rt)=>De(Ot.date)-De(Rt.date)).forEach(Ot=>{if(!Ot.exercises||!Array.isArray(Ot.exercises))return;const Rt=Ot.exercises.find(Wt=>{var qt;return((qt=Wt.name)==null?void 0:qt.trim().toLowerCase())===y.name.toLowerCase()});if(!Rt||!Rt.sets||!Array.isArray(Rt.sets))return;const Tt=Rt.sets.filter(Wt=>{const qt=parseInt(Wt.reps)||0;if(ft==="all")return!0;if(ft==="range"){const[Vt,Kt]=K.split("-").map(Number);return qt>=Vt&&qt<=Kt}else return qt===parseInt(ft)});if(Tt.length===0)return;const Lt=ii(Ot.date);Tt.forEach((Wt,qt)=>{const Vt=Wt.weight==="bodyweight"?155:parseInt(Wt.weight)||0,Kt=parseInt(Wt.reps)||0;Vt>0&&it.push({date:Lt,weight:Vt,reps:Kt,setLabel:`Set ${qt+1}`,rawDate:Ot.date})})}),it.sort((Ot,Rt)=>De(Ot.rawDate)-De(Rt.rawDate)),V(it)},fe=()=>{if(!y||!a.length){yt([]);return}const it=new Set,pt={};a.forEach(Tt=>{if(!Tt.exercises||!Array.isArray(Tt.exercises))return;const Lt=Tt.exercises.find(Kt=>{var Ue;return((Ue=Kt.name)==null?void 0:Ue.trim().toLowerCase())===y.name.toLowerCase()});if(!Lt)return;let Wt;if(typeof Tt.date=="object"&&Tt.date.seconds)Wt=new Date(Tt.date.seconds*1e3);else if(typeof Tt.date=="string"&&Tt.date.match(/^\d{4}-\d{2}-\d{2}$/)){const[Kt,Ue,pn]=Tt.date.split("-").map(Number);Wt=new Date(Kt,Ue-1,pn)}else Wt=new Date(Tt.date);const qt=Wt.getFullYear();it.add(qt);const Vt=`${qt}-${String(Wt.getMonth()+1).padStart(2,"0")}-${String(Wt.getDate()).padStart(2,"0")}`;pt[Vt]||(pt[Vt]=0),Lt.sets&&Array.isArray(Lt.sets)?pt[Vt]+=Lt.sets.length:pt[Vt]+=1});const Ot=Array.from(it).sort();St(Ot),Ot.length>0&&!Ot.includes($)&&M(Ot[Ot.length-1]);const Rt=Object.entries(pt).filter(([Tt])=>Tt.startsWith($.toString())).map(([Tt,Lt])=>({date:Tt,count:Lt}));yt(Rt)};P.useEffect(()=>{y&&a.length>0?(Ei(),fe(),si()):(V([]),yt([]),Oe([]))},[y,a,ft,K,dt]),P.useEffect(()=>{y&&a.length>0&&fe()},[$]),P.useEffect(()=>{const it=C?f.filter(pt=>pt.name.toLowerCase().includes(C.toLowerCase())):f;ni(it)},[C,f]);const si=()=>{if(!y||!a.length){Oe([]);return}const pt=(()=>{const Tt=new Date;switch(me){case"1m":return new Date(Tt.setMonth(Tt.getMonth()-1));case"3m":return new Date(Tt.setMonth(Tt.getMonth()-3));case"6m":return new Date(Tt.setMonth(Tt.getMonth()-6));case"1y":return new Date(Tt.setFullYear(Tt.getFullYear()-1));case"all":return new Date(0);default:return new Date(Tt.setMonth(Tt.getMonth()-3))}})(),Rt=a.filter(Tt=>{var qt;let Lt;if(typeof Tt.date=="object"&&Tt.date.seconds)Lt=new Date(Tt.date.seconds*1e3);else if(typeof Tt.date=="string"&&Tt.date.match(/^\d{4}-\d{2}-\d{2}$/)){const[Vt,Kt,Ue]=Tt.date.split("-").map(Number);Lt=new Date(Vt,Kt-1,Ue)}else Lt=new Date(Tt.date);return((qt=Tt.exercises)==null?void 0:qt.some(Vt=>{var Kt;return((Kt=Vt.name)==null?void 0:Kt.trim().toLowerCase())===y.name.toLowerCase()}))&&Lt>=pt}).sort((Tt,Lt)=>De(Tt.date)-De(Lt.date)).map(Tt=>{const Lt=Tt.exercises.find(Vt=>{var Kt;return((Kt=Vt.name)==null?void 0:Kt.trim().toLowerCase())===y.name.toLowerCase()});let Wt=0;return Lt!=null&&Lt.sets&&Array.isArray(Lt.sets)&&(Wt=Lt.sets.reduce((Vt,Kt)=>{const Ue=Kt.weight==="bodyweight"?155:parseInt(Kt.weight)||0,pn=parseInt(Kt.reps)||0;return Vt+Ue*pn},0)),{date:ii(Tt.date),volume:Wt,rawDate:Tt.date}});Oe(Rt)};P.useEffect(()=>{y&&a.length>0&&si()},[me,D,a,y]);const ri=()=>{e("/progress-tracker")},ds=it=>{M(it)},hi=it=>!it||!it.count?"color-empty":it.count===1?"color-scale-1":it.count<=3?"color-scale-2":it.count<=5?"color-scale-3":"color-scale-4",Bi=it=>typeof it=="string"&&it.match(/^\d{4}-\d{2}-\d{2}$/)?new Date(it).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):it,Hn=it=>{Ft(it)};return t?R.jsx(Jc,{}):i?R.jsx("div",{className:"progress-page-container error",children:i}):R.jsxs(Zo.div,{className:"progress-page-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[R.jsxs("div",{className:"progress-page-header",children:[R.jsxs("button",{className:"back-button",onClick:ri,children:[R.jsx(xw,{size:20,style:{marginRight:"8px"}}),"Back"]}),R.jsx("h2",{children:"Strength Progress"})]}),R.jsxs("div",{className:"summary-metrics",children:[R.jsxs("div",{className:"metric-card",children:[R.jsx("h3",{children:"Total Workouts"}),R.jsx("div",{className:"metric-value",children:c.totalWorkouts}),R.jsx("div",{className:"metric-label",children:"workouts"})]}),R.jsxs("div",{className:"metric-card",children:[R.jsx("h3",{children:"Total Exercises"}),R.jsx("div",{className:"metric-value",children:c.totalExercises}),R.jsx("div",{className:"metric-label",children:"exercises"})]}),R.jsxs("div",{className:"metric-card",children:[R.jsx("h3",{children:"Total Sets"}),R.jsx("div",{className:"metric-value",children:c.totalSets}),R.jsx("div",{className:"metric-label",children:"sets"})]}),R.jsxs("div",{className:"metric-card",children:[R.jsx("h3",{children:"Total Weight"}),R.jsx("div",{className:"metric-value",children:c.totalWeight.toLocaleString()}),R.jsx("div",{className:"metric-label",children:"pounds lifted"})]})]}),R.jsxs("div",{className:"exercise-tracking-section",children:[R.jsx("h3",{className:"section-title",children:"Exercise Progress Tracking"}),R.jsx("p",{className:"selection-help",children:"Select an exercise to view detailed progress over time, including max weights and workout frequency."}),R.jsxs("div",{className:"exercise-dropdown-container",ref:z,children:[R.jsxs("div",{className:"exercise-dropdown-header",onClick:()=>S(!E),children:[R.jsx("span",{className:"selected-exercise-name",children:y?y.name:"Select an exercise"}),R.jsx("span",{className:"dropdown-arrow",style:{transform:E?"rotate(180deg)":"rotate(0deg)"},children:""})]}),E&&R.jsxs("div",{className:"exercise-dropdown-menu",children:[R.jsx("div",{className:"exercise-search-container",children:R.jsx("input",{type:"text",className:"exercise-search-input",placeholder:"Search exercises...",value:C,onChange:it=>j(it.target.value)})}),R.jsx("div",{className:"exercise-dropdown-items",children:tn.length>0?tn.map((it,pt)=>R.jsx("div",{className:`exercise-dropdown-item ${y===it?"selected":""}`,onClick:()=>qe(it),children:it.name},pt)):R.jsx("div",{className:"no-exercise-matches",children:"No matches found"})})]})]}),y?R.jsxs("div",{className:"exercise-details",children:[R.jsx("h3",{className:"exercise-title",children:y.name}),R.jsxs("div",{className:"charts-container",style:{flexDirection:"column"},children:[R.jsxs("div",{className:"exercise-chart-container",style:{width:"100%",marginBottom:"30px"},children:[R.jsxs("div",{className:"filter-controls",children:[R.jsxs("h4",{className:"chart-title",children:["Weight Progression",R.jsx("span",{className:`filter-badge ${ft==="all"?"all-reps":""}`,children:ft==="all"?"All Reps":`${ft} Reps`})]}),R.jsxs("div",{className:"filter-dropdown",children:[R.jsxs("div",{className:"filter-dropdown-header",onClick:()=>nt(!H),children:["Filter by Reps",R.jsx("span",{className:"dropdown-arrow",children:""})]}),H&&R.jsx("div",{className:"filter-dropdown-content",ref:ht,children:R.jsxs("div",{className:"filter-options",children:[R.jsxs("div",{className:"filter-column",children:[R.jsx("h4",{children:"Rep Ranges"}),R.jsxs("ul",{children:[R.jsx("li",{className:ft==="all"?"active":"",onClick:()=>{gt("all"),nt(!1)},children:"All Reps"}),["1-5","5-8","5-10","8-10","8-12","10-12","10-15","15-20"].map(it=>R.jsxs("li",{className:ft==="range"&&K===it?"active":"",onClick:()=>{gt("range"),et(it),nt(!1)},children:[it," Reps"]},it))]})]}),R.jsxs("div",{className:"filter-column",children:[R.jsx("h4",{children:"Specific Reps"}),R.jsx("ul",{className:"specific-reps-list",children:[1,2,3,4,5,6,7,8,9,10,12,15].map(it=>R.jsx("li",{className:ft===it.toString()?"active":"",onClick:()=>{gt(it.toString()),nt(!1)},children:it},it))})]})]})})]})]}),B.length>0?R.jsx("div",{style:{height:"280px"},children:R.jsx(Hb,{data:{labels:B.map(it=>it.date),datasets:[{label:"Weight (lbs)",data:B.map(it=>it.weight),borderColor:"rgba(255, 87, 34, 1)",backgroundColor:"rgba(255, 87, 34, 0.7)",fill:!1,tension:.3}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{boxWidth:15,font:{size:13}}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#333",bodyColor:"#555",bodyFont:{size:14},padding:12,cornerRadius:6,borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,displayColors:!1,callbacks:{title:function(it){return it[0].label},label:function(it){const pt=B[it.dataIndex];return[`Weight: ${pt.weight} lbs`,`Reps: ${pt.reps}`,`Set: ${pt.setLabel}`]}}}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:45}},y:{beginAtZero:!1,title:{display:!0,text:"Weight (lbs)",color:"#666",font:{size:13}},grid:{color:"rgba(0, 0, 0, 0.05)"}}},elements:{line:{tension:.3}}}})}):R.jsxs("div",{className:"no-chart-data",children:[R.jsx("p",{children:"No data available for the selected filters"}),R.jsx("p",{children:"Try selecting a different rep range or exercise"})]})]}),R.jsxs("div",{className:"exercise-volume-container",style:{width:"100%"},children:[R.jsxs("div",{className:"volume-header",children:[R.jsx("h3",{children:"Volume Progress"}),R.jsxs("div",{className:"date-range-selector",children:[R.jsx("button",{className:`range-button ${me==="1m"?"active":""}`,onClick:()=>Hn("1m"),children:"1 Month"}),R.jsx("button",{className:`range-button ${me==="3m"?"active":""}`,onClick:()=>Hn("3m"),children:"3 Months"}),R.jsx("button",{className:`range-button ${me==="6m"?"active":""}`,onClick:()=>Hn("6m"),children:"6 Months"}),R.jsx("button",{className:`range-button ${me==="1y"?"active":""}`,onClick:()=>Hn("1y"),children:"1 Year"})]})]}),R.jsx("p",{className:"volume-description",children:"Total workout volume (weight  reps) over time. Higher volume generally indicates increased work capacity and strength endurance."}),He&&He.length>0?R.jsx("div",{className:"volume-chart-wrapper",children:R.jsx(tW,{data:{labels:He.map(it=>it.date),datasets:[{label:"Volume",data:He.map(it=>it.volume),backgroundColor:"rgba(255, 87, 34, 0.7)",borderColor:"rgba(255, 87, 34, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#333",bodyColor:"#555",bodyFont:{size:14},padding:12,cornerRadius:6,borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,displayColors:!1,callbacks:{label:function(it){return`Volume: ${it.parsed.y.toLocaleString()} lbs`}}}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,title:{display:!0,text:"Volume (lbs)",color:"#666"},grid:{color:"rgba(0, 0, 0, 0.05)"}}}}})}):R.jsxs("div",{className:"no-chart-data",children:[R.jsx("p",{children:"No volume data available for this timeframe"}),R.jsx("p",{children:"Try selecting a different time range"})]})]})]}),R.jsxs("div",{className:"exercise-heatmap-container",children:[R.jsxs("div",{className:"heatmap-header",children:[R.jsxs("div",{children:[R.jsx("h3",{children:"Workout Frequency & Intensity"}),R.jsxs("p",{className:"heatmap-description",children:["This calendar shows when you trained"," ",R.jsx("strong",{children:y.name})," and the intensity (volume) of each workout. Darker colors indicate higher volume."]})]}),R.jsx("div",{className:"year-selector",children:[$-2,$-1,$].map(it=>R.jsx("button",{className:`year-button ${$===it?"active":""}`,onClick:()=>ds(it),children:it},it))})]}),R.jsx("div",{className:"calendar-heatmap-wrapper",children:R.jsx(Aw,{startDate:new Date(`${$}-01-01`),endDate:new Date(`${$}-12-31`),values:lt,classForValue:it=>it?hi(it):"color-empty",tooltipDataAttrs:it=>!it||!it.date?{"data-tip":"No workout"}:{"data-tip":`${Bi(it.date)}: ${it.count.toLocaleString()} lbs`},showWeekdayLabels:!0,monthLabels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})}),R.jsxs("div",{className:"heatmap-legend",children:[R.jsx("span",{className:"legend-label",children:"Volume:"}),R.jsxs("div",{className:"legend-scale",children:[R.jsx("div",{className:"legend-item color-empty"}),R.jsx("span",{className:"legend-label",children:"None"})]}),R.jsxs("div",{className:"legend-scale",children:[R.jsx("div",{className:"legend-item color-scale-1"}),R.jsx("span",{className:"legend-label",children:"Low"})]}),R.jsxs("div",{className:"legend-scale",children:[R.jsx("div",{className:"legend-item color-scale-2"}),R.jsx("span",{className:"legend-label",children:"Medium"})]}),R.jsxs("div",{className:"legend-scale",children:[R.jsx("div",{className:"legend-item color-scale-3"}),R.jsx("span",{className:"legend-label",children:"High"})]}),R.jsxs("div",{className:"legend-scale",children:[R.jsx("div",{className:"legend-item color-scale-4"}),R.jsx("span",{className:"legend-label",children:"Max"})]})]})]})]}):R.jsxs("div",{className:"exercise-prompt",children:[R.jsx("p",{children:R.jsx(qG,{size:40,style:{color:"var(--primary-orange)",marginBottom:"15px"}})}),R.jsxs("p",{children:[R.jsx("strong",{children:"Select an exercise"})," from the dropdown above to view your progress."]}),R.jsx("p",{children:"You'll see your weight progression, volume trends, and training frequency."})]})]})]})};Xc.register(Zh,Jh,Sc,Qs,zb,Fb,Bb);const aY=()=>{const e=Is(),[t,n]=P.useState(!0),[i,s]=P.useState(null),[a,l]=P.useState([]),[c,h]=P.useState("3m");P.useEffect(()=>{(async()=>{try{const S=Bn.currentUser;if(!S)throw new Error("You must be logged in to view weight progress");const C=xs(As,"users",S.uid),j=await hr(C);if(j.exists()){const z=[...j.data().weightLogs||[]].sort(($,M)=>new Date($.date)-new Date(M.date));l(z)}else l([]);n(!1)}catch(S){console.error("Error fetching weight logs:",S),s(S.message),n(!1)}})()},[]);const f=E=>{const[S,C,j]=E.split("-").map(Number);return new Date(S,C-1,j).toLocaleDateString("en-US",{month:"short",day:"numeric"})},p=E=>{const[S,C,j]=E.split("-").map(Number);return new Date(S,C-1,j)},y=()=>{if(!a.length)return[];const E=new Date;let S;switch(c){case"1m":S=new Date(E.getFullYear(),E.getMonth()-1,E.getDate());break;case"3m":S=new Date(E.getFullYear(),E.getMonth()-3,E.getDate());break;case"6m":S=new Date(E.getFullYear(),E.getMonth()-6,E.getDate());break;case"1y":S=new Date(E.getFullYear()-1,E.getMonth(),E.getDate());break;case"all":default:return a}return a.filter(C=>p(C.date)>=S)},_=()=>{const E=y();return{labels:E.map(S=>f(S.date)),datasets:[{label:"Weight (lbs)",data:E.map(S=>S.weight),borderColor:"rgb(255, 87, 34)",backgroundColor:"rgba(255, 87, 34, 0.5)",tension:.3}]}},b={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#333",bodyColor:"#666",borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,padding:12,displayColors:!1,callbacks:{label:function(E){return`Weight: ${E.parsed.y} lbs`}}}},scales:{y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}};if(t)return R.jsx(Jc,{});if(i)return R.jsx("div",{className:"weight-progress-container error",children:i});const T=()=>{const E=y();if(E.length===0)return null;const S=E[E.length-1].weight,C=p(E[E.length-1].date),j=new Date(C);j.setDate(j.getDate()-7);let O=null;for(let z=E.length-2;z>=0;z--)if(p(E[z].date)<=j){O=E[z].weight;break}if(O===null)return null;const q=S-O;return{value:Math.abs(q).toFixed(1),direction:q>0?"gained":"lost",timeframe:"past week"}};return R.jsxs(Zo.div,{className:"weight-progress-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[R.jsxs("div",{className:"weight-progress-header",children:[R.jsxs("button",{className:"back-button",onClick:()=>e("/progress-tracker"),children:[R.jsx(xw,{size:20,style:{marginRight:"8px"}}),"Back"]}),R.jsx("h2",{children:"Weight Progress"}),R.jsxs("button",{className:"log-weight-button",onClick:()=>e("/log-weight"),children:[R.jsx(FG,{size:20,style:{marginRight:"8px"}}),"Log Weight"]})]}),a.length===0?R.jsxs("div",{className:"no-logs-message",children:[R.jsx("p",{children:"No weight logs found."}),R.jsx("p",{children:'Start tracking your weight by clicking the "Log Weight" button.'})]}):R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"weight-summary",children:[R.jsxs("div",{className:"summary-card",children:[R.jsx("h3",{children:"Current Weight"}),R.jsxs("div",{className:"summary-value",children:[a[a.length-1].weight," lbs"]})]}),T()&&R.jsxs("div",{className:"summary-card",children:[R.jsx("h3",{children:"Weight Change (Past Week)"}),R.jsxs("div",{className:"summary-value",children:[T().value," lbs ",T().direction]})]})]}),R.jsxs("div",{className:"chart-container",children:[R.jsxs("div",{className:"chart-header",children:[R.jsx("h3",{children:"Weight Trend"}),R.jsxs("div",{className:"date-range-selector",children:[R.jsx("button",{className:`range-button ${c==="1m"?"active":""}`,onClick:()=>h("1m"),children:"1 Month"}),R.jsx("button",{className:`range-button ${c==="3m"?"active":""}`,onClick:()=>h("3m"),children:"3 Months"}),R.jsx("button",{className:`range-button ${c==="6m"?"active":""}`,onClick:()=>h("6m"),children:"6 Months"}),R.jsx("button",{className:`range-button ${c==="1y"?"active":""}`,onClick:()=>h("1y"),children:"1 Year"}),R.jsx("button",{className:`range-button ${c==="all"?"active":""}`,onClick:()=>h("all"),children:"All Time"})]})]}),R.jsx("div",{className:"chart-wrapper",children:R.jsx(Hb,{data:_(),options:b,height:300})})]})]})]})},oY=()=>{Is();const[e,t]=P.useState(!0),[n,i]=P.useState(null),[s,a]=P.useState([]),[l,c]=P.useState(!1),h=async()=>{try{t(!0);const y=Bn.currentUser;if(!y)throw new Error("You must be logged in to view weight history");const _=xs(As,"users",y.uid),b=await hr(_);if(b.exists()){const C=[...b.data().weightLogs||[]].sort((j,O)=>new Date(O.date)-new Date(j.date)).map((j,O)=>({...j,id:`weight-${j.timestamp||Date.now()}-${O}`}));a(C)}else a([]);t(!1)}catch(y){console.error("Error fetching weight logs:",y),i(y.message),t(!1)}};P.useEffect(()=>{h()},[]);const f=y=>{const[_,b,T]=y.split("-").map(Number),E=new Date(_,b-1,T),S={weekday:"long",year:"numeric",month:"long",day:"numeric"};return E.toLocaleDateString("en-US",S)},p=async y=>{if(!l&&window.confirm("Are you sure you want to delete this weight log entry?"))try{c(!0);const _=Bn.currentUser;if(!_)throw new Error("You must be logged in to delete weight logs");const b=s.find(S=>S.id===y);if(!b)throw new Error("Weight log not found");const T=xs(As,"users",_.uid),E=await hr(T);if(E.exists()){const C=E.data().weightLogs.filter(j=>!(j.date===b.date&&j.weight===b.weight&&(j.timestamp===b.timestamp||!j.timestamp&&!b.timestamp)));await Zm(T,{weightLogs:C}),a(s.filter(j=>j.id!==y)),console.log("Weight log deleted successfully")}}catch(_){console.error("Error deleting weight log:",_),alert(`Failed to delete weight log: ${_.message}`)}finally{c(!1)}};return e?R.jsx(Jc,{}):n?R.jsx("div",{className:"weight-history-container error",children:n}):R.jsxs(Zo.div,{className:"weight-history-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[R.jsx("div",{className:"weight-history-header",children:R.jsx("h2",{children:"Weight History"})}),s.length===0?R.jsxs("div",{className:"no-logs-message",children:[R.jsx("p",{children:"No weight logs found."}),R.jsx("p",{children:'Start tracking your weight by clicking "Log Weight" in the menu.'})]}):R.jsx("div",{className:"weight-logs-list",children:s.map(y=>R.jsxs("div",{className:"weight-log-card",children:[R.jsx("div",{className:"weight-log-date",children:f(y.date)}),R.jsxs("div",{className:"weight-log-details",children:[R.jsxs("div",{className:"weight-value",children:[y.weight," lbs"]}),R.jsx("button",{className:"delete-log-btn",onClick:()=>p(y.id),disabled:l,children:R.jsx(HG,{size:18})})]})]},y.id))})]})},lY=()=>{const e=Is(),[t,n]=P.useState(""),[i,s]=P.useState(new Date().toISOString().split("T")[0]),[a,l]=P.useState(!1),[c,h]=P.useState(""),f=async p=>{p.preventDefault(),l(!0),h("");try{const y=Bn.currentUser;if(!y)throw new Error("You must be logged in to log weight");const _=xs(As,"users",y.uid);if(!(await hr(_)).exists())throw new Error("User document not found");const T={weight:parseFloat(t),date:i,timestamp:new Date().toISOString()};await Zm(_,{weightLogs:xk(T)}),e("/weight-history")}catch(y){console.error("Error logging weight:",y),h(y.message)}finally{l(!1)}};return R.jsxs(Zo.div,{className:"log-weight-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[R.jsxs("div",{className:"log-weight-header",children:[R.jsxs("button",{className:"back-button",onClick:()=>e("/progress-tracker"),children:[R.jsx(xw,{size:20,style:{marginRight:"8px"}}),"Back"]}),R.jsx("h2",{children:"Log Weight"})]}),R.jsxs("form",{onSubmit:f,className:"log-weight-form",children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"weight",children:"Weight (lbs)"}),R.jsx("input",{type:"number",id:"weight",step:"0.1",value:t,onChange:p=>n(p.target.value),required:!0,placeholder:"Enter weight in pounds"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"date",children:"Date"}),R.jsx("input",{type:"date",id:"date",value:i,onChange:p=>s(p.target.value),required:!0})]}),c&&R.jsx("div",{className:"error-message",children:c}),R.jsx("button",{type:"submit",className:"submit-button",disabled:a,children:a?"Logging...":"Log Weight"})]})]})};function Ca({children:e}){const[t,n]=P.useState(!0),[i,s]=P.useState(!1);return P.useEffect(()=>{const a=Bn.onAuthStateChanged(l=>{s(!!l),n(!1)});return()=>a()},[]),t?R.jsx(Jc,{}):i?e:R.jsx(Y1,{to:"/",replace:!0})}function cY(){const e=pr(),t=Is(),[n,i]=P.useState(!1);if(e.pathname==="/")return null;const s=()=>{i(!n)},a=async()=>{try{await TU(Bn),i(!1),t("/")}catch(l){console.error("Error signing out:",l)}};return R.jsx("header",{className:"header",children:R.jsxs("div",{className:"header-content",children:[R.jsx("div",{className:"logo",onClick:()=>t("/dashboard"),role:"button",tabIndex:"0",children:"NextRep"}),R.jsxs("div",{className:"menu-container",children:[R.jsxs("div",{className:`hamburger ${n?"open":""}`,onClick:s,children:[R.jsx("span",{}),R.jsx("span",{}),R.jsx("span",{})]}),n&&R.jsx("div",{className:"dropdown-menu",children:R.jsxs("ul",{children:[R.jsx("li",{children:R.jsx(ka,{to:"/dashboard",onClick:s,children:"Dashboard"})}),R.jsx("li",{children:R.jsx(ka,{to:"/log-workout",onClick:s,children:"Log Workout"})}),R.jsx("li",{children:R.jsx(ka,{to:"/log-weight",onClick:s,children:"Log Weight"})}),R.jsx("li",{className:"menu-divider"}),R.jsx("li",{children:R.jsx(ka,{to:"/workout-history",onClick:s,children:"Workout History"})}),R.jsx("li",{children:R.jsx(ka,{to:"/weight-history",onClick:s,children:"Weight History"})}),R.jsx("li",{className:"menu-divider"}),R.jsx("li",{children:R.jsx(ka,{to:"/progress-tracker",onClick:s,children:"Progress Tracker"})}),R.jsx("li",{className:"menu-divider"}),R.jsx("li",{children:R.jsx("button",{className:"logout-menu-button",onClick:a,children:"Logout"})})]})})]})]})})}function uY(){return R.jsx("div",{className:"App",children:R.jsxs(CL,{children:[R.jsx(cY,{}),R.jsx("div",{className:"content",children:R.jsxs(rL,{children:[R.jsx(vs,{path:"/",element:R.jsx(S5,{})}),R.jsx(vs,{path:"/dashboard",element:R.jsx(Ca,{children:R.jsx(eW,{})})}),R.jsx(vs,{path:"/log-workout",element:R.jsx(Ca,{children:R.jsx(WG,{})})}),R.jsx(vs,{path:"/workout-history",element:R.jsx(Ca,{children:R.jsx($G,{})})}),R.jsx(vs,{path:"/progress-tracker",element:R.jsx(Ca,{children:R.jsx(GG,{})})}),R.jsx(vs,{path:"/strength-progress",element:R.jsx(Ca,{children:R.jsx(rY,{})})}),R.jsx(vs,{path:"/weight-progress",element:R.jsx(Ca,{children:R.jsx(aY,{})})}),R.jsx(vs,{path:"/weight-history",element:R.jsx(Ca,{children:R.jsx(oY,{})})}),R.jsx(vs,{path:"/log-weight",element:R.jsx(Ca,{children:R.jsx(lY,{})})}),R.jsx(vs,{path:"*",element:R.jsx(Y1,{to:"/",replace:!0})})]})})]})})}m2.createRoot(document.getElementById("root")).render(R.jsx(P.StrictMode,{children:R.jsx(uY,{})}));
